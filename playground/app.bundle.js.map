{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/game/build.intermediate/client/client/account_ui.js","dist/game/build.intermediate/client/client/app.js","dist/game/build.intermediate/client/glov/client/glov/bootstrap.js","dist/game/build.intermediate/client/glov/client/glov/browser.js","dist/game/build.intermediate/client/glov/client/glov/camera2d.js","dist/game/build.intermediate/client/glov/client/glov/chat_ui.js","dist/game/build.intermediate/client/glov/client/glov/cmds.js","dist/game/build.intermediate/client/glov/client/glov/edit_box.js","dist/game/build.intermediate/client/glov/client/glov/effects.js","dist/game/build.intermediate/client/glov/client/glov/engine.js","dist/game/build.intermediate/client/glov/client/glov/error_report.js","dist/game/build.intermediate/client/glov/client/glov/fbinstant.js","dist/game/build.intermediate/client/glov/client/glov/filewatch.js","dist/game/build.intermediate/client/glov/client/glov/font.js","dist/game/build.intermediate/client/glov/client/glov/framebuffer.js","dist/game/build.intermediate/client/glov/client/glov/friends.js","dist/game/build.intermediate/client/glov/client/glov/geom.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/decode-utf8.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/gltf-type-utils.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/parser.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/unpack-binary-json.js","dist/game/build.intermediate/client/glov/glb/client/glov/glb/unpack-glb-buffers.js","dist/game/build.intermediate/client/glov/client/glov/in_event.js","dist/game/build.intermediate/client/glov/client/glov/input.js","dist/game/build.intermediate/client/glov/client/glov/link.js","dist/game/build.intermediate/client/glov/client/glov/local_storage.js","dist/game/build.intermediate/client/glov/client/glov/mat43.js","dist/game/build.intermediate/client/glov/client/glov/mat4ScaleRotateTranslate.js","dist/game/build.intermediate/client/glov/client/glov/models.js","dist/game/build.intermediate/client/glov/client/glov/net.js","dist/game/build.intermediate/client/glov/client/glov/net_position_manager.js","dist/game/build.intermediate/client/glov/client/glov/particles.js","dist/game/build.intermediate/client/glov/client/glov/perf.js","dist/game/build.intermediate/client/glov/client/glov/pointer_lock.js","dist/game/build.intermediate/client/glov/client/glov/polyfill.js","dist/game/build.intermediate/client/glov/client/glov/quat.js","dist/game/build.intermediate/client/glov/client/glov/rand_alea.js","dist/game/build.intermediate/client/glov/client/glov/rand_fast.js","dist/game/build.intermediate/client/glov/client/glov/scroll_area.js","dist/game/build.intermediate/client/glov/client/glov/selection_box.js","dist/game/build.intermediate/client/glov/client/glov/settings.js","dist/game/build.intermediate/client/glov/client/glov/shaders.js","dist/game/build.intermediate/client/glov/client/glov/simple_menu.js","dist/game/build.intermediate/client/glov/client/glov/sound.js","dist/game/build.intermediate/client/glov/client/glov/sprite_animation.js","dist/game/build.intermediate/client/glov/client/glov/sprites.js","dist/game/build.intermediate/client/glov/client/glov/subscription_manager.js","dist/game/build.intermediate/client/glov/client/glov/textures.js","dist/game/build.intermediate/client/glov/client/glov/transition.js","dist/game/build.intermediate/client/glov/client/glov/ui.js","dist/game/build.intermediate/client/glov/client/glov/ui_test.js","dist/game/build.intermediate/client/glov/client/glov/urlhash.js","dist/game/build.intermediate/client/glov/client/glov/vmath.js","dist/game/build.intermediate/client/glov/client/glov/walltime.js","dist/game/build.intermediate/client/glov/client/glov/webfs.js","dist/game/build.intermediate/client/glov/words/client/glov/words/profanity.js","dist/game/build.intermediate/client/glov/client/glov/wsclient.js","dist/game/build.intermediate/client/img/font/04b03_8x1.json","dist/game/build.intermediate/client/img/font/04b03_8x2.json","dist/game/build.intermediate/client/img/font/palanquin32.json","dist/game/build.intermediate/client/client/main.js","dist/game/build.intermediate/client/client/multiplayer.js","dist/game/build.intermediate/client/client/particle_data.js","dist/game/build.intermediate/client/client/test_3d.js","dist/game/build.intermediate/common/common/ack.js","dist/game/build.intermediate/common/common/async.js","dist/game/build.intermediate/common/dist/game/build.intermediate/common/common/base64.js","dist/game/build.intermediate/common/common/cmd_parse.js","dist/game/build.intermediate/common/common/enums.js","dist/game/build.intermediate/common/common/md5.js","dist/game/build.intermediate/common/dist/game/build.intermediate/common/common/packet.js","dist/game/build.intermediate/common/common/tiny-events.js","dist/game/build.intermediate/common/common/util.js","dist/game/build.intermediate/common/words/common/words/profanity_common.js","dist/game/build.intermediate/common/common/wscommon.js"],"names":[],"mappings":"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GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,UACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,UACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,WACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACvB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,YACzB,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAI,IAAI,YACzB,EAAE,GAAG,EA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","file":"app.bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\nconst assert = require('assert');\nconst local_storage = require('./glov/local_storage.js');\nconst glov_font = require('./glov/font.js');\nconst { KEYS, keyDownEdge } = require('./glov/input.js');\nconst { linkText } = require('./glov/link.js');\nconst net = require('./glov/net.js');\nconst ui = require('./glov/ui.js');\nconst { vec4 } = require('./glov/vmath.js');\n\nexport let style_link = glov_font.style(null, {\n  color: 0x5040FFff,\n  outline_width: 1.0,\n  outline_color: 0x00000020,\n});\nexport let style_link_hover = glov_font.style(null, {\n  color: 0x0000FFff,\n  outline_width: 1.0,\n  outline_color: 0x00000020,\n});\n\nexport function formatUserID(user_id, display_name) {\n  let name = display_name || user_id;\n  if (user_id.toLowerCase() !== name.toLowerCase()) {\n    name = `${display_name} (${user_id})`;\n  }\n  return name;\n}\n\nfunction AccountUI() {\n  this.edit_box_name = ui.createEditBox({\n    placeholder: 'Username',\n    initial_focus: true,\n    text: local_storage.get('name') || '',\n  });\n  this.edit_box_password = ui.createEditBox({\n    placeholder: 'Password',\n    type: 'password',\n    text: local_storage.get('name') && local_storage.get('password') || '',\n  });\n  this.edit_box_password_confirm = ui.createEditBox({\n    initial_focus: true,\n    placeholder: 'Confirm',\n    type: 'password',\n    text: '',\n  });\n  this.edit_box_email = ui.createEditBox({\n    placeholder: 'Email',\n    text: '',\n  });\n  this.edit_box_display_name = ui.createEditBox({\n    placeholder: 'Display',\n    text: '',\n  });\n  this.creation_mode = false;\n}\n\nAccountUI.prototype.showLogin = function (param) {\n  let { x, y, style, button_height, button_width, prelogout, center, url_tos, url_priv, text_w, font_height } = param;\n  font_height = font_height || ui.font_height;\n  button_height = button_height || ui.button_height;\n  button_width = button_width || 240;\n  text_w = text_w || 400;\n  let { edit_box_name, edit_box_password, edit_box_password_confirm, edit_box_email, edit_box_display_name } = this;\n  let login_message;\n  const BOX_H = font_height;\n  let pad = 10;\n  let min_h = BOX_H * 2 + pad * 3 + button_height;\n  let calign = center ? glov_font.ALIGN.HRIGHT : glov_font.ALIGN.HLEFT | glov_font.ALIGN.HFIT;\n\n  function showTOS(is_create) {\n    if (url_tos) {\n      assert(url_priv);\n      let terms_height = font_height * 0.75;\n      ui.font.drawSizedAligned(style, x, y, Z.UI, terms_height, glov_font.ALIGN.HCENTER, 0, 0,\n        `By ${is_create ? 'creating an account' : 'logging in'} you agree to our`);\n      y += terms_height;\n      let and_w = ui.font.getStringWidth(style, terms_height, ' and ');\n      ui.font.drawSizedAligned(style, x, y, Z.UI, terms_height, glov_font.ALIGN.HCENTER, 0, 0,\n        'and');\n      linkText({\n        style_link, style_link_hover,\n        x: x - and_w / 2 - ui.font.getStringWidth(style_link, terms_height, 'Terms of Service'),\n        y,\n        z: Z.UI,\n        font_size: terms_height,\n        url: url_tos,\n        text: 'Terms of Service',\n      });\n      linkText({\n        style_link, style_link_hover,\n        x: x + and_w / 2,\n        y,\n        z: Z.UI,\n        font_size: terms_height,\n        url: url_priv,\n        text: 'Privacy Policy',\n      });\n    }\n    y += BOX_H + pad;\n  }\n\n  if (!net.client.connected) {\n    login_message = 'Establishing connection...';\n  } else if (net.subs.logging_in) {\n    login_message = 'Logging in...';\n  } else if (net.subs.logging_out) {\n    login_message = 'Logging out...';\n  } else if (!net.subs.loggedIn() && window.FBInstant) {\n    net.subs.loginFacebook(function (err) {\n      if (err) {\n        ui.modalDialog({\n          title: 'Facebook login Failed',\n          text: err,\n          buttons: {\n            'Cancel': null,\n          },\n        });\n      }\n    });\n  } else if (!net.subs.loggedIn() && net.subs.auto_create_user &&\n    !local_storage.get('did_auto_anon') && !local_storage.get('name')\n  ) {\n    login_message = 'Auto logging in...';\n    local_storage.set('did_auto_anon', 'yes');\n    let name = `anon${String(Math.random()).slice(2, 8)}`;\n    let pass = 'test';\n    local_storage.set('name', name);\n    net.subs.login(name, pass, function (err) {\n      if (err) {\n        ui.modalDialog({\n          title: 'Auto-login Failed',\n          text: err,\n          buttons: {\n            'Retry': function () {\n              local_storage.set('did_auto_anon', undefined);\n              local_storage.set('name', undefined);\n            },\n            'Cancel': null,\n          },\n        });\n      } else {\n        net.subs.sendCmdParse('rename_random', (err) => {\n          if (err) {\n            console.log(err);\n          }\n        });\n      }\n    });\n  } else if (!net.subs.loggedIn()) {\n    let submit = false;\n    let w = text_w / 2;\n    let indent = center ? 0 : 140;\n    let text_x = center ? x - 8 : x;\n    ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Username:');\n    submit = edit_box_name.run({ x: x + indent, y, w, font_height }) === edit_box_name.SUBMIT || submit;\n    y += BOX_H + pad;\n    ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Password:');\n    submit = edit_box_password.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT || submit;\n    y += BOX_H + pad;\n\n    if (this.creation_mode) {\n      ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Confirm Password:');\n      submit = edit_box_password_confirm.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT ||\n        submit;\n      y += BOX_H + pad;\n\n      ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Email Address:');\n      submit = edit_box_email.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT || submit;\n      y += BOX_H + pad;\n\n      ui.font.drawSizedAligned(style, text_x, y, Z.UI, font_height, calign, indent - pad, 0, 'Display Name:');\n      submit = edit_box_display_name.run({ x: x + indent, y, w, font_height }) === edit_box_password.SUBMIT ||\n        submit;\n\n      if (ui.buttonText({\n        x: x + w + (center ? 0 : 140) + pad, y, w: button_width * 0.5, h: BOX_H + pad - 4,\n        font_height: font_height * 0.75,\n        text: 'Random',\n      })) {\n        net.client.send('random_name', null, function (ignored, data) {\n          if (data) {\n            edit_box_display_name.setText(data);\n          }\n        });\n      }\n\n      y += BOX_H + pad;\n\n      showTOS(true);\n\n      submit = ui.buttonText({\n        x, y, w: button_width, h: button_height,\n        font_height,\n        text: 'Create User',\n      }) || submit;\n      if (ui.buttonText({\n        x: x + button_width + pad, y, w: button_width, h: button_height,\n        font_height,\n        text: 'Cancel',\n      }) || keyDownEdge(KEYS.ESC)) {\n        this.creation_mode = false;\n      }\n      y += button_height + pad;\n\n      if (submit) {\n        local_storage.set('name', edit_box_name.text);\n        // do creation and log in!\n        net.subs.userCreate({\n          user_id: edit_box_name.text,\n          email: edit_box_email.text,\n          password: edit_box_password.text,\n          password_confirm: edit_box_password_confirm.text,\n          display_name: edit_box_display_name.text,\n        }, (err) => {\n          if (err) {\n            ui.modalDialog({\n              title: 'Login Error',\n              text: err,\n              buttons: {\n                'OK': null,\n              },\n            });\n          } else {\n            this.creation_mode = false;\n            edit_box_password_confirm.setText('');\n            edit_box_email.setText('');\n            edit_box_display_name.setText('');\n          }\n        });\n      }\n\n    } else {\n\n      showTOS(false);\n\n      submit = ui.buttonText({\n        x: x, y, w: button_width, h: button_height,\n        font_height,\n        text: 'Log in',\n      }) || submit;\n      if (center) {\n        y += button_height + pad;\n      }\n      if (ui.buttonText({\n        x: center ? x : x + button_width + pad, y, w: button_width, h: button_height,\n        font_height,\n        text: 'New User',\n      })) {\n        this.creation_mode = true;\n        edit_box_display_name.setText(edit_box_name.text);\n        if (edit_box_name.text && edit_box_password.text) {\n          edit_box_password_confirm.initial_focus = true;\n        } else {\n          edit_box_password_confirm.initial_focus = false;\n          edit_box_name.focus();\n        }\n      }\n      y += button_height + pad;\n\n      if (submit) {\n        local_storage.set('name', edit_box_name.text);\n        // do log in!\n        net.subs.login(edit_box_name.text, edit_box_password.text, (err) => {\n          if (err) {\n            ui.modalDialog({\n              title: 'Login Error',\n              text: err,\n              buttons: {\n                'OK': null,\n              },\n            });\n          }\n        });\n      }\n    }\n  } else {\n    // FB Users can't logout\n    let show_logout = !window.FBInstant;\n    let user_id = net.subs.loggedIn();\n    let user_channel = net.subs.getChannel(`user.${user_id}`);\n    let display_name = user_channel.getChannelData('public.display_name') || user_id;\n    let name = formatUserID(user_id, display_name);\n\n    if (show_logout) {\n      let logged_in_font_height = font_height * 0.75;\n      if (center) {\n        ui.font.drawSizedAligned(style, center ? x - text_w / 2 : x + button_width + 8, y,\n          Z.UI, logged_in_font_height,\n          (center ? glov_font.ALIGN.HCENTER : calign) | glov_font.ALIGN.HFIT,\n          text_w, button_height,\n          `Logged in as: ${name}`);\n        y += logged_in_font_height + 8;\n      } else {\n        ui.font.drawSizedAligned(style, x + button_width + 8,\n          y + logged_in_font_height * -0.25,\n          Z.UI, logged_in_font_height, calign | glov_font.ALIGN.VCENTER | glov_font.ALIGN.HFIT, text_w, button_height,\n          'Logged in as:');\n        ui.font.drawSizedAligned(style, x + button_width + 8,\n          y + logged_in_font_height * 0.75,\n          Z.UI, logged_in_font_height, calign | glov_font.ALIGN.VCENTER | glov_font.ALIGN.HFIT, text_w, button_height,\n          name);\n      }\n\n      if (ui.buttonText({\n        x: center ? x - button_width / 2 : x,\n        y, w: button_width, h: button_height,\n        font_height,\n        text: 'Log out',\n      })) {\n        edit_box_password.setText('');\n        if (prelogout) {\n          prelogout();\n        }\n        net.subs.logout();\n      }\n      y += button_height + 8;\n    } else {\n      ui.font.drawSizedAligned(style, center ? x - text_w / 2 : x + button_width + 8, y,\n        Z.UI, font_height,\n        (center ? glov_font.ALIGN.HCENTER : calign) | glov_font.ALIGN.VCENTER | glov_font.ALIGN.HFIT,\n        text_w, button_height,\n        `Logged in as: ${name}`);\n    }\n  }\n  if (login_message) {\n    let w = ui.font.drawSizedAligned(style, center ? x - 400 : x, y, Z.UI, font_height * 1.5,\n      glov_font.ALIGN.HVCENTERFIT,\n      center ? 800 : 400, min_h, login_message);\n    w += 100;\n    ui.drawRect(x - (center ? w / 2 : 50), y, x + (center ? w / 2 : w - 50), y + min_h, Z.UI - 0.5, vec4(0,0,0,0.25));\n    y += min_h;\n  }\n  return y;\n};\n\nexport function create() {\n  return new AccountUI();\n}\n","/* eslint global-require:off */\n\n// Startup code.\n\nlet called_once = false;\nwindow.onload = function () {\n  if (called_once) {\n    return;\n  }\n  called_once = true;\n  // require('./glov/worker_comm.js').startup(); // First, so it gets loading quickly (if workers required)\n  require('./glov/bootstrap.js');\n  if (window.glov_env === 'multiplayer') {\n    require('./multiplayer.js').main();\n  } else {\n    require('./main.js').main();\n  }\n};\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Things that should be done before requiring or running any user-level code or other engine code\n\nrequire('./polyfill.js');\n\nlet debug = document.getElementById('debug');\nwindow.onerror = function (e, file, line, col, errorobj) {\n  let msg = `${e}\\n  at ${file}(${line}:${col})`;\n  if (errorobj && errorobj.stack) {\n    msg = `${errorobj.stack}`;\n    if (errorobj.message) {\n      if (msg.indexOf(errorobj.message) === -1) {\n        msg = `${errorobj.message}\\n${msg}`;\n      }\n    }\n    let origin = document.location.origin || '';\n    if (origin) {\n      if (origin.slice(-1) !== '/') {\n        origin += '/';\n      }\n      msg = msg.split(origin).join(''); // replace\n    }\n    // fixup weird Firefox weirdness\n    msg = msg.replace(/\\[\\d+\\]</g, '') // remove funny [123] at start of stack lines\n      .replace(/<?\\/<?/g, '/') // remove funny <s, they mess up people's copy and paste\n      .replace(/\\n([^ ])/g, '\\n  $1'); // add indentation if missing\n  }\n  let show = true;\n  if (window.glov_error_report) {\n    show = window.glov_error_report(msg, file, line, col);\n  }\n  if (show) {\n    debug.innerText = `${msg}\\n\\nPlease report this error to the developer, and then reload this page.`;\n  }\n};\nwindow.debugmsg = function (msg, clear) {\n  if (clear) {\n    debug.innerText = msg;\n  } else {\n    debug.innerText += `${msg}\\n`;\n  }\n};\n","let ua = window.navigator.userAgent;\nexport let is_ios = !window.MSStream && ua.match(/iPad|iPhone|iPod/);\nexport let is_windows_phone = ua.match(/windows phone/i);\nexport let is_android = !is_windows_phone && ua.match(/android/i);\nexport let is_webkit = ua.match(/WebKit/i);\nexport let is_ios_safari = is_ios && is_webkit && !ua.match(/CriOS/i);\n\nexport let is_discrete_gpu = false;\n\nfunction init() {\n  let canvas = document.createElement('canvas');\n  canvas.width = 4;\n  canvas.height = 4;\n  let gltest = canvas.getContext('webgl');\n  let debug_info = gltest.getExtension('WEBGL_debug_renderer_info');\n  if (debug_info) {\n    let renderer_unmasked = gltest.getParameter(debug_info.UNMASKED_RENDERER_WEBGL);\n    is_discrete_gpu = Boolean(renderer_unmasked && renderer_unmasked.match(/nvidia|radeon/i));\n  }\n}\ninit();\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-shadow:off */\n\nconst engine = require('./engine.js');\n\nconst { max, round } = Math;\n\nconst safearea_pad = new Float32Array(4); // left, right, top, bottom\n// 0: x0_real\n// 1: y0_real\n// 2: x1_real\n// 3: y1_real\n// 4: x_scale\n// 5: y_scale\n// 6: dom_to_canvas_ratio\n// 7: inverse viewport x_scale\n// 8: inverse viewport y_scale\n// 9: x0\n// 10: y0\n// 11: x1\n// 12: y1\nexport const data = new Float32Array(13);\n\nlet screen_width;\nlet screen_height;\n// Note: render_* not used by FRVR at this time\nlet render_width;\nlet render_height;\nexport let render_viewport_w;\nexport let render_viewport_h;\nexport let render_offset_x;\nlet render_offset_y_top;\nexport let render_offset_y_bottom;\n\nfunction reapply() {\n  if (render_width) {\n    data[4] = render_width / (data[2] - data[0]);\n    data[5] = render_height / (data[3] - data[1]);\n    data[7] = (data[2] - data[0]) / render_viewport_w;\n    data[8] = (data[3] - data[1]) / render_viewport_h;\n  } else {\n    data[4] = screen_width / (data[2] - data[0]);\n    data[5] = screen_height / (data[3] - data[1]);\n  }\n}\n\n// To get to coordinates used by OpenGL / canvas\nexport function virtualToCanvas(dst, src) {\n  dst[0] = (src[0] - data[0]) * data[4];\n  dst[1] = (src[1] - data[1]) * data[5];\n}\n\nexport function canvasToVirtual(dst, src) {\n  dst[0] = src[0] / data[4] + data[0];\n  dst[1] = src[1] / data[5] + data[1];\n}\n\nfunction safeScreenWidth() {\n  return max(1, screen_width - safearea_pad[0] - safearea_pad[1]);\n}\n\nfunction safeScreenHeight() {\n  return max(1, screen_height - safearea_pad[2] - safearea_pad[3]);\n}\n\n// Sets the 2D \"camera\" used to translate sprite positions to screen space.  Affects sprites queued\n//  after this call\nexport function set(x0, y0, x1, y1, ignore_safe_area) {\n  if (ignore_safe_area || render_width) {\n    data[9] = data[0] = x0;\n    data[10] = data[1] = y0;\n    data[11] = data[2] = x1;\n    data[12] = data[3] = y1;\n  } else {\n    data[9] = x0;\n    data[10] = y0;\n    data[11] = x1;\n    data[12] = y1;\n    let wscale = (x1 - x0) / safeScreenWidth();\n    let hscale = (y1 - y0) / safeScreenHeight();\n    data[0] = x0 - safearea_pad[0] * wscale;\n    data[1] = y0 - safearea_pad[2] * hscale;\n    data[2] = x1 + safearea_pad[1] * wscale;\n    data[3] = y1 + safearea_pad[3] * hscale;\n  }\n\n  reapply();\n}\n\nexport function setSafeAreaPadding(left, right, top, bottom) {\n  safearea_pad[0] = round(left);\n  safearea_pad[1] = round(right);\n  safearea_pad[2] = round(top);\n  safearea_pad[3] = round(bottom);\n  // Called while updating screen width/height, reapply() should get called later\n}\n\nexport function safeAreaPadding() {\n  return safearea_pad;\n}\n\nconst stack = [];\nexport function push() {\n  stack.push(data.slice(0));\n}\nexport function pop() {\n  let old = stack.pop();\n  for (let ii = 0; ii < old.length; ++ii) {\n    data[ii] = old[ii];\n  }\n  reapply();\n}\n\nexport function domToCanvasRatio() {\n  return data[6];\n}\n\nexport function screenAspect() {\n  return safeScreenWidth() /\n    safeScreenHeight();\n}\n\n// Drawing area 0,0-w,h\n// But keep the aspect ratio of those things drawn to be correct\n// This may create a padding or margin on either top and bottom or sides of the screen\n// User users constant values in this range for consistent UI on all devices\nexport function setAspectFixed(w, h) {\n  let pa = render_width ? 1 : engine.pixel_aspect;\n  let inv_aspect = h / pa / w;\n  let inv_desired_aspect;\n  if (render_width) {\n    inv_desired_aspect = render_height / render_width;\n  } else {\n    inv_desired_aspect = 1 / screenAspect();\n  }\n  if (inv_aspect > inv_desired_aspect) {\n    let margin = (h / pa / inv_desired_aspect - w) / 2;\n    set(-margin, 0, w + margin, h, false);\n  } else {\n    let margin = (w * pa * inv_desired_aspect - h) / 2;\n    set(0, -margin, w, h + margin, false);\n  }\n}\n\n// Primary drawing area at least W x H\n// But keep the aspect ratio of those things drawn to be correct\n// Similar to setAspectFixed() but keeps (0,0) in the upper left (all padding\n//   is added to right and bottom)\n// Requires users to use camera2d.w()/ and camera2d.h() to determine reasonable\n//   UI positioning\nexport function setAspectFixed2(w, h) {\n  let pa = render_width ? 1 : engine.pixel_aspect;\n  let inv_aspect = h / pa / w;\n  let inv_desired_aspect;\n  if (render_width) {\n    inv_desired_aspect = render_height / render_width;\n  } else {\n    inv_desired_aspect = 1 / screenAspect();\n  }\n  if (inv_aspect > inv_desired_aspect) {\n    let margin = (h / pa / inv_desired_aspect - w);\n    set(0, 0, w + margin, h, false);\n  } else {\n    let margin = (w * pa * inv_desired_aspect - h);\n    set(0, 0, w, h + margin, false);\n  }\n}\n\nexport function zoom(x, y, factor) {\n  let inv_factor = 1.0 / factor;\n  set(\n    x - (x - data[0]) * inv_factor,\n    y - (y - data[1]) * inv_factor,\n    x + (data[2] - x) * inv_factor,\n    y + (data[3] - y) * inv_factor, true);\n}\n\n// returns [x0,y0,x1,y1] to use as parameters set() such that src_rect in the\n// current view is now addressable by dest_rect (presumably something like\n// [0,0,vw,vh])\nexport function calcMap(out, src_rect, dest_rect) {\n  let cur_w = data[11] - data[9];\n  let cur_h = data[12] - data[10];\n  let vx0 = src_rect[0] / cur_w;\n  let vy0 = src_rect[1] / cur_h;\n  let vx1 = src_rect[2] / cur_w;\n  let vy1 = src_rect[3] / cur_h;\n  let vw = vx1 - vx0;\n  let vh = vy1 - vy0;\n  let dest_vw = dest_rect[2] - dest_rect[0];\n  let dest_vh = dest_rect[3] - dest_rect[1];\n  out[0] = dest_rect[0] - dest_vw / vw * vx0;\n  out[1] = dest_rect[1] - dest_vh / vh * vy0;\n  out[2] = dest_rect[2] + dest_vw / vw * (1 - vx1);\n  out[3] = dest_rect[3] + dest_vh / vh * (1 - vy1);\n}\n\nexport function setNormalized() {\n  set(0, 0, 1, 1, true);\n}\n\nexport function x0Real() {\n  return data[0];\n}\nexport function y0Real() {\n  return data[1];\n}\nexport function x1Real() {\n  return data[2];\n}\nexport function y1Real() {\n  return data[3];\n}\nexport function wReal() {\n  return data[2] - data[0];\n}\nexport function hReal() {\n  return data[3] - data[1];\n}\nexport function x0() {\n  return data[9];\n}\nexport function y0() {\n  return data[10];\n}\nexport function x1() {\n  return data[11];\n}\nexport function y1() {\n  return data[12];\n}\nexport function w() {\n  return data[11] - data[9];\n}\nexport function h() {\n  return data[12] - data[10];\n}\nexport function xScale() {\n  return data[4];\n}\nexport function yScale() {\n  return data[5];\n}\n\nexport function htmlPos(x, y) {\n  if (render_width) {\n    return [\n      100 * (((x - data[0]) / data[7] + render_offset_x) / screen_width),\n      100 * (((y - data[1]) / data[8] + render_offset_y_top) / screen_height),\n    ];\n  } else {\n    return [\n      100 * (x - data[0]) / (data[2] - data[0]),\n      100 * (y - data[1]) / (data[3] - data[1]),\n    ];\n  }\n}\nexport function htmlSize(w, h) {\n  if (render_width) {\n    return [\n      100 * w / data[7] / screen_width,\n      100 * h / data[8] / screen_height,\n    ];\n  } else {\n    return [100 * w / (data[2] - data[0]), 100 * h / (data[3] - data[1])];\n  }\n}\n\nlet input_clipping;\nexport function setInputClipping(xywh) {\n  input_clipping = xywh;\n}\n\nexport function domToVirtual(dst, src) {\n  let ret = true;\n  if (input_clipping) {\n    if (src[0] < input_clipping[0] || src[0] > input_clipping[0] + input_clipping[2] ||\n      src[1] < input_clipping[1] || src[1] > input_clipping[1] + input_clipping[3]\n    ) {\n      ret = false;\n    }\n  }\n  if (render_width) {\n    dst[0] = (src[0] * data[6] - render_offset_x) * data[7] + data[0];\n    dst[1] = (src[1] * data[6] - render_offset_y_top) * data[8] + data[1];\n  } else {\n    dst[0] = src[0] * data[6] / data[4] + data[0];\n    dst[1] = src[1] * data[6] / data[5] + data[1];\n  }\n  return ret;\n}\n\nexport function domDeltaToVirtual(dst, src) {\n  if (render_width) {\n    dst[0] = src[0] * data[6] * data[7];\n    dst[1] = src[1] * data[6] * data[8];\n  } else {\n    dst[0] = src[0] * data[6] / data[4];\n    dst[1] = src[1] * data[6] / data[5];\n  }\n}\n\nlet input_clipping_virtual = new Float32Array(4);\nfunction updateVirtualInputClipping() {\n  domToVirtual(input_clipping_virtual, input_clipping);\n  //domDeltaToVirtual(input_clipping_virtual.slice(2), input_clipping.slice(2)) :\n  if (render_width) {\n    input_clipping_virtual[2] = input_clipping[2] * data[6] * data[7];\n    input_clipping_virtual[3] = input_clipping[3] * data[6] * data[8];\n  } else {\n    input_clipping_virtual[2] = input_clipping[2] * data[6] / data[4];\n    input_clipping_virtual[3] = input_clipping[3] * data[6] / data[5];\n  }\n}\n\n\n// To get to coordinates used by mouse events\nexport function virtualToDom(dst, src) {\n  if (render_width) {\n    dst[0] = (render_offset_x + (src[0] - data[0]) / data[7]) / data[6];\n    dst[1] = (render_offset_y_top + (src[1] - data[1]) / data[8]) / data[6];\n  } else {\n    dst[0] = (src[0] - data[0]) * data[4] / data[6];\n    dst[1] = (src[1] - data[1]) * data[5] / data[6];\n  }\n}\n\nexport function virtualToFontSize(height) {\n  if (render_width) {\n    return height / (data[6] * data[8]) * 0.84;\n  } else {\n    return height * data[5] / data[6] * 0.84;\n  }\n}\n\n// dst/src are x/y/w/h objects (e.g. from input system)\nexport function virtualToDomPosParam(dst, src) {\n  if (render_width) {\n    dst.x = (render_offset_x + (src.x - data[0]) / data[7]) / data[6];\n    dst.w = src.w / data[7] / data[6];\n    dst.y = (render_offset_y_top + (src.y - data[1]) / data[8]) / data[6];\n    dst.h = src.h / data[8] / data[6];\n  } else {\n    dst.x = (src.x - data[0]) * data[4] / data[6];\n    dst.w = src.w * data[4] / data[6];\n    dst.y = (src.y - data[1]) * data[5] / data[6];\n    dst.h = src.h * data[5] / data[6];\n  }\n}\n\nexport function clipTestRect(rect) {\n  if (!input_clipping) {\n    return true;\n  }\n  updateVirtualInputClipping();\n  let icv = input_clipping_virtual;\n  if (rect.x > icv[0] + icv[2] ||\n    rect.x + rect.w < icv[0] ||\n    rect.y > icv[1] + icv[3] ||\n    rect.y + rect.h < icv[1]\n  ) {\n    // fully clipped\n    return false;\n  }\n  if (rect.x < icv[0]) {\n    rect.w -= icv[0] - rect.x;\n    rect.x = icv[0];\n  }\n  if (rect.y < icv[1]) {\n    rect.h -= icv[1] - rect.y;\n    rect.y = icv[1];\n  }\n  if (rect.x + rect.w > icv[0] + icv[2]) {\n    rect.w = icv[0] + icv[2] - rect.x;\n  }\n  if (rect.y + rect.h > icv[1] + icv[3]) {\n    rect.h = icv[1] + icv[3] - rect.y;\n  }\n  return true;\n}\n\nexport function tickCamera2D() {\n  data[6] = engine.dom_to_canvas_ratio; /* dom_to_canvas_ratio */\n  screen_width = engine.width;\n  screen_height = engine.height;\n  let viewport = [0, 0, screen_width, screen_height];\n  if (engine.render_width) { // Note: render_* not used by FRVR at this time\n    render_width = engine.render_width;\n    render_height = engine.render_height;\n    // Find an offset so this rendered viewport is centered while preserving aspect ratio, just like setAspectFixed\n    let pa = engine.pixel_aspect;\n    let inv_aspect = render_height / pa / render_width;\n    let eff_screen_width = safeScreenWidth();\n    let eff_screen_height = safeScreenHeight();\n    let inv_desired_aspect = eff_screen_height / eff_screen_width;\n    if (inv_aspect > inv_desired_aspect) {\n      let margin = (render_height / inv_desired_aspect - render_width * pa) / 2 *\n        eff_screen_height / render_height;\n      render_offset_x = safearea_pad[0] + round(margin);\n      render_offset_y_top = safearea_pad[2];\n      render_offset_y_bottom = safearea_pad[3];\n      render_viewport_w = round(eff_screen_width - margin * 2);\n      render_viewport_h = eff_screen_height;\n    } else {\n      let margin = (render_width * inv_desired_aspect - render_height / pa) / 2 *\n        eff_screen_width / render_width;\n      render_offset_x = safearea_pad[0];\n      render_offset_y_top = safearea_pad[2] + round(margin);\n      render_offset_y_bottom = safearea_pad[3] + round(margin);\n      render_viewport_w = eff_screen_width;\n      render_viewport_h = round(eff_screen_height - margin * 2);\n    }\n    viewport[2] = render_width;\n    viewport[3] = render_height;\n  } else {\n    render_width = render_height = 0;\n    render_offset_x = 0;\n    render_offset_y_top = 0;\n    render_offset_y_bottom = 0;\n  }\n\n  reapply();\n\n  // let screen_width = engine.width;\n  // let screen_height = engine.height;\n  // let screen_aspect = screen_width / screen_height;\n  // let view_aspect = game_width / game_height;\n  // if (screen_aspect > view_aspect) {\n  //   let viewport_width = game_height * screen_aspect;\n  //   let half_diff = (viewport_width - game_width) / 2;\n  //   viewportRectangle = [-half_diff, 0, game_width + half_diff, game_height];\n  // } else {\n  //   let viewport_height = game_width / screen_aspect;\n  //   let half_diff = (viewport_height - game_height) / 2;\n  //   viewportRectangle = [0, -half_diff, game_width, game_height + half_diff];\n  // }\n\n  engine.setViewport(viewport);\n}\n\nexport function startup() {\n  set(0, 0, engine.width, engine.height);\n  tickCamera2D();\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\nconst assert = require('assert');\nconst { asyncParallel } = require('../../common/async.js');\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst { isFriend } = require('./friends.js');\nconst input = require('./input.js');\nconst { link } = require('./link.js');\nconst local_storage = require('./local_storage.js');\nconst { ceil, floor, max, min } = Math;\nconst net = require('./net.js');\nconst { profanityFilter, profanityStartup } = require('./words/profanity.js');\nconst { scrollAreaCreate } = require('./scroll_area.js');\nconst settings = require('./settings.js');\nconst ui = require('./ui.js');\nconst { clamp, matchAll } = require('../../common/util.js');\nconst { vec4, v3copy } = require('./vmath.js');\n\nconst FADE_START_TIME = [10000, 1000];\nconst FADE_TIME = [1000, 500];\n\nconst INDENT = 40;\n\nconst FLAG_EMOTE = 1;\nconst FLAG_USERCHAT = 2;\n\nZ.CHAT = Z.CHAT || 500;\nZ.CHAT_FOCUSED = Z.CHAT_FOCUSED || Z.CHAT;\n\nconst color_user_rollover = vec4(1,1,1,0.5);\n\nconst MAX_PER_STYLE = {\n  join_leave: 3,\n};\n\nsettings.register({\n  chat_auto_unfocus: {\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    help: 'Automatically unfocus chat after sending a message',\n  },\n});\n\nsettings.register({\n  profanity_filter: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    help: 'Filter profanity in chat',\n  },\n});\n\nfunction CmdHistory() {\n  assert(local_storage.storage_prefix !== 'demo'); // wrong initialization order\n  this.entries = new Array(50);\n  this.idx = local_storage.getJSON('console_idx'); // where we will next insert\n  if (typeof this.idx !== 'number' || this.idx < 0 || this.idx >= this.entries.length) {\n    this.idx = 0;\n  } else {\n    for (let ii = 0; ii < this.entries.length; ++ii) {\n      this.entries[ii] = local_storage.getJSON(`console_e${ii}`);\n    }\n  }\n  this.resetPos();\n}\nCmdHistory.prototype.setHist = function (idx, text) {\n  this.entries[idx] = text;\n  local_storage.setJSON(`console_e${idx}`, text);\n};\nCmdHistory.prototype.add = function (text) {\n  if (!text) {\n    return;\n  }\n  let idx = this.entries.indexOf(text);\n  if (idx !== -1) {\n    // already in there, just re-order\n    let target = (this.idx - 1 + this.entries.length) % this.entries.length;\n    while (idx !== target) {\n      let next = (idx + 1) % this.entries.length;\n      this.setHist(idx, this.entries[next]);\n      idx = next;\n    }\n    this.setHist(target, text);\n    return;\n  }\n  this.setHist(this.idx, text);\n  this.idx = (this.idx + 1) % this.entries.length;\n  local_storage.setJSON('console_idx', this.idx);\n  this.resetPos();\n};\nCmdHistory.prototype.unadd = function (text) {\n  // upon error, do not store this string in our history\n  let idx = (this.idx - 1 + this.entries.length) % this.entries.length;\n  if (this.entries[idx] !== text) {\n    return;\n  }\n  this.idx = idx;\n  local_storage.setJSON('console_idx', this.idx);\n  this.resetPos();\n};\nCmdHistory.prototype.resetPos = function () {\n  this.hist_idx = this.idx;\n  this.edit_line = '';\n};\nCmdHistory.prototype.prev = function (cur_text) {\n  if (this.hist_idx === this.idx) {\n    // if first time goine backwards, stash the current edit line\n    this.edit_line = cur_text;\n  }\n  let idx = (this.hist_idx - 1 + this.entries.length) % this.entries.length;\n  let text = this.entries[idx];\n  if (idx === this.idx || !text) {\n    // wrapped around, or got to empty\n    return this.entries[this.hist_idx] || '';\n  }\n  this.hist_idx = idx;\n  return text || '';\n};\nCmdHistory.prototype.next = function (cur_text) {\n  if (this.hist_idx === this.idx) {\n    return cur_text || '';\n  }\n  let idx = (this.hist_idx + 1) % this.entries.length;\n  this.hist_idx = idx;\n  if (this.hist_idx === this.idx) {\n    // just got back to head\n    let ret = this.edit_line;\n    this.edit_line = '';\n    return ret || '';\n  }\n  return this.entries[idx] || '';\n};\n\nfunction ChatUI(params) {\n  assert.equal(typeof params, 'object');\n  assert.equal(typeof params.max_len, 'number');\n  this.edit_text_entry = ui.createEditBox({\n    placeholder: 'Chat',\n    initial_focus: false,\n    auto_unfocus: true,\n    max_len: params.max_len,\n    text: '',\n  });\n  this.channel = null;\n\n  this.on_join = this.onMsgJoin.bind(this);\n  this.on_leave = this.onMsgLeave.bind(this);\n  this.on_chat = this.onMsgChat.bind(this);\n  this.handle_cmd_parse = this.handleCmdParse.bind(this);\n  this.handle_cmd_parse_error = this.handleCmdParseError.bind(this);\n  cmd_parse.setDefaultHandler(this.handle_cmd_parse_error);\n  this.clearChat();\n  this.max_lines = params.max_lines || 8; // Max shown when chat not active\n  this.max_messages = params.max_messages || 1000; // Size of history kept\n  this.max_len = params.max_len;\n  this.font_height = params.font_height || ui.font_height;\n  this.hide_disconnected_message = params.hide_disconnected_message || false;\n  this.scroll_area = scrollAreaCreate({\n    background_color: null,\n    auto_scroll: true,\n  });\n  this.w = params.w || engine.game_width / 2;\n  this.h = params.h || engine.game_height / 2; // excluding text entry\n  this.volume_join_leave = params.volume_join_leave || 1;\n  this.volume_in = params.volume_in || 1;\n  this.volume_out = params.volume_out || 1;\n  this.history = new CmdHistory();\n  this.get_roles = null; // returns object for testing cmd access permissions\n  this.url_match = params.url_match; // runs `/url match[1]` if clicked\n  this.url_info = params.url_info; // Optional for grabbing the interesting portion of the URL for tooltip and /url\n  this.user_context_cb = params.user_context_cb; // Cb called with { user_id } on click\n  this.setActiveSize(this.font_height, this.w);\n\n  this.styles = {\n    def: glov_font.style(null, {\n      color: 0xEEEEEEff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    system: glov_font.style(null, {\n      color: 0xAAAAAAff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    error: glov_font.style(null, {\n      color: 0xDD0000ff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    link: glov_font.style(null, {\n      color: 0x5040FFff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n    link_hover: glov_font.style(null, {\n      color: 0x0000FFff,\n      outline_width: 1.0,\n      outline_color: 0x000000ff,\n    }),\n  };\n  this.styles.join_leave = this.styles.system;\n\n  net.subs.on('chat_broadcast', this.onChatBroadcast.bind(this));\n}\n\nChatUI.prototype.setActiveSize = function (font_height, w) {\n  let wrap_w = w - this.scroll_area.barWidth();\n  if (this.active_font_height !== font_height || this.wrap_w !== wrap_w) {\n    this.active_font_height = font_height;\n    this.wrap_w = wrap_w;\n    // recalc numlines\n    this.total_lines = 0;\n    for (let ii = 0; ii < this.msgs.length; ++ii) {\n      let elem = this.msgs[ii];\n      elem.numlines = ui.font.numLines(this.styles[elem.style] || this.styles.def,\n        this.wrap_w, INDENT, this.active_font_height, elem.msg_text);\n      this.total_lines += elem.numlines;\n    }\n  }\n};\n\nChatUI.prototype.clearChat = function () {\n  this.msgs = [];\n  this.total_lines = 0;\n};\n\nfunction notHidden(msg) {\n  return !msg.hidden;\n}\n\nChatUI.prototype.addMsgInternal = function (elem) {\n  elem.timestamp = elem.timestamp || Date.now();\n  if (elem.flags & FLAG_USERCHAT) {\n    if (elem.flags & FLAG_EMOTE) {\n      elem.msg_text = `${elem.display_name} ${elem.msg}`;\n    } else {\n      elem.msg_text = `[${elem.display_name}] ${elem.msg}`;\n    }\n  } else {\n    elem.msg_text = elem.msg;\n  }\n  elem.numlines = ui.font.numLines(this.styles[elem.style] || this.styles.def,\n    this.wrap_w, INDENT, this.active_font_height, elem.msg_text);\n  this.total_lines += elem.numlines;\n  this.msgs.push(elem);\n  let max_msgs = MAX_PER_STYLE[elem.style];\n  if (max_msgs) {\n    // Remove any more than max\n    // Also remove any for the same ID (want for 'join_leave', maybe not others?)\n    for (let ii = this.msgs.length - 2; ii >= 0; --ii) {\n      let elem2 = this.msgs[ii];\n      if (elem2.style === elem.style && !elem2.hidden) {\n        if (elem.id && elem2.id === elem.id) {\n          elem2.hidden = true;\n          this.total_lines -= elem2.numlines;\n          elem2.numlines = 0;\n        } else {\n          --max_msgs;\n          if (max_msgs <= 0) {\n            elem2.hidden = true;\n            this.total_lines -= elem2.numlines;\n            elem2.numlines = 0;\n            break;\n          }\n        }\n      }\n    }\n  }\n  if (this.msgs.length > this.max_messages * 1.25) {\n    this.msgs = this.msgs.filter(notHidden);\n    if (this.msgs.length > this.max_messages * 1.25) {\n      this.msgs.splice(0, this.msgs.length - this.max_messages);\n      this.total_lines = 0;\n      for (let ii = 0; ii < this.msgs.length; ++ii) {\n        this.total_lines += this.msgs[ii].numlines;\n      }\n    }\n  }\n};\n\nChatUI.prototype.addChat = function (msg, style) {\n  console.log(msg);\n  this.addMsgInternal({ msg, style });\n};\nChatUI.prototype.addChatFiltered = function (data) {\n  console.log(`Chat from ${data.id}: ${data.msg}`);\n  if (settings.profanity_filter) {\n    data.msg = profanityFilter(data.msg);\n  }\n  this.addMsgInternal(data);\n};\nChatUI.prototype.onMsgJoin = function (data) {\n  if (data.client_id !== net.client.id) {\n    if (this.volume_join_leave) {\n      ui.playUISound('user_join', this.volume_join_leave);\n    }\n    this.addChatFiltered({\n      id: data.user_id || data.client_id,\n      display_name: data.display_name || data.client_id,\n      flags: FLAG_EMOTE|FLAG_USERCHAT,\n      msg: 'joined the channel',\n      style: 'join_leave',\n    });\n  }\n};\nChatUI.prototype.onMsgLeave = function (data) {\n  if (this.volume_join_leave) {\n    ui.playUISound('user_leave', this.volume_join_leave);\n  }\n  this.addChatFiltered({\n    id: data.user_id || data.client_id,\n    display_name: data.display_name || data.client_id,\n    flags: FLAG_EMOTE|FLAG_USERCHAT,\n    msg: 'left the channel',\n    style: 'join_leave',\n  });\n};\nChatUI.prototype.onMsgChat = function (data) {\n  let { msg, id, client_id, display_name, flags, ts, quiet } = data;\n  if (!quiet && client_id !== net.client.id) {\n    if (this.volume_in) {\n      ui.playUISound('msg_in', this.volume_in);\n    }\n  }\n  display_name = display_name || id;\n  flags = (flags || 0) | FLAG_USERCHAT;\n  this.addChatFiltered({\n    id,\n    display_name,\n    msg,\n    flags,\n    timestamp: ts,\n    quiet,\n  });\n};\nChatUI.prototype.onChatBroadcast = function (data) {\n  let { msg, src } = data;\n  ui.playUISound('msg_err');\n  this.addChatFiltered({\n    msg: `[${src}] ${msg}`,\n    style: 'error',\n  });\n};\n\nChatUI.prototype.runLate = function () {\n  this.did_run_late = true;\n  if (input.keyDownEdge(input.KEYS.RETURN)) {\n    this.edit_text_entry.focus();\n  }\n  if (input.keyDownEdge(input.KEYS.SLASH) ||\n    input.keyDownEdge(input.KEYS.NUMPAD_DIVIDE)\n  ) {\n    this.edit_text_entry.focus();\n    this.edit_text_entry.setText('/');\n  }\n};\n\nfunction errStr(err) {\n  if (typeof err === 'object') {\n    return JSON.stringify(err);\n  }\n  return err;\n}\n\nChatUI.prototype.handleCmdParseError = function (err, resp) {\n  if (err) {\n    this.addChat(`[error] ${errStr(err)}`, 'error');\n  }\n};\n\nChatUI.prototype.handleCmdParse = function (err, resp) {\n  if (err) {\n    this.addChat(`[error] ${errStr(err)}`, 'error');\n  } else if (resp) {\n    this.addChat(`[system] ${(typeof resp === 'string') ? resp : JSON.stringify(resp)}`, 'system');\n  }\n};\n\nChatUI.prototype.setGetRoles = function (fn) {\n  this.get_roles = fn;\n};\n\nlet access_dummy = { access: null };\nChatUI.prototype.getAccessObj = function () {\n  if (!this.get_roles) {\n    return {};\n  }\n  access_dummy.access = this.get_roles();\n  return access_dummy;\n};\n\nChatUI.prototype.cmdParse = function (str, on_error) {\n  let handleResult = on_error ?\n    (err, resp) => {\n      this.handle_cmd_parse(err, resp);\n      if (on_error && err) {\n        on_error(err);\n      }\n    } :\n    this.handle_cmd_parse;\n  cmd_parse.handle(this.getAccessObj(), str, function (err, resp) {\n    if (err && cmd_parse.was_not_found) {\n      // forward to server\n      net.subs.sendCmdParse(str, handleResult);\n    } else {\n      handleResult(err, resp);\n    }\n  });\n};\n\nChatUI.prototype.cmdParseInternal = function (str) {\n  cmd_parse.handle(this.getAccessObj(), str, this.handle_cmd_parse_error);\n};\n\nfunction pad2(str) {\n  return `0${str}`.slice(-2);\n}\nfunction conciseDate(dt) {\n  return `${pad2(dt.getMonth() + 1)}-${pad2(dt.getDate())} ${pad2(dt.getHours())\n  }:${pad2(dt.getMinutes())}:${pad2(dt.getSeconds())}`;\n}\nlet help_font_style = glov_font.styleColored(null, 0x000000ff);\nlet help_font_style_cmd = glov_font.style(help_font_style, {\n  outline_width: 0.5,\n  outline_color: 0x000000FF,\n});\nlet help_rollover_color = vec4(0, 0, 0, 0.25);\nlet help_rollover_color2 = vec4(0, 0, 0, 0.125);\nconst TOOLTIP_MIN_PAGE_SIZE = 20;\nlet tooltip_page = 0;\nlet tooltip_last = '';\nlet tooltip_panel_color = vec4();\nfunction drawHelpTooltip(param) {\n  assert(Array.isArray(param.tooltip));\n  let tooltip = param.tooltip;\n  let num_pages = 1;\n  let h = param.font_height;\n  let eff_tooltip_pad = ui.tooltip_pad * 0.5;\n  let num_per_page = min(TOOLTIP_MIN_PAGE_SIZE, max(1, floor((param.y - camera2d.y0() - eff_tooltip_pad) / h) - 1));\n  if (tooltip.length > 20) {\n    let text = tooltip.join('\\n');\n    if (text !== tooltip_last) {\n      tooltip_page = 0;\n      tooltip_last = text;\n    }\n    num_pages = ceil(tooltip.length / num_per_page);\n    tooltip = tooltip.slice(tooltip_page * num_per_page, (tooltip_page + 1) * num_per_page);\n  } else {\n    tooltip_page = 0;\n    tooltip_last = '';\n  }\n  let w = param.tooltip_width;\n  let x = param.x;\n  let z = param.z || (Z.TOOLTIP + 5);\n  let text_x = x + eff_tooltip_pad;\n  let text_w = w - eff_tooltip_pad * 2;\n  let tooltip_y1 = param.y;\n\n  let alpha = 1;\n  let vis_h = eff_tooltip_pad * 2 + h * tooltip.length;\n  if (!param.do_selection && num_pages === 1 && input.mouseOver({\n    x,\n    y: tooltip_y1 - vis_h,\n    w,\n    h: vis_h,\n  })) {\n    alpha = 0.15;\n  }\n  let style = help_font_style;\n  if (alpha !== 1) {\n    style = glov_font.styleAlpha(style, alpha);\n  }\n\n  let y = tooltip_y1 - eff_tooltip_pad;\n  let ret = null;\n  if (num_pages > 1) {\n    y -= h;\n    ui.font.drawSizedAligned(help_font_style,\n      text_x, y, z+1, h, glov_font.ALIGN.HCENTER,\n      text_w, 0,\n      `Page ${tooltip_page + 1} / ${num_pages}`);\n    let pos = { x, y, w, h };\n    if (input.mouseUpEdge(pos)) { // up instead of down to prevent canvas capturing focus\n      tooltip_page = (tooltip_page + 1) % num_pages;\n    } else if (input.mouseOver(pos)) {\n      ui.drawRect(x, y, x + w, y + h, z + 0.5, help_rollover_color);\n    }\n  }\n  for (let ii = tooltip.length - 1; ii >= 0; --ii) {\n    let line = tooltip[ii];\n    y -= h;\n    let idx = line.indexOf(' ');\n    if (line[0] === '/' && idx !== -1 && param.do_selection) {\n      // is a command\n      let cmd = line.slice(0, idx);\n      let help = line.slice(idx);\n      let cmd_w = ui.font.drawSized(help_font_style_cmd,\n        text_x, y, z+1, h, cmd);\n      ui.font.drawSizedAligned(help_font_style,\n        text_x + cmd_w, y, z+1, h, glov_font.ALIGN.HFIT,\n        text_w - cmd_w, 0,\n        help);\n      let pos = { x, y, w, h };\n      if (input.mouseUpEdge(pos)) { // up instead of down to prevent canvas capturing focus\n        ret = cmd.slice(1);\n      } else if (input.mouseOver(pos)) {\n        ui.drawRect(x, y, text_x + cmd_w + 4, y + h, z + 0.5, help_rollover_color);\n        ui.drawRect(text_x + cmd_w + 4, y, x + w, y + h, z + 0.5, help_rollover_color2);\n      }\n    } else {\n      ui.font.drawSizedAligned(style,\n        text_x, y, z+1, h, glov_font.ALIGN.HFIT,\n        text_w, 0,\n        line);\n    }\n  }\n  y -= eff_tooltip_pad;\n  let pixel_scale = ui.tooltip_panel_pixel_scale * 0.5;\n\n  v3copy(tooltip_panel_color, ui.color_panel);\n  tooltip_panel_color[3] = alpha;\n  ui.panel({\n    x, y, z, w,\n    h: tooltip_y1 - y,\n    pixel_scale,\n    color: tooltip_panel_color,\n  });\n  return ret;\n}\n\nChatUI.prototype.isFocused = function () {\n  return this.edit_text_entry && this.edit_text_entry.isFocused() ||\n    this.scroll_area && this.scroll_area.isFocused();\n};\n\nChatUI.prototype.sendChat = function (flags, text) {\n  if (!net.client.connected) {\n    this.addChat('[error] Cannot chat: Disconnected', 'error');\n  } else if (!this.channel || !net.subs.loggedIn()) {\n    this.addChat('[error] Cannot chat: Must be logged in', 'error');\n  } else if (text.length > this.max_len) {\n    this.addChat('[error] Chat message too long', 'error');\n  } else {\n    let pak = this.channel.pak('chat');\n    pak.writeInt(flags);\n    pak.writeString(text);\n    pak.send((err) => {\n      if (err) {\n        this.addChat(`[error] ${errStr(err)}`, 'error');\n        // if (!this.edit_text_entry.getText()) {\n        //   this.edit_text_entry.setText(text);\n        // }\n      }\n    });\n  }\n};\n\nconst SPACE_ABOVE_ENTRY = 8;\nChatUI.prototype.run = function (opts) {\n  opts = opts || {};\n  if (net.client.disconnected && !this.hide_disconnected_message) {\n    ui.font.drawSizedAligned(\n      glov_font.style(null, {\n        outline_width: 2,\n        outline_color: 0x000000ff,\n        color: 0xDD2020ff\n      }),\n      camera2d.x0(), camera2d.y0(), Z.DEBUG,\n      ui.font_height, glov_font.ALIGN.HVCENTER, camera2d.w(), camera2d.h() * 0.20,\n      `Connection lost, attempting to reconnect (${(net.client.timeSinceDisconnect()/1000).toFixed(0)})...`);\n  }\n\n  if (!this.did_run_late) {\n    this.runLate();\n  }\n  this.did_run_late = false;\n  let x = camera2d.x0() + 10;\n  let y0 = camera2d.y1();\n  let y = y0;\n  let w = this.w;\n  let was_focused = this.isFocused();\n  let z = was_focused ? Z.CHAT_FOCUSED : Z.CHAT;\n  let is_focused = false;\n  let font_height = this.font_height;\n  let anything_visible = false;\n  let hide_light = (opts.hide || engine.defines.NOUI || !net.subs.loggedIn()) &&\n    !was_focused ?\n    1 : // must be numerical, used to index fade values\n    0;\n  let hide_text_input = ui.modal_dialog || ui.menu_up || hide_light;\n  if (!hide_text_input && was_focused && input.touch_mode) {\n    // expand chat when focused on touch devices\n    w = camera2d.x1() - x - 24;\n    let font_scale = 4;\n    let aspect = camera2d.screenAspect();\n    if (aspect > 2) { // scale up to font scale of 8\n      font_scale = 4 + 4 * min((aspect - 2) / 8, 1);\n    }\n    font_height *= font_scale;\n  }\n  this.setActiveSize(font_height, w); // may recalc numlines on each elem; updates wrap_w\n  if (!hide_text_input) {\n    anything_visible = true;\n    y -= 16 + font_height;\n    if (!was_focused && opts.pointerlock && input.pointerLocked()) {\n      // do not show edit box\n      ui.font.drawSizedAligned(this.styles.def, x, y, z + 1, font_height, glov_font.ALIGN.HFIT, w, 0,\n        '<Press Enter to chat>');\n    } else {\n      if (was_focused) {\n        // Do auto-complete logic *before* edit box, so we can eat TAB without changing focus\n        // Eat tab even if there's nothing to complete, for consistency\n        let pressed_tab = input.keyDownEdge(input.KEYS.TAB);\n        if (pressed_tab) {\n          this.edit_text_entry.focus();\n        }\n        let cur_text = this.edit_text_entry.getText();\n        if (cur_text) {\n          if (cur_text[0] === '/') {\n            // do auto-complete\n            let autocomplete = cmd_parse.autoComplete(cur_text.slice(1), this.getAccessObj().access);\n            if (autocomplete && autocomplete.length) {\n              let first = autocomplete[0];\n              let auto_text = [];\n              for (let ii = 0; ii < autocomplete.length; ++ii) {\n                let elem = autocomplete[ii];\n                auto_text.push(`/${elem.cmd} - ${elem.help}`);\n              }\n              let do_selection = false; // should we allow clicking in the tooltip?\n              if (autocomplete.length === 1 &&\n                first.cname &&\n                cmd_parse.canonical(cur_text.slice(1)).slice(0, first.cname.length) === first.cname\n              ) {\n                // we've typed something that matches the first one\n                if (first.usage) {\n                  auto_text = first.usage.split('\\n');\n                } else {\n                  auto_text = [first.help];\n                }\n              } else {\n                do_selection = true;\n              }\n              let tooltip_y = y;\n              // check if last message is an error, if so, tooltip above that.\n              let last_msg = this.msgs[this.msgs.length - 1];\n              if (last_msg) {\n                let msg = last_msg.msg;\n                if (msg && !(msg.flags & FLAG_USERCHAT) && msg.slice(0, 7) === '[error]') {\n                  let numlines = last_msg.numlines;\n                  tooltip_y -= font_height * numlines + SPACE_ABOVE_ENTRY;\n                }\n              }\n\n              let selected = drawHelpTooltip({\n                x, y: tooltip_y,\n                tooltip_width: max(w, engine.game_width * 0.8),\n                tooltip: auto_text,\n                do_selection,\n                font_height: min(font_height, camera2d.w() / 30),\n              });\n              if (do_selection) {\n                // auto-completes to something different than we have typed\n                // Do not use ENTER as well, because sometimes a hidden command is a sub-string of a shown command?\n                if (pressed_tab || selected) {\n                  this.edit_text_entry.setText(`/${selected || first.cmd} `);\n                }\n              }\n            }\n          }\n        } else {\n          this.history.resetPos();\n        }\n        if (input.keyDownEdge(input.KEYS.UP)) {\n          this.edit_text_entry.setText(this.history.prev(cur_text));\n        }\n        if (input.keyDownEdge(input.KEYS.DOWN)) {\n          this.edit_text_entry.setText(this.history.next(cur_text));\n        }\n        this.scroll_area.keyboardScroll();\n      }\n      let input_height = font_height;\n      let input_width = w;\n      if (input.touch_mode && !was_focused) {\n        y -= font_height * 2;\n        input_height = font_height * 3;\n        input_width = font_height * 6;\n      }\n      let res = this.edit_text_entry.run({\n        x, y, w: input_width, font_height: input_height, pointer_lock: opts.pointerlock\n      });\n      is_focused = this.isFocused();\n      if (res === this.edit_text_entry.SUBMIT) {\n        let text = this.edit_text_entry.getText().trim();\n        if (text) {\n          this.edit_text_entry.setText('');\n          if (text[0] === '/') {\n            if (text[1] === '/') { // common error of starting with //foo because chat was already focused\n              text = text.slice(1);\n            }\n            this.history.add(text);\n            this.cmdParse(text.slice(1), () => {\n              if (this.volume_out) {\n                ui.playUISound('msg_out_err', this.volume_out);\n              }\n              if (!this.edit_text_entry.getText()) {\n                this.history.unadd(text);\n                this.edit_text_entry.setText(text);\n              }\n              if (!is_focused) { // was auto-unfocused\n                this.edit_text_entry.focus();\n              }\n            });\n          } else {\n            this.sendChat(0, text);\n          }\n          if (this.volume_out) {\n            ui.playUISound('msg_out', this.volume_out); // after cmdParse may have adjust volume\n          }\n          if (settings.chat_auto_unfocus) {\n            is_focused = false;\n            ui.focusCanvas();\n          }\n        } else {\n          is_focused = false;\n          ui.focusCanvas();\n        }\n      }\n    }\n  }\n  y -= SPACE_ABOVE_ENTRY;\n\n  let { url_match, url_info, styles, wrap_w, user_context_cb } = this;\n  let self = this;\n  let do_scroll_area = is_focused;\n  let bracket_width = 0;\n  let name_width = {};\n  // Slightly hacky: uses `x` and `y` from the higher scope\n  function drawChatLine(msg, alpha) {\n    if (msg.hidden) {\n      return;\n    }\n    let line = msg.msg_text;\n    let numlines = msg.numlines;\n    let is_url = do_scroll_area && url_match && matchAll(line, url_match);\n    is_url = is_url && is_url.length === 1 && is_url[0];\n    let url_label = is_url;\n    if (is_url && url_info) {\n      let m = is_url.match(url_info);\n      if (m) {\n        url_label = m[1];\n      }\n    }\n    let h = font_height * numlines;\n    let do_mouseover = do_scroll_area && !input.mousePosIsTouch() && (!msg.style || msg.style === 'def' || is_url);\n    let text_w;\n    let mouseover = false;\n    if (do_mouseover) {\n      text_w = ui.font.getStringWidth(styles.def, font_height, line);\n      // mouseOver peek because we're doing it before checking for clicks\n      mouseover = input.mouseOver({ x, y, w: min(text_w, wrap_w), h, peek: true });\n    }\n    let user_mouseover = false;\n    let user_indent = 0;\n    let did_user_context = false;\n    if ((msg.flags & FLAG_USERCHAT) && user_context_cb && msg.id && do_scroll_area) {\n      let nw = name_width[msg.display_name];\n      if (!nw) {\n        nw = name_width[msg.display_name] = ui.font.getStringWidth(styles.def, font_height, msg.display_name);\n      }\n      if (!(msg.flags & FLAG_EMOTE)) {\n        if (!bracket_width) {\n          bracket_width = ui.font.getStringWidth(styles.def, font_height, '[]');\n        }\n        nw += bracket_width;\n      }\n      user_indent = nw;\n      let pos_param = {\n        x, y, w: min(nw, wrap_w), h: font_height, button: 0, peek: true,\n        z: z + 0.5,\n        color: color_user_rollover,\n      };\n      if (input.click(pos_param)) {\n        did_user_context = true;\n        user_context_cb({\n          user_id: msg.id, // Need any other msg. params?\n          // x: pos_param.x + pos_param.w,\n          // y: pos_param.y,\n        });\n      } else {\n        user_mouseover = input.mouseOver(pos_param);\n        if (user_mouseover) {\n          ui.drawRect2(pos_param);\n        }\n      }\n    }\n    let click;\n    if (is_url) {\n      click = link({ x: x + user_indent, y, w: wrap_w - user_indent, h, url: is_url, internal: true });\n    }\n\n    let style = styles[msg.style || (is_url ? mouseover && !user_mouseover ? 'link_hover' : 'link' : 'def')];\n\n    // Draw the actual text\n    ui.font.drawSizedWrapped(glov_font.styleAlpha(style, alpha), x, y, z + 1, wrap_w, INDENT, font_height, line);\n\n    if (mouseover && (!do_scroll_area || y > self.scroll_area.scroll_pos - font_height) &&\n      // Only show tooltip for user messages or links\n      (!msg.style || msg.style === 'def' || is_url)\n    ) {\n      ui.drawTooltip({\n        x, y, z: Z.TOOLTIP,\n        tooltip_above: true,\n        tooltip_width: 450,\n        tooltip_pad: ui.tooltip_pad * 0.5,\n        tooltip: is_url && !user_mouseover ?\n          `Click to open ${url_label}` :\n          `Received${msg.id ? ` from \"${msg.id}\"` : ''} at ${conciseDate(new Date(msg.timestamp))}\\n` +\n          'Right-click to copy message' +\n          `${(user_mouseover ? '\\nClick to view user info' : '')}`,\n        pixel_scale: ui.tooltip_panel_pixel_scale * 0.5,\n      });\n    }\n    // Previously: mouseDownEdge because by the time the Up happens, the chat text might not be here anymore\n    click = click || input.click({ x, y, w: wrap_w, h });\n    if (did_user_context) {\n      click = null;\n    }\n    if (click) {\n      if (click.button === 2) {\n        ui.provideUserString('Chat Text', is_url ? 'URL' : 'Text', is_url || line);\n      } else if (is_url) {\n        self.cmdParseInternal(`url ${url_label}`);\n      }\n    }\n    anything_visible = true;\n  }\n\n\n  let border = 8;\n  let now = Date.now();\n  if (do_scroll_area) {\n    // within scroll area, just draw visible parts\n    let scroll_internal_h = this.total_lines * font_height;\n    let scroll_external_h = min(this.h, scroll_internal_h);\n    this.scroll_area.begin({\n      x, y: y - scroll_external_h, z,\n      w: w + 8,\n      h: scroll_external_h,\n      focusable_elem: this.edit_text_entry,\n      auto_hide: this.total_lines <= 2,\n    });\n    let x_save = x;\n    let y_save = y;\n    x = 0;\n    y = 0;\n    let y_min = this.scroll_area.scroll_pos;\n    let y_max = y_min + scroll_external_h;\n    for (let ii = 0; ii < this.msgs.length; ++ii) {\n      let msg = this.msgs[ii];\n      let h = font_height * msg.numlines;\n      if (y <= y_max && y + h >= y_min) {\n        drawChatLine(msg, 1);\n      }\n      y += h;\n    }\n    this.scroll_area.end(scroll_internal_h);\n    x = x_save;\n    y = y_save - scroll_external_h;\n    // Eat mouse events (not handled by above) in the scroll area to prevent unfocusing\n    input.mouseDownEdge({ x: camera2d.x0(), y: y - border, w: w + border + 8, h: y0 - y + border });\n    // But a click should dismiss it (important on fullscreen touch UI!)\n    if (input.mouseUpEdge({ x: camera2d.x0(), y: y - border, w: w + border + 8, h: y0 - y + border,\n      in_event_cb: opts.pointerlock ? input.pointerLockEnter : null })\n    ) {\n      ui.focusCanvas();\n      is_focused = false;\n    }\n    // Also prevent mouseover from going to anything beneat it\n    input.mouseOver({ x: camera2d.x0(), y: y - border, w: w + border + 8, h: y0 - y + border });\n    // Also a mouse down anywhere outside of the chat UI should dismiss it\n    if (input.mouseDownEdge({ peek: true })) {\n      // On touch, tapping doesn't always remove focus from the edit box!\n      // Maybe this logic should be in the editbox logic?\n      ui.focusCanvas();\n      is_focused = false;\n    }\n  } else {\n    // Just recent entries, fade them out over time\n    let { max_lines } = this;\n    for (let ii = 0; ii < this.msgs.length; ++ii) {\n      let msg = this.msgs[this.msgs.length - ii - 1];\n      let age = now - msg.timestamp;\n      let alpha = 1 - clamp((age - FADE_START_TIME[hide_light]) / FADE_TIME[hide_light], 0, 1);\n      if (!alpha || msg.quiet) {\n        break;\n      }\n      let numlines = msg.numlines;\n      if (numlines > max_lines && ii) {\n        break;\n      }\n      max_lines -= numlines;\n      let h = font_height * numlines;\n      y -= h;\n      drawChatLine(msg, alpha);\n    }\n  }\n\n  if (opts.pointerlock && is_focused && input.pointerLocked()) {\n    // Gained focus undo pointerlock\n    input.pointerLockExit();\n  }\n\n  if (!anything_visible && (ui.modal_dialog || ui.menu_up || hide_light)) {\n    return;\n  }\n  ui.drawRect(camera2d.x0(), y - border, x + w + border + 8, y0, z, [0.3,0.3,0.3,0.75]);\n};\n\nChatUI.prototype.setChannel = function (channel) {\n  if (channel === this.channel) {\n    return;\n  }\n  if (this.channel) {\n    if (!channel) {\n      this.addChat(`Left channel ${this.channel.channel_id}`);\n    }\n    this.channel.removeMsgHandler('chat', this.on_chat);\n    this.channel.removeMsgHandler('join', this.on_join);\n    this.channel.removeMsgHandler('leave', this.on_leave);\n  }\n  this.channel = channel;\n  if (!this.channel) {\n    return;\n  }\n  // joining a new one, clear first\n  this.clearChat();\n  channel.onMsg('chat', this.on_chat);\n  channel.onMsg('join', this.on_join);\n  channel.onMsg('leave', this.on_leave);\n  let chat_history;\n  let here;\n  let here_map = {};\n  let friends;\n  asyncParallel([\n    (next) => {\n      channel.send('chat_get', null, (err, data) => {\n        if (!err && data && data.msgs && data.msgs.length) {\n          chat_history = data;\n        }\n        next();\n      });\n    },\n    (next) => {\n      channel.onceSubscribe((data) => {\n        let clients = data && data.public && data.public.clients;\n        if (clients) {\n          here = [];\n          friends = [];\n          for (let client_id in clients) {\n            let client = clients[client_id];\n            let user_id = client.ids && client.ids.user_id;\n            let already_in_list = false;\n            if (user_id && client.ids.display_name) {\n              if (here_map[user_id]) {\n                already_in_list = true;\n              } else {\n                here_map[user_id] = client.ids.display_name;\n              }\n            }\n            if (client_id === net.client.id || already_in_list) {\n              continue;\n            }\n            if (client.ids) {\n              if (user_id && isFriend(user_id)) {\n                friends.push(client.ids.display_name || user_id || client_id);\n              } else {\n                here.push(client.ids.display_name || user_id || client_id);\n              }\n            }\n          }\n        }\n        next();\n      });\n    },\n  ], () => {\n    if (!this.channel) {\n      // disconnected/left already\n      return;\n    }\n    // First display chat history\n    if (chat_history) {\n      let messages_pre = this.msgs.slice(0);\n      if (messages_pre.length) {\n        this.msgs = [];\n      }\n      for (let ii = 0; ii < chat_history.msgs.length; ++ii) {\n        let idx = (chat_history.idx + ii) % chat_history.msgs.length;\n        let elem = chat_history.msgs[idx];\n        if (elem && elem.msg) {\n          elem.quiet = true;\n          if (here_map[elem.id]) {\n            elem.display_name = here_map[elem.id];\n          }\n          this.onMsgChat(elem);\n        }\n      }\n      if (messages_pre.length) {\n        // Sort the history so it is before any other messages received in the meantime\n        this.msgs = this.msgs.concat(messages_pre);\n      }\n    }\n\n    // Then join message\n    this.addChat(`Joined channel ${this.channel.channel_id}`, 'join_leave');\n    // Then who's here now\n    if (here && here.length || friends && friends.length) {\n      let msg = [];\n      if (here.length) {\n        msg.push(`Other users already here: ${here.join(', ')}`);\n      }\n      if (friends.length) {\n        msg.push(`Friends already here: ${friends.join(', ')}`);\n      }\n      this.addChatFiltered({\n        msg: msg.join('\\n'),\n        style: 'join_leave',\n      });\n    }\n  });\n};\n\nexport function create(params) {\n  profanityStartup();\n  let chat_ui = new ChatUI(params);\n  function emote(str, resp_func) {\n    if (!str) {\n      return void resp_func(null, 'Usage: /me does something.');\n    }\n\n    if (params.emote_cb) {\n      params.emote_cb(str);\n    }\n\n    chat_ui.sendChat(FLAG_EMOTE, str);\n  }\n  cmd_parse.registerValue('volume_chat_joinleave', {\n    type: cmd_parse.TYPE_FLOAT,\n    label: 'Join/Leave chat message volume',\n    range: [0,1],\n    get: () => chat_ui.volume_join_leave,\n    set: (v) => (chat_ui.volume_join_leave = v),\n    store: true,\n  });\n  cmd_parse.registerValue('volume_chat_in', {\n    type: cmd_parse.TYPE_FLOAT,\n    label: 'Incoming chat message volume',\n    range: [0,1],\n    get: () => chat_ui.volume_in,\n    set: (v) => (chat_ui.volume_in = v),\n    store: true,\n  });\n  cmd_parse.registerValue('volume_chat_out', {\n    type: cmd_parse.TYPE_FLOAT,\n    label: 'Outgoing chat message volume',\n    range: [0,1],\n    get: () => chat_ui.volume_out,\n    set: (v) => (chat_ui.volume_out = v),\n    store: true,\n  });\n  cmd_parse.register({\n    cmd: 'me',\n    help: 'Emote',\n    usage: 'Emote\\n  Example: /me jumps up and down!',\n    func: emote,\n  });\n  // Also alias /em\n  cmd_parse.register({\n    access_show: ['hidden'],\n    cmd: 'em',\n    func: emote,\n  });\n  cmd_parse.register({\n    cmd: 'echo',\n    help: 'Echo text locally',\n    func: (str, resp_func) => {\n      chat_ui.addChatFiltered({ msg: str });\n      resp_func();\n    },\n  });\n  return chat_ui;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst cmd_parse_mod = require('../../common/cmd_parse.js');\nconst local_storage = require('./local_storage.js');\nexport let cmd_parse = cmd_parse_mod.create({ storage: local_storage });\n\nconst engine = require('./engine.js');\nconst net = require('./net.js');\nconst textures = require('./textures.js');\n\nwindow.cmd = function (str) {\n  cmd_parse.handle(null, str, cmd_parse_mod.defaultHandler);\n};\n\nfunction byteFormat(bytes) {\n  if (bytes > 850000) {\n    return `${(bytes/(1024*1024)).toFixed(2)}MB`;\n  }\n  if (bytes > 850) {\n    return `${(bytes/1024).toFixed(2)}KB`;\n  }\n  return `${bytes}B`;\n}\n\ncmd_parse.register({\n  cmd: 'texmem',\n  help: 'Displays texture memory usage',\n  func: function (str, resp_func) {\n    let keys = Object.keys(textures.textures);\n    keys = keys.filter((a) => textures.textures[a].gpu_mem > 1024);\n    keys.sort((a, b) => textures.textures[a].gpu_mem - textures.textures[b].gpu_mem);\n    resp_func(null, keys.map((a) => `${byteFormat(textures.textures[a].gpu_mem)} ${a}`).join('\\n'));\n  }\n});\n\ncmd_parse.register({\n  cmd: 'gpumem',\n  help: 'Displays GPU memory usage summary',\n  func: function (str, resp_func) {\n    let { gpu_mem } = engine.perf_state;\n    resp_func(null, `${byteFormat(gpu_mem.geom)} Geo\\n${byteFormat(gpu_mem.tex)} Tex\\n${\n      byteFormat(gpu_mem.geom + gpu_mem.tex)} Total`);\n  }\n});\n\ncmd_parse.register({\n  cmd: 'd',\n  help: 'Toggles a debug define',\n  func: function (str, resp_func) {\n    str = str.toUpperCase();\n    engine.defines[str] = !engine.defines[str];\n    resp_func(null, `D=${str} now ${engine.defines[str]?'SET':'unset'}`);\n    engine.definesChanged();\n  }\n});\n\ncmd_parse.register({\n  cmd: 'renderer',\n  help: 'Displays current renderer',\n  func: function (str, resp_func) {\n    resp_func(null, `Renderer=WebGL${engine.webgl2?2:1}`);\n  }\n});\n\ncmd_parse.register({\n  cmd: 'csr',\n  access_run: ['sysadmin'],\n  help: '(Admin) Run a command as another user',\n  usage: '/csr UserID command\\n' +\n    'Example: /csr jimbly gems -100',\n  func: function (str, resp_func) {\n    let idx = str.indexOf(' ');\n    if (idx === -1) {\n      return void resp_func('Invalid number of arguments');\n    }\n    let user_id = str.slice(0, idx);\n    let cmd = str.slice(idx + 1);\n    let pak = net.subs.getChannelImmediate(`user.${user_id}`).pak('csr_admin_to_user');\n    pak.writeString(cmd);\n    pak.send(resp_func);\n  }\n});\n\nfunction cmdDesc(cmd_data) {\n  return `/${cmd_data.cmd} - ${cmd_data.help}`;\n}\n\ncmd_parse.register({\n  cmd: 'help',\n  help: 'Searches commands',\n  func: function (str, resp_func) {\n    let list = cmd_parse.autoComplete('', this && this.access);\n    if (str) {\n      let str_cname = cmd_parse.canonical(str);\n      let str_lc = str.toLowerCase();\n      list = list.filter((cmd_data) => cmd_data.cname.indexOf(str_cname) !== -1 ||\n          cmd_data.help.toLowerCase().indexOf(str_lc) !== -1);\n    }\n    if (!list.length) {\n      return void resp_func(null, `No commands found matching \"${str}\"`);\n    }\n    resp_func(null, list.map(cmdDesc).join('\\n'));\n  }\n});\n\nexport let safearea = [-1,-1,-1,-1];\ncmd_parse.registerValue('safe_area', {\n  label: 'Safe Area',\n  type: cmd_parse.TYPE_STRING,\n  usage: 'Safe Area value: Use -1 for auto based on browser environment,\\n' +\n    'or 0-25 for percentage of screen size\\n' +\n    '  Usage: /safe_area [value]\\n' +\n    '  Usage: /safe_area horizontal,vertical\\n' +\n    '  Usage: /safe_area left,right,top,bottom',\n  default_value: '-1',\n  get: () => (safearea[0] === -1 ? '-1 (auto)' : safearea.join(',')),\n  set: (v) => {\n    v = String(v);\n    let keys = v.split(',');\n    if (v && keys.length === 1) {\n      safearea[0] = safearea[1] = safearea[2] = safearea[3] = Number(v);\n    } else if (keys.length === 2) {\n      safearea[0] = safearea[1] = Number(keys[0]);\n      safearea[2] = safearea[3] = Number(keys[1]);\n    } else if (keys.length === 4) {\n      for (let ii = 0; ii < 4; ++ii) {\n        safearea[ii] = Number(keys[ii]);\n      }\n    } else {\n      // error, ignore?\n    }\n  },\n  store: true,\n});\n\ncmd_parse.register({\n  cmd: 'webgl2_auto',\n  help: 'Resets WebGL2 auto-detection',\n  func: function (str, resp_func) {\n    let disable_data = local_storage.getJSON('webgl2_disable');\n    if (!disable_data) {\n      return resp_func(null, 'WebGL2 is already being auto-detected');\n    }\n    local_storage.setJSON('webgl2_disable', undefined);\n    return resp_func(null, 'WebGL2 was disabled, will attempt to use it again on the next load');\n  },\n});\n\ncmd_parse.registerValue('postprocessing', {\n  label: 'Postprocessing',\n  type: cmd_parse.TYPE_INT,\n  help: 'Enables/disables postprocessing',\n  get: () => (engine.postprocessing ? 1 : 0),\n  set: (v) => engine.postprocessingAllow(v),\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst glov_input = require('./input.js');\nconst glov_ui = require('./ui.js');\n\nconst { focuslog } = glov_ui;\n\nclass GlovUIEditBox {\n  constructor(params) {\n    this.x = 0;\n    this.y = 0;\n    this.z = Z.UI; // actually in DOM, so above everything!\n    this.w = glov_ui.button_width;\n    this.type = 'text';\n    this.allow_modal = false;\n    // this.h = glov_ui.button_height;\n    this.font_height = glov_ui.font_height;\n    this.text = '';\n    this.placeholder = '';\n    this.max_len = 0;\n    this.zindex = null;\n    this.initial_focus = false;\n    this.onetime_focus = false;\n    this.auto_unfocus = false;\n    this.initial_select = false;\n    this.spellcheck = true;\n    this.esc_clears = true;\n    this.multiline = 0;\n    this.applyParams(params);\n\n    this.is_focused = false;\n    this.elem = null;\n    this.input = null;\n    this.submitted = false;\n    this.pointer_lock = false;\n    this.last_frame = 0;\n  }\n  applyParams(params) {\n    if (!params) {\n      return;\n    }\n    for (let f in params) {\n      this[f] = params[f];\n    }\n  }\n  getText() {\n    return this.text;\n  }\n  setText(new_text) {\n    if (this.input) {\n      this.input.value = new_text;\n    }\n    this.text = new_text;\n  }\n  focus() {\n    if (this.input) {\n      this.input.focus();\n    } else {\n      this.onetime_focus = true;\n    }\n    glov_ui.focusSteal(this);\n    this.is_focused = true;\n    if (this.pointer_lock && glov_input.pointerLocked()) {\n      glov_input.pointerLockExit();\n    }\n  }\n  unfocus() {\n    glov_ui.focusNext(this);\n  }\n  isFocused() { // call after .run()\n    return this.is_focused;\n  }\n\n  updateFocus() {\n    let was_glov_focused = this.is_focused;\n    let glov_focused = glov_ui.focusCheck(this);\n    let dom_focused = this.input && document.activeElement === this.input;\n    if (was_glov_focused !== glov_focused) {\n      // something external (from clicks/keys in GLOV) changed, apply it if it doesn't match\n      if (glov_focused && !dom_focused && this.input) {\n        focuslog('GLOV focused, DOM not, focusing', this);\n        this.input.focus();\n      }\n      if (!glov_focused && dom_focused) {\n        focuslog('DOM focused, GLOV not, and changed, blurring', this);\n        this.input.blur();\n      }\n    } else if (dom_focused && !glov_focused) {\n      focuslog('DOM focused, GLOV not, stealing', this);\n      glov_ui.focusSteal(this);\n      glov_focused = true;\n    } else if (!dom_focused && glov_focused) {\n      // Leave it alone, it may be a browser pop-up such as for passwords\n    }\n    let focused = glov_focused;\n\n    if (focused) {\n      let key_opt = (this.pointer_lock && !this.text) ? { in_event_cb: glov_input.pointerLockEnter } : null;\n      if (glov_input.keyUpEdge(glov_input.KEYS.ESC, key_opt)) {\n        if (this.text && this.esc_clears) {\n          this.setText('');\n        } else {\n          glov_ui.focusCanvas();\n          if (this.input) {\n            this.input.blur();\n          }\n          focused = false;\n          this.canceled = true;\n        }\n      }\n    }\n    this.is_focused = focused;\n    return focused;\n  }\n\n  run(params) {\n    this.applyParams(params);\n\n    if (this.last_frame !== engine.frame_index - 1) {\n      // it's been more than a frame, we must have not been running, discard async events\n      this.submitted = false;\n    }\n    this.last_frame = engine.frame_index;\n\n    this.canceled = false;\n    let focused = this.updateFocus();\n\n    glov_ui.this_frame_edit_boxes.push(this);\n    let elem = glov_ui.getElem(this.allow_modal, this.elem);\n    if (elem !== this.elem) {\n      if (elem) {\n        // new DOM element, initialize\n        elem.textContent = '';\n        let form = document.createElement('form');\n        form.setAttribute('autocomplete', 'off');\n        let input = document.createElement(this.multiline ? 'textarea' : 'input');\n        input.setAttribute('autocomplete', `auto_off_${Math.random()}`);\n        input.setAttribute('type', this.type);\n        input.setAttribute('placeholder', this.placeholder);\n        if (this.max_len) {\n          input.setAttribute('maxLength', this.max_len);\n        }\n        if (this.multiline) {\n          input.setAttribute('rows', this.multiline);\n        }\n        input.setAttribute('tabindex', 2);\n        form.addEventListener('submit', (ev) => {\n          ev.preventDefault();\n          this.submitted = true;\n          this.text = this.input.value;\n          if (this.pointer_lock && !this.text) {\n            glov_input.pointerLockEnter('edit_box_submit');\n          }\n        }, true);\n        form.appendChild(input);\n        let span = document.createElement('span');\n        span.setAttribute('tabindex', 3);\n        form.appendChild(span);\n        elem.appendChild(form);\n        input.value = this.text;\n        this.input = input;\n        if (this.initial_focus || this.onetime_focus) {\n          input.focus();\n          this.onetime_focus = false;\n        }\n        if (this.initial_select) {\n          input.select();\n        }\n      } else {\n        this.input = null;\n      }\n      this.submitted = false;\n      this.elem = elem;\n    } else {\n      if (this.input) {\n        this.text = this.input.value;\n      }\n    }\n    if (elem) {\n      let pos = camera2d.htmlPos(this.x, this.y);\n      if (!this.spellcheck) {\n        elem.spellcheck = false;\n      }\n      elem.style.left = `${pos[0]}%`;\n      elem.style.top = `${pos[1]}%`;\n      let size = camera2d.htmlSize(this.w, 0);\n      elem.style.width = `${size[0]}%`;\n      let old_fontsize = elem.style.fontSize || '?px';\n      let new_fontsize = `${camera2d.virtualToFontSize(this.font_height).toFixed(0)}px`;\n      if (new_fontsize !== old_fontsize) {\n        elem.style.fontSize = new_fontsize;\n      }\n      if (this.zindex) {\n        elem.style['z-index'] = this.zindex;\n      }\n    }\n\n    if (focused) {\n      if (this.auto_unfocus) {\n        if (glov_input.click({ peek: true })) {\n          glov_ui.focusSteal('canvas');\n        }\n      }\n      // keyboard input is handled by the INPUT element, but allow mouse events to trickle\n      glov_input.eatAllKeyboardInput();\n    }\n    // Eat mouse events going to the edit box\n    glov_input.mouseConsumeClicks({ x: this.x, y: this.y, w: this.w, h: this.font_height });\n\n    if (this.submitted) {\n      this.submitted = false;\n      return this.SUBMIT;\n    }\n    if (this.canceled) {\n      this.canceled = false;\n      return this.CANCEL;\n    }\n    return null;\n  }\n  unrun() {\n    // remove from DOM or hide\n    this.elem = null;\n    this.input = null;\n  }\n}\nGlovUIEditBox.prototype.SUBMIT = 'submit';\nGlovUIEditBox.prototype.CANCEL = 'cancel';\n\nexport function create(params) {\n  return new GlovUIEditBox(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { renderWidth, renderHeight } = engine;\nconst { framebufferEnd, framebufferStart, framebufferTopOfFrame } = require('./framebuffer.js');\nconst geom = require('./geom.js');\nconst shaders = require('./shaders.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { vec2, vec3, vec4, v4set } = require('./vmath.js');\n\nconst shader_data = {\n  vp_copy: {\n    vp: 'glov/shaders/effects_copy.vp',\n  },\n  copy: {\n    fp: 'glov/shaders/effects_copy.fp',\n  },\n  pixely_expand: {\n    fp: 'glov/shaders/pixely_expand.fp',\n  },\n  gaussian_blur: {\n    fp: 'glov/shaders/effects_gaussian_blur.fp',\n  },\n  // bloom_merge: {\n  //   fp: 'glov/shaders/effects_bloom_merge.fp',\n  // },\n  // bloom_threshold: {\n  //   fp: 'glov/shaders/effects_bloom_threshold.fp',\n  // },\n  color_matrix: {\n    fp: 'glov/shaders/effects_color_matrix.fp',\n  },\n  // distort: {\n  //   fp: 'glov/shaders/effects_distort.fp',\n  // },\n};\n\nexport function registerShader(key, obj) {\n  shader_data[key] = obj;\n}\n\nfunction getShader(key) {\n  let elem = shader_data[key];\n  if (!elem.shader) {\n    if (elem.fp) {\n      elem.shader = shaders.create(elem.fp);\n    } else {\n      elem.shader = shaders.create(elem.vp);\n    }\n  }\n  return elem.shader;\n}\n\n\nlet inited = false;\nlet clip_space = vec4(2, 2, -1, -1);\nlet copy_uv_scale = vec2(1, 1);\nlet shader_params_default = {\n  clip_space,\n  copy_uv_scale,\n};\n// let shader_params_distort;\nlet shader_params_color_matrix;\n// let shader_params_bloom;\n// let shader_params_bloom_merge;\nlet shader_params_gaussian_blur;\nlet shader_params_pixely_expand;\nlet quad_geom;\nfunction startup() {\n  inited = true;\n\n  quad_geom = geom.create(\n    [[shaders.semantic.POSITION, gl.FLOAT, 2, false]],\n    new Float32Array([\n      0, 0,\n      1, 0,\n      1, 1,\n      0, 1,\n    ]), null, geom.QUADS); // TODO: use gl.TRIANGLE_STRIP instead, save index buffer binding\n\n  // shader_params_distort = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   strength: vec2(0, 0),\n  //   transform: new Float32Array([0, 0, 0, 0, 0, 0]),\n  //   invTransform: vec4(0, 0, 0, 0),\n  // };\n\n  shader_params_color_matrix = {\n    clip_space,\n    copy_uv_scale,\n    colorMatrix: new Float32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),\n  };\n\n  // shader_params_bloom = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   bloomThreshold: 0,\n  //   thresholdCuttoff: 0,\n  // };\n\n  // shader_params_bloom_merge = {\n  //   clip_space,\n  //   copy_uv_scale,\n  //   bloomIntensity: 0,\n  //   bloomSaturation: 0,\n  //   originalIntensity: 0,\n  //   originalSaturation: 0,\n  // };\n\n  // Gaussian Blur effect (also used by bloom)\n  shader_params_gaussian_blur = {\n    clip_space,\n    copy_uv_scale,\n    sampleRadius: vec3(1, 1, 1),\n    Gauss: new Float32Array([0.93, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1]),\n  };\n\n  shader_params_pixely_expand = {\n    clip_space,\n    copy_uv_scale,\n    orig_pixel_size: vec4(),\n  };\n}\n\nlet num_passes = 0;\nexport function effectsPassAdd() {\n  ++num_passes;\n}\nexport function effectsPassConsume() {\n  --num_passes;\n}\n\nfunction doEffect(fn) {\n  effectsPassConsume();\n  fn();\n}\n\nexport function effectsQueue(z, fn) {\n  effectsPassAdd();\n  sprites.queuefn(z, doEffect.bind(null, fn));\n}\n\nexport function effectsTopOfFrame() {\n  // In case of crash on previous frame\n  num_passes = 0;\n  framebufferTopOfFrame();\n}\n\nexport function effectsReset() {\n  assert.equal(num_passes, 0); // otherwise probably still have a framebuffer bound\n}\n\nexport function effectsIsFinal() {\n  return !num_passes;\n}\n\nexport function grayScaleMatrix(dst) {\n  dst[0] = 0.2126;\n  dst[1] = 0.2126;\n  dst[2] = 0.2126;\n  dst[3] = 0.7152;\n  dst[4] = 0.7152;\n  dst[5] = 0.7152;\n  dst[6] = 0.0722;\n  dst[7] = 0.0722;\n  dst[8] = 0.0722;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function sepiaMatrix(dst) {\n  dst[0] = 0.393;\n  dst[1] = 0.349;\n  dst[2] = 0.272;\n  dst[3] = 0.769;\n  dst[4] = 0.686;\n  dst[5] = 0.534;\n  dst[6] = 0.189;\n  dst[7] = 0.168;\n  dst[8] = 0.131;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function negativeMatrix(dst) {\n  dst[0] = dst[4] = dst[8] = -1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 1;\n}\n\nexport function saturationMatrix(dst, saturationScale) {\n  let is = (1 - saturationScale);\n  dst[0] = (is * 0.2126) + saturationScale;\n  dst[1] = (is * 0.2126);\n  dst[2] = (is * 0.2126);\n  dst[3] = (is * 0.7152);\n  dst[4] = (is * 0.7152) + saturationScale;\n  dst[5] = (is * 0.7152);\n  dst[6] = (is * 0.0722);\n  dst[7] = (is * 0.0722);\n  dst[8] = (is * 0.0722) + saturationScale;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function hueMatrix(dst, angle) {\n  ////\n  //// Uncomment to calculate new coeffecients should luminance\n  //// values 0.2126 0.7152 0.0722 change.\n  //let lumR = 0.2126;\n  //let lumG = 0.7152;\n  //let lumB = 0.0722;\n  ////\n  //let r23 = Math.sqrt(2 / 3);\n  //let r12 = 1 / Math.sqrt(2);\n  //let r13 = 1 / Math.sqrt(3);\n  //let r16 = 1 / Math.sqrt(6);\n  //let M = [r23, 0, r13, -r16, r12, r13, -r16, -r12, r13, 0, 0, 0];\n  //let zx = (r23 * lumR) - (r16 * lumG) - (r16 * lumB);\n  //let zy =                (r12 * lumG) - (r12 * lumB);\n  //let zz = (r13 * lumR) + (r13 * lumG) + (r13 * lumB);\n  //let x = zx / zz;\n  //let y = zy / zz;\n  //let C = [1, 0, x, 0, 1, y, 0, 0, 1, 0, 0, 0];\n  //m43mul(M, M, C);\n  //console.log(\"Pre transform = \", M);\n  //let E = [1, 0, -x, 0, 1, -y, 0, 0, 1, 0, 0, 0];\n  //let N = [r23, -r16, -r16, 0, r12, -r12, r13, r13, r13, 0, 0, 0];\n  //m43mul(N, E, N);\n  //console.log(\"Post transform = \", N);\n  ////\n  //// Final matrix is then: m43Mul(Pre, [c, s, 0, -s, c, 0, 0, 0, 1, 0, 0, 0, ], Post);\n  //// for c = cos(angle), s = sin(angle)\n  ////\n  //let out = \"\";\n  //out += \"let c = Math.cos(angle);\\n\";\n  //out += \"let s = Math.sin(angle);\\n\";\n  //out += \"dst[0] = (\" + (N[0]*M[0]+N[3]*M[1]) + \" * c) + (\" + (N[3]*M[0]-N[0]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[1] = (\" + (-lumR)               + \" * c) + (\" + (N[4]*M[0]-N[1]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[2] = (\" + (-lumR)               + \" * c) + (\" + (N[5]*M[0]-N[2]*M[1]) + \" * s) + \" + lumR+\";\\n\";\n  //out += \"dst[3] = (\" + (-lumG)               + \" * c) + (\" + (N[3]*M[3]-N[0]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[4] = (\" + (N[1]*M[3]+N[4]*M[4]) + \" * c) + (\" + (N[4]*M[3]-N[1]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[5] = (\" + (-lumG)               + \" * c) + (\" + (N[5]*M[3]-N[2]*M[4]) + \" * s) + \" + lumG+\";\\n\";\n  //out += \"dst[6] = (\" + (-lumB)               + \" * c) + (\" + (N[3]*M[6]-N[0]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //out += \"dst[7] = (\" + (-lumB)               + \" * c) + (\" + (N[4]*M[6]-N[1]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //out += \"dst[8] = (\" + (N[2]*M[6]+N[5]*M[7]) + \" * c) + (\" + (N[5]*M[6]-N[2]*M[7]) + \" * s) + \" + lumB+\";\\n\";\n  //console.log(out);\n  let c = Math.cos(angle);\n  let s = Math.sin(angle);\n  dst[0] = (0.7874 * c) + (-0.3712362230889293 * s) + 0.2126;\n  dst[1] = (-0.2126 * c) + (0.20611404610069642 * s) + 0.2126;\n  dst[2] = (-0.2126 * c) + (-0.9485864922785551 * s) + 0.2126;\n  dst[3] = (-0.7152 * c) + (-0.4962902913954023 * s) + 0.7152;\n  dst[4] = (0.2848 * c) + (0.08105997779422341 * s) + 0.7152;\n  dst[5] = (-0.7152 * c) + (0.6584102469838492 * s) + 0.7152;\n  dst[6] = (-0.0722 * c) + (0.8675265144843316 * s) + 0.0722;\n  dst[7] = (-0.0722 * c) + (-0.28717402389491986 * s) + 0.0722;\n  dst[8] = (0.9278 * c) + (0.290176245294706 * s) + 0.0722;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function brightnessAddMatrix(dst, brightnessOffset) {\n  dst[0] = dst[4] = dst[8] = 1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = brightnessOffset;\n}\n\nexport function brightnessScaleMatrix(dst, scale) {\n  dst[0] = dst[4] = dst[8] = scale;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 0;\n}\n\nexport function additiveMatrix(dst, additiveRGB) {\n  dst[0] = dst[4] = dst[8] = 1;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = additiveRGB[0];\n  dst[10] = additiveRGB[1];\n  dst[11] = additiveRGB[2];\n}\n\nexport function contrastMatrix(dst, contrastScale) {\n  dst[0] = dst[4] = dst[8] = contrastScale;\n  dst[1] = dst[2] = dst[3] = dst[5] = dst[6] = dst[7] = 0;\n  dst[9] = dst[10] = dst[11] = 0.5 * (1 - contrastScale);\n}\n\n// effect: { shader, params, texs, final }\nfunction applyEffect(effect, view_w, view_h) {\n  let final = effect.final !== false && effectsIsFinal() || effect.final;\n  if (effect.no_framebuffer) {\n    // neither starting nor ending a framebuffer, presumably something effectively additive\n    let viewport = engine.viewport;\n    let target_w = viewport[2];\n    let target_h = viewport[3];\n    view_w = view_w || target_w;\n    view_h = view_h || target_h;\n    clip_space[0] = 2.0 * view_w / target_w;\n    clip_space[1] = 2.0 * view_h / target_h;\n  } else if (effect.viewport) {\n    assert(final);\n    let { viewport } = effect;\n    let target_w = viewport[2];\n    let target_h = viewport[3];\n    view_w = view_w || target_w;\n    view_h = view_h || target_h;\n\n    clip_space[0] = 2.0 * view_w / target_w;\n    clip_space[1] = 2.0 * view_h / target_h;\n\n    framebufferStart({\n      clear: effect.clear,\n      clear_all: effect.clear_all,\n      clear_color: effect.clear_color,\n      viewport,\n      final,\n    });\n  } else {\n    clip_space[0] = 2.0;\n    clip_space[1] = 2.0;\n    view_w = view_w || renderWidth();\n    view_h = view_h || renderHeight();\n\n    framebufferStart({\n      width: view_w, height: view_h,\n      final,\n    });\n  }\n  // clip_space[2] = -1.0;\n  // clip_space[3] = -1.0;\n  // copy_uv_scale[0] = target_w / effect.coord_source.width;\n  // copy_uv_scale[1] = target_h / effect.coord_source.height;\n\n  shaders.bind(getShader('vp_copy'), getShader(effect.shader), effect.params);\n  textures.bindArray(effect.texs);\n  quad_geom.draw();\n}\n\n// // TODO: Update for RTBBCTT and port to new GLOV.js\n// function applyBloomTODO(params) {\n//   let source = params.source;\n//   let blur1 = params.blurTarget1;\n//   let blur2 = params.blurTarget2;\n//   let dest = params.destination;\n//   if (!source || !dest || !blur1 || !blur2 || !blur1.colorTexture0 ||\n//     !blur2.colorTexture0 || blur1 === blur2 || blur1 === dest ||\n//     source === blur1.colorTexture0 || source === dest.colorTexture0) {\n//     return false;\n//   }\n//\n//   let effectParams = this.effectParams;\n//   let techparams;\n//\n//   // Threshold copy.\n//   techparams = this.bloomThresholdParameters;\n//   effectParams.technique = this.bloomThresholdTechnique;\n//   effectParams.params = techparams;\n//\n//   techparams.bloomThreshold = (params.bloomThreshold !== undefined) ? params.bloomThreshold : 0.65;\n//   techparams.thresholdCutoff = Math.exp((params.thresholdCutoff !== undefined) ? params.thresholdCutoff : 3);\n//   techparams.inputTexture0 = source;\n//   effectParams.destination = blur1;\n//   this.applyEffect(effectParams);\n//\n//   // Gaussian blur.\n//   techparams = this.gaussianBlurParameters;\n//   effectParams.technique = this.gaussianBlurTechnique;\n//   effectParams.params = techparams;\n//\n//   let sampleRadius = (params.blurRadius || 20);\n//   techparams.sampleRadius[0] = sampleRadius / source.width;\n//   techparams.sampleRadius[1] = 0;\n//   techparams.sampleRadius[2] = 1;\n//   techparams.inputTexture0 = blur1.colorTexture0;\n//   effectParams.destination = blur2;\n//   this.applyEffect(effectParams);\n//\n//   techparams.sampleRadius[0] = 0;\n//   techparams.sampleRadius[1] = sampleRadius / source.height;\n//   techparams.sampleRadius[2] = 1;\n//   techparams.inputTexture0 = blur2.colorTexture0;\n//   effectParams.destination = blur1;\n//   this.applyEffect(effectParams);\n//\n//   // Merge.\n//   techparams = this.bloomMergeParameters;\n//   effectParams.technique = this.bloomMergeTechnique;\n//   effectParams.params = techparams;\n//\n//   techparams.bloomIntensity = (params.bloomIntensity !== undefined) ? params.bloomIntensity : 1.2;\n//   techparams.bloomSaturation = (params.bloomSaturation !== undefined) ? params.bloomSaturation : 1.2;\n//   techparams.originalIntensity = (params.originalIntensity !== undefined) ? params.originalIntensity : 1.0;\n//   techparams.originalSaturation = (params.originalSaturation !== undefined) ? params.originalSaturation : 1.0;\n//   techparams.inputTexture0 = source;\n//   techparams.inputTexture1 = blur1.colorTexture0;\n//   effectParams.destination = dest;\n//   this.applyEffect(effectParams);\n//\n//   return true;\n// }\n\nexport function applyCopy(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  if (!source) {\n    source = framebufferEnd({ filter_linear: params.filter_linear });\n  }\n  params.shader = params.shader || 'copy';\n  params.params = shader_params_default;\n  params.texs = [source];\n  applyEffect(params);\n}\n\nexport function applyPixelyExpand(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = params.source;\n  assert(!source); // would need linear/non-wrap sampler state set\n  if (!source) {\n    source = framebufferEnd({ filter_linear: true });\n  }\n\n  // do horizontal blur for primary lines\n  let resx = source.width;\n  let resy = source.height;\n  let sampleRadius = (params.hblur || 0.25) / resx;\n  shader_params_gaussian_blur.sampleRadius[0] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[1] = 0;\n  shader_params_gaussian_blur.sampleRadius[2] = 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [source],\n    final: false,\n  }, resx, resy);\n  let hblur = framebufferEnd({ filter_linear: true });\n\n  // do seperable gaussian blur for scanlines (using horizontal blur from above)\n  sampleRadius = (params.vblur || 0.75) / resy;\n  shader_params_gaussian_blur.sampleRadius[0] = 0;\n  shader_params_gaussian_blur.sampleRadius[1] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[2] = 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [hblur],\n    final: false,\n  }, resx, resy);\n  let vblur = framebufferEnd({ filter_linear: true });\n\n  // combine at full res\n  v4set(shader_params_pixely_expand.orig_pixel_size,\n    source.width, source.height, 1/source.width, 1/source.height);\n\n  applyEffect({\n    shader: 'pixely_expand',\n    params: shader_params_pixely_expand,\n    texs: [source, hblur, vblur],\n\n    clear: params.clear,\n    clear_all: params.clear_all,\n    clear_color: params.clear_color,\n    viewport: params.viewport,\n  });\n}\n\nexport function applyGaussianBlur(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = framebufferEnd({ filter_linear: true });\n  let max_size = params.max_size || 512;\n  let min_size = params.min_size || 128;\n\n  // Quick shrink down to 512->256->128 (or other specified min/max size)\n  let inputTexture0 = source;\n\n  let viewport = engine.viewport;\n  let res = max_size;\n  while (res > viewport[2] || res > viewport[3]) {\n    res /= 2;\n  }\n\n  while (res > min_size) {\n    applyEffect({\n      shader: params.shader_copy || 'copy',\n      params: shader_params_default,\n      texs: [inputTexture0],\n      final: false,\n    }, res, res);\n    inputTexture0 = framebufferEnd({ filter_linear: true });\n    res /= 2;\n  }\n\n  // Do seperable blur\n  let sampleRadius = (params.blur || 1) / res;\n  shader_params_gaussian_blur.sampleRadius[0] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[1] = 0;\n  shader_params_gaussian_blur.sampleRadius[2] = params.glow || 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [inputTexture0],\n    final: false,\n  }, res, res);\n  let blur = framebufferEnd({ filter_linear: true });\n\n  shader_params_gaussian_blur.sampleRadius[0] = 0;\n  shader_params_gaussian_blur.sampleRadius[1] = sampleRadius;\n  shader_params_gaussian_blur.sampleRadius[2] = params.glow || 1;\n  applyEffect({\n    shader: 'gaussian_blur',\n    params: shader_params_gaussian_blur,\n    texs: [blur],\n  });\n\n  return true;\n}\n\nexport function applyColorMatrix(params) {\n  if (!inited) {\n    startup();\n  }\n  let source = framebufferEnd({ filter_linear: true });\n\n  let matrix = params.colorMatrix;\n  let mout = shader_params_color_matrix.colorMatrix;\n\n  mout[0] = matrix[0];\n  mout[1] = matrix[3];\n  mout[2] = matrix[6];\n  mout[3] = matrix[9];\n  mout[4] = matrix[1];\n  mout[5] = matrix[4];\n  mout[6] = matrix[7];\n  mout[7] = matrix[10];\n  mout[8] = matrix[2];\n  mout[9] = matrix[5];\n  mout[10] = matrix[8];\n  mout[11] = matrix[11];\n\n  applyEffect({\n    shader: 'color_matrix',\n    params: shader_params_color_matrix,\n    texs: [source],\n  });\n\n  return true;\n}\n\n// // TODO: Update for RTBBCTT and port to new GLOV.js\n// export function applyDistortTODO(params) {\n//   let source = params.source;\n//   let dest = params.destination;\n//   let distort = params.distortion;\n//   if (!source || !dest || !distort || !dest.colorTexture0 ||\n//     source === dest.colorTexture0 || distort === dest.colorTexture0) {\n//     return false;\n//   }\n//\n//   // input transform.\n//   //  a b tx\n//   //  c d ty\n//   let a;\n//   let b;\n//   let c;\n//   let d;\n//   let tx;\n//   let ty;\n//\n//   let transform = params.transform;\n//   if (transform) {\n//     // transform col-major.\n//     a = transform[0];\n//     b = transform[2];\n//     tx = transform[4];\n//     c = transform[1];\n//     d = transform[3];\n//     ty = transform[5];\n//   } else {\n//     a = d = 1;\n//     b = c = 0;\n//     tx = ty = 0;\n//   }\n//\n//   let effectParams = this.effectParams;\n//   let techparams = this.distortParameters;\n//   effectParams.technique = this.distortTechnique;\n//   effectParams.params = techparams;\n//\n//   // TODO: Cache 'transform', 'invTransform', etc in the code below\n//   techparams.transform[0] = a;\n//   techparams.transform[1] = b;\n//   techparams.transform[2] = tx;\n//   techparams.transform[3] = c;\n//   techparams.transform[4] = d;\n//   techparams.transform[5] = ty;\n//\n//   // Compute inverse transform to use in distort texture displacement..\n//   let idet = 1 / (a * d - b * c);\n//   let ia = techparams.invTransform[0] = (idet * d);\n//   let ib = techparams.invTransform[1] = (idet * -b);\n//   let ic = techparams.invTransform[2] = (idet * -c);\n//   let id = techparams.invTransform[3] = (idet * a);\n//\n//   // Compute max pixel offset after transform for normalisation.\n//   let x1 = ((ia + ib) * (ia + ib)) + ((ic + id) * (ic + id));\n//   let x2 = ((ia - ib) * (ia - ib)) + ((ic - id) * (ic - id));\n//   let x3 = ((-ia + ib) * (-ia + ib)) + ((-ic + id) * (-ic + id));\n//   let x4 = ((-ia - ib) * (-ia - ib)) + ((-ic - id) * (-ic - id));\n//   let xmax = 0.5 * Math.sqrt(Math.max(x1, x2, x3, x4));\n//\n//   let strength = (params.strength || 10);\n//   techparams.strength[0] = strength / (source.width * xmax);\n//   techparams.strength[1] = strength / (source.height * xmax);\n//\n//   techparams.inputTexture0 = source;\n//   techparams.distortTexture = distort; // linear / repeat\n//   effectParams.destination = dest;\n//   this.applyEffect(effectParams);\n//\n//   return true;\n// }\n\nexport function clearAlpha() {\n  let old_dt = gl.getParameter(gl.DEPTH_TEST);\n  if (old_dt) {\n    gl.disable(gl.DEPTH_TEST);\n  }\n  gl.colorMask(false, false, false, true);\n  applyCopy({ source: textures.textures.white, no_framebuffer: true });\n  gl.colorMask(true, true, true, true);\n  if (old_dt) {\n    gl.enable(gl.DEPTH_TEST);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nrequire('./bootstrap.js'); // Just in case it's not in app.js\n\nexport let DEBUG = String(document.location).match(/^https?:\\/\\/localhost/);\n\nrequire('not_worker'); // This module cannot be required from a worker bundle\n\nconst assert = require('assert');\nconst { is_ios_safari } = require('./browser.js');\nconst camera2d = require('./camera2d.js');\nconst cmds = require('./cmds.js');\nconst effects = require('./effects.js');\nconst { effectsReset, effectsTopOfFrame, effectsIsFinal, effectsPassAdd, effectsPassConsume } = effects;\nconst { errorReportDisable, errorReportSetPath, glovErrorReport } = require('./error_report.js');\nconst glov_font = require('./font.js');\nconst { framebufferStart, framebufferEndOfFrame } = require('./framebuffer.js');\nconst geom = require('./geom.js');\nconst input = require('./input.js');\nconst local_storage = require('./local_storage.js');\nconst mat3FromMat4 = require('gl-mat3/fromMat4');\nconst mat4Copy = require('gl-mat4/copy');\nconst mat4Invert = require('gl-mat4/invert');\nconst mat4Mul = require('gl-mat4/multiply');\nconst mat4Transpose = require('gl-mat4/transpose');\nconst mat4Perspective = require('gl-mat4/perspective');\nconst { asin, cos, floor, min, max, PI, round, sin, sqrt } = Math;\nconst models = require('./models.js');\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst shaders = require('./shaders.js');\nconst { soundLoading, soundStartup, soundTick } = require('./sound.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { texturesTick } = textures;\nconst glov_transition = require('./transition.js');\nconst glov_ui = require('./ui.js');\nconst urlhash = require('./urlhash.js');\nconst { clamp, defaults, nearSame, ridx } = require('../../common/util.js');\nconst { mat3, mat4, vec3, vec4, v3mulMat4, v3iNormalize, v4copy, v4same, v4set } = require('./vmath.js');\n\nexport let canvas;\nexport let webgl2;\nexport let glov_particles;\n\nexport let width;\nexport let height;\nlet width_3d;\nlet height_3d;\nexport let pixel_aspect = 1;\nexport let dom_to_canvas_ratio = window.devicePixelRatio || 1;\nexport let antialias;\nexport let antialias_unavailable;\n\nexport let game_width;\nexport let game_height;\nlet game_aspect;\n\nexport let render_width;\nexport let render_height;\n\n//eslint-disable-next-line no-use-before-define\nexport let defines = urlhash.register({ key: 'D', type: urlhash.TYPE_SET, change: definesChanged });\n\nexport let ZFAR;\nexport let ZNEAR;\nexport let fov_y = 1;\nexport let fov_x = 1;\n\nexport let mat_projection = mat4();\nexport let mat_view = mat4();\nlet mat_m = mat4();\nexport let mat_vp = mat4();\nlet mat_mv = mat4();\nlet mat_mv_no_skew = mat4();\nlet mat_mvp = mat4();\nlet mat_mv_inv_transform = mat3();\nlet mat_inv_view = mat3();\nlet projection_inverse = vec4();\n\nexport let light_diffuse = vec3(0.75, 0.75, 0.75);\nlet light_dir_vs = vec3(0, 0, 0);\nexport let light_ambient = vec3(0.25, 0.25, 0.25);\nexport let light_dir_ws = vec3(-1, -2, -3);\n\nexport let font;\nexport let app_state = null;\nexport const border_color = vec4(0, 0, 0, 1);\n\nlet no_render = false;\n\nexport function disableRender(new_value) {\n  no_render = new_value;\n  if (no_render) {\n    glov_ui.cleanupDOMElems();\n  }\n}\n\nlet mat_temp = mat4();\nexport function setGlobalMatrices(_mat_view) {\n  mat4Copy(mat_view, _mat_view);\n  mat4Mul(mat_vp, mat_projection, mat_view);\n  v3iNormalize(light_dir_ws);\n  v3mulMat4(light_dir_vs, light_dir_ws, mat_view);\n  mat4Invert(mat_temp, mat_view);\n  mat3FromMat4(mat_inv_view, mat_temp);\n}\n\n// Just set up mat_vp and mat_projection\nexport function setMatVP(_mat_view) {\n  // eslint-disable-next-line no-use-before-define\n  setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  mat4Copy(mat_view, _mat_view);\n  mat4Mul(mat_vp, mat_projection, mat_view);\n}\n\nexport function setFOV(fov_min) {\n  let w = render_width || width;\n  let h = render_height || height;\n  let aspect = w / h;\n  if (aspect > game_aspect) {\n    fov_y = fov_min;\n    let rise = sin(fov_y / 2) / cos(fov_y / 2) * aspect;\n    fov_x = 2 * asin(rise / sqrt(rise * rise + 1));\n  } else {\n    // Calculate what fov_x would be if the screen was game_aspect, then derive fov_y from that\n    let rise = sin(fov_min / 2) / cos(fov_min / 2) * game_aspect;\n    fov_x = 2 * asin(rise / sqrt(rise * rise + 1));\n    // Old method, just apply fov to x (it's the same thing, if game_aspect is 1.0)\n    // fov_x = fov_min;\n    let rise2 = sin(fov_x / 2) / cos(fov_x / 2) / aspect;\n    fov_y = 2 * asin(rise2 / sqrt(rise2 * rise2 + 1));\n  }\n}\n\nexport function setGameDims(w, h) {\n  game_width = w;\n  game_height = h;\n  game_aspect = game_width / game_height;\n}\n\n// Didn't need this for a while, but got slow on iOS recently :(\n// Better when using FBOs for postprocessing now, though!\nconst postprocessing_reset_version = '5';\nexport let postprocessing = local_storage.get('glov_no_postprocessing') !== postprocessing_reset_version;\nexport function postprocessingAllow(allow) {\n  local_storage.set('glov_no_postprocessing', allow ? undefined : postprocessing_reset_version);\n  postprocessing = allow;\n}\n\nexport function glCheckError() {\n  let gl_err = gl.getError();\n  if (gl_err) {\n    console.error(gl_err);\n    throw new Error(gl_err);\n  }\n}\n\nexport function releaseCanvas() {\n  try {\n    if (gl) {\n      let ext = gl.getExtension('WEBGL_lose_context');\n      if (ext) {\n        ext.loseContext();\n      }\n    }\n  } catch (ignored) {\n    // nothing, it's fine\n  }\n}\n\nexport function reloadSafe() {\n  // Do not report any errors after this point\n  errorReportDisable();\n  // Release canvas to not leak memory on Firefox\n  releaseCanvas();\n  if (window.FBInstant) {\n    try {\n      window.top.location.reload();\n    } catch (e) {\n      // Not good, but better than the alternatives, I guess\n      window.FBInstant.quit();\n    }\n  } else {\n    document.location.reload();\n  }\n}\nwindow.reloadSafe = reloadSafe;\n\nlet reloading_defines = {};\nexport function defineCausesReload(define) {\n  reloading_defines[define] = defines[define];\n}\ndefineCausesReload('FORCEWEBGL2');\ndefineCausesReload('NOWEBGL2');\nexport function definesChanged() {\n  for (let key in reloading_defines) {\n    if (defines[key] !== reloading_defines[key]) {\n      urlhash.onURLChange(reloadSafe);\n      break;\n    }\n  }\n  shaders.handleDefinesChanged();\n}\n\nfunction normalizeRow(m, idx) {\n  let len = m[idx]*m[idx] + m[idx+1]*m[idx+1] + m[idx+2]*m[idx+2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    m[idx] *= len;\n    m[idx+1] *= len;\n    m[idx+2] *= len;\n  }\n}\n\nexport function updateMatrices(mat_model) {\n  // PERFTODO: depending on rendering path, only some of these are needed (m + vp or just mvp)\n  mat4Copy(mat_m, mat_model);\n\n  mat4Mul(mat_mv, mat_view, mat_model);\n  mat4Mul(mat_mvp, mat_projection, mat_mv);\n  // TODO: Can expand and simplify all of this, especially below\n  // Compute the inverse transform of thee model_view matrix, discarding scale,\n  // to be used for getting normals into view space\n  mat4Copy(mat_temp, mat_model);\n  normalizeRow(mat_temp, 0);\n  normalizeRow(mat_temp, 4);\n  normalizeRow(mat_temp, 8);\n  mat4Mul(mat_mv_no_skew, mat_view, mat_temp);\n  mat4Invert(mat_temp, mat_mv_no_skew);\n  mat4Transpose(mat_temp, mat_temp);\n  mat3FromMat4(mat_mv_inv_transform, mat_temp);\n}\nexport let frame_timestamp = 0;\nexport function getFrameTimestamp() {\n  return frame_timestamp;\n}\n\nexport let frame_index = 0;\nexport function getFrameIndex() {\n  return frame_index;\n}\n\nexport let frame_dt = 0;\nexport function getFrameDt() {\n  return frame_dt;\n}\n\nexport let hrtime = 0;\n\n// Wall time, may contain large jumps, may be 0 or negative\nlet this_frame_time_actual = 0;\nexport function getFrameDtActual() {\n  return this_frame_time_actual;\n}\n\nlet after_loading_state = null;\nexport let is_loading = true;\nexport function setState(new_state) {\n  if (is_loading) {\n    after_loading_state = new_state;\n  } else {\n    app_state = new_state;\n  }\n}\n\nexport function stateActive(test_state) {\n  if (is_loading) {\n    return after_loading_state === test_state;\n  } else {\n    return app_state === test_state;\n  }\n}\n\nlet mspf = 1000;\nlet mspf_update_time = 0;\nlet mspf_frame_count = 0;\nlet last_tick_cpu = 0;\nlet mspf_tick = 1000;\n// let net_time = 1000;\nlet mspf_tick_accum = 0;\n// let net_time_accum = 0;\nexport const PERF_HISTORY_SIZE = 128;\nexport let perf_state = window.glov_perf_state = {\n  fpsgraph: {\n    index: 0,\n    history: new Float32Array(PERF_HISTORY_SIZE * 2),\n  },\n  gpu_mem: {\n    tex: 0,\n    geom: 0,\n  },\n};\nlet fpsgraph = perf_state.fpsgraph;\n\nperf.addMetric({\n  name: 'fps',\n  show_stat: 'show_fps', // always, if we're showing any metrics\n  show_graph: 'fps_graph',\n  labels: {\n    'fps: ': () => (1000 / mspf).toFixed(1),\n    'ms/f: ': () => mspf.toFixed(0),\n    'cpu: ': () => mspf_tick.toFixed(0),\n    // 'net: ': () => net_time.toFixed(0),\n  },\n  data: fpsgraph, // contain .index and .history (stride of colors.length)\n  line_scale_top: 50,\n  colors: [\n    // vec4(0.161, 0.678, 1, 1), // net time\n    vec4(1, 0.925, 0.153, 1), // cpu/tick time\n    vec4(0, 0.894, 0.212, 1), // total time (GPU)\n  ],\n});\n\nlet do_borders = true;\nlet do_viewport_postprocess = false;\nlet need_repos = 0;\n\nexport function resizing() {\n  return need_repos;\n}\n\nlet app_tick_functions = [];\nexport function addTickFunc(cb) {\n  app_tick_functions.push(cb);\n}\n\nlet post_tick = [];\nexport function postTick(opts) {\n  opts.ticks = opts.ticks || 1; // run in how many ticks?\n  opts.inactive = opts.inactive || false; // run even if inactive?\n  assert.equal(typeof opts.fn, 'function');\n  post_tick.push(opts);\n}\n\nfunction resetEffects() {\n  effectsReset();\n  framebufferEndOfFrame();\n}\n\nexport function renderWidth() {\n  return render_width || width;\n}\nexport function renderHeight() {\n  return render_height || height;\n}\n\nconst SAFARI_FULLSCREEN_ASPECT = (function () {\n  let screen = window.screen;\n  if (!is_ios_safari || !screen) {\n    return 0;\n  }\n  const SAFARI_DIMS = { // wxh : [fullscreen aspect]\n    // iPhone XR\n    // iPhone 11 Pro Max\n    // iPhone XS Max\n    // iPhone 11\n    '896,414': 896/414,\n    // iPhone 11 Pro\n    // iPhone X (probably)\n    '812,375': 812/375,\n    // iPhone 8 Plus\n    '736,414': 736/414,\n    // iPhone 6s+\n    // iPhone 6+\n    '716,414': 736/414, // (screen.availWidth reports 20 less)\n    // iPhone 8\n    // iPhone 7 (10.1)\n    // iPhone 7 (11.4)\n    '667,375': 667/375,\n    // iPhone 6s\n    // iPhone 6\n    '647,375': 667/375, // (screen.availWidth reports 20 less)\n    // iPhone 5s\n    '548,320': 568/320, // (screen.availWidth reports 20 less)\n  };\n  let key = `${max(screen.availWidth, screen.availHeight)},${min(screen.availWidth, screen.availHeight)}`;\n  return SAFARI_DIMS[key] || 0;\n}());\nfunction safariTopSafeArea(view_w, view_h) {\n  // Detect if the URL bar is hidden, but should be a safe area\n  if (SAFARI_FULLSCREEN_ASPECT && nearSame(view_w/view_h, SAFARI_FULLSCREEN_ASPECT, 0.001)) {\n    // Note: if user has scaling enabled, the padding required might be different\n    //   but the same holds true for the safe area padding detected via CSS!\n    return 50 * (window.devicePixelRatio || 1); // seems to be 50pts on all devices\n  }\n  return 0;\n}\n\n\nlet last_canvas_width;\nlet last_canvas_height;\nlet last_body_height;\nlet safearea_elem;\nlet safearea_ignore_bottom = false;\nlet safearea_values = [0,0,0,0];\nlet last_safearea_values = [0,0,0,0];\nfunction checkResize() {\n  // use VisualViewport on at least iOS Safari - deal with tabs and keyboard\n  //   shrinking the viewport without changing the window height\n  let vv = window.visualViewport || {};\n  dom_to_canvas_ratio = window.devicePixelRatio || 1;\n  dom_to_canvas_ratio *= settings.render_scale_all;\n  let view_w = (vv.width || window.innerWidth);\n  let view_h = (vv.height || window.innerHeight);\n  if (view_h !== last_body_height) {\n    // set this *before* getting canvas and safearea_elem dims below\n    last_body_height = view_h;\n    document.body.style.height = `${view_h}px`;\n  }\n  let rect = canvas.getBoundingClientRect();\n  let new_width = round(rect.width * dom_to_canvas_ratio) || 1;\n  let new_height = round(rect.height * dom_to_canvas_ratio) || 1;\n\n  if (cmds.safearea[0] === -1) {\n    if (safearea_elem) {\n      let sa_width = safearea_elem.offsetWidth;\n      let sa_height = safearea_elem.offsetHeight;\n      if (sa_width && sa_height) {\n        v4set(safearea_values,\n          safearea_elem.offsetLeft * dom_to_canvas_ratio,\n          new_width - (sa_width + safearea_elem.offsetLeft) * dom_to_canvas_ratio,\n          max(safearea_elem.offsetTop * dom_to_canvas_ratio,\n            safariTopSafeArea(view_w, view_h) * settings.render_scale_all),\n          // Note: Possibly ignoring bottom safe area, it seems not useful on iPhones (does not\n          //  adjust when keyboard is up, only obscured in the middle, if obeying left/right safe area)\n          safearea_ignore_bottom ? 0 : new_height - (sa_height + safearea_elem.offsetTop) * dom_to_canvas_ratio);\n      }\n    }\n  } else {\n    v4set(safearea_values,\n      new_width * clamp(cmds.safearea[0], 0, 25)/100,\n      new_width * clamp(cmds.safearea[1], 0, 25)/100,\n      new_height * clamp(cmds.safearea[2], 0, 25)/100,\n      new_height * clamp(cmds.safearea[3], 0, 25)/100);\n  }\n  if (!v4same(safearea_values, last_safearea_values)) {\n    v4copy(last_safearea_values, safearea_values);\n    camera2d.setSafeAreaPadding(safearea_values[0], safearea_values[1], safearea_values[2], safearea_values[3]);\n    need_repos = max(need_repos, 1);\n  }\n\n  if (new_width !== last_canvas_width || new_height !== last_canvas_height) {\n    window.pixel_scale = dom_to_canvas_ratio; // for debug\n    last_canvas_width = canvas.width = new_width || 1;\n    last_canvas_height = canvas.height = new_height || 1;\n\n    width = canvas.width;\n    height = canvas.height;\n    setFOV(settings.fov * PI / 180);\n\n    // For the next 10 frames, make sure font size is correct\n    need_repos = 10;\n  }\n  if (is_ios_safari && (window.visualViewport || need_repos)) {\n    // we have accurate view information, or screen was just rotated / resized\n    // force scroll to top\n    window.scroll(0,0);\n  }\n}\n\nexport let viewport = vec4(0,0,1,1);\nexport function setViewport(xywh) {\n  v4copy(viewport, xywh);\n  gl.viewport(xywh[0], xywh[1], xywh[2], xywh[3]);\n}\n\nlet frame_requested = false;\nfunction requestFrame() {\n  if (frame_requested) {\n    return;\n  }\n  frame_requested = true;\n  let max_fps = settings.max_fps;\n  if (defines.SLOWLOAD && is_loading) {\n    // Safari on CrossBrowserTesting needs this in order to have some time to load/decode audio data\n    // TODO: Instead, generally, if loading, compare last_tick_cpu vs dt, and if\n    //   we're not idle for at least half of the time and we have *internal*\n    //   loads (textures, sounds, models, NOT user code), delay so that we are.\n    max_fps = 2;\n  }\n  if (max_fps) {\n    // eslint-disable-next-line no-use-before-define\n    setTimeout(tick, round(1000 / max_fps));\n  } else {\n    // eslint-disable-next-line no-use-before-define\n    requestAnimationFrame(tick);\n  }\n}\n\nlet mat_projection_10;\nexport let had_3d_this_frame;\n\nexport function setupProjection(use_fov_y, use_width, use_height, znear, zfar) {\n  mat4Perspective(mat_projection, use_fov_y, use_width/use_height, znear, zfar);\n  mat_projection_10 = mat_projection[10];\n  v4set(projection_inverse,\n    2 / (use_width * mat_projection[0]), // projection_matrix.m00),\n    2 / (use_height * mat_projection[5]), // projection_matrix.m11),\n    -(1 + mat_projection[8]) / mat_projection[0], // projection_matrix.m20) / projection_matrix.m00,\n    -(1 + mat_projection[9]) / mat_projection[5] // projection_matrix.m21) / projection_matrix.m11\n  );\n}\n\nexport function setZRange(znear, zfar) {\n  ZNEAR = znear;\n  ZFAR = zfar;\n  if (had_3d_this_frame) {\n    setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  }\n}\n\nlet render_scale_3d_this_frame;\nexport function start3DRendering() {\n  had_3d_this_frame = true;\n  if (render_scale_3d_this_frame && !defines.NOCOPY) {\n    effectsPassAdd();\n  }\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  gl.enable(gl.BLEND);\n  gl.enable(gl.DEPTH_TEST);\n  gl.depthMask(true);\n  framebufferStart({\n    width: width_3d,\n    height: height_3d,\n    final: effectsIsFinal(),\n    need_depth: true,\n    clear: true,\n    clear_all: settings.render_scale_clear,\n  });\n\n  if (render_width) {\n    setupProjection(fov_y, render_width, render_height, ZNEAR, ZFAR);\n  } else {\n    setupProjection(fov_y, width, height, ZNEAR, ZFAR);\n  }\n\n  gl.enable(gl.CULL_FACE);\n}\n\nfunction renderScaleFinish() {\n  if (defines.NOCOPY) {\n    gl.disable(gl.SCISSOR_TEST);\n    v4set(viewport, 0, 0, width, height);\n    gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n  } else {\n    effectsPassConsume();\n    if (settings.render_scale_mode === 2) {\n      effects.applyPixelyExpand({ final: effectsIsFinal(), clear: false });\n    } else {\n      effects.applyCopy({ filter_linear: settings.render_scale_mode === 0 });\n    }\n  }\n}\n\nexport function startSpriteRendering() {\n  gl.disable(gl.CULL_FACE);\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  gl.enable(gl.BLEND);\n  gl.disable(gl.DEPTH_TEST);\n  gl.depthMask(false);\n}\n\nexport function projectionZBias(dist, at_z) {\n  if (!dist) {\n    mat_projection[10] = mat_projection_10;\n    return;\n  }\n  //let e = 2 * ZFAR * ZNEAR / (ZFAR - ZNEAR) * (dist / (at_z * (at_z + dist)));\n  let e = 0.2 * (dist / (at_z * (at_z + dist)));\n  e = max(e, 2e-7);\n  mat_projection[10] = mat_projection_10 + e;\n}\n\nfunction fixNatives(is_startup) {\n  // If any browser extensions have added things to the Array prototype, remove them!\n  let b = [];\n  for (let a in b) {\n    console[is_startup ? 'log' : 'error'](`Found invasive enumerable property \"${a}\" on Array.prototype, removing...`);\n    let old_val = b[a];\n    delete Array.prototype[a];\n    // If this fails to work, perhaps try using Object.preventExtensions(Array.prototype) in an inline header script?\n    // eslint-disable-next-line no-extend-native\n    Object.defineProperty(Array.prototype, a, { value: old_val, enumerable: false });\n  }\n  for (let a in b) {\n    // Failed: code that iterates arrays will fail\n    assert(false, `Array.prototype has unremovable member ${a}`);\n  }\n}\n\nfunction resetState() {\n  // Only geom.geomResetState appears to have been strictly needed to work around\n  //  a bug on Chrome 71, but doing the rest of this to be safe.\n  textures.texturesResetState();\n  shaders.shadersResetState();\n  geom.geomResetState();\n\n  // These should already be true:\n  // gl.blendFunc(gl.ONE, gl.ONE);\n  gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  // gl.disable(gl.BLEND);\n  gl.enable(gl.BLEND);\n  // gl.disable(gl.DEPTH_TEST);\n  gl.enable(gl.DEPTH_TEST);\n  // gl.depthMask(false);\n  gl.depthMask(true);\n  // gl.disable(gl.CULL_FACE);\n  gl.enable(gl.CULL_FACE);\n  // gl.depthFunc(gl.GEQUAL);\n  gl.depthFunc(gl.LEQUAL);\n  // gl.enable(gl.SCISSOR_TEST);\n  gl.disable(gl.SCISSOR_TEST);\n  // gl.cullFace(gl.FRONT);\n  gl.cullFace(gl.BACK);\n  gl.viewport(0, 0, width, height);\n}\n\nexport const hrnow = window.performance ? window.performance.now.bind(window.performance) : Date.now.bind(Date);\n\nlet last_tick = 0;\nfunction tick(timestamp) {\n  frame_requested = false;\n  // if (timestamp < 1e12) { // high resolution timer\n  //   this ends up being a value way back in time, relative to what hrnow() returns,\n  //   and even back in time relative to input events already dispatched,\n  //   causing timing confusion, so ignore it, just call hrnow()\n  //   hrtime = timestamp;\n  // } else { // probably integer milliseconds since epoch, or nothing\n  hrtime = hrnow();\n  // }\n  let now = round(hrtime); // Code assumes integer milliseconds\n  if (!last_tick) {\n    last_tick = now;\n  }\n  this_frame_time_actual = now - last_tick;\n  let dt = min(max(this_frame_time_actual, 1), 250);\n  frame_dt = dt;\n  last_tick = now;\n  frame_timestamp += dt;\n  ++frame_index;\n\n  fixNatives(false);\n\n  // let this_net_time = wsclient.getNetTime();\n  // fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 3 + 0] = this_net_time;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 1] = this_frame_time_actual;\n  fpsgraph.index++;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 0] = 0;\n\n  ++mspf_frame_count;\n  mspf_tick_accum += last_tick_cpu;\n  // net_time_accum += this_net_time;\n  if (now - mspf_update_time > settings.fps_window * 1000) {\n    if (!mspf_update_time) {\n      mspf_update_time = now;\n    } else {\n      mspf = (now - mspf_update_time) / mspf_frame_count;\n      mspf_tick = mspf_tick_accum / mspf_frame_count;\n      mspf_tick_accum = 0;\n      // net_time = net_time_accum / mspf_frame_count;\n      // net_time_accum = 0;\n      mspf_frame_count = 0;\n      mspf_update_time = now;\n    }\n  }\n\n  effectsTopOfFrame();\n\n  if (document.hidden || document.webkitHidden || no_render) {\n    resetEffects();\n    input.tickInputInactive();\n    last_tick_cpu = 0;\n    for (let ii = post_tick.length - 1; ii >= 0; --ii) {\n      if (post_tick[ii].inactive && !--post_tick[ii].ticks) {\n        post_tick[ii].fn();\n        ridx(post_tick, ii);\n      }\n    }\n    requestFrame();\n    return;\n  }\n\n  checkResize();\n  had_3d_this_frame = false;\n  render_scale_3d_this_frame = false;\n  if (render_width) {\n    // render_scale not supported with render_width, doesn't make much sense, just use render_width\n    width_3d = render_width;\n    height_3d = render_height;\n    effectsPassAdd();\n  } else {\n    width_3d = round(width * settings.render_scale);\n    height_3d = round(height * settings.render_scale);\n    if (width_3d !== width) {\n      render_scale_3d_this_frame = true;\n    }\n  }\n\n  resetState();\n\n  textures.bind(0, textures.textures.error);\n\n  camera2d.tickCamera2D();\n  glov_transition.render(dt);\n  camera2d.setAspectFixed(game_width, game_height);\n\n  soundTick(dt);\n  input.tickInput();\n  glov_ui.tickUI(dt);\n\n  if (need_repos) {\n    --need_repos;\n    let ul = [];\n    camera2d.virtualToDom(ul, [0,0]);\n    let lr = [];\n    camera2d.virtualToDom(lr, [game_width-1,game_height-1]);\n    let viewport2 = [ul[0], ul[1], lr[0], lr[1]];\n    let view_height = viewport2[3] - viewport2[1];\n    // default font size of 16 when at height of game_height\n    let font_size = min(256, max(2, floor(view_height/800 * 16)));\n    let elem_fullscreen = document.getElementById('fullscreen');\n    if (elem_fullscreen) {\n      elem_fullscreen.style['font-size'] = `${font_size}px`;\n    }\n  }\n\n  if (do_borders) {\n    // Borders\n    glov_ui.drawRect(camera2d.x0Real(), camera2d.y0Real(), camera2d.x1Real(), 0, Z.BORDERS, border_color);\n    glov_ui.drawRect(camera2d.x0Real(), game_height, camera2d.x1Real(), camera2d.y1Real(), Z.BORDERS, border_color);\n    glov_ui.drawRect(camera2d.x0Real(), 0, 0, game_height, Z.BORDERS, border_color);\n    glov_ui.drawRect(game_width, 0, camera2d.x1Real(), game_height, Z.BORDERS, border_color);\n  }\n\n  if (settings.show_metrics) {\n    perf.draw();\n  }\n\n  for (let ii = 0; ii < app_tick_functions.length; ++ii) {\n    app_tick_functions[ii](dt);\n  }\n  if (app_state) {\n    app_state(dt);\n  }\n\n  glov_particles.tick(dt); // *after* app_tick, so newly added/killed particles can be queued into the draw list\n\n  if (had_3d_this_frame) {\n    if (render_scale_3d_this_frame) {\n      renderScaleFinish();\n    }\n  } else {\n    // delayed clear (and general GL init) until after app_state, app might change clear color\n    if (render_width) {\n      // assert(!effectsIsFinal());\n      framebufferStart({\n        width: render_width,\n        height: render_height,\n        clear: true,\n        clear_all: settings.render_scale_clear, // Not sure if this is ever faster in this case?\n        final: effectsIsFinal(),\n        need_depth: false,\n      });\n    } else {\n      framebufferStart({\n        width,\n        height,\n        clear: true,\n        final: effectsIsFinal(),\n        need_depth: false,\n      });\n    }\n  }\n\n  startSpriteRendering();\n  sprites.draw();\n\n  glov_ui.endFrame();\n\n  if (render_width) {\n    effectsPassConsume();\n    let clear_color = [0, 0, 0, 1];\n    let final_viewport = [\n      camera2d.render_offset_x, camera2d.render_offset_y_bottom,\n      camera2d.render_viewport_w, camera2d.render_viewport_h\n    ];\n    let params = {\n      clear: true,\n      clear_all: true,\n      clear_color: clear_color,\n      viewport: final_viewport,\n    };\n    if (do_viewport_postprocess) {\n      effects.applyPixelyExpand(params);\n    } else {\n      effects.applyCopy(params);\n    }\n  }\n\n  input.endFrame();\n  resetEffects();\n  texturesTick();\n\n  for (let ii = post_tick.length - 1; ii >= 0; --ii) {\n    if (!--post_tick[ii].ticks) {\n      post_tick[ii].fn();\n      ridx(post_tick, ii);\n    }\n  }\n\n  last_tick_cpu = hrnow() - now;\n  fpsgraph.history[(fpsgraph.index % PERF_HISTORY_SIZE) * 2 + 0] = last_tick_cpu;\n  requestFrame();\n}\n\nfunction periodiclyRequestFrame() {\n  requestFrame();\n  setTimeout(periodiclyRequestFrame, 5000);\n}\n\nexport function startup(params) {\n  fixNatives(true);\n\n  canvas = document.getElementById('canvas');\n  safearea_elem = document.getElementById('safearea');\n\n  if (params.error_report !== false) {\n    errorReportSetPath(urlhash.getAPIPath());\n    window.glov_error_report = (msg, file, line, col) => {\n      setTimeout(requestFrame, 1);\n      return glovErrorReport(true, msg, file, line, col);\n    };\n  }\n\n  safearea_ignore_bottom = params.safearea_ignore_bottom || false;\n\n  // resize the canvas to fill browser window dynamically\n  window.addEventListener('resize', checkResize, false);\n  checkResize();\n\n  let is_pixely = params.pixely && params.pixely !== 'off';\n  antialias = params.antialias || !is_pixely && params.antialias !== false;\n  let powerPreference = params.high ? 'high-performance' : 'default';\n  let context_names = ['webgl2', 'webgl', 'experimental-webgl'];\n  let force_webgl1 = defines.NOWEBGL2;\n  let disable_data = local_storage.getJSON('webgl2_disable');\n  // Check if a previous, recent run had an error that hinted we should disable WebGL2\n  if (disable_data && disable_data.ua === navigator.userAgent && disable_data.ts > Date.now() - 7*24*60*60*1000) {\n    console.log('Disabling WebGL2 because a previous run encountered a related error');\n    force_webgl1 = true;\n  }\n  if (DEBUG && !defines.FORCEWEBGL2) {\n    let rc = local_storage.getJSON('run_count', 0) + 1;\n    local_storage.setJSON('run_count', rc);\n    if (rc % 2) {\n      force_webgl1 = true;\n    }\n  }\n  if (force_webgl1) {\n    context_names.splice(0, 1);\n  }\n  let context_opts = [\n    { antialias, powerPreference, alpha: false },\n    { powerPreference, alpha: false },\n    { antialias, alpha: false },\n    { alpha: false },\n    {},\n  ];\n  let good = false;\n  webgl2 = false;\n  for (let i = 0; !good && i < context_names.length; i += 1) {\n    for (let jj = 0; !good && jj < context_opts.length; ++jj) {\n      try {\n        window.gl = canvas.getContext(context_names[i], context_opts[jj]);\n        if (window.gl) {\n          if (context_names[i] === 'webgl2') {\n            webgl2 = true;\n          }\n          if (antialias && !context_opts[jj].antialias) {\n            antialias_unavailable = true;\n            antialias = false;\n          }\n          good = true;\n          break;\n        }\n      } catch (e) {\n        // ignore\n      }\n    }\n  }\n  if (!good) {\n    // eslint-disable-next-line no-alert\n    window.alert('Sorry, but your browser does not support WebGL or does not have it enabled.');\n    document.getElementById('loading').style.visibility = 'hidden';\n    document.getElementById('nowebgl').style.visibility = 'visible';\n    return false;\n  }\n  console.log(`Using WebGL${webgl2?2:1}`);\n\n  assert(gl);\n  canvas.focus();\n  setGameDims(params.game_width || 1280, params.game_height || 960);\n  ZNEAR = params.znear || 0.7;\n  ZFAR = params.zfar || 10000;\n  if (params.pixely === 'strict') {\n    render_width = game_width;\n    render_height = game_height;\n    if (params.viewport_postprocess) {\n      do_viewport_postprocess = true;\n    }\n  } else {\n    render_width = undefined;\n    render_height = undefined;\n  }\n  pixel_aspect = params.pixel_aspect || 1;\n  setFOV(settings.fov * PI / 180);\n\n  gl.depthFunc(gl.LEQUAL);\n  // gl.enable(gl.SCISSOR_TEST);\n  gl.cullFace(gl.BACK);\n  gl.clearColor(0, 0.1, 0.2, 1);\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1); // Allow RGB texture data with non-mult-4 widths\n\n  textures.startup();\n  geom.startup();\n  shaders.startup({\n    light_diffuse,\n    light_dir_vs,\n    ambient: light_ambient,\n    mat_m: mat_m,\n    mat_mv: mat_mv,\n    mat_vp: mat_vp,\n    mvp: mat_mvp,\n    mv_inv_trans: mat_mv_inv_transform,\n    mat_inv_view: mat_inv_view,\n    view: mat_view,\n    projection: mat_projection,\n    projection_inverse,\n  });\n  camera2d.startup();\n  sprites.startup();\n  input.startup(canvas, params);\n  models.startup();\n\n  /* eslint-disable global-require */\n  glov_particles = require('./particles.js').create();\n\n  if (is_pixely) {\n    textures.defaultFilters(gl.NEAREST, gl.NEAREST);\n    settings.runTimeDefault('render_scale_mode', 1);\n  } else {\n    textures.defaultFilters(gl.LINEAR_MIPMAP_LINEAR, gl.LINEAR);\n  }\n\n  assert(params.font);\n  // If not, something like:\n  // const font_info_04b03x2 = require('../img/font/04b03_8x2.json');\n  // const font_info_04b03x1 = require('../img/font/04b03_8x1.json');\n  // const font_info_palanquin32 = require('../img/font/palanquin32.json');\n  // if (params.pixely === 'strict') {\n  //   font = glov_font.create(font_info_04b03x1, 'font/04b03_8x1');\n  // } else if (is_pixely) {\n  //   font = glov_font.create(font_info_04b03x2, 'font/04b03_8x2');\n  // } else {\n  //   font = glov_font.create(font_info_palanquin32, 'font/palanquin32');\n  // }\n  params.font = font = glov_font.create(params.font.info, params.font.texture);\n  if (params.title_font) {\n    params.title_font = glov_font.create(params.title_font.info, params.title_font.texture);\n  }\n  glov_ui.startup(params);\n\n  soundStartup(params.sound);\n  glov_ui.bindSounds(defaults(params.ui_sounds || {}, {\n    button_click: 'button_click',\n    rollover: 'rollover',\n  }));\n\n  camera2d.setAspectFixed(game_width, game_height);\n\n  if (params.state) {\n    setState(params.state);\n  }\n  if (params.do_borders !== undefined) {\n    do_borders = params.do_borders;\n  }\n  if (params.show_fps !== undefined) {\n    settings.show_fps = params.show_fps;\n  }\n\n  periodiclyRequestFrame();\n  return true;\n}\n\nexport function loadsPending() {\n  return textures.load_count + soundLoading() + models.load_count;\n}\n\nfunction loading() {\n  let load_count = loadsPending();\n  let elem_loading_text = document.getElementById('loading_text');\n  if (elem_loading_text) {\n    elem_loading_text.innerText = `Loading (${load_count})...`;\n  }\n  if (!load_count) {\n    is_loading = false;\n    app_state = after_loading_state;\n    // Clear after next frame, so something is rendered to the canvas\n    postTick({\n      ticks: 2,\n      fn: function () {\n        let loading_elem = document.getElementById('loading');\n        if (loading_elem) {\n          loading_elem.style.visibility = 'hidden';\n        }\n      }\n    });\n  }\n}\napp_state = loading;\n\nwindow.glov_engine = exports;\n","/* eslint-env browser */\n\nlet error_report_disabled = false;\n\nexport function errorReportDisable() {\n  error_report_disabled = true;\n}\n\nlet api_path = '/';\nexport function errorReportSetPath(path) {\n  api_path = path;\n}\n\nlet error_report_details = {};\nlet error_report_details_str = '';\nexport function errorReportSetDetails(key, value) {\n  if (value) {\n    error_report_details[key] = escape(String(value));\n  } else {\n    delete error_report_details[key];\n  }\n  error_report_details_str = `&${Object.keys(error_report_details)\n    .map((k) => `${k}=${error_report_details[k]}`)\n    .join('&')}`;\n}\nerrorReportSetDetails('ver', BUILD_TIMESTAMP);\n\nexport function errorReportGetDetails() {\n  return error_report_details;\n}\n\nlet last_error_time = 0;\nlet crash_idx = 0;\n// Errors from plugins that we don't want to get reported to us, or show the user!\n// The exact phrase \"Script error.\\n  at (0:0)\" comes from our bootstap.js when we\n//   receive the message 'Script Error.' and no stack.  This happens on the Mi Browser on Redmi phones\n//   and doesn't seem to be indicative of any actual problem.\n// Ignoring null at null for similar reasons and because we get nothing useful from the reports.\n// eslint-disable-next-line no-regex-spaces\nlet filtered_errors = /avast_submit|vc_request_action|^Script error\\.\\n  at \\(0:0\\)$|^null\\n  at null(null:null)$/;\nexport function glovErrorReport(is_fatal, msg, file, line, col) {\n  console.error(msg);\n  if (is_fatal) {\n    // Only doing filtering and such on fatal errors, as non-fatal errors are\n    // just logged and should not corrupt state.\n    ++crash_idx;\n    let now = Date.now();\n    let dt = now - last_error_time;\n    last_error_time = now;\n    if (error_report_disabled) {\n      return false;\n    }\n    if (dt < 30*1000) {\n      // Less than 30 seconds since the last error, either we're erroring every\n      // frame, or this is a secondary error caused by the first, do not report it.\n      // Could maybe hash the error message and just report each message once, and\n      // flag errors as primary or secondary.\n      return false;\n    }\n    if (msg.match(filtered_errors)) {\n      return false;\n    }\n  }\n  // Post to an error reporting endpoint that (probably) doesn't exist - it'll get in the logs anyway!\n  let url = api_path; // base like http://foo.com/bar/ (without index.html)\n  url += `${is_fatal ? 'errorReport' : 'errorLog'}?cidx=${crash_idx}&file=${escape(file)}` +\n    `&line=${line||0}&col=${col||0}&url=${escape(location.href)}` +\n    `&msg=${escape(msg)}${error_report_details_str}`;\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', url, true);\n  xhr.send(null);\n  return true;\n}\n","/* globals FBInstant */\nconst urlhash = require('./urlhash.js');\nconst local_storage = require('./local_storage.js');\nconst { soundPause } = require('./sound.js');\n\nexport let ready = false;\nlet onreadycallbacks = [];\nexport function onready(callback) {\n  if (ready) {\n    return void callback();\n  }\n  onreadycallbacks.push(callback);\n}\n\nlet hasSubscribedAlready = false;\nfunction initSubscribe(callback, skipShortcut) {\n\n  skipShortcut = skipShortcut||false;\n\n  function handleSubscribeToBotComplete() {\n    if (callback) {\n      //Prevents the handleSubscribeToBotComplete promise from eating unfreeze event errors\n      setTimeout(callback,1);\n    }\n  }\n\n  function handleSubscribeToBotFailure(e) {\n    if (e && e.code !== 'USER_INPUT') {\n      console.error('handleSubscribeToBotFailure', e);\n    }\n    FBInstant.logEvent(\n      'bot_subscribe_failure'\n    );\n    handleSubscribeToBotComplete();\n  }\n\n  function subscribeToBot() {\n    console.warn('Window social trying to bot subscribe');\n    if (FBInstant.getSupportedAPIs().indexOf('player.canSubscribeBotAsync') !== -1) {\n      FBInstant.player.canSubscribeBotAsync().then(function (canSubscribe) {\n        if (canSubscribe) {\n          FBInstant.logEvent(\n            'bot_subscribe_show'\n          );\n          FBInstant.player.subscribeBotAsync().then(function () {\n            FBInstant.logEvent(\n              'bot_subscribe_success'\n            );\n            handleSubscribeToBotComplete();\n          },handleSubscribeToBotFailure).catch(handleSubscribeToBotFailure);\n        } else {\n          handleSubscribeToBotComplete();\n        }\n      }).catch(handleSubscribeToBotFailure);\n    } else {\n      handleSubscribeToBotComplete();\n    }\n  }\n\n  function handleHomescreenComplete() {\n    subscribeToBot();\n  }\n\n  function handleCreateShortcutFailure(e) {\n    console.error('handleCreateShortcutFailure', e);\n    FBInstant.logEvent(\n      'homescreen_install_failure'\n    );\n    handleHomescreenComplete();\n  }\n\n  let hasAddedToHomescreen = local_storage.get('instant.hasInstalledShortcut.v2');\n  function createShortcut() {\n    console.warn('Window social trying to create shortcut');\n    if (FBInstant.getSupportedAPIs().indexOf('canCreateShortcutAsync') !== -1 &&\n      !hasAddedToHomescreen &&\n      !hasSubscribedAlready\n    ) {\n      hasSubscribedAlready = true;\n      FBInstant.canCreateShortcutAsync().then(function (canCreateShortcut) {\n        if (canCreateShortcut) {\n          FBInstant.logEvent(\n            'homescreen_install_show'\n          );\n          FBInstant.createShortcutAsync().then(function () {\n            local_storage.set('instant.hasInstalledShortcut.v2',true);\n            FBInstant.logEvent(\n              'homescreen_install_success'\n            );\n            handleHomescreenComplete();\n          },function () {\n            FBInstant.logEvent(\n              'homescreen_install_useraborted'\n            );\n            handleHomescreenComplete();\n          }).catch(handleCreateShortcutFailure);\n        } else {\n          handleHomescreenComplete();\n        }\n      }).catch(handleCreateShortcutFailure);\n    } else {\n      handleHomescreenComplete();\n    }\n  }\n\n  if (skipShortcut) {\n    subscribeToBot();\n  } else {\n    createShortcut();\n  }\n}\n\nexport function init() {\n  if (!window.FBInstant) {\n    return;\n  }\n\n  let left = 1;\n  let fake_load_interval = setInterval(function () {\n    left *= 0.9;\n    FBInstant.setLoadingProgress(100-(left*100)>>0);\n  },100);\n\n  FBInstant.initializeAsync().then(function () {\n    let entryPointData = FBInstant.getEntryPointData()||{};\n    // let entryPointData = { querystring: { w: '4675', wg: '1' } }; // FRVR\n    // let entryPointData = { querystring: { blueprint: 'RKWVAE26XS24Z' } }; // FRVR\n    let querystring = entryPointData.querystring||{};\n    for (let x in querystring) {\n      urlhash.set(x, querystring[x]);\n    }\n\n    clearInterval(fake_load_interval);\n    ready = true;\n    FBInstant.startGameAsync().then(function () {\n      onreadycallbacks.forEach((e) => e());\n      onreadycallbacks = [];\n\n      console.warn('outside init fb');\n      initSubscribe(function () {\n        console.warn('All done initing FB');\n      });\n    });\n  }).catch(function (e) {\n    console.warn('initializeAsync failed', e);\n  });\n\n  FBInstant.onPause(() => {\n    soundPause();\n  });\n}\n\nexport function fbGetLoginInfo(cb) {\n  onready(() => {\n    window.FBInstant.player.getSignedPlayerInfoAsync().then((result) => {\n      if (cb) {\n        cb(null, {\n          signature: result.getSignature(),\n          display_name: window.FBInstant.player.getName(),\n        });\n        cb = null;\n      }\n    }).catch((err) => {\n      if (cb) {\n        cb(err);\n        cb = null;\n      }\n    });\n  });\n}\n\nlet fb_friends = {};\n// Returns a display name if the user_id is a Facebook friend\nexport function fbFriendName(user_id) {\n  return fb_friends[user_id];\n}\n\n// Expects an array of valid user IDs:\n// cb(null, ['fb$1234', 'fb$4567']);\nexport function fbGetFriends(cb) {\n  onready(() => {\n    window.FBInstant.player.getConnectedPlayersAsync().then((players) => {\n      let list = players.map((player) => {\n        let user_id = `fb$${player.getID()}`;\n        fb_friends[user_id] = player.getName();\n        return user_id;\n      });\n      if (cb) {\n        cb(null, list);\n        cb = null;\n      }\n    }).catch((err) => {\n      if (cb) {\n        cb(err);\n        cb = null;\n      }\n    });\n  });\n}\n","const assert = require('assert');\n\nlet by_ext = {};\nlet by_match = [];\n\n// cb(filename)\nexport function filewatchOn(ext_or_search, cb) {\n  if (ext_or_search[0] === '.') {\n    assert(!by_ext[ext_or_search]);\n    by_ext[ext_or_search] = cb;\n  } else {\n    by_match.push([ext_or_search, cb]);\n  }\n}\n\nlet message_cb;\n// cb(message)\nexport function filewatchMessageHandler(cb) {\n  message_cb = cb;\n}\n\nfunction onFileChange(filename) {\n  console.log(`FileWatch change: ${filename}`);\n  let ext_idx = filename.lastIndexOf('.');\n  let did_reload = false;\n  if (ext_idx !== -1) {\n    let ext = filename.slice(ext_idx);\n    if (by_ext[ext]) {\n      if (by_ext[ext](filename) !== false) {\n        did_reload = true;\n      }\n    }\n  }\n  for (let ii = 0; ii < by_match.length; ++ii) {\n    if (filename.match(by_match[ii][0])) {\n      if (by_match[ii][1](filename) !== false) {\n        did_reload = true;\n      }\n    }\n  }\n  if (message_cb && did_reload) {\n    message_cb(`Reloading: ${filename}`);\n  }\n}\n\nexport function filewatchTriggerChange(filename) {\n  onFileChange(filename);\n}\n\nexport function filewatchStartup(client) {\n  client.onMsg('filewatch', onFileChange);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off, complexity:off, no-shadow:off */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst { floor, max, round } = Math;\n// const settings = require('./settings.js');\nconst shaders = require('./shaders.js');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { clamp } = require('../../common/util.js');\nconst { vec4, v4clone, v4scale } = require('./vmath.js');\n\n/*\n\nfont_style = glov_font.style(null, {\n  color: 0xFFFFFFff,\n  outline_width: 0,\n  outline_color: 0x00000000,\n  glow_xoffs: 0,\n  glow_yoffs: 0,\n  glow_inner: 0,\n  glow_outer: 0,\n  glow_color: 0x000000ff,\n});\n\n */\n\n// typedef struct FontCharInfo {\n//   int c;\n//   float x0;\n//   float y0;\n//   int w;\n//   int h;\n//   int imgIdx;\n// } FontCharInfo;\n\n// typedef struct FontInfo {\n//   AS_NAME(CharInfo) FontCharInfo **char_infos;\n//   int font_size;\n//   float x0;\n//   float y0;\n//   int imageW;\n//   int imageH;\n//   int spread;\n// } FontInfo;\n\nexport const COLOR_MODE = {\n  SINGLE: 0,\n  GRADIENT: 1,\n};\n\nexport const ALIGN = {\n  HLEFT: 0,\n  HCENTER: 1,\n  HRIGHT: 2,\n  HMASK: 3,\n\n  VTOP: 0 << 2,\n  VCENTER: 1 << 2,\n  VBOTTOM: 2 << 2,\n  VMASK: 3 << 2,\n\n  HFIT: 1 << 4,\n  HWRAP: 1 << 5, // only for glovMarkup*, not drawSizedAligned below, use drawSizedWrapped below instead\n\n  HCENTERFIT: 1 | (1 << 4),\n  HVCENTER: 1 | (1 << 2), // to avoid doing bitwise ops elsewhere\n  HVCENTERFIT: 1 | (1 << 2) | (1 << 4), // to avoid doing bitwise ops elsewhere\n};\n\n\n// typedef struct GlovFontStyle\n// {\n//   // These members will never be changed (safe to initialize with GlovFontStyle foo = {1.0, 0xfff, etc};\n//   float outline_width;\n//   U32 outline_color;\n//   // Glow: can be used for a dropshadow as well\n//   //   inner can be negative to have the glow be less opaque (can also just change the alpha of the glow color)\n//   //   a glow would be e.g. (0, 0, -1, 5)\n//   //   a dropshadow would be e.g. (3.25, 3.25, -2.5, 5)\n//   float glow_xoffs;\n//   float glow_yoffs;\n//   float glow_inner;\n//   float glow_outer;\n//   U32 glow_color;\n//   U32 color; // upper left, or single color\n//   U32 colorUR; // upper right\n//   U32 colorLR; // lower right\n//   U32 colorLL; // lower left\n//   GlovFontColorMode color_mode;\n// } GlovFontStyle;\n\n/* Default GlovFontStyle:\n  font_style = {\n    outline_width: 0, outline_color: 0x00000000,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: 0x00000000,\n    color: 0xFFFFFFff\n  };\n\n  font_style = {\n    outline_width: 0, outline_color: 0x00000000,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: 0x00000000,\n    // Color gradient: UL, UR, LR, LL\n    color: 0xFFFFFFff, colorUR: 0xFFFFFFff, colorLR: 0x000000ff, colorLL: 0x000000ff,\n    color_mode: glov_font.COLOR_MODE.GRADIENT,\n  };\n*/\n\nfunction GlovFontStyle() {\n  this.color_vec4 = vec4(1,1,1,1); // Matches GlovFontStyle.prototype.color below\n}\nGlovFontStyle.prototype.outline_width = 0;\nGlovFontStyle.prototype.outline_color = 0x00000000;\nGlovFontStyle.prototype.glow_xoffs = 0;\nGlovFontStyle.prototype.glow_yoffs = 0;\nGlovFontStyle.prototype.glow_inner = 0;\nGlovFontStyle.prototype.glow_outer = 0;\nGlovFontStyle.prototype.glow_color = 0x00000000;\nGlovFontStyle.prototype.color = 0xFFFFFFff;\nGlovFontStyle.prototype.colorUR = 0;\nGlovFontStyle.prototype.colorLR = 0;\nGlovFontStyle.prototype.colorLL = 0;\nGlovFontStyle.prototype.color_mode = COLOR_MODE.SINGLE;\n\nexport const font_shaders = {};\n\nexport function intColorFromVec4Color(v) {\n  return ((v[0] * 255 | 0) << 24) |\n    ((v[1] * 255 | 0) << 16) |\n    ((v[2] * 255 | 0) << 8) |\n    ((v[3] * 255 | 0));\n}\n\nexport function vec4ColorFromIntColor(v, c) {\n  v[0] = ((c >> 24) & 0xFF) / 255;\n  v[1] = ((c >> 16) & 0xFF) / 255;\n  v[2] = ((c >> 8) & 0xFF) / 255;\n  v[3] = (c & 0xFF) / 255;\n}\n\nexport const glov_font_default_style = new GlovFontStyle();\n\nexport function style(font_style, fields) {\n  let ret = new GlovFontStyle();\n  let { color_vec4 } = ret;\n  if (font_style) {\n    for (let f in font_style) {\n      ret[f] = font_style[f];\n    }\n  }\n  for (let f in fields) {\n    ret[f] = fields[f];\n  }\n  ret.color_vec4 = color_vec4; // Restore\n  vec4ColorFromIntColor(ret.color_vec4, ret.color);\n  return ret;\n}\n\nexport function styleColored(font_style, color) {\n  return style(font_style, {\n    color\n  });\n}\n\nfunction colorAlpha(color, alpha) {\n  alpha = clamp(round((color & 0xFF) * alpha), 0, 255);\n  return color & 0xFFFFFF00 | alpha;\n}\n\nexport function styleAlpha(font_style, alpha) {\n  return style(font_style, {\n    color: colorAlpha((font_style || glov_font_default_style).color, alpha),\n    outline_color: colorAlpha((font_style || glov_font_default_style).outline_color, alpha),\n    glow_color: colorAlpha((font_style || glov_font_default_style).glow_color, alpha),\n  });\n}\n\nlet tech_params = null;\nlet tech_params_dirty = false;\nlet temp_color = null;\n\nfunction createTechniqueParameters() {\n  if (tech_params) {\n    return;\n  }\n\n  tech_params = {\n    param0: vec4(),\n    outlineColor: vec4(),\n    glowColor: vec4(),\n    glowParams: vec4(),\n    tex0: null\n  };\n  if (!temp_color) {\n    temp_color = vec4();\n  }\n}\n\nfunction techParamsSet(param, value) {\n  let tpv = tech_params[param];\n  // not dirty, if anything changes, we need a new object!\n  if (!tech_params_dirty) {\n    if (tpv[0] !== value[0] || tpv[1] !== value[1] || tpv[2] !== value[2] || tpv[3] !== value[3]) {\n      // clone\n      tech_params = {\n        param0: v4clone(tech_params.param0),\n        outlineColor: v4clone(tech_params.outlineColor),\n        glowColor: v4clone(tech_params.glowColor),\n        glowParams: v4clone(tech_params.glowParams),\n      };\n      tech_params_dirty = true;\n      tpv = tech_params[param];\n    } else {\n      // identical, do nothing\n      return;\n    }\n  }\n  if (tech_params_dirty) {\n    // just set\n    tpv[0] = value[0];\n    tpv[1] = value[1];\n    tpv[2] = value[2];\n    tpv[3] = value[3];\n    // return;\n  }\n}\n\nfunction techParamsGet() {\n  tech_params_dirty = false;\n  return tech_params;\n}\n\nfunction GlovFont(font_info, texture_name) {\n  assert(font_info.font_size !== 0); // Got lost somewhere\n\n  this.texture = textures.load({\n    url: `img/${texture_name}.png`,\n    filter_min: font_info.noFilter ? gl.NEAREST : gl.LINEAR,\n    filter_mag: font_info.noFilter ? gl.NEAREST : gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n  });\n  this.textures = [this.texture];\n\n  this.font_info = font_info;\n  this.shader = font_shaders.font_aa;\n  this.tex_w = font_info.imageW;\n  this.tex_h = font_info.imageH;\n\n  // Calculate inverse scale, fixup 0s\n  for (let ii = 0; ii < font_info.char_infos.length; ++ii) {\n    let char_info = font_info.char_infos[ii];\n    char_info.scale = 1 / (char_info.sc || 1);\n    char_info.w = char_info.w || 0;\n  }\n\n  // build lookup\n  this.char_infos = [];\n  for (let ii = 0; ii < font_info.char_infos.length; ++ii) {\n    let char_info = font_info.char_infos[ii];\n    this.char_infos[font_info.char_infos[ii].c] = char_info;\n    char_info.xpad = char_info.xpad || 0;\n    char_info.yoffs = char_info.yoffs || 0;\n  }\n  this.replacement_character = this.infoFromChar(0xFFFD);\n  if (!this.replacement_character) {\n    this.replacement_character = this.infoFromChar(63); // '?'\n  }\n\n  this.default_style = new GlovFontStyle();\n  this.applied_style = new GlovFontStyle();\n\n  createTechniqueParameters();\n}\n\n// General draw functions return width\n// Pass NULL for style to use default style\n// If the function takes a color, this overrides the color on the style\nGlovFont.prototype.drawSizedColor = function (style, x, y, z, size, color, text) {\n  return this.drawSized(styleColored(style, color), x, y, z, size, text);\n};\nGlovFont.prototype.drawSized = function (style, x, y, z, size, text) {\n  return this.drawScaled(style, x, y, z, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\n\nGlovFont.prototype.drawSizedAligned = function (style, _x, _y, z, size, align, w, h, text) {\n  let x_size = size;\n  let y_size = size;\n  let width = this.getStringWidth(style, x_size, text);\n  if ((align & ALIGN.HFIT) && width > w) {\n    let scale = w / width;\n    x_size *= scale;\n    width = w;\n    // Additionally, if we're really squishing things horizontally, shrink the font size\n    // and offset to be centered.\n    if (scale < 0.5) {\n      if ((align & ALIGN.VMASK) !== ALIGN.VCENTER && (align & ALIGN.VMASK) !== ALIGN.VBOTTOM) {\n        // Offset to be roughly centered in the original line bounds\n        _y += (y_size - (y_size * scale * 2)) / 2;\n      }\n      y_size *= scale * 2;\n    }\n  }\n  let height = y_size;\n  let x;\n  let y;\n  switch (align & ALIGN.HMASK) {\n    case ALIGN.HCENTER:\n      x = _x + (w - width) / 2;\n      if (this.font_info.noFilter) {\n        x |= 0; // ensure integral\n      }\n      break;\n    case ALIGN.HRIGHT:\n      x = _x + w - width;\n      break;\n    case ALIGN.HLEFT:\n      x = _x;\n      break;\n    default:\n      x = _x;\n  }\n  switch (align & ALIGN.VMASK) {\n    case ALIGN.VCENTER:\n      y = _y + (h - height) / 2;\n      if (this.font_info.noFilter) {\n        y |= 0; // ensure integral\n      }\n      break;\n    case ALIGN.VBOTTOM:\n      y = _y + h - height;\n      break;\n    case ALIGN.VTOP:\n      y = _y;\n      break;\n    default:\n      y = _y;\n  }\n\n  return this.drawScaled(style, x, y, z, x_size / this.font_info.font_size, y_size / this.font_info.font_size, text);\n};\n\n// returns height\nGlovFont.prototype.drawSizedColorWrapped = function (style, x, y, z, w, indent, size, color, text) {\n  return this.drawScaledWrapped(styleColored(style, color), x, y, z, w,\n    indent, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\nGlovFont.prototype.drawSizedWrapped = function (style, x, y, z, w, indent, size, text) {\n  return this.drawScaledWrapped(style, x, y, z, w,\n    indent, size / this.font_info.font_size, size / this.font_info.font_size, text);\n};\n\nGlovFont.prototype.wrapLines = function (w, indent, size, text, word_cb /*(x, int linenum, const char *word)*/) {\n  return this.wrapLinesScaled(w, indent, size / this.font_info.font_size, text, word_cb);\n};\n\nGlovFont.prototype.numLines = function (style, w, indent, size, text) {\n  this.applyStyle(style);\n  let numlines = 0;\n  function wordCallback(ignored, linenum, word) {\n    numlines = max(numlines, linenum);\n  }\n  this.wrapLines(w, indent, size, text, wordCallback);\n  return numlines + 1;\n};\n\nGlovFont.prototype.infoFromChar = function (c) {\n  let ret = this.char_infos[c];\n  if (ret) {\n    return ret;\n  }\n  if (c > 127) {\n    // no char info, and non-ascii, non-control code\n    return this.replacement_character;\n  }\n  return null;\n};\n\nGlovFont.prototype.getCharacterWidth = function (style, x_size, c) {\n  assert.equal(typeof c, 'number');\n  this.applyStyle(style);\n  let char_info = this.infoFromChar(c);\n  let xsc = x_size / this.font_info.font_size;\n  let x_advance = this.calcXAdvance(xsc);\n  if (char_info) {\n    return (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n  }\n  return 0;\n};\n\nGlovFont.prototype.getStringWidth = function (style, x_size, text) {\n  this.applyStyle(style);\n  let ret=0;\n  let xsc = x_size / this.font_info.font_size;\n  let x_advance = this.calcXAdvance(xsc);\n  for (let ii = 0; ii < text.length; ++ii) {\n    let c = text.charCodeAt(ii);\n    let char_info = this.infoFromChar(c);\n    if (!char_info) {\n      char_info = this.infoFromChar(13);\n    }\n    if (char_info) {\n      ret += (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n    }\n  }\n  return ret;\n};\n\n// word_cb(x, int linenum, const char *word)\nGlovFont.prototype.wrapLinesScaled = function (w, indent, xsc, text, word_cb) {\n  let len = text.length;\n  let s = 0;\n  let word_start = 0;\n  let word_x0 = 0;\n  let x = word_x0;\n  let linenum = 0;\n  let space_info = this.infoFromChar(32); // ' '\n  let space_size = (space_info ? space_info.w + space_info.xpad : this.font_info.font_size) * xsc;\n  let hard_wrap = false;\n  let x_advance = this.calcXAdvance(xsc);\n\n  do {\n    let c = s < len ? text.charCodeAt(s) || 0xFFFD : 0;\n    let newx = x;\n    let char_w;\n    let char_info = this.infoFromChar(c);\n    if (!char_info) {\n      char_info = this.infoFromChar(10);\n    }\n    if (char_info) {\n      char_w = (char_info.w + char_info.xpad) * xsc * char_info.scale + x_advance;\n      newx = x + char_w;\n    }\n    if (newx >= w && hard_wrap) {\n      // flush the word so far!\n      if (word_cb) {\n        word_cb(word_x0, linenum, text.slice(word_start, s));\n      }\n      word_start = s;\n      word_x0 = indent;\n      x = word_x0 + char_w;\n      linenum++;\n    } else {\n      x = newx;\n    }\n    if (!(c === 32 /*' '*/ || c === 0 || c === 10 /*'\\n'*/ || c === 9)) {\n      s++;\n      c = s < len ? text.charCodeAt(s) || 0xFFFD : 0;\n    }\n    if (c === 32 /*' '*/ || c === 0 || c === 10 /*'\\n'*/ || c === 9) {\n      hard_wrap = false;\n      // draw word until s\n      if (x > w) {\n        // maybe wrap\n        let word_width = x - word_x0;\n        if (word_width > w - indent) {\n          // not going to fit, split it up!\n          hard_wrap = true;\n          // recover and restart at word start\n          s = word_start;\n          x = word_x0;\n          continue;\n        } else {\n          word_x0 = indent;\n          x = word_x0 + word_width;\n          linenum++;\n        }\n      }\n      if (word_cb) {\n        word_cb(word_x0, linenum, text.slice(word_start, s));\n      }\n      word_start = s+1;\n      if (c === 10 /*'\\n'*/) {\n        x = indent;\n        linenum++;\n      } else if (c === 9 /*'\\t'*/) {\n        let tabsize = xsc * this.font_info.font_size * 2;\n        x = (floor(x / tabsize) + 1) * tabsize;\n      } else {\n        x += space_size;\n      }\n      word_x0 = x;\n      if (c === 32 /*' '*/ || c === 10 /*'\\n'*/ || c === 9) {\n        s++; // advance past space\n      }\n    }\n  } while (s < len);\n  ++linenum;\n  return linenum;\n};\n\nGlovFont.prototype.drawScaledWrapped = function (style, x, y, z, w, indent, xsc, ysc, text) {\n  if (text === null || text === undefined) {\n    text = '(null)';\n  }\n  this.applyStyle(style);\n  this.last_width = 0;\n  let num_lines = this.wrapLinesScaled(w, indent, xsc, text, (xoffs, linenum, word) => {\n    let y2 = y + this.font_info.font_size * ysc * linenum;\n    let x2 = x + xoffs;\n    let word_w = this.drawScaled(style, x2, y2, z, xsc, ysc, word);\n    this.last_width = max(this.last_width, xoffs + word_w);\n  });\n  return num_lines * this.font_info.font_size * ysc;\n};\n\nGlovFont.prototype.calcXAdvance = function (xsc) {\n  // Assume called: applyStyle(style);\n\n  // scale all supplied values by this so that if we swap in a font with twice the resolution (and twice the spread)\n  //   things look almost identical, just crisper\n  let font_texel_scale = this.font_info.font_size / 32;\n  // As a compromise, -2 bias here seems to work well\n  let x_advance = xsc * font_texel_scale * max(this.applied_style.outline_width - 2, 0);\n  // As a compromise, there's a -3 bias in there, so it only kicks in under extreme circumstances\n  x_advance = max(x_advance, xsc * font_texel_scale *\n    max(this.applied_style.glow_outer - this.applied_style.glow_xoffs - 3, 0));\n  return x_advance;\n};\n\n//////////////////////////////////////////////////////////////////////////\n// Main implementation\n\nGlovFont.prototype.drawScaled = function (style, _x, y, z, xsc, ysc, text) {\n  let x = _x;\n  assert(isFinite(x));\n  assert(isFinite(y));\n  assert(isFinite(z));\n  let font_info = this.font_info;\n  // Debug: show expect area of glyphs\n  // require('./ui.js').drawRect(_x, y,\n  //   _x + xsc * font_info.font_size * 20, y + ysc * font_info.font_size,\n  //   1000, [1, 0, 1, 0.5]);\n  y += (font_info.y_offset || 0) * ysc;\n  let texs = this.textures;\n  if (text === null || text === undefined) {\n    text = '(null)';\n  }\n  const len = text.length;\n  if (xsc === 0 || ysc === 0) {\n    return 0;\n  }\n\n  this.applyStyle(style);\n\n  const avg_scale_font = (xsc + ysc) * 0.5;\n  const camera_xscale = camera2d.data[4];\n  const camera_yscale = camera2d.data[5];\n  let avg_scale_combined = (xsc * camera_xscale + ysc * camera_yscale) * 0.5;\n  // Not doing this here, because render_scale_all is not currently reflected in camera_x/yscale\n  // avg_scale_combined *= settings.render_scale_all;\n\n  // scale all supplied values by this so that if we swap in a font with twice the resolution (and twice the spread)\n  //   things look almost identical, just crisper\n  let x_advance = this.calcXAdvance(xsc);\n  let font_texel_scale = font_info.font_size / 32;\n  let tile_state = 0;\n\n  let applied_style = this.applied_style;\n\n  // Calculate anti-aliasing values\n  let delta_per_source_pixel = 0.5 / font_info.spread;\n  let delta_per_dest_pixel = delta_per_source_pixel / avg_scale_combined;\n  let value = vec4(\n    1 / delta_per_dest_pixel, // AA Mult and Outline Mult\n    -0.5 / delta_per_dest_pixel + 0.5, // AA Add\n    // Outline Add\n    -0.5 / delta_per_dest_pixel + 0.5 + applied_style.outline_width*font_texel_scale*avg_scale_combined,\n    0, // Unused\n  );\n  if (value[2] > 0) {\n    value[2] = 0;\n  }\n  let padding1 = max(0, applied_style.outline_width*font_texel_scale*avg_scale_font);\n  let padding4 = vec4();\n  const outer_scaled = applied_style.glow_outer*font_texel_scale;\n  padding4[0] = max(outer_scaled*xsc - applied_style.glow_xoffs*font_texel_scale*xsc, padding1);\n  padding4[2] = max(outer_scaled*xsc + applied_style.glow_xoffs*font_texel_scale*xsc, padding1);\n  padding4[1] = max(outer_scaled*ysc - applied_style.glow_yoffs*font_texel_scale*ysc, padding1);\n  padding4[3] = max(outer_scaled*ysc + applied_style.glow_yoffs*font_texel_scale*ysc, padding1);\n\n  techParamsSet('param0', value);\n  let value2 = vec4(\n    0, // filled later\n    0, // filled later\n    // Glow mult\n    1 / ((applied_style.glow_outer - applied_style.glow_inner) * delta_per_source_pixel * font_texel_scale),\n    -(0.5 - applied_style.glow_outer * delta_per_source_pixel * font_texel_scale) / ((applied_style.glow_outer -\n      applied_style.glow_inner) * delta_per_source_pixel * font_texel_scale)\n  );\n  if (value2[3] > 0) {\n    value2[3] = 0;\n  }\n\n  let padding_in_font_space = vec4();\n  v4scale(padding_in_font_space, padding4, 1 / avg_scale_font);\n  for (let ii = 0; ii < 4; ++ii) {\n    if (padding_in_font_space[ii] > font_info.spread) {\n      // Not enough buffer\n      let sc = font_info.spread / padding_in_font_space[ii];\n      padding4[ii] *= sc;\n      padding_in_font_space[ii] *= sc;\n    }\n  }\n\n  // Choose appropriate z advance so that character are drawn left to right (or RTL if the glow is on the other side)\n  const z_advance = applied_style.glow_xoffs < 0 ? -0.0001 : 0.0001;\n\n\n  // For non-1:1 aspect ration rendering, need to scale our coordinates' padding differently in each axis\n  let rel_x_scale = xsc / avg_scale_font;\n  let rel_y_scale = ysc / avg_scale_font;\n\n  for (let i=0; i<len; i++) {\n    const c = text.charCodeAt(i);\n    if (c === 9) { // '\\t'.charCodeAt(0)) {\n      let tabsize = xsc * font_info.font_size * 4;\n      x = ((((x - _x) / tabsize) | 0) + 1) * tabsize + _x;\n    } else {\n      let char_info = this.infoFromChar(c);\n      if (!char_info) {\n        char_info = this.infoFromChar(13);\n      }\n      if (char_info) {\n        let char_scale = char_info.scale;\n        let xsc2 = xsc * char_scale;\n        if (char_info.w) {\n          let ysc2 = ysc * char_scale;\n          let pad_scale = 1 / char_scale;\n          let tile_width = this.tex_w;\n          let tile_height = this.tex_h;\n          // Lazy update params here\n          if (char_scale !== tile_state) {\n            value2[0] = -applied_style.glow_xoffs * font_texel_scale * pad_scale / tile_width;\n            value2[1] = -applied_style.glow_yoffs * font_texel_scale * pad_scale / tile_height;\n            techParamsSet('glowParams', value2);\n          }\n\n          let u0 = (char_info.x0 - padding_in_font_space[0] * pad_scale) / tile_width;\n          let u1 = (char_info.x0 + char_info.w + padding_in_font_space[2] * pad_scale) / tile_width;\n          let v0 = (char_info.y0 - padding_in_font_space[1] * pad_scale) / tile_height;\n          let v1 = (char_info.y0 + char_info.h + padding_in_font_space[3] * pad_scale) / tile_height;\n\n          let w = char_info.w * xsc2 + (padding4[0] + padding4[2]) * rel_x_scale;\n          let h = char_info.h * ysc2 + (padding4[1] + padding4[3]) * rel_y_scale;\n\n          sprites.queueraw(\n            texs,\n            x - rel_x_scale * padding4[0], y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n            z + z_advance * i, w, h,\n            u0, v0, u1, v1,\n            applied_style.color_vec4,\n            this.shader, techParamsGet());\n\n          // require('./ui.js').drawRect(x - rel_x_scale * padding4[0],\n          //   y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n          //   w + x - rel_x_scale * padding4[0],\n          //   h + y - rel_y_scale * padding4[2] + char_info.yoffs * ysc2,\n          //   1000, [i & 1, (i & 2)>>1, (i & 4)>>2, 0.5]);\n        }\n\n        x += (char_info.w + char_info.xpad) * xsc2 + x_advance;\n      }\n    }\n  }\n  return x - _x;\n};\n\nGlovFont.prototype.determineShader = function () {\n  let outline = this.applied_style.outline_width && (this.applied_style.outline_color & 0xff);\n  let glow = this.applied_style.glow_outer > 0 && (this.applied_style.glow_color & 0xff);\n  if (outline) {\n    if (glow) {\n      this.shader = font_shaders.font_aa_outline_glow;\n    } else {\n      this.shader = font_shaders.font_aa_outline;\n    }\n  } else if (glow) {\n    this.shader = font_shaders.font_aa_glow;\n  } else {\n    this.shader = font_shaders.font_aa;\n  }\n};\n\nGlovFont.prototype.applyStyle = function (style) {\n  if (!style) {\n    style = this.default_style;\n  }\n  // outline\n  vec4ColorFromIntColor(temp_color, style.outline_color);\n  techParamsSet('outlineColor', temp_color);\n\n  // glow\n  vec4ColorFromIntColor(temp_color, style.glow_color);\n  techParamsSet('glowColor', temp_color);\n\n  // everything else\n  this.applied_style.outline_width = style.outline_width;\n  this.applied_style.outline_color = style.outline_color;\n  this.applied_style.glow_xoffs = style.glow_xoffs;\n  this.applied_style.glow_yoffs = style.glow_yoffs;\n  this.applied_style.glow_inner = style.glow_inner;\n  this.applied_style.glow_outer = style.glow_outer;\n  this.applied_style.glow_color = style.glow_color;\n  this.applied_style.color = style.color;\n  this.applied_style.color_vec4 = style.color_vec4;\n  this.applied_style.colorUR = style.colorUR;\n  this.applied_style.colorLR = style.colorLR;\n  this.applied_style.colorLL = style.colorLL;\n  this.applied_style.color_mode = style.color_mode;\n\n  if (this.applied_style.color_mode === COLOR_MODE.SINGLE) {\n    this.applied_style.colorUR = this.applied_style.colorLL = this.applied_style.colorLR = this.applied_style.color;\n  }\n\n  this.determineShader();\n};\n\n// Replicate constants and utility functions on all font instances as well\nGlovFont.prototype.COLOR_MODE = COLOR_MODE;\nGlovFont.prototype.ALIGN = ALIGN;\nGlovFont.prototype.style = style;\nGlovFont.prototype.styleAlpha = styleAlpha;\nGlovFont.prototype.styleColored = styleColored;\n\nfunction fontShadersInit() {\n  if (font_shaders.font_aa) {\n    return;\n  }\n  font_shaders.font_aa = shaders.create('glov/shaders/font_aa.fp');\n  font_shaders.font_aa_glow = shaders.create('glov/shaders/font_aa_glow.fp');\n  font_shaders.font_aa_outline = shaders.create('glov/shaders/font_aa_outline.fp');\n  font_shaders.font_aa_outline_glow = shaders.create('glov/shaders/font_aa_outline_glow.fp');\n}\n\nexport function create(font_info, texture_name) {\n  fontShadersInit();\n  return new GlovFont(font_info, texture_name);\n}\n","const assert = require('assert');\nconst { is_ios } = require('./browser.js');\nconst { cmd_parse } = require('./cmds.js');\nconst { applyCopy } = require('./effects.js');\nconst engine = require('./engine.js');\nconst { renderWidth, renderHeight } = engine;\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst textures = require('./textures.js');\n\nlet last_num_passes = 0;\nlet num_passes = 0;\n\nlet temporary_textures = {};\nlet temporary_depthbuffers = {};\n\nlet reset_fbos = false;\nfunction resetFBOs() {\n  reset_fbos = true;\n}\n\nlet last_temp_idx = 0;\nfunction getTemporaryTexture(w, h, possibly_fbo) {\n  let key = `${w}_${h}`;\n  let is_fbo = possibly_fbo && settings.use_fbos;\n  if (is_fbo) {\n    key += '_fbo';\n  }\n  let temp = temporary_textures[key];\n  if (!temp) {\n    temp = temporary_textures[key] = { list: [], idx: 0 };\n  }\n  if (temp.idx >= temp.list.length) {\n    let tex = textures.createForCapture(`temp_${key}_${++last_temp_idx}`);\n    if (is_fbo) {\n      tex.allocFBO(w, h);\n    }\n    temp.list.push(tex);\n  }\n  let tex = temp.list[temp.idx++];\n  return tex;\n}\n\nfunction bindTemporaryDepthbuffer(w, h) {\n  let key = `${w}_${h}`;\n  let temp = temporary_depthbuffers[key];\n  if (!temp) {\n    temp = temporary_depthbuffers[key] = { list: [], idx: 0 };\n  }\n  if (temp.idx >= temp.list.length) {\n    let depth_buffer = gl.createRenderbuffer();\n    gl.bindRenderbuffer(gl.RENDERBUFFER, depth_buffer);\n    let attachment;\n    if (settings.fbo_depth16) {\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, w, h);\n      attachment = gl.DEPTH_ATTACHMENT;\n    } else {\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w, h);\n      attachment = gl.DEPTH_STENCIL_ATTACHMENT;\n    }\n    gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n    temp.list.push({ depth_buffer, attachment });\n  }\n  let { depth_buffer, attachment } = temp.list[temp.idx++];\n  gl.framebufferRenderbuffer(gl.FRAMEBUFFER, attachment, gl.RENDERBUFFER, depth_buffer);\n}\n\nexport function temporaryTextureClaim(tex) {\n  for (let key in temporary_textures) {\n    let temp = temporary_textures[key];\n    let idx = temp.list.indexOf(tex);\n    if (idx !== -1) {\n      temp.list.splice(idx, 1);\n      if (temp.idx > idx) {\n        --temp.idx;\n      }\n      return;\n    }\n  }\n  assert(false);\n}\n\n// Call tex.captureEnd when done\nfunction framebufferCaptureStart(tex, w, h, possibly_fbo) {\n  assert.equal(engine.viewport[0], 0); // maybe allow/require setting viewport *after* starting capture instead?\n  assert.equal(engine.viewport[1], 0);\n  if (!w) {\n    w = renderWidth();\n    h = renderHeight();\n  }\n  if (!tex) {\n    tex = getTemporaryTexture(w, h, possibly_fbo);\n  }\n  tex.captureStart(w, h);\n  return tex;\n}\n\n// Does a capture directly from the framebuffer regardless of current use_fbos setting\n// Warning: Slow on iOS\nexport function framebufferCapture(tex, w, h, filter_linear, wrap) {\n  tex = framebufferCaptureStart(tex, w, h, false);\n  tex.captureEnd(filter_linear, wrap);\n  return tex;\n}\n\n\nlet cur_tex;\nexport function framebufferStart(opts) {\n  assert(!cur_tex);\n  let { width, height, viewport, final, clear, need_depth, clear_all, clear_color, force_tex } = opts;\n  ++num_passes;\n  if (force_tex) {\n    assert(viewport);\n    cur_tex = force_tex;\n    cur_tex.captureStart();\n  } else if (!final) {\n    cur_tex = framebufferCaptureStart(null, width, height, true);\n    if (settings.use_fbos) {\n      if (need_depth) {\n        bindTemporaryDepthbuffer(width, height);\n      } else {\n        // testing: force unbind, in case one was left bound\n        // gl.framebufferRenderbuffer(gl.FRAMEBUFFER, settings.fbo_depth16 ?\n        //   gl.DEPTH_ATTACHMENT : gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, null);\n      }\n    }\n  }\n  if (clear_color) {\n    gl.clearColor(clear_color[0], clear_color[1], clear_color[2], clear_color[3]);\n  }\n  if (clear && clear_all) {\n    // full clear, before setting viewport\n    gl.disable(gl.SCISSOR_TEST);\n    gl.clear(gl.COLOR_BUFFER_BIT | (need_depth ? gl.DEPTH_BUFFER_BIT : 0));\n  }\n  let need_scissor;\n  if (viewport) {\n    engine.setViewport(viewport);\n    need_scissor = viewport[0] || viewport[1] || viewport[2] !== engine.width || viewport[3] !== engine.height;\n    if (clear_all) { // not sure this logically follows, but we want this anywhere we're clearing all currently\n      need_scissor = false;\n    }\n  } else {\n    engine.setViewport([0, 0, width, height]);\n    need_scissor = width !== engine.width;\n  }\n  if (need_scissor && !settings.use_fbos) {\n    gl.enable(gl.SCISSOR_TEST);\n    if (viewport) {\n      gl.scissor(viewport[0], viewport[1], viewport[2], viewport[3]);\n    } else {\n      gl.scissor(0, 0, width, height);\n    }\n  } else {\n    gl.disable(gl.SCISSOR_TEST);\n  }\n  if (clear && !clear_all) {\n    gl.clear(gl.COLOR_BUFFER_BIT | (need_depth ? gl.DEPTH_BUFFER_BIT : 0));\n  }\n}\n\nexport function framebufferEnd(opts) {\n  assert(cur_tex);\n  opts = opts || {};\n  let { filter_linear, wrap } = opts;\n\n  cur_tex.captureEnd(filter_linear, wrap);\n\n  let ret = cur_tex;\n  cur_tex = null;\n  return ret;\n}\n\nexport function framebufferTopOfFrame() {\n  // In case of crash on previous frame\n  cur_tex = null;\n}\n\nexport function framebufferEndOfFrame() {\n  assert(!cur_tex);\n  last_num_passes = num_passes;\n  num_passes = 0;\n\n  for (let key in temporary_textures) {\n    let temp = temporary_textures[key];\n    if (reset_fbos) {\n      // Release all textures\n      temp.idx = 0;\n    }\n    // Release unused textures\n    while (temp.list.length > temp.idx) {\n      temp.list.pop().destroy();\n    }\n    if (!temp.idx) {\n      delete temporary_textures[key];\n    } else {\n      temp.idx = 0;\n    }\n  }\n  for (let key in temporary_depthbuffers) {\n    let temp = temporary_depthbuffers[key];\n    if (reset_fbos) {\n      // Release all renderbuffers\n      temp.idx = 0;\n    }\n    // Release unused renderbuffers\n    while (temp.list.length > temp.idx) {\n      let { depth_buffer } = temp.list.pop();\n      // TODO: can this still be bound to a framebuffer? unlikely, but possible?\n      gl.deleteRenderbuffer(depth_buffer);\n    }\n    if (!temp.idx) {\n      delete temporary_depthbuffers[key];\n    } else {\n      temp.idx = 0;\n    }\n  }\n  reset_fbos = false;\n}\n\nexport function framebufferUpdateCanvasForCapture() {\n  if (cur_tex && settings.use_fbos) {\n    let saved_tex = cur_tex;\n    let saved_viewport = engine.viewport.slice(0);\n    // copy to canvas\n    framebufferEnd();\n    applyCopy({\n      source: saved_tex,\n      final: true,\n      viewport: saved_viewport,\n    });\n    // resume rendering to framebuffer\n    framebufferStart({\n      force_tex: saved_tex,\n      viewport: saved_viewport,\n    });\n    return saved_tex; // just for .width/height\n  } else {\n    return { width: engine.viewport[2], height: engine.viewport[3] };\n  }\n}\n\nsettings.register({\n  show_passes: {\n    label: 'Show Postprocessing Passes',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  use_fbos: {\n    label: 'Use Framebuffer Objects for postprocessing',\n    default_value: is_ios ? 1 : 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    ver: 1,\n  },\n  fbo_depth16: { // This had no effect on performance, tested on iPhone, Xperia or Intel GPU\n    label: 'Use 16-bit depth buffers for offscreen rendering',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    on_change: resetFBOs,\n  },\n  fbo_rgba: { // This had no effect on performance, tested on iPhone, Xperia or Intel GPU\n    label: 'Use RGBA color buffers for offscreen rendering',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n    on_change: resetFBOs,\n  },\n});\n\nperf.addMetric({\n  name: 'passes',\n  show_stat: 'show_passes',\n  labels: {\n    'passes: ': () => last_num_passes.toString(),\n  },\n});\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\nconst { cmd_parse } = require('./cmds.js');\nconst {\n  FRIEND_ADDED,\n  FRIEND_ADDED_AUTO,\n  FRIEND_REMOVED,\n  PRESENCE_ACTIVE,\n  PRESENCE_INACTIVE,\n  PRESENCE_OFFLINE,\n} = require('../../common/enums.js');\nconst { fbGetFriends } = require('./fbinstant.js');\nconst input = require('./input.js');\nconst net = require('./net.js');\nconst { deepEqual } = require('../../common/util.js');\n\nconst IDLE_TIME = 60000;\n\nlet subs;\n\nlet friend_list = null;\n\n// May be `null` if not logged in or still loading\nexport function friendsGet() {\n  return friend_list;\n}\n\nexport function isFriend(user_id) {\n  return friend_list && friend_list[user_id] && friend_list[user_id] !== FRIEND_REMOVED;\n}\n\nexport function friendAdd(user_id, cb) {\n  net.subs.getMyUserChannel().cmdParse(`friend_add ${user_id}`, function (err, resp) {\n    if (!err) {\n      friend_list[user_id] = FRIEND_ADDED;\n    }\n    cb(err, resp);\n  });\n}\n\nexport function friendRemove(user_id, cb) {\n  net.subs.getMyUserChannel().cmdParse(`friend_remove ${user_id}`, function (err, resp) {\n    if (!err) {\n      friend_list[user_id] = FRIEND_REMOVED;\n    }\n    cb(err, resp);\n  });\n}\n\n// Pass-through commands\ncmd_parse.register({\n  cmd: 'friend_add',\n  help: 'Add a friend',\n  func: friendAdd,\n});\ncmd_parse.register({\n  cmd: 'friend_remove',\n  help: 'Remove a friend',\n  func: friendRemove,\n});\ncmd_parse.register({\n  cmd: 'friend_list',\n  help: 'List all friends',\n  func: function (str, resp_func) {\n    if (!friend_list) {\n      return void resp_func('Friend list not loaded');\n    }\n    resp_func(null, Object.keys(friend_list).filter((a) => friend_list[a] !== FRIEND_REMOVED).join(',') ||\n      'You have no friends');\n  },\n});\n\nlet invisible = 0;\ncmd_parse.registerValue('invisible', {\n  type: cmd_parse.TYPE_INT,\n  help: 'Hide rich presence information from other users',\n  label: 'Invisible',\n  range: [0,1],\n  get: () => invisible,\n  set: (v) => (invisible = v),\n});\n\nlet afk = 0;\ncmd_parse.registerValue('afk', {\n  type: cmd_parse.TYPE_INT,\n  help: 'Appear as idle to other users',\n  label: 'AFK',\n  range: [0,1],\n  get: () => afk,\n  set: (v) => (afk = v),\n});\n\nfunction onPresence(data) {\n  let user_channel = this; // eslint-disable-line no-invalid-this\n  user_channel.presence_data = data;\n}\n\nlet last_presence = null;\nlet send_queued;\nfunction richPresenceSend() {\n  if (!net.subs.loggedIn() || !last_presence || send_queued) {\n    return;\n  }\n  send_queued = true;\n  subs.onceConnected(() => {\n    send_queued = false;\n    if (!net.subs.loggedIn() || !last_presence) {\n      return;\n    }\n    let pak = net.subs.getMyUserChannel().pak('presence_set');\n    pak.writeInt(last_presence.active);\n    pak.writeAnsiString(last_presence.state);\n    pak.writeJSON(last_presence.payload);\n    pak.send();\n  });\n}\nexport function richPresenceSet(active, state, payload) {\n  active = !active || afk || (Date.now() - input.inputLastTime() > IDLE_TIME) ? PRESENCE_INACTIVE : PRESENCE_ACTIVE;\n  if (invisible) {\n    active = PRESENCE_OFFLINE;\n  }\n  payload = payload || null;\n  if (!last_presence ||\n    active !== last_presence.active || state !== last_presence.state ||\n    !deepEqual(last_presence.payload, payload)\n  ) {\n    last_presence = {\n      active,\n      state,\n      payload,\n    };\n    richPresenceSend();\n  }\n}\n\nexport function friendsInit() {\n  subs = net.subs;\n  subs.on('login', function () {\n    let user_channel = subs.getMyUserChannel();\n    let user_id = subs.logged_in_username;\n    richPresenceSend();\n    friend_list = null;\n    user_channel.pak('friend_list').send((err, pak) => {\n      if (err || user_id !== subs.logged_in_username) {\n        // disconnected, etc\n        if (pak) {\n          pak.pool();\n        }\n        return;\n      }\n      friend_list = {};\n      let friend_id;\n      while ((friend_id = pak.readAnsiString())) {\n        friend_list[friend_id] = pak.readInt();\n      }\n\n      // Sync friend list with Facebook friends\n      if (subs.login_credentials && subs.login_credentials.fb) {\n        fbGetFriends((err, fb_friends) => {\n          if (err || !fb_friends || user_id !== subs.logged_in_username) {\n            return;\n          }\n          let to_add = [];\n          let to_remove = [];\n          let found = {};\n          for (let ii = 0; ii < fb_friends.length; ++ii) {\n            let id = fb_friends[ii];\n            found[id] = true;\n            if (!friend_list[id]) {\n              friend_list[id] = FRIEND_ADDED_AUTO;\n              to_add.push(id);\n            }\n          }\n          for (let id in friend_list) {\n            if (!found[id] && friend_list[id] === FRIEND_ADDED_AUTO) {\n              friend_list[id] = FRIEND_REMOVED;\n              to_remove.push(id);\n            }\n          }\n          if (!to_add.length && !to_remove.length) {\n            return;\n          }\n          let pak = user_channel.pak('friend_auto_update');\n          for (let ii = 0; ii < to_add.length; ++ii) {\n            pak.writeAnsiString(to_add[ii]);\n          }\n          pak.writeAnsiString('');\n          for (let ii = 0; ii < to_remove.length; ++ii) {\n            pak.writeAnsiString(to_remove[ii]);\n          }\n          pak.writeAnsiString('');\n          pak.send();\n        });\n      }\n    });\n  });\n  subs.on('logout', function () {\n    friend_list = null;\n  });\n\n  subs.onChannelMsg('user', 'presence', onPresence);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { MAX_SEMANTIC } = require('./shaders.js');\nconst { ceil, max, min } = Math;\n\nexport const TRIANGLES = 4;\nexport const TRIANGLE_FAN = 6;\nexport const QUADS = 7;\n\nconst gl_byte_size = {\n  0x1400: 1, // GL_BYTE\n  0x1401: 1, // GL_UNSIGNED_BYTE\n  0x1402: 2, // GL_SHORT\n  0x1403: 2, // GL_UNSIGNED_SHORT\n  0x1406: 4, // GL_FLOAT\n};\n\n// let unit_buf;\n// let unit_buf_len = 0;\n\nlet bound_geom;\n\nlet bound_array_buf = null;\nlet bound_index_buf = null;\n\nlet quad_index_buf;\nlet quad_index_buf_len = 0;\n\nfunction deleteBuffer(handle) {\n  if (!handle) {\n    return;\n  }\n  if (bound_array_buf === handle) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    bound_array_buf = null;\n  }\n  if (bound_index_buf === handle) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    bound_index_buf = null;\n  }\n  gl.deleteBuffer(handle);\n}\n\nlet attrib_enabled = 0;\nfunction enableVertexAttribArray(bits) {\n  if (bits === attrib_enabled) {\n    return;\n  }\n  let disable_mask = (attrib_enabled & (~bits));\n  let enable_mask = ((~attrib_enabled) & bits);\n  attrib_enabled = bits;\n\n  if (disable_mask) {\n    let n = 0;\n    do {\n      if (disable_mask & 1) {\n        gl.disableVertexAttribArray(n);\n      }\n      n++;\n      disable_mask >>= 1;\n    } while (disable_mask);\n  }\n\n  if (enable_mask) {\n    let n = 0;\n    do {\n      if (enable_mask & 1) {\n        gl.enableVertexAttribArray(n);\n      }\n      n++;\n      enable_mask >>= 1;\n    } while (enable_mask);\n  }\n}\n\n// function bindUnitBuf(arr_idx, len) {\n//   if (len > unit_buf_len) {\n//     deleteBuffer(unit_buf);\n//     unit_buf = gl.createBuffer();\n//     unit_buf_len = max(ceil(unit_buf_len * 1.5), len);\n//     gl.bindBuffer(gl.ARRAY_BUFFER, unit_buf);\n//     bound_array_buf = unit_buf;\n//     let arr = new Uint8Array(unit_buf_len * 4);\n//     for (let ii = 0; ii < unit_buf_len * 4; ++ii) {\n//       arr[ii] = 255;\n//     }\n//     gl.bufferData(gl.ARRAY_BUFFER, arr, gl.STATIC_DRAW);\n//   } else {\n//     if (bound_array_buf !== unit_buf) {\n//       gl.bindBuffer(gl.ARRAY_BUFFER, unit_buf);\n//       bound_array_buf = unit_buf;\n//     }\n//   }\n//   gl.vertexAttribPointer(arr_idx, 4, gl.UNSIGNED_BYTE, true, 0, 0);\n// }\n\n// Verts should be ordered counter-clockwise from the upper left\nfunction getQuadIndexBuf(quad_count) {\n  assert(quad_count <= 16384);\n  // If not, need to split into multiple vertex and index buffers (fairly easy),\n  //   or use the OES_element_index_uint extension (trivial, but probably slower, maybe not supported on mobile?)\n  if (quad_count * 6 > quad_index_buf_len) {\n    if (!quad_index_buf) {\n      quad_index_buf = gl.createBuffer();\n    } else {\n      // freeing old one\n      engine.perf_state.gpu_mem.geom -= quad_index_buf_len * 2;\n    }\n    quad_index_buf_len = max(ceil(quad_index_buf_len * 1.5), quad_count * 6);\n    if (bound_index_buf !== quad_index_buf) {\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, quad_index_buf);\n      bound_index_buf = quad_index_buf;\n    }\n    let arr = new Uint16Array(quad_index_buf_len);\n    let vidx = 0;\n    for (let ii = 0; ii < quad_index_buf_len;) {\n      arr[ii++] = vidx + 1;\n      arr[ii++] = vidx + 3;\n      arr[ii++] = vidx++; // 0\n      arr[ii++] = vidx++; // 1\n      arr[ii++] = vidx++; // 2\n      arr[ii++] = vidx++; // 3\n    }\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arr, gl.STATIC_DRAW);\n    engine.perf_state.gpu_mem.geom += quad_index_buf_len * 2;\n  }\n  return quad_index_buf;\n}\n\nexport function createIndices(idxs) {\n  let ret = {\n    ibo: gl.createBuffer(),\n    ibo_size: idxs.length,\n  };\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ret.ibo);\n  bound_index_buf = ret.ibo;\n  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);\n  engine.perf_state.gpu_mem.geom += idxs.length * 2;\n  return ret;\n}\n\nfunction formatInfo(format) {\n  if (!format.info) {\n    let stride = 0;\n    let elem_count = 0;\n    let used_attribs = 0;\n    let common_byte_size = 0;\n    for (let ii = 0; ii < format.length; ++ii) {\n      let fmt = format[ii];\n      let sem = fmt[0];\n      let gltype = fmt[1];\n      let count = fmt[2];\n      used_attribs |= (1 << sem);\n      let byte_size = gl_byte_size[gltype];\n      assert(byte_size);\n      assert(!common_byte_size || byte_size === common_byte_size);\n      common_byte_size = byte_size;\n      fmt[3] = fmt[3] || false;\n      fmt[4] = byte_size;\n      stride += count * byte_size;\n      elem_count += count;\n    }\n    format.info = {\n      stride, elem_count, used_attribs, common_byte_size\n    };\n  }\n  return format.info;\n}\n\n// format is [shaders.semantic.foo, gl.FLOAT/UNSIGNED_BYTE/etc, count, normalized]\nfunction Geom(format, verts, idxs, mode) {\n  this.mode = mode || TRIANGLES;\n  this.format = format;\n  let info = this.format_info = formatInfo(format);\n  this.stride = info.stride;\n  this.used_attribs = info.used_attribs;\n\n  this.vert_count = verts.length / this.format_info.elem_count;\n  this.vert_gpu_mem = verts.length * this.format_info.common_byte_size;\n  if (verts.length) {\n    this.vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n    gl.bufferData(gl.ARRAY_BUFFER, verts, gl.STATIC_DRAW);\n    engine.perf_state.gpu_mem.geom += this.vert_gpu_mem;\n  }\n  this.orig_mode = mode;\n  if (idxs) {\n    if (idxs.ibo) {\n      this.ibo = idxs.ibo;\n      this.ibo_owned = false;\n      this.ibo_size = idxs.ibo_size;\n    } else {\n      this.ibo = gl.createBuffer();\n      this.ibo_owned = true;\n      this.ibo_size = idxs.length;\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ibo);\n      bound_index_buf = this.ibo;\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, idxs, gl.STATIC_DRAW);\n      engine.perf_state.gpu_mem.geom += idxs.length * 2;\n    }\n  } else if (mode === QUADS) {\n    assert.equal(this.vert_count % 4, 0);\n    let quad_count = this.vert_count / 4;\n    // PERFTODO: Use GL_QUADS_OES extension\n    this.ibo = getQuadIndexBuf(quad_count);\n    this.ibo_owned = false;\n    this.ibo_size = quad_count * 6;\n    this.mode = TRIANGLES;\n  } else if (mode === TRIANGLE_FAN) {\n    this.mode = TRIANGLE_FAN;\n  } else {\n    this.ibo = null;\n    this.ibo_owned = false;\n  }\n}\n\nGeom.prototype.updateSub = function (offset, verts) {\n  if (bound_array_buf !== this.vbo) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n  }\n  gl.bufferSubData(gl.ARRAY_BUFFER, offset, verts);\n};\n\nGeom.prototype.update = function (verts, num_verts) {\n  assert.equal(this.ibo_owned, false);\n  if (num_verts > this.vert_count) {\n    if (bound_geom === this) {\n      bound_geom = null;\n    }\n    engine.perf_state.gpu_mem.geom -= this.vert_gpu_mem;\n    deleteBuffer(this.vbo);\n    // Note: matching size, ignoring num_verts\n    this.vert_count = verts.length / this.format_info.elem_count;\n    this.vert_gpu_mem = verts.length * this.format_info.common_byte_size;\n    this.vbo = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n    bound_array_buf = this.vbo;\n    gl.bufferData(gl.ARRAY_BUFFER, verts, gl.DYNAMIC_DRAW);\n    engine.perf_state.gpu_mem.geom += this.vert_gpu_mem;\n  } else {\n    // Fits\n    if (bound_array_buf !== this.vbo) {\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);\n      bound_array_buf = this.vbo;\n    }\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, verts.subarray(0, num_verts * this.format_info.elem_count));\n    // gl.bufferData(gl.ARRAY_BUFFER, verts, gl.DYNAMIC_DRAW);\n  }\n  if (this.orig_mode === QUADS) {\n    let quad_count = num_verts / 4;\n    this.ibo = getQuadIndexBuf(quad_count);\n    this.ibo_size = quad_count * 6;\n  }\n};\n\nGeom.prototype.dispose = function () {\n  if (this.ibo_owned) {\n    deleteBuffer(this.ibo);\n  }\n  this.ibo = null;\n  deleteBuffer(this.vbo);\n  this.vbo = null;\n  engine.perf_state.gpu_mem.geom -= this.vert_gpu_mem;\n  this.vert_gpu_mem = 0;\n};\n\nlet bound_attribs = (function () {\n  let r = [];\n  for (let ii = 0; ii < 16; ++ii) {\n    r.push({\n      vbo: null,\n      offset: 0,\n    });\n  }\n  return r;\n}());\n\nexport function geomResetState() {\n  // Resetting this avoids a state management bug on Chrome 71-73 on Redmi 6A -\n  //   it seems the browser was leaving something bound at a low level, perhaps\n  //   from generating mipmaps or something?\n  bound_geom = null;\n  bound_index_buf = null;\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n  bound_array_buf = null;\n  gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  for (let ii = 0; ii < MAX_SEMANTIC; ++ii) {\n    gl.disableVertexAttribArray(ii);\n  }\n  attrib_enabled = 0;\n  for (let ii = 0; ii < bound_attribs.length; ++ii) {\n    bound_attribs[ii].vbo = null;\n  }\n}\n\nGeom.prototype.bind = function () {\n  if (bound_geom !== this) {\n    bound_geom = this;\n    let vbo = this.vbo;\n\n    let offset = 0;\n    for (let ii = 0; ii < this.format.length; ++ii) {\n      let fmt = this.format[ii];\n      let count = fmt[2];\n      let byte_size = fmt[4];\n      let sem = fmt[0];\n      if (bound_attribs[sem].vbo === vbo) { //  && bound_attribs[sem].offset = offset\n        // already bound\n      } else {\n        if (bound_array_buf !== vbo) {\n          gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n          bound_array_buf = vbo;\n        }\n        let gltype = fmt[1];\n        let normalized = fmt[3];\n        gl.vertexAttribPointer(sem, count, gltype, normalized, this.stride, offset);\n        bound_attribs[sem].vbo = bound_array_buf;\n        // bound_attribs[sem].offset = offset;\n      }\n      offset += count * byte_size;\n    }\n    // if (!used[1]) { // COLOR\n    //   used_attribs |= 1 << shader.semantics.COLOR;\n    //   bindUnitBuf(1, this.vert_count);\n    // }\n    enableVertexAttribArray(this.used_attribs);\n  }\n\n  if (this.ibo && bound_index_buf !== this.ibo) {\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ibo);\n    bound_index_buf = this.ibo;\n  }\n};\nGeom.prototype.draw = function () {\n  this.bind();\n  if (this.ibo) {\n    gl.drawElements(this.mode, this.ibo_size, gl.UNSIGNED_SHORT, 0);\n  } else {\n    gl.drawArrays(this.mode, 0, this.vert_count);\n  }\n};\n\nfunction GeomMultiQuads(format, verts) {\n  let format_info = formatInfo(format);\n  let ec = format_info.elem_count;\n  let vert_count = verts.length / ec;\n  this.geoms = [];\n  for (let idx = 0; idx < vert_count; idx += 65536) {\n    let num_sub_verts = min(vert_count - idx, 65536);\n    let sub_data = new Uint8Array(verts.buffer, idx * ec, num_sub_verts * ec);\n    this.geoms.push(new Geom(format, sub_data, null, QUADS));\n  }\n}\nGeomMultiQuads.prototype.draw = function () {\n  for (let ii = 0; ii < this.geoms.length; ++ii) {\n    this.geoms[ii].draw();\n  }\n};\nGeomMultiQuads.prototype.dispose = function () {\n  for (let ii = 0; ii < this.geoms.length; ++ii) {\n    this.geoms[ii].dispose();\n  }\n  this.geoms = null;\n};\n\nexport function create(format, verts, idxs, mode) {\n  return new Geom(format, verts, idxs, mode);\n}\n\nexport function createQuads(format, verts) {\n  let format_info = formatInfo(format);\n  assert(verts instanceof Uint8Array); // only one handled by GeomMultiQuads for now\n  let vert_count = verts.length / format_info.elem_count;\n  if (vert_count > 65536) {\n    return new GeomMultiQuads(format, verts);\n  }\n  return new Geom(format, verts, null, QUADS);\n}\n\nexport function startup() {\n  // Nothing for now.\n}\n","/* eslint no-bitwise:off */\n// From https://stackoverflow.com/questions/8936984/uint8array-to-string-in-javascript\n\nlet charCache = new Array(128);  // Preallocate the cache for the common single byte chars\nlet charFromCodePt = String.fromCodePoint || String.fromCharCode;\nlet result = [];\nexport function decode(array) {\n  let codePt;\n  let byte1;\n  let buffLen = array.length;\n\n  result.length = 0;\n\n  for (let i = 0; i < buffLen;) {\n    byte1 = array[i++];\n\n    if (byte1 <= 0x7F) {\n      codePt = byte1;\n    } else if (byte1 <= 0xDF) {\n      codePt = ((byte1 & 0x1F) << 6) | (array[i++] & 0x3F);\n    } else if (byte1 <= 0xEF) {\n      codePt = ((byte1 & 0x0F) << 12) | ((array[i++] & 0x3F) << 6) | (array[i++] & 0x3F);\n    } else if (String.fromCodePoint) {\n      codePt = ((byte1 & 0x07) << 18) | ((array[i++] & 0x3F) << 12) | ((array[i++] & 0x3F) << 6) | (array[i++] & 0x3F);\n    } else {\n      codePt = 63;    // Cannot convert four byte code points, so use \"?\" instead\n      i += 3;\n    }\n\n    result.push(charCache[codePt] || (charCache[codePt] = charFromCodePt(codePt)));\n  }\n\n  return result.join('');\n}\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nconst TYPES = ['SCALAR', 'VEC2', 'VEC3', 'VEC4'];\n\nexport function getAccessorTypeFromSize(size) {\n  const type = TYPES[size - 1];\n  return type || TYPES[0];\n}\n\n// glTF ACCESSOR CONSTANTS\n\nexport const ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE = {\n  5120: 1,\n  5121: 1,\n  5122: 2,\n  5123: 2,\n  5125: 4,\n  5126: 4\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n/* eslint-env browser */\n\nconst assert = require('assert');\n\n/* eslint-disable camelcase, max-statements */\nconst { unpackGLBBuffers } = require('./unpack-glb-buffers.js');\nconst { unpackBinaryJson } = require('./unpack-binary-json.js');\n\nfunction padTo4Bytes(byteLength) {\n  return (byteLength + 3) & ~3; //eslint-disable-line no-bitwise\n}\n\nconst decode_utf8 = require('./decode-utf8.js');\n\nconst {\n  ATTRIBUTE_TYPE_TO_COMPONENTS,\n  ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE,\n  ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY\n} = require('./gltf-type-utils.js');\n\nconst MAGIC_glTF = 0x676c5446; // glTF in Big-Endian ASCII\n\nconst GLB_FILE_HEADER_SIZE = 12;\nconst GLB_CHUNK_HEADER_SIZE = 8;\n\nconst GLB_CHUNK_TYPE_JSON = 0x4e4f534a;\nconst GLB_CHUNK_TYPE_BIN = 0x004e4942;\n\nconst LE = true; // Binary GLTF is little endian.\nconst BE = false; // Magic needs to be written as BE\n\n// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#glb-file-format-specification\nfunction GLBParser() {\n  // Result\n  this.binaryByteOffset = null;\n  this.packedJson = null;\n  this.json = null;\n}\n\nfunction parseBinary(self) {\n  // GLB Header\n  const dataView = new DataView(self.glbArrayBuffer);\n  const magic1 = dataView.getUint32(0, BE); // Magic number (the ASCII string 'glTF').\n  const version = dataView.getUint32(4, LE); // Version 2 of binary glTF container format\n  const fileLength = dataView.getUint32(8, LE); // Total byte length of generated file\n\n  let valid = magic1 === MAGIC_glTF;\n  if (!valid) {\n    console.warn('Invalid GLB magic string');\n  }\n\n  assert(version === 2, `Invalid GLB version ${version}. Only .glb v2 supported`);\n  assert(fileLength > 20);\n\n  // Write the JSON chunk\n  const jsonChunkLength = dataView.getUint32(12, LE); // Byte length of json chunk\n  const jsonChunkFormat = dataView.getUint32(16, LE); // Chunk format as uint32\n\n  valid = jsonChunkFormat === GLB_CHUNK_TYPE_JSON || jsonChunkFormat === 0; // Back compat\n  assert(valid, `JSON chunk format ${jsonChunkFormat}`);\n\n  // Create a \"view\" of the binary encoded JSON data\n  const jsonChunkOffset = GLB_FILE_HEADER_SIZE + GLB_CHUNK_HEADER_SIZE; // First headers: 20 bytes\n  const jsonChunk = new Uint8Array(self.glbArrayBuffer, jsonChunkOffset, jsonChunkLength);\n\n  // Decode the JSON binary array into clear text\n  const jsonText = decode_utf8.decode(jsonChunk);\n\n  // Parse the JSON text into a JavaScript data structure\n  self.json = JSON.parse(jsonText);\n\n  // TODO - BIN chunk can be optional\n  const binaryChunkStart = jsonChunkOffset + padTo4Bytes(jsonChunkLength);\n  self.binaryByteOffset = binaryChunkStart + GLB_CHUNK_HEADER_SIZE;\n\n  const binChunkFormat = dataView.getUint32(binaryChunkStart + 4, LE); // Chunk format as uint32\n  valid = binChunkFormat === GLB_CHUNK_TYPE_BIN || binChunkFormat === 1; // Back compat\n  assert(valid, `BIN chunk format ${binChunkFormat}`);\n\n  return {\n    arrayBuffer: self.glbArrayBuffer,\n    binaryByteOffset: self.binaryByteOffset,\n    json: self.json\n  };\n}\n\nfunction parseInternal(self) {\n  const result = parseBinary(self);\n  self.packedJson = result.json;\n  self.unpackedBuffers = unpackGLBBuffers(self.glbArrayBuffer, self.json, self.binaryByteOffset);\n  self.json = unpackBinaryJson(self.json, self.unpackedBuffers);\n}\n\nGLBParser.prototype.parseSync = function (arrayBuffer) {\n  // Input\n  this.glbArrayBuffer = arrayBuffer;\n\n  // Only parse once\n  if (this.json === null && this.binaryByteOffset === null) {\n    parseInternal(this);\n  }\n  return this;\n};\n\n// Return the gltf JSON and the original arrayBuffer\nGLBParser.prototype.parse = function (arrayBuffer) {\n  return this.parseSync(arrayBuffer);\n};\n\n// Returns application JSON data stored in `key`\nGLBParser.prototype.getApplicationData = function (key) {\n  return this.json[key];\n};\n\n// Returns JSON envelope\nGLBParser.prototype.getJSON = function () {\n  return this.json;\n};\n\n// Return binary chunk\nGLBParser.prototype.getArrayBuffer = function () {\n  return this.glbArrayBuffer;\n};\n\n// Return index into binary chunk\nGLBParser.prototype.getBinaryByteOffset = function () {\n  return this.binaryByteOffset;\n};\n\n// Unpacks a bufferview into a new Uint8Array that is a view into the binary chunk\nGLBParser.prototype.getBufferView = function (glTFBufferView) {\n  const byteOffset = (glTFBufferView.byteOffset || 0) + this.binaryByteOffset;\n  return new Uint8Array(this.glbArrayBuffer, byteOffset, glTFBufferView.byteLength);\n};\n\n// Unpacks a glTF accessor into a new typed array that is a view into the binary chunk\nGLBParser.prototype.getBuffer = function (glTFAccessor) {\n  // Decode the glTF accessor format\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[glTFAccessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[glTFAccessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[glTFAccessor.componentType];\n  const length = glTFAccessor.count * components;\n  const byteLength = glTFAccessor.count * components * bytesPerComponent;\n\n  // Get the boundaries of the binary sub-chunk for this bufferView\n  const glTFBufferView = this.json.bufferViews[glTFAccessor.bufferView];\n  assert(byteLength >= 0 && glTFAccessor.byteOffset + byteLength <= glTFBufferView.byteLength);\n\n  const byteOffset = glTFBufferView.byteOffset + this.binaryByteOffset + glTFAccessor.byteOffset;\n  return new ArrayType(this.glbArrayBuffer, byteOffset, length);\n};\n\n// Unpacks an image into an HTML image\nGLBParser.prototype.getImageData = function (glTFImage) {\n  return {\n    typedArray: this.getBufferView(glTFImage.bufferView),\n    mimeType: glTFImage.mimeType || 'image/jpeg'\n  };\n};\n\nGLBParser.prototype.getImage = function (glTFImage) {\n  const arrayBufferView = this.getBufferView(glTFImage.bufferView);\n  const mimeType = glTFImage.mimeType || 'image/jpeg';\n  const blob = new Blob([arrayBufferView], { type: mimeType });\n  const urlCreator = window.URL || window.webkitURL;\n  const imageUrl = urlCreator.createObjectURL(blob);\n  const img = new Image();\n  img.src = imageUrl;\n  return img;\n};\n\n// GLBParser.prototype.getImageAsync = function (glTFImage) {\n//   return new Promise(resolve => {\n//     const arrayBufferView = this.getBufferView(glTFImage.bufferView);\n//     const mimeType = glTFImage.mimeType || 'image/jpeg';\n//     const blob = new Blob([arrayBufferView], {type: mimeType});\n//     const urlCreator = window.URL || window.webkitURL;\n//     const imageUrl = urlCreator.createObjectURL(blob);\n//     const img = new Image();\n//     img.onload = () => resolve(img);\n//     img.src = imageUrl;\n//   });\n// };\n\nmodule.exports = GLBParser;\nGLBParser.parse = function (data) {\n  let parser = new GLBParser();\n  return parser.parse(data);\n};\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nfunction parseJSONPointer(value) {\n  if (typeof value === 'string') {\n    // Remove escape character\n    if (value.indexOf('##/') === 0) {\n      return value.slice(1);\n    }\n\n    let matches = value.match(/#\\/([a-z]+)\\/([0-9]+)/);\n    if (matches) {\n      const index = parseInt(matches[2], 10);\n      return [matches[1], index];\n    }\n\n    // Legacy: `$$$i`\n    matches = value.match(/\\$\\$\\$([0-9]+)/);\n    if (matches) {\n      const index = parseInt(matches[1], 10);\n      return ['accessors', index];\n    }\n  }\n\n  return null;\n}\n\nfunction decodeJSONPointer(object, buffers) {\n  const pointer = parseJSONPointer(object);\n  if (pointer) {\n    const field = pointer[0];\n    const index = pointer[1];\n    const buffer = buffers[field] && buffers[field][index];\n    if (buffer) {\n      return buffer;\n    }\n    console.error(`Invalid JSON pointer ${object}: #/${field}/${index}`);\n  }\n  return null;\n}\n\n// Recursively unpacks objects, replacing \"JSON pointers\" with typed arrays\nfunction unpackJsonArraysRecursive(json, topJson, buffers, options = {}) {\n  const object = json;\n\n  const buffer = decodeJSONPointer(object, buffers);\n  if (buffer) {\n    return buffer;\n  }\n\n  // Copy array\n  if (Array.isArray(object)) {\n    return object.map((element) => unpackJsonArraysRecursive(element, topJson, buffers, options));\n  }\n\n  // Copy object\n  if (object !== null && typeof object === 'object') {\n    const newObject = {};\n    for (const key in object) {\n      newObject[key] = unpackJsonArraysRecursive(object[key], topJson, buffers, options);\n    }\n    return newObject;\n  }\n\n  return object;\n}\n\nexport function unpackBinaryJson(json, buffers, options = {}) {\n  return unpackJsonArraysRecursive(json, json, buffers, options);\n}\n","// Derived from (MIT Licensed) https://github.com/uber-web/loaders.gl/tree/master/modules/gltf\n\nconst assert = require('assert');\n\nconst {\n  ATTRIBUTE_TYPE_TO_COMPONENTS,\n  ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE,\n  ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY\n} = require('./gltf-type-utils.js');\n\n// Creates a new ArrayBuffer starting at the offset, containing all remaining bytes\n// TODO - should not be needed, see above\nfunction getArrayBufferAtOffset(arrayBuffer, byteOffset) {\n  const length = arrayBuffer.byteLength - byteOffset;\n  const binaryBuffer = new ArrayBuffer(length);\n  const sourceArray = new Uint8Array(arrayBuffer);\n  const binaryArray = new Uint8Array(binaryBuffer);\n  for (let i = 0; i < length; i++) {\n    binaryArray[i] = sourceArray[byteOffset + i];\n  }\n  return binaryBuffer;\n}\n\nfunction getArrayTypeAndLength(accessor, bufferView) {\n  const ArrayType = ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[accessor.componentType];\n  const components = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n  const bytesPerComponent = ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[accessor.componentType];\n  const length = accessor.count * components;\n  const byteLength = accessor.count * components * bytesPerComponent;\n  assert(byteLength >= 0 && byteLength <= bufferView.byteLength);\n  return { ArrayType, length, byteLength };\n}\n\nfunction unpackAccessors(arrayBuffer, bufferViews, json) {\n  // unpack accessors\n  const accessors = json.accessors || [];\n\n  const accessorBuffers = [];\n\n  for (let i = 0; i < accessors.length; ++i) {\n    const accessor = accessors[i];\n    assert(accessor);\n\n    const bufferView = bufferViews[accessor.bufferView];\n    // Draco encoded meshes don't have bufferView in accessor\n    if (bufferView) {\n      // Create a new typed array as a view into the combined buffer\n      const { ArrayType, length } = getArrayTypeAndLength(accessor, bufferView);\n      const array = new ArrayType(arrayBuffer, bufferView.byteOffset, length);\n      // Store the metadata on the array (e.g. needed to determine number of components per element)\n      array.accessor = accessor;\n      accessorBuffers.push(array);\n    }\n  }\n\n  return accessorBuffers;\n}\n\nfunction unpackImages(arrayBuffer, bufferViews, json) {\n  // unpack images\n  const images = json.images || [];\n\n  const imageBuffers = [];\n\n  for (let i = 0; i < images.length; ++i) {\n    const image = images[i];\n    assert(image);\n\n    if (image.bufferView === undefined) {\n      imageBuffers.push(null);\n      continue;\n    }\n\n    const bufferView = bufferViews[image.bufferView];\n    assert(bufferView);\n\n    // Create a new typed array as a view into the combined buffer\n    const array = new Uint8Array(arrayBuffer, bufferView.byteOffset, bufferView.byteLength);\n    // Store the metadata on the array (e.g. needed to determine number of components per element)\n    array.imate = image;\n    imageBuffers.push(array);\n  }\n\n  return imageBuffers;\n}\n\nexport function unpackGLBBuffers(arrayBuffer, json, binaryByteOffset) {\n  // TODO - really inefficient, should just use the offset into the original array buffer\n  if (binaryByteOffset) {\n    arrayBuffer = getArrayBufferAtOffset(arrayBuffer, binaryByteOffset);\n  }\n\n  const bufferViews = json.bufferViews || [];\n\n  for (let i = 0; i < bufferViews.length; ++i) {\n    const bufferView = bufferViews[i];\n    assert(bufferView.byteLength >= 0);\n  }\n\n  return {\n    // TODO: delete unpackAccessors and use buffer views only?\n    accessors: unpackAccessors(arrayBuffer, bufferViews, json),\n    images: unpackImages(arrayBuffer, bufferViews, json)\n  };\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// System for registering callbacks to run in event handlers on the next frame\n// Used to get around restrictions on APIs like pointer lock, fullscreen, or\n// screen orientation.\n\nconst assert = require('assert');\n\nlet cbs = {};\nexport function topOfFrame() {\n  cbs = {};\n}\n\nexport function on(type, code_or_pos, cb) {\n  let list = cbs[type] = cbs[type] || [];\n  if (typeof code_or_pos === 'number') {\n    list[code_or_pos] = cb;\n  } else {\n    list.push([code_or_pos, cb]);\n  }\n}\n\nexport function handle(type, event) {\n  let list = cbs[type];\n  if (!list) {\n    return;\n  }\n  switch (type) {\n    case 'keydown':\n    case 'keyup':\n      if (list[event.keyCode]) {\n        list[event.keyCode](type, event);\n      }\n      break;\n    case 'mouseup':\n    case 'mousedown': {\n      let x = event.pageX;\n      let y = event.pageY;\n      let button = event.button;\n      for (let ii = 0; ii < list.length; ++ii) {\n        let elem = list[ii];\n        let pos = elem[0];\n        if (x >= pos.x && x < pos.x + pos.w &&\n          y >= pos.y && y < pos.y + pos.h &&\n          (pos.button < 0 || pos.button === button)\n        ) {\n          elem[1](type, event);\n          break;\n        }\n      }\n    } break;\n    default:\n      assert(false);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* global navigator */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst in_event = require('./in_event.js');\nconst local_storage = require('./local_storage.js');\nconst { abs, max, min, sqrt } = Math;\nconst pointer_lock = require('./pointer_lock.js');\nconst { soundResume } = require('./sound.js');\nconst { vec2, v2add, v2copy, v2lengthSq, v2set, v2scale, v2sub } = require('./vmath.js');\n\nconst UP_EDGE = 0; // only for pads, which use === null as \"up\"\nconst UP = 0; // only for key/mouse\nconst DOWN = 1;\nconst DOWN_EDGE = 2; // only for pads\n\n// per-app overrideable options\nconst TOUCH_AS_MOUSE = true;\nlet map_analog_to_dpad = true;\n\nlet mouse_log = false;\n\nexport const ANY = -2;\nexport const POINTERLOCK = -1;\n\nexport let KEYS = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  RETURN: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  INS: 45,\n  DEL: 46,\n  NUMPAD_DIVIDE: 111,\n  EQUALS: 187,\n  MINUS: 189,\n  SLASH: 191,\n  TILDE: 192,\n};\n(function () {\n  for (let ii = 1; ii <= 12; ++ii) {\n    KEYS[`F${ii}`] = 111 + ii;\n  }\n  for (let ii = 48; ii <= 90; ++ii) { // 0-9;A-Z\n    KEYS[String.fromCharCode(ii)] = ii;\n  }\n}());\nif (typeof Proxy === 'function') {\n  // Catch referencing keys that are not in our map\n  KEYS = new Proxy(KEYS, {\n    get: function (target, prop) {\n      let ret = target[prop];\n      assert(ret);\n      return ret;\n    }\n  });\n}\nexport const PAD = {\n  A: 0,\n  SELECT: 0, // GLOV name\n  B: 1,\n  CANCEL: 1, // GLOV name\n  X: 2,\n  Y: 3,\n  LB: 4,\n  LEFT_BUMPER: 4,\n  RB: 5,\n  RIGHT_BUMPER: 5,\n  LT: 6,\n  LEFT_TRIGGER: 6,\n  RT: 7,\n  RIGHT_TRIGGER: 7,\n  BACK: 8,\n  START: 9,\n  LEFT_STICK: 10,\n  RIGHT_STICK: 11,\n  UP: 12,\n  DOWN: 13,\n  LEFT: 14,\n  RIGHT: 15,\n  ANALOG_UP: 20,\n  ANALOG_LEFT: 21,\n  ANALOG_DOWN: 22,\n  ANALOG_RIGHT: 23,\n};\n\nlet pad_to_touch;\n\nlet canvas;\nlet key_state_new = {};\nlet pad_states = []; // One map per gamepad to pad button states\nlet gamepad_data = []; // Other tracking data per gamepad\nlet mouse_pos = vec2(); // in DOM coordinates, not canvas or virtual\nlet last_mouse_pos = vec2();\nlet mouse_pos_is_touch = false;\nlet mouse_over_captured = false;\nlet mouse_down = [];\nlet wheel_events = [];\nlet movement_questionable_frames = 0;\nconst MOVEMENT_QUESTIONABLE_FRAMES = 2; // Need at least 2\n\nlet input_eaten_kb = false;\nlet input_eaten_mouse = false;\n\nlet touches = {}; // `m${button}` or touch_id -> TouchData\n\nexport let touch_mode = local_storage.getJSON('touch_mode', false);\nexport let pad_mode = !touch_mode && local_storage.getJSON('pad_mode', false);\n\ncmd_parse.registerValue('mouse_log', {\n  type: cmd_parse.TYPE_INT,\n  range: [0, 1],\n  get: () => mouse_log,\n  set: (v) => (mouse_log = v),\n});\n\nfunction eventTimestamp(event) {\n  if (event && event.timeStamp) {\n    // assert((event.timeStamp < 1e12) === (engine.hrtime < 1e12));\n    // Must both be high res times, or both not!\n    if ((event.timeStamp < 1e12) !== (engine.hrtime < 1e12)) {\n      return engine.hrtime;\n    }\n    return event.timeStamp;\n  }\n  return engine.hrtime;\n}\n\nfunction TouchData(pos, touch, button, event) {\n  this.delta = vec2();\n  this.total = 0;\n  this.cur_pos = pos.slice(0);\n  this.start_pos = pos.slice(0);\n  this.touch = touch;\n  this.button = button;\n  this.start_time = Date.now();\n  this.dispatched = false;\n  this.dispatched_drag = false;\n  this.dispatched_drag_over = false;\n  this.up_edge = 0;\n  this.down_edge = 0;\n  this.state = DOWN;\n  this.down_time = 0;\n  this.origin_time = eventTimestamp(event);\n}\nTouchData.prototype.down = function (event, is_edge) {\n  if (is_edge) {\n    this.down_edge++;\n  }\n  this.state = DOWN;\n  this.origin_time = eventTimestamp(event);\n};\n\nconst MIN_EVENT_TIME_DELTA = 0.01; // fractions of a millisecond\nfunction timeDelta(event, origin_time) {\n  let et = eventTimestamp(event);\n  // timestamps on events are often back in time relative to the last tick time\n  return max(et - origin_time, MIN_EVENT_TIME_DELTA);\n}\n\nfunction KeyData() {\n  this.down_edge = 0;\n  // this.down_start = 0;\n  this.origin_time = 0;\n  this.down_time = 0;\n  this.up_edge = 0;\n  this.state = UP;\n}\nKeyData.prototype.keyUp = function (event) {\n  ++this.up_edge;\n  this.down_time += timeDelta(event, this.origin_time);\n  this.state = UP;\n};\n\nfunction setMouseToMid() {\n  v2set(mouse_pos, engine.width*0.5/camera2d.domToCanvasRatio(), engine.height*0.5/camera2d.domToCanvasRatio());\n}\n\nexport function pointerLocked() {\n  return pointer_lock.isLocked();\n}\nlet pointerlock_touch_id = `m${POINTERLOCK}`;\n// only works reliably when called from an event handler\nexport function pointerLockEnter(when) {\n  pointer_lock.enter(when);\n}\nfunction onPointerLockEnter() {\n  if (touch_mode) {\n    return;\n  }\n  let touch_data = touches[pointerlock_touch_id];\n  setMouseToMid();\n  if (touch_data) {\n    v2copy(touch_data.start_pos, mouse_pos);\n    touch_data.state = DOWN;\n    touch_data.origin_time = engine.hrtime;\n  } else {\n    touch_data = touches[pointerlock_touch_id] = new TouchData(mouse_pos, false, POINTERLOCK, null);\n  }\n  movement_questionable_frames = MOVEMENT_QUESTIONABLE_FRAMES;\n}\nexport function pointerLockExit() {\n  let touch_data = touches[pointerlock_touch_id];\n  if (touch_data) {\n    v2copy(touch_data.cur_pos, mouse_pos);\n    // no UP_EDGE for this\n    touch_data.state = UP;\n  }\n  pointer_lock.exit();\n  movement_questionable_frames = MOVEMENT_QUESTIONABLE_FRAMES;\n}\n\nlet last_event;\nconst skip = { isTrusted: 1, sourceCapabilities: 1, path: 1, currentTarget: 1, view: 1 };\nfunction eventlog(event) {\n  if (event === last_event) {\n    return;\n  }\n  last_event = event;\n  let pairs = [];\n  for (let k in event) {\n    let v = event[k];\n    if (!v || typeof v === 'function' || k.toUpperCase() === k || skip[k]) {\n      continue;\n    }\n    pairs.push(`${k}:${v.id || v}`);\n  }\n  console.log(`${engine.frame_index} ${event.type} ${pointerLocked()?'ptrlck':'unlckd'} ${pairs.join(',')}`);\n}\n\nfunction letEventThrough(event) {\n  return event.target && (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' ||\n    event.target.tagName === 'LABEL' || String(event.target.className).indexOf('noglov') !== -1);\n}\n\nfunction ignored(event) {\n  // eventlog(event);\n  if (!letEventThrough(event)) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nlet ctrl_checked = false;\nlet unload_protected = false;\nfunction beforeUnload(e) {\n  if (unload_protected && ctrl_checked) {\n    // Exit pointer lock if the browser didn't do that automatically\n    pointerLockExit();\n    // Cancel the event\n    e.preventDefault();\n    // Chrome requires returnValue to be set\n    e.returnValue = 'Are you sure you want to quit?';\n  } else {\n    engine.releaseCanvas();\n  }\n}\nfunction protectUnload(enable) {\n  unload_protected = enable;\n}\n\nlet last_input_time = 0;\nexport function inputLastTime() {\n  return last_input_time;\n}\nfunction onUserInput() {\n  soundResume();\n  last_input_time = Date.now();\n}\n\nfunction onKeyUp(event) {\n  protectUnload(event.ctrlKey);\n  let code = event.keyCode;\n  if (!letEventThrough(event)) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  if (code === KEYS.ESC && pointerLocked()) {\n    pointerLockExit();\n  }\n  // Letting through to our code regardless of no_stop, because we handle things like ESC in INPUT elements\n\n  let ks = key_state_new[code];\n  if (ks && ks.state === DOWN) {\n    ks.keyUp(event);\n  }\n\n  in_event.handle('keyup', event);\n}\n\nfunction onKeyDown(event) {\n  protectUnload(event.ctrlKey);\n  let code = event.keyCode;\n  let no_stop = letEventThrough(event) ||\n    code >= KEYS.F5 && code <= KEYS.F12 || // Chrome debug hotkeys\n    code === KEYS.I && (event.altKey && event.metaKey || event.ctrlKey && event.shiftKey); // Safari, alternate Chrome\n  if (!no_stop) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  // console.log(`${event.code} ${event.keyCode}`);\n  onUserInput();\n\n  // Letting through to our code regardless of no_stop, because we handle things like ESC in INPUT elements\n  let ks = key_state_new[code];\n  if (!ks) {\n    ks = key_state_new[code] = new KeyData();\n  }\n  if (ks.state !== DOWN) { // not a repeat event\n    ++ks.down_edge;\n    ks.state = DOWN;\n    ks.origin_time = eventTimestamp(event);\n    // ks.down_start = ks.origin_time;\n\n    in_event.handle('keydown', event);\n  }\n}\n\nlet mouse_move_x = 0;\nexport function debugGetMouseMoveX() {\n  let ret = mouse_move_x;\n  mouse_move_x = 0;\n  return ret;\n}\n\nlet mouse_moved = false;\nlet temp_delta = vec2();\nlet last_abs_move = 0;\nlet last_abs_move_time = 0;\nfunction onMouseMove(event, no_stop) {\n  /// eventlog(event);\n  // Don't block mouse button 3, that's the Back button\n  if (!letEventThrough(event) && !no_stop && event.button !== 3) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (touch_mode) {\n      local_storage.setJSON('touch_mode', false);\n      touch_mode = false;\n    }\n    if (pad_mode) {\n      local_storage.setJSON('pad_mode', false);\n      pad_mode = false;\n    }\n  }\n  mouse_moved = true;\n  // offsetX/layerX return position relative to text-entry boxes, not good!\n  // clientX/clientY do not handle weird scrolling that happens on iOS, but\n  //   should not affect mouse events (but maybe on Safari desktop?)\n  mouse_pos[0] = event.pageX;\n  mouse_pos[1] = event.pageY;\n  // if (event.offsetX !== undefined) {\n  //   mouse_pos[0] = event.offsetX;\n  //   mouse_pos[1] = event.offsetY;\n  // } else {\n  //   mouse_pos[0] = event.layerX;\n  //   mouse_pos[1] = event.layerY;\n  // }\n  mouse_pos_is_touch = false;\n\n  mouse_move_x += (event.movementX || 0);\n\n  let any_movement = false;\n  if (pointerLocked()) {\n    setMouseToMid();\n    if (event.movementX || event.movementY) {\n      // Smooth out (ignore) large jumps in movement\n      // This is, I believe, just a bug with Chromium on Windows, as it repositions the hidden mouse cursor\n      let ts = event.timeStamp || Date.now();\n      let abs_move = abs(event.movementX) + abs(event.movementY);\n      if (abs_move > 200 && (abs_move > 3 * last_abs_move || ts - last_abs_move_time > 1000)) {\n        console.log(`Ignoring mousemove with sudden large delta: ${event.movementX},${event.movementY}`);\n      } else {\n        v2set(temp_delta, event.movementX || 0, event.movementY || 0);\n        any_movement = true;\n      }\n      last_abs_move = abs_move;\n      last_abs_move_time = ts;\n    }\n  } else {\n    v2sub(temp_delta, mouse_pos, last_mouse_pos);\n    if (temp_delta[0] || temp_delta[1]) {\n      any_movement = true;\n    }\n    v2copy(last_mouse_pos, mouse_pos);\n  }\n  if (any_movement && movement_questionable_frames && v2lengthSq(temp_delta) > 100*100) {\n    // giant movement right after entering or exiting pointer lock, ignore (Chrome bug)\n    // We get these unreasonable jumps in both movementXY and the other, presumably\n    // because pointerLocked() is slightly out of sync, though the large .movementX/Y\n    // is clearly erroneous.\n    any_movement = false;\n  }\n  if (any_movement) {\n    for (let button = POINTERLOCK; button < mouse_down.length; ++button) {\n      if (mouse_down[button] || button === POINTERLOCK && pointerLocked()) {\n        let touch_data = touches[`m${button}`];\n        if (touch_data) {\n          v2add(touch_data.delta, touch_data.delta, temp_delta);\n          touch_data.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n          v2copy(touch_data.cur_pos, mouse_pos);\n        }\n      }\n    }\n  }\n}\n\nfunction onMouseDown(event) {\n  if (mouse_log) {\n    eventlog(event);\n  }\n  onMouseMove(event); // update mouse_pos\n  onUserInput();\n  let no_click = letEventThrough(event);\n\n  let button = event.button;\n  mouse_down[button] = true;\n  let touch_id = `m${button}`;\n  if (touches[touch_id]) {\n    v2copy(touches[touch_id].start_pos, mouse_pos);\n  } else {\n    touches[touch_id] = new TouchData(mouse_pos, false, button, event);\n  }\n  touches[touch_id].down(event, !no_click);\n  if (!no_click) {\n    in_event.handle('mousedown', event);\n  }\n  //This solves input bug when game is running as iframe. E.g. Facebook Instant\n  if (window.focus) {\n    window.focus();\n  }\n}\n\nfunction onMouseUp(event) {\n  if (mouse_log) {\n    eventlog(event);\n  }\n  onMouseMove(event); // update mouse_pos\n  let no_click = letEventThrough(event);\n  let button = event.button;\n  if (mouse_down[button]) {\n    let touch_id = `m${button}`;\n    let touch_data = touches[touch_id];\n    if (touch_data) {\n      v2copy(touch_data.cur_pos, mouse_pos);\n      if (!no_click) {\n        touch_data.up_edge++;\n      }\n      touch_data.state = UP;\n      touch_data.down_time += timeDelta(event, touch_data.origin_time);\n    }\n    delete mouse_down[button];\n  }\n  if (!no_click) {\n    in_event.handle('mouseup', event);\n  }\n}\n\nfunction onWheel(event) {\n  onMouseMove(event, true);\n  let delta = -event.deltaY || event.wheelDelta || -event.detail;\n  wheel_events.push({\n    pos: [event.pageX, event.pageY],\n    delta: delta > 0 ? 1 : -1,\n    dispatched: false,\n  });\n}\n\nlet touch_pos = vec2();\nlet released_touch_id = 0;\nfunction onTouchChange(event) {\n  // eventlog(event);\n  // Using .pageX/Y here because on iOS when a text entry is selected, it scrolls\n  // our canvas offscreen.  Should maybe have the canvas resize and use clientX\n  // instead, but this works well enough.\n  onUserInput();\n  if (!touch_mode) {\n    local_storage.set('touch_mode', true);\n    touch_mode = true;\n  }\n  if (pad_mode) {\n    local_storage.set('pad_mode', false);\n    pad_mode = false;\n  }\n  if (event.cancelable !== false) {\n    event.preventDefault();\n  }\n  let ct = event.touches;\n  let seen = {};\n\n  let new_count = ct.length;\n  let old_count = new_count;\n  // Look for press and movement\n  for (let ii = 0; ii < new_count; ++ii) {\n    let touch = ct[ii];\n    let last_touch = touches[touch.identifier];\n    v2set(touch_pos, touch.pageX, touch.pageY);\n    if (!last_touch) {\n      last_touch = touches[touch.identifier] = new TouchData(touch_pos, true, 0, event);\n      last_touch.down(event, true);\n      --old_count;\n      in_event.handle('mousedown', touch);\n    } else {\n      v2sub(temp_delta, touch_pos, last_touch.cur_pos);\n      v2add(last_touch.delta, last_touch.delta, temp_delta);\n      last_touch.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n      v2copy(last_touch.cur_pos, touch_pos);\n    }\n\n    seen[touch.identifier] = true;\n    if (TOUCH_AS_MOUSE && new_count === 1) {\n      // Single touch, treat as mouse movement\n      v2copy(mouse_pos, touch_pos);\n      mouse_pos_is_touch = true;\n    }\n  }\n  // Look for release, if releasing exactly one final touch\n  let released_touch;\n  let released_ids = [];\n  for (let id in touches) {\n    if (!seen[id]) {\n      let touch = touches[id];\n      if (touch.touch && touch.state === DOWN) {\n        ++old_count;\n        released_touch = touch;\n        released_ids.push(id);\n        in_event.handle('mouseup', { pageX: touch.cur_pos[0], pageY: touch.cur_pos[1] });\n        touch.up_edge++;\n        touch.state = UP;\n        touch.down_time += timeDelta(event, touch.origin_time);\n        touch.release = true;\n      }\n    }\n  }\n  for (let ii = 0; ii < released_ids.length; ++ii) {\n    let id = released_ids[ii];\n    let touch = touches[id];\n    // get new id, not overlapping with touch.identifier values,\n    // so that if we get a new touch event before the next tick, we still see the release, etc\n    let new_id = `r${++released_touch_id}`;\n    delete touches[id];\n    touches[new_id] = touch;\n  }\n  if (TOUCH_AS_MOUSE) {\n    if (old_count === 1 && new_count === 0) {\n      delete mouse_down[0];\n      v2copy(mouse_pos, released_touch.cur_pos);\n      mouse_pos_is_touch = true;\n    } else if (new_count === 1) {\n      let touch = ct[0];\n      if (!old_count) {\n        mouse_down[0] = true;\n      }\n      v2set(mouse_pos, touch.pageX, touch.pageY);\n      mouse_pos_is_touch = true;\n    } else if (new_count > 1) {\n      // multiple touches, release mouse_down without emitting click\n      delete mouse_down[0];\n    }\n  }\n}\n\nfunction onBlurOrFocus(evt) {\n  protectUnload(false);\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === DOWN) {\n      ks.keyUp(evt);\n    }\n  }\n}\n\nlet ANALOG_MAP = {};\nfunction genAnalogMap() {\n  if (map_analog_to_dpad) {\n    ANALOG_MAP[PAD.LEFT] = PAD.ANALOG_LEFT;\n    ANALOG_MAP[PAD.RIGHT] = PAD.ANALOG_RIGHT;\n    ANALOG_MAP[PAD.UP] = PAD.ANALOG_UP;\n    ANALOG_MAP[PAD.DOWN] = PAD.ANALOG_DOWN;\n  }\n}\n\nlet passive_param = false;\nexport function handleTouches(elem) {\n  elem.addEventListener('touchstart', onTouchChange, passive_param);\n  elem.addEventListener('touchmove', onTouchChange, passive_param);\n  elem.addEventListener('touchend', onTouchChange, passive_param);\n  elem.addEventListener('touchcancel', onTouchChange, passive_param);\n}\n\nexport function startup(_canvas, params) {\n  canvas = _canvas;\n  pointer_lock.startup(canvas, onPointerLockEnter);\n  if (params.map_analog_to_dpad !== undefined) {\n    map_analog_to_dpad = params.map_analog_to_dpad;\n  }\n  pad_to_touch = params.pad_to_touch;\n  genAnalogMap();\n\n  try {\n    let opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive_param = { passive: false };\n        return false;\n      }\n    });\n    window.addEventListener('test', null, opts);\n    window.removeEventListener('test', null, opts);\n  } catch (e) {\n    passive_param = false;\n  }\n\n  window.addEventListener('keydown', onKeyDown, false);\n  window.addEventListener('keyup', onKeyUp, false);\n\n  window.addEventListener('click', ignored, false);\n  window.addEventListener('contextmenu', ignored, false);\n  window.addEventListener('mousemove', onMouseMove, false);\n  window.addEventListener('mousedown', onMouseDown, false);\n  window.addEventListener('mouseup', onMouseUp, false);\n  if (window.WheelEvent) {\n    window.addEventListener('wheel', onWheel, passive_param);\n  } else {\n    window.addEventListener('DOMMouseScroll', onWheel, false);\n    window.addEventListener('mousewheel', onWheel, false);\n  }\n\n  window.addEventListener('blur', onBlurOrFocus, false);\n  window.addEventListener('focus', onBlurOrFocus, false);\n\n  handleTouches(canvas);\n\n  // For iOS, this is needed in test_fullscreen, but not here, for some reason\n  //window.addEventListener('gesturestart', ignored, false);\n\n  window.addEventListener('beforeunload', beforeUnload, false);\n}\n\n\nconst DEADZONE = 0.26;\nconst DEADZONE_SQ = DEADZONE * DEADZONE;\nconst NUM_STICKS = 2;\nconst PAD_THRESHOLD = 0.25; // for turning analog motion into digital events\n\nfunction getGamepadData(idx) {\n  let gpd = gamepad_data[idx];\n  if (!gpd) {\n    gpd = gamepad_data[idx] = {\n      id: idx,\n      timestamp: 0,\n      sticks: new Array(NUM_STICKS),\n    };\n    for (let ii = 0; ii < NUM_STICKS; ++ii) {\n      gpd.sticks[ii] = vec2();\n    }\n    pad_states[idx] = {};\n  }\n  return gpd;\n}\n\nfunction updatePadState(gpd, ps, b, padcode) {\n  if (b && !ps[padcode]) {\n    ps[padcode] = DOWN_EDGE;\n    if (touch_mode) {\n      local_storage.set('touch_mode', false);\n      touch_mode = false;\n    }\n    if (!pad_mode) {\n      local_storage.setJSON('pad_mode', true);\n      pad_mode = true;\n    }\n    if (padcode === pad_to_touch) {\n      let touch_id = `g${gpd.id}`;\n      if (touches[touch_id]) {\n        setMouseToMid();\n        v2copy(touches[touch_id].start_pos, mouse_pos);\n      } else {\n        touches[touch_id] = new TouchData(mouse_pos, false, 0, null);\n      }\n      touches[touch_id].down(null, true);\n    }\n  } else if (!b && ps[padcode]) {\n    ps[padcode] = UP_EDGE;\n    if (padcode === pad_to_touch) {\n      let touch_id = `g${gpd.id}`;\n      let touch_data = touches[touch_id];\n      if (touch_data) {\n        setMouseToMid();\n        v2copy(touch_data.cur_pos, mouse_pos);\n        touch_data.up_edge++;\n        touch_data.state = UP;\n        touch_data.down_time += max(engine.hrtime - touch_data.origin_time, MIN_EVENT_TIME_DELTA);\n      }\n    }\n  }\n}\n\nfunction gamepadUpdate() {\n  let gamepads = (navigator.gamepads ||\n    navigator.webkitGamepads ||\n    (navigator.getGamepads && navigator.getGamepads()) ||\n    (navigator.webkitGetGamepads && navigator.webkitGetGamepads()));\n\n  if (gamepads) {\n    let numGamePads = gamepads.length;\n    for (let ii = 0; ii < numGamePads; ii++) {\n      let gamepad = gamepads[ii];\n      if (!gamepad) {\n        continue;\n      }\n      let gpd = getGamepadData(ii);\n      let ps = pad_states[ii];\n      // Update button states\n      if (gpd.timestamp < gamepad.timestamp) {\n        let buttons = gamepad.buttons;\n        gpd.timestamp = gamepad.timestamp;\n\n        let numButtons = buttons.length;\n        for (let n = 0; n < numButtons; n++) {\n          let value = buttons[n];\n          if (typeof value === 'object') {\n            value = value.value;\n          }\n          value = value > 0.5;\n          updatePadState(gpd, ps, value, n);\n        }\n      }\n\n      // Update axes states\n      let axes = gamepad.axes;\n      if (axes.length >= NUM_STICKS * 2) {\n        for (let n = 0; n < NUM_STICKS; ++n) {\n          let pair = gpd.sticks[n];\n          v2set(pair, axes[n*2], -axes[n*2 + 1]);\n          let magnitude = v2lengthSq(pair);\n          if (magnitude > DEADZONE_SQ) {\n            magnitude = sqrt(magnitude);\n\n            // Normalize lX and lY\n            v2scale(pair, pair, 1 / magnitude);\n\n            // Clip the magnitude at its max possible value\n            magnitude = min(magnitude, 1);\n\n            // Adjust magnitude relative to the end of the dead zone\n            magnitude = ((magnitude - DEADZONE) / (1 - DEADZONE));\n\n            v2scale(pair, pair, magnitude);\n          } else {\n            v2set(pair, 0, 0);\n          }\n\n          // Apply \"movement\" to drag events\n          if (n <= 1 && pad_to_touch !== undefined) {\n            let touch_data = touches[`g${gpd.id}`];\n            if (touch_data) {\n              v2scale(temp_delta, pair, engine.frame_dt);\n              v2add(touch_data.delta, touch_data.delta, temp_delta);\n              touch_data.total += abs(temp_delta[0]) + abs(temp_delta[1]);\n              setMouseToMid();\n              v2copy(touch_data.cur_pos, mouse_pos);\n            }\n          }\n        }\n\n        // Calculate virtual directional buttons\n        updatePadState(gpd, ps, gpd.sticks[0][0] < -PAD_THRESHOLD, PAD.ANALOG_LEFT);\n        updatePadState(gpd, ps, gpd.sticks[0][0] > PAD_THRESHOLD, PAD.ANALOG_RIGHT);\n        updatePadState(gpd, ps, gpd.sticks[0][1] < -PAD_THRESHOLD, PAD.ANALOG_DOWN);\n        updatePadState(gpd, ps, gpd.sticks[0][1] > PAD_THRESHOLD, PAD.ANALOG_UP);\n      }\n    }\n  }\n}\n\nexport function tickInput() {\n  // browser frame has occurred since the call to endFrame(),\n  // we should now have `touches` and `key_state` populated with edge events\n  if (movement_questionable_frames) {\n    --movement_questionable_frames;\n  }\n\n  // update timing of key down states\n  let hrtime = engine.hrtime;\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === DOWN) {\n      ks.down_time += max(hrtime - ks.origin_time, MIN_EVENT_TIME_DELTA);\n      // assert(hrtime >= ks.origin_time); - should be true, but often isn't\n      ks.origin_time = hrtime;\n    }\n  }\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (touch_data.state === DOWN) {\n      touch_data.down_time += max(hrtime - touch_data.origin_time, MIN_EVENT_TIME_DELTA);\n      // assert(hrtime >= touch_data.origin_time); - should be true, but often isn't\n      touch_data.origin_time = hrtime;\n    }\n  }\n\n  mouse_over_captured = false;\n  gamepadUpdate();\n  in_event.topOfFrame();\n  ctrl_checked = false;\n  if (touches[pointerlock_touch_id] && !pointerLocked()) {\n    pointerLockExit();\n  }\n}\n\nfunction endFrameTickMap(map) {\n  Object.keys(map).forEach((keycode) => {\n    switch (map[keycode]) {\n      case DOWN_EDGE:\n        map[keycode] = DOWN;\n        break;\n      case UP_EDGE:\n        delete map[keycode];\n        break;\n      default:\n    }\n  });\n}\nexport function endFrame(skip_mouse) {\n  for (let code in key_state_new) {\n    let ks = key_state_new[code];\n    if (ks.state === UP) {\n      key_state_new[code] = null;\n      delete key_state_new[code];\n    } else {\n      ks.up_edge = 0;\n      ks.down_edge = 0;\n      ks.down_time = 0;\n    }\n  }\n\n  pad_states.forEach(endFrameTickMap);\n  if (!skip_mouse) {\n    for (let touch_id in touches) {\n      let touch_data = touches[touch_id];\n      if (touch_data.state === UP) {\n        // Manually null out touches[touch_id] - some Chrome optimizer bug causes\n        // callers to later get this old value (instead of the newly added on with\n        // the same ID) unless we null it out (then they seem to get the new one).\n        touches[touch_id] = null;\n        delete touches[touch_id];\n      } else {\n        touch_data.delta[0] = touch_data.delta[1] = 0;\n        touch_data.dispatched = false;\n        touch_data.dispatched_drag = false;\n        touch_data.dispatched_drag_over = false;\n        touch_data.up_edge = 0;\n        touch_data.down_edge = 0;\n        touch_data.down_time = 0;\n      }\n    }\n    wheel_events.length = 0;\n    input_eaten_mouse = false;\n  }\n  input_eaten_kb = false;\n  mouse_moved = false;\n}\n\nexport function tickInputInactive() {\n  in_event.topOfFrame();\n  ctrl_checked = false;\n  endFrame();\n}\n\nexport function eatAllInput(skip_mouse) {\n  // destroy touches, remove all down and up edges\n  endFrame(skip_mouse);\n  if (!skip_mouse) {\n    mouse_over_captured = true;\n    input_eaten_mouse = true;\n  }\n  input_eaten_kb = true;\n}\n\nexport function eatAllKeyboardInput() {\n  eatAllInput(true);\n}\n\n// returns position mapped to current camera view\nexport function mousePos(dst) {\n  dst = dst || vec2();\n  camera2d.domToVirtual(dst, mouse_pos);\n  return dst;\n}\n\nexport function mouseMoved() {\n  return mouse_moved;\n}\n\nfunction mousePosParam(param) {\n  param = param || {};\n  return {\n    x: param.x === undefined ? camera2d.x0Real() : param.x,\n    y: param.y === undefined ? camera2d.y0Real() : param.y,\n    w: param.w === undefined ? camera2d.wReal() : param.w,\n    h: param.h === undefined ? camera2d.hReal() : param.h,\n    button: param.button === undefined ? ANY : param.button,\n  };\n}\n\nlet check_pos = vec2();\nfunction checkPos(pos, param) {\n  if (!camera2d.domToVirtual(check_pos, pos)) {\n    return false;\n  }\n  return check_pos[0] >= param.x && (param.w === Infinity || check_pos[0] < param.x + param.w) &&\n    check_pos[1] >= param.y && (param.h === Infinity || check_pos[1] < param.y + param.h);\n}\n\nexport function mouseWheel(param) {\n  if (input_eaten_mouse || !wheel_events.length) {\n    return 0;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let ret = 0;\n  for (let ii = 0; ii < wheel_events.length; ++ii) {\n    let data = wheel_events[ii];\n    if (data.dispatched) {\n      continue;\n    }\n    if (checkPos(data.pos, pos_param)) {\n      ret += data.delta;\n      data.dispatched = true;\n    }\n  }\n  return ret;\n}\n\nexport function mouseOver(param) {\n  if (mouse_over_captured || pointerLocked() && !(param && param.allow_pointerlock)) {\n    return false;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n\n  // eat mouse up/down/drag events\n  if (!param.peek) {\n    for (let id in touches) {\n      let touch = touches[id];\n      if (checkPos(touch.cur_pos, pos_param)) {\n        touch.down_edge = 0;\n        touch.up_edge = 0;\n        if (!param || !param.drag_target) {\n          touch.dispatched = true;\n        }\n      }\n    }\n  }\n\n  if (checkPos(mouse_pos, pos_param)) {\n    if (!param.peek) {\n      mouse_over_captured = true;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function mouseDown(param) {\n  if (input_eaten_mouse) {\n    return null;\n  }\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  // *maybe* should default to Infinite, but for now, defaulting to the same as mouseUpEdge()\n  let max_click_dist = param.max_dist || 50; // TODO: relative to camera distance?\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (touch_data.state !== DOWN ||\n      !(button === ANY || button === touch_data.button) ||\n      touch_data.total > max_click_dist\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      // if (!param.peek) {\n      //   touch_data.up_edge = 0;\n      // }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  return null;\n}\n\nexport function mousePosIsTouch() {\n  return mouse_pos_is_touch;\n}\n\nexport function numTouches() {\n  return Object.keys(touches).length;\n}\n\nexport function keyDown(keycode) {\n  if (keycode === KEYS.CTRL) {\n    ctrl_checked = true;\n  }\n  if (input_eaten_kb) {\n    return 0;\n  }\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  if (ks.state === DOWN) {\n    assert(ks.down_time); // Will fire if we call keyDown() before tickInput()\n  }\n  return ks.down_time;\n}\nexport function keyDownEdge(keycode, opts) {\n  if (opts && opts.in_event_cb && !input_eaten_kb) {\n    in_event.on('keydown', keycode, opts.in_event_cb);\n  }\n\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  let r = ks.down_edge;\n  ks.down_edge = 0;\n  return r;\n}\nexport function keyUpEdge(keycode, opts) {\n  if (opts && opts.in_event_cb && !input_eaten_kb) {\n    in_event.on('keyup', keycode, opts.in_event_cb);\n  }\n\n  let ks = key_state_new[keycode];\n  if (!ks) {\n    return 0;\n  }\n  let r = ks.up_edge;\n  ks.up_edge = 0;\n  return r;\n}\n\nexport function padGetAxes(out, stickindex, padindex) {\n  assert(stickindex >= 0 && stickindex < NUM_STICKS);\n  if (padindex === undefined) {\n    let sub = vec2();\n    v2set(out, 0, 0);\n    for (let ii = 0; ii < gamepad_data.length; ++ii) {\n      padGetAxes(sub, stickindex, ii);\n      v2add(out, out, sub);\n    }\n    return;\n  }\n  let sticks = getGamepadData(padindex).sticks;\n  v2copy(out, sticks[stickindex]);\n}\n\nfunction padButtonDownInternal(gpd, ps, padcode) {\n  if (ps[padcode]) {\n    return engine.frame_dt;\n  }\n  return 0;\n}\nfunction padButtonDownEdgeInternal(gpd, ps, padcode) {\n  if (ps[padcode] === DOWN_EDGE) {\n    ps[padcode] = DOWN;\n    return engine.frame_dt;\n  }\n  return 0;\n}\nfunction padButtonUpEdgeInternal(gpd, ps, padcode) {\n  if (ps[padcode] === UP_EDGE) {\n    delete ps[padcode];\n    return engine.frame_dt;\n  }\n  return 0;\n}\n\nfunction padButtonShared(fn, padcode, padindex) {\n  assert(padcode !== undefined);\n  let r = 0;\n  // Handle calling without a specific pad index\n  if (padindex === undefined) {\n    for (let ii = 0; ii < pad_states.length; ++ii) {\n      r += padButtonShared(fn, padcode, ii);\n    }\n    return r;\n  }\n\n  if (input_eaten_mouse) {\n    return 0;\n  }\n  let gpd = gamepad_data[padindex];\n  if (!gpd) {\n    return 0;\n  }\n  let ps = pad_states[padindex];\n\n  r += ANALOG_MAP[padcode] && fn(gpd, ps, ANALOG_MAP[padcode]) || 0;\n  r += fn(gpd, ps, padcode);\n  return r;\n}\nexport function padButtonDown(padcode, padindex) {\n  return padButtonShared(padButtonDownInternal, padcode, padindex);\n}\nexport function padButtonDownEdge(padcode, padindex) {\n  return padButtonShared(padButtonDownEdgeInternal, padcode, padindex);\n}\nexport function padButtonUpEdge(padcode, padindex) {\n  return padButtonShared(padButtonUpEdgeInternal, padcode, padindex);\n}\n\nlet start_pos = vec2();\nlet cur_pos = vec2();\nlet delta = vec2();\n\nexport function mouseUpEdge(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let max_click_dist = param.max_dist || 50; // TODO: relative to camera distance?\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!touch_data.up_edge) {\n      continue;\n    }\n    if (!(button === ANY || button === touch_data.button) ||\n      touch_data.total > max_click_dist\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        touch_data.up_edge = 0;\n      }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  if (param.in_event_cb && !input_eaten_mouse && !mouse_over_captured) {\n    // TODO: Maybe need to also pass along earlier exclusions?  Working okay for now though.\n    if (!param.phys) {\n      param.phys = {};\n    }\n    param.phys.button = typeof param.in_event_button === 'number' ? param.in_event_button : button;\n    camera2d.virtualToDomPosParam(param.phys, pos_param);\n    in_event.on('mouseup', param.phys, param.in_event_cb);\n  }\n  return false;\n}\nexports.click = mouseUpEdge;\n\nexport function mouseDownEdge(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!touch_data.down_edge ||\n      !(button === ANY || button === touch_data.button)\n    ) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        touch_data.down_edge = 0;\n      }\n      return {\n        button: touch_data.button,\n        pos: check_pos.slice(0),\n        start_time: touch_data.start_time,\n      };\n    }\n  }\n\n  if (param.in_event_cb && !input_eaten_mouse && !mouse_over_captured) {\n    // TODO: Maybe need to also pass along earlier exclusions?  Working okay for now though.\n    if (!param.phys) {\n      param.phys = {};\n    }\n    param.phys.button = button;\n    camera2d.virtualToDomPosParam(param.phys, pos_param);\n    in_event.on('mousedown', param.phys, param.in_event_cb);\n  }\n  return false;\n}\n\n// Completely consume any clicks or drags coming from a mouse down event in this\n// area - used to catch focus leaving an edit box without wanting to do what\n// a click would normally do.\nexport function mouseConsumeClicks(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    // Skipping those that already dispatched a drag this frame, must have been handled, do not consume it!\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched_drag) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      touch_data.down_edge = 0;\n      // Set start pos so that it will not pass checkPos\n      touch_data.start_pos[0] = touch_data.start_pos[1] = Infinity;\n      // Set .total so that mouseUpEdge will not detect it as a click\n      touch_data.total = Infinity;\n    }\n  }\n}\n\nexport function drag(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let min_dist = param.min_dist || 0;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched_drag) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      camera2d.domDeltaToVirtual(delta, [touch_data.total/2, touch_data.total/2]);\n      let total = delta[0] + delta[1];\n      if (total < min_dist) {\n        continue;\n      }\n      if (!param.peek) {\n        touch_data.dispatched_drag = true;\n      }\n      let is_down_edge = touch_data.down_edge;\n      if (param.eat_clicks) {\n        touch_data.down_edge = touch_data.up_edge = 0;\n      }\n      if (param.payload) {\n        touch_data.drag_payload = param.payload;\n      }\n      camera2d.domToVirtual(start_pos, touch_data.start_pos);\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      camera2d.domDeltaToVirtual(delta, touch_data.delta);\n      return {\n        cur_pos,\n        start_pos,\n        delta, // this frame's delta\n        total, // total (linear) distance dragged\n        button: touch_data.button,\n        touch: touch_data.touch,\n        start_time: touch_data.start_time,\n        is_down_edge,\n        down_time: touch_data.down_time,\n      };\n    }\n  }\n  return null;\n}\n\n// a lot like drag(), refactor to share more?\nexport function longPress(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n  let max_dist = param.max_dist || 0;\n  let min_time = param.min_time || 500;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) || touch_data.long_press_dispatched) {\n      continue;\n    }\n    if (checkPos(touch_data.start_pos, pos_param)) {\n      camera2d.domDeltaToVirtual(delta, [touch_data.total/2, touch_data.total/2]);\n      let total = delta[0] + delta[1];\n      if (total > max_dist) {\n        continue;\n      }\n      let time = Date.now() - touch_data.start_time;\n      if (time < min_time) {\n        continue;\n      }\n      if (!param.peek) {\n        // ? touch_data.dispatched = true;\n        touch_data.long_press_dispatched = true;\n      }\n      let is_down_edge = touch_data.down_edge;\n      if (param.eat_clicks) {\n        touch_data.down_edge = touch_data.up_edge = 0;\n      }\n      camera2d.domToVirtual(start_pos, touch_data.start_pos);\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      camera2d.domDeltaToVirtual(delta, touch_data.delta);\n      return {\n        long_press: true,\n        cur_pos,\n        start_pos,\n        delta, // this frame's delta\n        total, // total (linear) distance dragged\n        button: touch_data.button,\n        touch: touch_data.touch,\n        start_time: touch_data.start_time,\n        is_down_edge,\n        down_time: touch_data.down_time,\n      };\n    }\n  }\n  return null;\n}\n\nexport function dragDrop(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    // Maybe touch_data.dispatched_drag_over instead/as well?\n    if (!(button === ANY || button === touch_data.button) || touch_data.dispatched || !touch_data.drag_payload) {\n      continue;\n    }\n    if (!touch_data.up_edge) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      if (!param.peek) {\n        // don't want the source (possibly called later this frame) to still think it's dragging\n        touch_data.dispatched_drag_over = true;\n        touch_data.dispatched_drag = true;\n        touch_data.dispatched = true;\n      }\n      return { drag_payload: touch_data.drag_payload };\n    }\n  }\n  return null;\n}\n\nexport function dragOver(param) {\n  param = param || {};\n  let pos_param = mousePosParam(param);\n  let button = pos_param.button;\n\n  for (let touch_id in touches) {\n    let touch_data = touches[touch_id];\n    if (!(button === ANY || button === touch_data.button) ||\n      touch_data.dispatched_drag_over ||\n      !touch_data.drag_payload\n    ) {\n      continue;\n    }\n    if (touch_data.state !== DOWN) {\n      continue;\n    }\n    if (checkPos(touch_data.cur_pos, pos_param)) {\n      // Separate 'dispatched' for dragOver (target) and drag (source) - they both need one dispatch per frame\n      if (!param.peek) {\n        touch_data.dispatched_drag_over = true;\n      }\n      camera2d.domToVirtual(cur_pos, touch_data.cur_pos);\n      return {\n        cur_pos,\n        drag_payload: touch_data.drag_payload\n      };\n    }\n  }\n  return null;\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst engine = require('./engine.js');\nconst camera2d = require('./camera2d.js');\nconst in_event = require('./in_event.js');\nconst input = require('./input.js');\nconst { abs } = Math;\nconst ui = require('./ui.js');\n\nlet state_cache = {};\nlet good_url = /https?:\\/\\//;\n\n// Create an invisible A elem in the DOM so we get all of the good browsery\n// behavior for a link area.\nexport function link(param) {\n  let { x, y, w, h, url, internal, allow_modal } = param;\n  if (!url.match(good_url)) {\n    url = `${document.location.protocol}//${url}`;\n  }\n  let key = `${x}_${y}`;\n  let state = state_cache[key];\n  if (!state) {\n    state = state_cache[key] = { clicked: false };\n  }\n  state.frame = engine.frame_index;\n\n  let rect = { x, y, w, h };\n\n  if (camera2d.clipTestRect(rect)) {\n    // at least some is not clipped\n    let elem = ui.getElem(allow_modal, state.elem);\n    if (elem !== state.elem) {\n      state.elem = elem;\n      if (elem) {\n        // new DOM element, initialize\n        elem.textContent = '';\n        let a_elem = document.createElement('a');\n        a_elem.setAttribute('draggable', false);\n        a_elem.textContent = ' ';\n        a_elem.className = 'glovui_link noglov';\n        a_elem.setAttribute('target', '_blank');\n        a_elem.setAttribute('href', url);\n        state.url = url;\n        if (internal) {\n          let down_x;\n          let down_y;\n          input.handleTouches(a_elem);\n          a_elem.onmousedown = function (ev) {\n            down_x = ev.pageX;\n            down_y = ev.pageY;\n          };\n          a_elem.onclick = function (ev) {\n            ev.preventDefault();\n            if (down_x) {\n              let dist = abs(ev.pageX - down_x) + abs(ev.pageY - down_y);\n              if (dist > 50) {\n                return;\n              }\n            }\n            state.clicked = true;\n            in_event.handle('mouseup', ev);\n          };\n        }\n        elem.appendChild(a_elem);\n        state.a_elem = a_elem;\n      }\n    }\n    if (elem) {\n      if (url !== state.url) {\n        state.a_elem.setAttribute('href', url);\n        state.url = url;\n      }\n\n      let pos = camera2d.htmlPos(rect.x, rect.y);\n      elem.style.left = `${pos[0]}%`;\n      elem.style.top = `${pos[1]}%`;\n      let size = camera2d.htmlSize(rect.w, rect.h);\n      elem.style.width = `${size[0]}%`;\n      elem.style.height = `${size[1]}%`;\n    }\n  }\n  let clicked = state.clicked;\n  state.clicked = false;\n  return clicked;\n}\n\nexport function linkText(param) {\n  let { style_link, style_link_hover, x, y, z, font_size, text, url } = param;\n  text = text || url;\n  z = z || Z.UI;\n  font_size = font_size || ui.font_height;\n  // Also: any parameter to link(), e.g. url\n  let w = ui.font.getStringWidth(style_link, font_size, text);\n  let h = font_size;\n  let mouseover = input.mouseOver({ x, y, w, h, peek: true }) && !input.mousePosIsTouch();\n  let style = mouseover ? style_link_hover : style_link;\n  ui.font.drawSized(style, x, y, z, font_size, text);\n  let underline_w = 1;\n  ui.drawLine(x, y + h - underline_w, x + w, y + h - underline_w, z - 0.5, underline_w, 0.99, style.color_vec4);\n  param.w = w;\n  param.h = h;\n  return link(param);\n}\n\nexport function linkTick() {\n  for (let key in state_cache) {\n    let state = state_cache[key];\n    if (state.frame !== engine.frame_index - 1) {\n      delete state_cache[key];\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nexports.storage_prefix = 'demo';\n\nlet lsd = (function () {\n  try {\n    localStorage.test = 'test';\n    return localStorage;\n  } catch (e) {\n    return {};\n  }\n}());\nexport function get(key) {\n  key = `${exports.storage_prefix}_${key}`;\n  let ret = lsd[key];\n  if (ret === 'undefined') {\n    ret = undefined;\n  }\n  return ret;\n}\n\nexport function set(key, value) {\n  key = `${exports.storage_prefix}_${key}`;\n  if (value === undefined || value === null) {\n    delete lsd[key];\n  } else {\n    lsd[key] = value;\n  }\n}\n\nexport function setJSON(key, value) {\n  set(key, JSON.stringify(value));\n}\n\nexport function getJSON(key, def) {\n  let value = get(key);\n  if (value === undefined) {\n    return def;\n  }\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    // ignore\n  }\n  return def;\n}\n\nexport function clearAll(key_prefix) {\n  let prefix = new RegExp(`^${exports.storage_prefix}_${key_prefix || ''}`, 'u');\n  for (let key in lsd) {\n    if (key.match(prefix)) {\n      delete lsd[key];\n    }\n  }\n}\n\nexport function exportAll() {\n  let obj = {};\n  let prefix = new RegExp(`^${exports.storage_prefix}_(.*)`, 'u');\n  for (let key in lsd) {\n    let m = key.match(prefix);\n    if (m) {\n      let v = lsd[key];\n      if (v && v !== 'undefined') {\n        obj[m[1]] = v;\n      }\n    }\n  }\n  return JSON.stringify(obj);\n}\n\nexport function importAll(serialized) {\n  let obj = JSON.parse(serialized);\n  clearAll();\n  for (let key in obj) {\n    set(key, obj[key]);\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport function mat43() {\n  let r = new Float32Array(12);\n  r[0] = r[4] = r[8] = 1;\n  return r;\n}\n\nexport function m43identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  out[9] = 0;\n  out[10] = 0;\n  out[11] = 0;\n}\n\nexport function m43mul(out, a, b) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let a3 = a[3];\n  let a4 = a[4];\n  let a5 = a[5];\n  let a6 = a[6];\n  let a7 = a[7];\n  let a8 = a[8];\n  let a9 = a[9];\n  let a10 = a[10];\n  let a11 = a[11];\n\n  let b0 = b[0];\n  let b1 = b[1];\n  let b2 = b[2];\n  let b3 = b[3];\n  let b4 = b[4];\n  let b5 = b[5];\n  let b6 = b[6];\n  let b7 = b[7];\n  let b8 = b[8];\n\n  out[0] = (b0 * a0 + b3 * a1 + b6 * a2);\n  out[1] = (b1 * a0 + b4 * a1 + b7 * a2);\n  out[2] = (b2 * a0 + b5 * a1 + b8 * a2);\n  out[3] = (b0 * a3 + b3 * a4 + b6 * a5);\n  out[4] = (b1 * a3 + b4 * a4 + b7 * a5);\n  out[5] = (b2 * a3 + b5 * a4 + b8 * a5);\n  out[6] = (b0 * a6 + b3 * a7 + b6 * a8);\n  out[7] = (b1 * a6 + b4 * a7 + b7 * a8);\n  out[8] = (b2 * a6 + b5 * a7 + b8 * a8);\n  out[9] = (b0 * a9 + b3 * a10 + b6 * a11 + b[9]);\n  out[10] = (b1 * a9 + b4 * a10 + b7 * a11 + b[10]);\n  out[11] = (b2 * a9 + b5 * a10 + b8 * a11 + b[11]);\n\n  return out;\n}\n","// Derived from https://github.com/toji/gl-matrix/blob/master/src/mat4.js\n// Under MIT License\n\nmodule.exports = function (out, uniform_scale, quat, pos) {\n  // Quaternion math\n  let x = quat[0];\n  let y = quat[1];\n  let z = quat[2];\n  let w = quat[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n\n  out[0] = (1 - (yy + zz)) * uniform_scale;\n  out[1] = (xy + wz) * uniform_scale;\n  out[2] = (xz - wy) * uniform_scale;\n  out[3] = 0;\n  out[4] = (xy - wz) * uniform_scale;\n  out[5] = (1 - (xx + zz)) * uniform_scale;\n  out[6] = (yz + wx) * uniform_scale;\n  out[7] = 0;\n  out[8] = (xz + wy) * uniform_scale;\n  out[9] = (yz - wx) * uniform_scale;\n  out[10] = (1 - (xx + yy)) * uniform_scale;\n  out[11] = 0;\n  out[12] = pos[0];\n  out[13] = pos[1];\n  out[14] = pos[2];\n  out[15] = 1;\n\n  return out;\n};\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\n/*\n  Convert models to GLB with:\n  node_modules\\.bin\\gltf-pipeline.cmd -t -i src/client/models/box.gltf -o src/client/models/box.glb\n  // The -t tells it not to embed the textures, but just leave the URIs\n */\n\nconst assert = require('assert');\nconst geom = require('./geom.js');\nconst glb_parser = require('./glb/parser.js');\nconst { ATTRIBUTE_TYPE_TO_COMPONENTS } = require('./glb/gltf-type-utils.js');\nconst renderer = require('./engine.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst { vec4 } = require('./vmath.js');\nconst { webFSGetFile } = require('./webfs.js');\n\nexport let load_count = 0;\n\nexport let models = {};\n\nexport let default_vshader;\nexport let default_fshader;\n\nfunction initShaders() {\n  default_vshader = shaders.create('glov/shaders/default.vp');\n  default_fshader = shaders.create('glov/shaders/default.fp');\n}\n\nfunction Model(url) {\n  this.url = url;\n  let idx = url.lastIndexOf('/');\n  if (idx !== -1) {\n    this.base_url = url.slice(0, idx + 1);\n  } else {\n    this.base_url = '';\n  }\n}\n\nModel.prototype.load = function () {\n  ++load_count;\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', this.url, true);\n  xhr.responseType = 'arraybuffer';\n  xhr.onload = () => {\n    --load_count;\n    try {\n      let array_buffer = xhr.response; // Note: not xhr.responseText\n      if ((xhr.status === 200 || xhr.status === 0) && array_buffer) {\n        this.parse(array_buffer);\n      }\n    } catch (e) {\n      window.onerror('Model loading error', 'models.js', 0, 0, e);\n    }\n  };\n  xhr.send(null);\n};\n\nconst skip_attr = {\n  'TANGENT': true,\n};\n\nModel.prototype.parse = function (glb_data) {\n  let glb = glb_parser.parse(glb_data);\n  if (!glb) {\n    return;\n  }\n  // Make Geoms for each primitives within each mesh\n  let glb_json = glb.getJSON();\n  let objs = [];\n  for (let ii = 0; ii < glb_json.meshes.length; ++ii) {\n    let mesh = glb_json.meshes[ii];\n    for (let jj = 0; jj < mesh.primitives.length; ++jj) {\n      let primitives = mesh.primitives[jj];\n      let material = glb_json.materials[primitives.material];\n      let texture = null;\n      if (material) {\n        // Just grabbing the base color texture, nothing else\n        let bct = (material.pbrMetallicRoughness || {}).baseColorTexture || {};\n        let texture_def = glb_json.textures && glb_json.textures[bct.index] || {};\n        let sampler_def = glb_json.samplers && glb_json.samplers[texture_def.sampler] || {};\n        let image = glb_json.images && glb_json.images[texture_def.source] || {};\n        if (image.uri) {\n          let params = {\n            url: `${this.base_url}${image.uri}`,\n            filter_mag: sampler_def.magFilter,\n            filter_min: sampler_def.minFilter,\n            wrap_s: sampler_def.wrapS,\n            wrap_t: sampler_def.wrapT,\n          };\n          texture = textures.load(params);\n        }\n      }\n      let format = [];\n      let buffers = [];\n      let bidx = [];\n      let total_size = 0;\n      let vert_count = 0;\n      for (let attr in primitives.attributes) {\n        if (skip_attr[attr]) {\n          continue;\n        }\n        assert(shaders.semantic[attr] !== undefined);\n        let accessor = glb_json.accessors[primitives.attributes[attr]];\n        assert.equal(accessor.componentType, 5126); // F32\n        let geom_format = gl.FLOAT;\n        let geom_count = ATTRIBUTE_TYPE_TO_COMPONENTS[accessor.type];\n        assert(geom_count);\n        let my_vert_count = accessor.count/* / geom_count*/;\n        if (!vert_count) {\n          vert_count = my_vert_count;\n        } else {\n          assert.equal(vert_count, my_vert_count);\n        }\n        format.push([shaders.semantic[attr], geom_format, geom_count]);\n        let buffer = glb.getBuffer(accessor);\n        buffers.push(buffer);\n        bidx.push(0);\n        total_size += buffer.length;\n      }\n      // Interleave\n      let verts = new Float32Array(total_size);\n      let idx = 0;\n      for (let vert = 0; vert < vert_count; ++vert) {\n        for (let attr = 0; attr < format.length; ++attr) {\n          for (let kk = 0; kk < format[attr][2]; ++kk) {\n            verts[idx++] = buffers[attr][bidx[attr]++];\n          }\n        }\n      }\n      // Get indices\n      let accessor = glb_json.accessors[primitives.indices];\n      assert(accessor); // must be an indexed primitive set\n      assert.equal(accessor.type, 'SCALAR');\n      let idxs = glb.getBuffer(accessor);\n      if (accessor.componentType === 5125) { // Uint32\n        assert(vert_count < 65536); // Fits in 16-bits\n        // Just convert to 16-bit\n        idxs = new Uint16Array(idxs);\n      } else {\n        assert.equal(accessor.componentType, 5123); // Uint16\n      }\n      objs.push({\n        geom: geom.create(format, verts, idxs, primitives.mode),\n        texture,\n      });\n    }\n  }\n  // TODO: Something with nodes to tie together and position the meshes\n  this.data = {\n    objs,\n    // glb, - Don't keep this, release it and any unreferenced data/buffers\n  };\n};\n\nModel.prototype.draw = function (mat) {\n  renderer.updateMatrices(mat); // before setting shader\n  shaders.bind(default_vshader, default_fshader, {\n    color: vec4(1, 1, 1, 1),\n  });\n  let objs = this.data.objs;\n  for (let ii = 0; ii < objs.length; ++ii) {\n    let obj = objs[ii];\n    if (obj.texture) {\n      textures.bind(0, obj.texture);\n    }\n    obj.geom.draw();\n  }\n};\n\n// Just draw the geometry, without any other binding\nModel.prototype.drawGeom = function () {\n  let objs = this.data.objs;\n  for (let ii = 0; ii < objs.length; ++ii) {\n    let obj = objs[ii];\n    obj.geom.draw();\n  }\n};\n\nexport function load(url) {\n  if (models[url]) {\n    return models[url];\n  }\n  let model = models[url] = new Model(url);\n  model.data = models.box.data; // stub until loaded\n  model.load();\n  return model;\n}\n\nexport function startup() {\n  initShaders();\n  let model_box = models.box = new Model('box');\n  model_box.parse(webFSGetFile('glov/models/box_textured_embed.glb').buffer);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { filewatchStartup } = require('./filewatch.js');\nconst packet = require('../../common/packet.js');\nconst subscription_manager = require('./subscription_manager.js');\nconst WSClient = require('./wsclient.js').WSClient;\nconst wscommon = require('../../common/wscommon.js');\n\nlet client;\nlet subs;\n\nexport function init(params) {\n  params = params || {};\n  if (params.pver) {\n    wscommon.PROTOCOL_VERSION = params.pver;\n  }\n  if (String(document.location).match(/^https?:\\/\\/localhost/)) {\n    console.log('PacketDebug: ON');\n    packet.default_flags |= packet.PACKET_DEBUG;\n  }\n  client = new WSClient(params.path);\n  subs = subscription_manager.create(client, params.cmd_parse);\n  subs.auto_create_user = Boolean(params.auto_create_user);\n  window.subs = subs; // for debugging\n  exports.subs = subs;\n  exports.client = client;\n  filewatchStartup(client);\n\n  if (params.engine) {\n    params.engine.addTickFunc((dt) => {\n      client.checkDisconnect();\n      subs.tick(dt);\n    });\n  }\n}\n\nconst build_timestamp_string = new Date(Number(BUILD_TIMESTAMP))\n  .toISOString()\n  .replace('T', ' ')\n  .slice(5, -8);\nexport function buildString() {\n  return build_timestamp_string;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./cmds.js');\nconst glov_engine = require('./engine.js');\nconst net = require('./net.js');\nconst perf = require('./perf.js');\nconst settings = require('./settings.js');\nconst util = require('../../common/util.js');\nconst { wsstats, wsstats_out } = require('../../common/wscommon.js');\nconst { abs, floor, max, min, PI, sqrt } = Math;\nconst TWO_PI = PI * 2;\nconst EPSILON = 0.01;\n\nlet the;\n\nsettings.register({\n  show_ping: {\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\nperf.addMetric({\n  name: 'ping',\n  show_stat: 'show_ping',\n  labels: {\n    'ping: ': () => {\n      if (!the) {\n        return '';\n      }\n      let pt = the.getPing(2000);\n      if (!pt || pt.fade < 0.001) {\n        return '';\n      }\n      return { value: `${pt.ping.toFixed(1)}`, alpha: min(1, pt.fade * 3) };\n    },\n  },\n});\nsettings.register({\n  show_net: {\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,2],\n  },\n});\nlet last_wsstats = { msgs: 0, bytes: 0, time: Date.now(), dm: 0, db: 0 };\nlet last_wsstats_out = { msgs: 0, bytes: 0, time: Date.now(), dm: 0, db: 0 };\nfunction bandwidth(stats, last) {\n  let now = Date.now();\n  if (now - last.time > 1000) {\n    last.dm = stats.msgs - last.msgs;\n    last.db = stats.bytes - last.bytes;\n    last.msgs = stats.msgs;\n    last.bytes = stats.bytes;\n    if (now - last.time > 2000) { // stall\n      last.time = now;\n    } else {\n      last.time += 1000;\n    }\n  }\n  return `${(last.db/1024).toFixed(2)} kb (${last.dm})`;\n}\nperf.addMetric({\n  name: 'net',\n  show_stat: 'show_net',\n  width: 5,\n  labels: {\n    'down: ': bandwidth.bind(null, wsstats, last_wsstats),\n    'up: ': bandwidth.bind(null, wsstats_out, last_wsstats_out),\n  },\n});\n\nconst valid_options = [\n  // Numeric parameters\n  'n', 'dim_pos', 'dim_rot', // dimensions\n  'send_time', 'window', 'snap_factor', 'smooth_windows', 'smooth_factor', 'default_pos',\n  // Callbacks\n  'on_pos_update', 'on_state_update',\n];\n\nfunction NetPositionManager(options) {\n  this.on_channel_data = this.onChannelData.bind(this);\n  this.on_subscribe = this.onChannelSubscribe.bind(this);\n  this.reinit(options);\n}\nNetPositionManager.prototype.deinit = function () {\n  if (this.channel) {\n    this.channel.removeListener('channel_data', this.on_channel_data);\n    this.channel.removeListener('subscribe', this.on_subscribe);\n  }\n};\n\nNetPositionManager.prototype.onChannelSubscribe = function (data) {\n  // initial connection or reconnect\n  this.last_send.sending = false; // ignore send on previous, disconnected link\n  this.last_send.time = 0;\n  this.client_id = net.client.id;\n};\n\nNetPositionManager.prototype.onChannelData = function (data, mod_key, mod_value) {\n  if (mod_key) {\n    let m = mod_key.match(/^public\\.clients\\.([^.]+)\\.(.+)$/);\n    if (m) {\n      let client_id = m[1];\n      let field = m[2];\n      if (field === 'pos') {\n        this.otherClientPosChanged(client_id);\n      }\n      if (this.on_client_change) {\n        let pcd = this.per_client_data[client_id];\n        if (pcd) {\n          this.on_client_change(pcd, field);\n        }\n      }\n    }\n    if (!mod_value) {\n      m = mod_key.match(/^public\\.clients\\.([^.]+)$/);\n      if (m) {\n        // other client disconnected\n        delete this.per_client_data[m[1]];\n      }\n    }\n  } else {\n    if (data && data.public && data.public.clients) {\n      for (const client_id in data.public.clients) {\n        const client_data = data.public.clients[client_id];\n        if (client_data.pos) {\n          this.otherClientPosChanged(client_id);\n        }\n      }\n    }\n  }\n};\n\nNetPositionManager.prototype.vec = function (fill) {\n  let r = new Float64Array(this.n);\n  if (fill) {\n    for (let ii = 0; ii < this.n; ++ii) {\n      r[ii] = fill;\n    }\n  }\n  return r;\n};\nNetPositionManager.prototype.vcopy = function (dst, src) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    dst[ii] = src[ii];\n  }\n  return dst;\n};\nNetPositionManager.prototype.arr = function (vec) {\n  let arr = new Array(this.n);\n  for (let ii = 0; ii < this.n; ++ii) {\n    arr[ii] = vec[ii];\n  }\n  return arr;\n};\nNetPositionManager.prototype.vsame = function (a, b) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    if (abs(a[ii] - b[ii]) > EPSILON) {\n      return false;\n    }\n  }\n  return true;\n};\nNetPositionManager.prototype.vlength = function (a) {\n  let r = 0;\n  for (let ii = 0; ii < this.n; ++ii) {\n    let d = a[ii];\n    r += d * d;\n  }\n  return sqrt(r);\n};\nNetPositionManager.prototype.vdist = function (a, b) {\n  this.vsub(this.temp_vec, a, b);\n  for (let ii = 0; ii < this.dim_rot; ++ii) {\n    let jj = this.dim_pos + ii;\n    let d = abs(this.temp_vec[jj]);\n    if (d > PI) {\n      this.temp_vec[jj] = d - floor((d + PI) / TWO_PI) * TWO_PI;\n    }\n  }\n  return this.vlength(this.temp_vec);\n};\nNetPositionManager.prototype.vsub = function (dst, a, b) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    dst[ii] = a[ii] - b[ii];\n  }\n  return dst;\n};\nNetPositionManager.prototype.vscale = function (dst, a, scalar) {\n  for (let ii = 0; ii < this.n; ++ii) {\n    dst[ii] = a[ii] * scalar;\n  }\n};\n\nNetPositionManager.prototype.reinit = function (options) {\n  this.deinit();\n  the = this;\n\n  options = options || {};\n  this.per_client_data = {};\n  for (let ii = 0; ii < valid_options.length; ++ii) {\n    let field = valid_options[ii];\n    if (options[field]) {\n      this[field] = options[field];\n    }\n  }\n\n  assert.equal(this.dim_pos + this.dim_rot, this.n);\n\n  if (!this.default_pos) {\n    this.default_pos = this.vec();\n  }\n  if (!this.temp_vec) {\n    this.temp_vec = this.vec();\n  }\n  if (!this.temp_delta) {\n    this.temp_delta = this.vec();\n  }\n\n  this.channel = options.channel; // Never inheriting this over reinit()\n  this.last_send = {\n    pos: this.vec(-1),\n    sending: false,\n    send_time: 0,\n  };\n  this.ever_received_character = false;\n\n  this.on_client_change = options.on_client_change;\n\n  if (this.channel) {\n    this.channel.on('channel_data', this.on_channel_data);\n    this.channel.onSubscribe(this.on_subscribe);\n  }\n};\n\n// cb(client_id, pos[2])\nNetPositionManager.prototype.onPositionUpdate = function (cb) {\n  this.on_pos_update = cb;\n};\n\n// cb(client_id, new_state)\nNetPositionManager.prototype.onStateUpdate = function (cb) {\n  this.on_state_update = cb;\n};\n\nfunction syncPosWithCaller(npm, on_pos_set_cb) {\n  npm.vcopy(npm.last_send.pos, npm.default_pos);\n  let new_pos = on_pos_set_cb(npm.last_send.pos);\n  if (new_pos) {\n    npm.vcopy(npm.last_send.pos, new_pos);\n  }\n}\n\nNetPositionManager.prototype.checkNet = function (on_pos_set_cb) {\n  if (!net.client.connected || !this.channel || !this.channel.data.public) {\n    // Not yet in room, do nothing\n    return true;\n  }\n  if (net.client.id !== this.client_id) {\n    // Haven't yet subscribed to this room under the new client_id\n    return true;\n  }\n\n  const me = this.channel.getChannelData(`public.clients.${this.client_id}`, {});\n  if (!me.pos || !me.pos.cur || typeof me.pos.cur[0] !== 'number') {\n    if (this.ever_received_character) {\n      // we must be reconnecting, use last replicated position\n    } else {\n      // fresh connect, use default position, or ask for it from caller\n      syncPosWithCaller(this, on_pos_set_cb);\n    }\n    this.channel.setChannelData(`public.clients.${this.client_id}.pos`, {\n      cur: this.arr(this.last_send.pos), // Do not send as Float64Array\n    });\n    this.ever_received_character = true;\n  } else if (!this.ever_received_character) {\n    syncPosWithCaller(this, on_pos_set_cb);\n    this.ever_received_character = true;\n  }\n  return false;\n};\n\nNetPositionManager.prototype.updateMyPos = function (character_pos, anim_state) {\n  if (!this.vsame(character_pos, this.last_send.pos) || anim_state !== this.last_send.anim_state) {\n    // pos or anim_state changed\n    const now = glov_engine.getFrameTimestamp();\n    if (!this.last_send.sending && (!this.last_send.time || now - this.last_send.time > this.send_time)) {\n      // do send!\n      this.last_send.sending = true;\n      this.last_send.time = now;\n      this.last_send.hrtime = glov_engine.hrnow();\n      this.last_send.speed = 0;\n      if (this.last_send.send_time) {\n        const time = now - this.last_send.send_time;\n        this.last_send.speed = this.vdist(this.last_send.pos, character_pos) / time;\n        if (this.last_send.speed < 0.001) {\n          this.last_send.speed = 0;\n        }\n      }\n      this.last_send.send_time = now;\n      this.vcopy(this.last_send.pos, character_pos);\n      this.last_send.anim_state = anim_state;\n      this.channel.setChannelData(\n        `public.clients.${this.client_id}.pos`, {\n          cur: this.arr(this.last_send.pos), // Do not send as Float64Array\n          state: this.last_send.anim_state, speed: this.last_send.speed,\n          q: 1,\n        }, false, () => {\n          // could avoid needing this response function (and ack packet) if we\n          // instead just watch for the apply_channel_data message containing\n          // (approximately) what we sent\n          this.last_send.sending = false;\n          let end = glov_engine.getFrameTimestamp();\n          let hrend = glov_engine.hrnow();\n          let round_trip = hrend - this.last_send.hrtime;\n          this.ping_time = round_trip;\n          this.ping_time_time = end;\n          if (round_trip > this.send_time) {\n            // hiccup, delay next send\n            this.last_send.time = end;\n          }\n        }\n      );\n    }\n  }\n};\n\nNetPositionManager.prototype.getPing = function (max_age) {\n  if (!this.ping_time_time) {\n    return null;\n  }\n  let age = glov_engine.getFrameTimestamp() - this.ping_time_time;\n  if (age > max_age) {\n    return null;\n  }\n  return {\n    ping: this.ping_time,\n    fade: 1 - age / max_age,\n  };\n};\n\nNetPositionManager.prototype.getPos = function (client_id) {\n  let pcd = this.per_client_data[client_id];\n  if (!pcd) {\n    return null;\n  }\n  return pcd.pos;\n};\n\nNetPositionManager.prototype.getPCD = function (client_id) {\n  return this.per_client_data[client_id];\n};\n\nNetPositionManager.prototype.otherClientPosChanged = function (client_id) {\n  const client_pos = this.channel.getChannelData(`public.clients.${client_id}.pos`);\n  if (!client_pos || !client_pos.cur || typeof client_pos.cur[0] !== 'number') {\n    return;\n  }\n  // client_pos is { cur, state, speed }\n  let pcd = this.per_client_data[client_id];\n  if (!pcd) {\n    pcd = this.per_client_data[client_id] = {};\n    pcd.pos = this.vcopy(this.vec(), client_pos.cur);\n    pcd.net_speed = 0;\n    pcd.net_pos = this.vec();\n    pcd.impulse = this.vec();\n    pcd.net_state = 'idle_down';\n    pcd.anim_state = 'idle_down';\n  }\n  if (client_pos.state) {\n    pcd.net_state = client_pos.state;\n  }\n  this.vcopy(pcd.net_pos, client_pos.cur);\n  pcd.net_speed = client_pos.speed;\n\n  // Keep pcd.pos[rot] within PI of pcd.net_pos, so interpolation always goes the right way\n  for (let ii = 0; ii < this.dim_rot; ++ii) {\n    let jj = this.dim_pos + ii;\n    while (pcd.pos[jj] > pcd.net_pos[jj] + PI) {\n      pcd.pos[jj] -= TWO_PI;\n    }\n    while (pcd.pos[jj] < pcd.net_pos[jj] - PI) {\n      pcd.pos[jj] += TWO_PI;\n    }\n  }\n\n  // This interpolation logic taken from Splody\n  // Doesn't do great with physics-based jumps though\n  const delta = this.vsub(this.temp_delta, pcd.net_pos, pcd.pos);\n  const dist = this.vlength(delta);\n\n  if (dist > 0) {\n    const time_to_dest = dist / pcd.net_speed;\n    if (time_to_dest < this.send_time + this.window) {\n      // Would get there in the expected time, use this speed\n      this.vscale(pcd.impulse, delta, pcd.net_speed / dist);\n    } else if (time_to_dest < this.send_time + this.window * this.smooth_windows) { // 0.5s\n      // We'll could be there in under half a second, try to catch up smoothly\n      // Using provided speed is too slow, go faster, though no slower than we were going\n      // (in case this is the last of multiple delayed updates and the last update was going a tiny distance slowly)\n      const old_speed = this.vlength(pcd.impulse);\n      const specified_speed = pcd.net_speed;\n      const new_speed = max(specified_speed * this.smooth_factor, old_speed);\n      this.vscale(pcd.impulse, delta, new_speed / dist);\n    } else {\n      // We're way far behind using the provided speed, attempt to get all the way there by the next few\n      // theoretical updates, this basically snaps if this is particularly small\n      this.vscale(pcd.impulse, delta, 1 / (this.send_time + this.window * this.snap_factor));\n    }\n  }\n};\n\nNetPositionManager.prototype.updateOtherClient = function (client_id, dt) {\n  const pcd = this.per_client_data[client_id];\n  if (!pcd) {\n    // Never got a position sent to us, ignore\n    return null;\n  }\n\n  // Apply interpolation (logic from Splody)\n  let stopped = true;\n  for (let ii = 0; ii < this.n; ++ii) {\n    if (pcd.impulse[ii]) {\n      const delta_old = pcd.net_pos[ii] - pcd.pos[ii];\n      const delta_old_sign = util.sign(delta_old);\n      pcd.pos[ii] += pcd.impulse[ii] * dt;\n      const delta_new = pcd.net_pos[ii] - pcd.pos[ii];\n      const delta_new_sign = util.sign(delta_new);\n      if (delta_new_sign !== delta_old_sign) {\n        // made it or passed it\n        pcd.pos[ii] = pcd.net_pos[ii];\n        pcd.impulse[ii] = 0;\n      } else if (ii < this.dim_pos && pcd.impulse[ii] > 0.01) {\n        // If positional (not rotation), we're not stopped\n        stopped = false;\n      }\n    }\n  }\n  if (this.on_pos_update) {\n    this.on_pos_update(client_id, pcd.pos);\n  }\n\n  const cur_is_run = pcd.anim_state[0] === 'f' || pcd.anim_state[0] === 'w';\n  const new_is_idle = pcd.net_state[0] === 'i';\n  if (cur_is_run && new_is_idle && !stopped) {\n    // don't apply yet\n  } else {\n    pcd.anim_state = pcd.net_state;\n    if (this.on_state_update) {\n      this.on_state_update(client_id, pcd.net_state);\n    }\n  }\n  return pcd;\n};\nNetPositionManager.prototype.n = 2; // dimensionality of position vectors\nNetPositionManager.prototype.dim_pos = 2; // number of components to be interpolated as-is\nNetPositionManager.prototype.dim_rot = 0; // number of components to be interpolated with 2PI wrapping\nNetPositionManager.prototype.send_time = 200; // how often to send position updates\nNetPositionManager.prototype.window = 200; // maximum expected variation in time between updates; ms\nNetPositionManager.prototype.snap_factor = 1.0; // how many windows to snap in when we think we need to snap\nNetPositionManager.prototype.smooth_windows = 6.5; // how many windows behind we can be and only accelerate a little\nNetPositionManager.prototype.smooth_factor = 1.2; // how much faster to go in the smoothing window\n\n\nexport function create(options) {\n  return new NetPositionManager(options);\n}\n\n\nfunction ScalarInterpolator(tick_time) {\n  this.tick_time = tick_time * 1.25;\n  this.reset();\n}\n\nScalarInterpolator.prototype.reset = function () {\n  this.value = undefined;\n  this.target_value = undefined;\n  this.vel = 0;\n};\n\n// Assume any change happened on the server at frequency tick_time\n// Updates state.value and also returns it\nScalarInterpolator.prototype.update = function (dt, new_value) {\n  if (this.value === undefined) {\n    this.value = new_value;\n    this.target_value = new_value;\n    return;\n  }\n  // TODO: Could figure expected velocity and use logic like in updateOtherClient\n  if (new_value !== this.target_value) {\n    // try to get there in tick_time\n    this.vel = (new_value - this.value) / this.tick_time;\n    this.target_value = new_value;\n  }\n  if (this.value !== this.target_value) {\n    if (this.vel > 0) {\n      this.value = min(this.value + this.vel * dt, this.target_value);\n    } else {\n      this.value = max(this.value + this.vel * dt, this.target_value);\n    }\n  }\n};\n\nScalarInterpolator.prototype.getValue = function () {\n  return this.value;\n};\n\nexport function createScalarInterpolator(tick_time) {\n  return new ScalarInterpolator(tick_time);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n//////////////////////////////////////////////////////////////////////////\n// Particle System Spec\n\n/*\n// Definitions\n// value = number or\n// value = [base, add_max] -> generates a number in the range [base, base + add_max)\nlet def_fire = {\n  particles: {\n    fire: {\n      blend: 'additive',\n      texture: 'fire.png',\n      color: [1,1,1,1], // multiplied by animation track, default 1,1,1,1, can be omitted\n      color_track: [ // just values, NOT random range\n        { t: 0.0, v: [1,0.4,0.4,1] },\n        { t: 0.7, v: [1,0,0,1] },\n        { t: 0.9, v: [0.2,0,0,1] },\n        { t: 1.0, v: [0,0,0,1] },\n      ],\n      size: [[32,16], [32,16]], // multiplied by animation track\n      size_track: [ // just values, NOT random range\n        { t: 0.0, v: [1,1] },\n        { t: 0.4, v: [0.5,0.5] },\n        { t: 0.7, v: [1,1] },\n        { t: 1.0, v: [1.5,1.5] },\n      ],\n      accel: [0,0],\n      rot: [0,360], // degrees\n      rot_vel: [10,2], // degrees per second\n      lifespan: [450,0], // milliseconds\n      kill_time_accel: 5,\n    },\n  },\n  emitters: {\n    fire: {\n      particle: 'fire',\n      // Random ranges affect each emitted particle:\n      pos: [[0,28], [0,28]],\n      vel: [0,0],\n      emit_rate: [60,20], // emissions per second\n      // Random ranges only calculated upon instantiation:\n      emit_time: [0,Infinity],\n      emit_initial: 10,\n    },\n  },\n  system_lifespan: Infinity, // must be manually killed\n};\n\n// Usage\nlet system = glov_engine.glov_particles.createSystem(def_fire, [50, 50, Z.PARTICLES]);\nsystem.updatePos(75, 75);\nsystem.killSoft(); // stops emitting and speeds up particles by kill_time_accel\nsystem.killHard(); // immediately stops drawing\n\n*/\n\n//////////////////////////////////////////////////////////////////////////\n// Implementation\n\nconst assert = require('assert');\nconst sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { vec2, v2copy, v2lerp, v2mul } = require('./vmath.js');\nconst { vec3, vec4, v3add, v4copy, v4lerp, v4mul } = require('./vmath.js');\n\nconst blend_map = {\n  alpha: sprites.BLEND_ALPHA,\n  additive: sprites.BLEND_ADDITIVE,\n};\n\nexport function preloadParticleData(particle_data) {\n  // Preload all referenced particle textures\n  for (let key in particle_data.defs) {\n    let def = particle_data.defs[key];\n    for (let part_name in def.particles) {\n      let part_def = def.particles[part_name];\n      textures.load({ url: `img/${part_def.texture}.png` });\n    }\n  }\n}\n\n// Expect all values to be a pair of [base, add_max]\nfunction normalizeValue(v) {\n  if (v instanceof Float32Array && v.length >= 2) {\n    return v;\n  } else if (typeof v === 'number') {\n    return vec2(v, 0);\n  } else if (Array.isArray(v) || v instanceof Float32Array) {\n    // already an array, convert to Vec2\n    return vec2(v[0] || 0, v[1] || 0);\n  } else {\n    return assert(false);\n  }\n}\n\nfunction normalizeValueVec(vec, length) {\n  assert(length);\n  assert(Array.isArray(vec));\n  let ret = new Array(length);\n  for (let ii = 0; ii < length; ++ii) {\n    ret[ii] = normalizeValue(vec[ii]);\n  }\n  return ret;\n}\n\nfunction normalizeParticle(def, particle_manager) {\n  if (!def.normalized) {\n    let norm = def.normalized = {\n      blend: blend_map[def.blend] || sprites.BLEND_ALPHA,\n      texture: textures.load({ url: def.texture ? `img/${def.texture}.png` : 'img/glov/util_circle.png' }),\n      color: normalizeValueVec(def.color || [1,1,1,1], 4),\n      color_track: null,\n      size: normalizeValueVec(def.size || [1,1], 2),\n      size_track: null,\n      accel: normalizeValueVec(def.accel || [0,0,0], 3),\n      rot: normalizeValue(def.rot || 0),\n      rot_vel: normalizeValue(def.rot || 0),\n      lifespan: normalizeValue(def.lifespan || 1000),\n      kill_time_accel: normalizeValue(def.kill_time_accel || 1),\n    };\n    assert(norm.kill_time_accel[0] >= 1); // cannot slow down on kill!\n    if (def.color_track && def.color_track.length) {\n      assert(def.color_track.length > 1);\n      norm.color_track = [];\n      for (let ii = 0; ii < def.color_track.length; ++ii) {\n        let e = def.color_track[ii];\n        assert(typeof e.t === 'number');\n        let arr = new Float32Array(5);\n        arr[0] = e.v[0];\n        arr[1] = e.v[1];\n        arr[2] = e.v[2];\n        arr[3] = e.v[3];\n        arr[4] = e.t;\n        norm.color_track.push(arr);\n      }\n    }\n    if (def.size_track && def.size_track.length) {\n      assert(def.size_track.length > 1);\n      norm.size_track = [];\n      for (let ii = 0; ii < def.size_track.length; ++ii) {\n        let e = def.size_track[ii];\n        assert(typeof e.t === 'number');\n        let arr = new Float32Array(3);\n        arr[0] = e.v[0];\n        arr[1] = e.v[1];\n        arr[2] = e.t;\n        norm.size_track.push(arr);\n      }\n    }\n  }\n  return def.normalized;\n}\n\nfunction findParticle(particles, name) {\n  assert(particles[name] !== undefined);\n  return particles[name];\n}\n\nfunction normalizeEmitter(def, part_map) {\n  if (!def.normalized) {\n    def.normalized = {\n      part_idx: findParticle(part_map, def.particle),\n      pos: normalizeValueVec(def.pos || [0,0,0], 3),\n      vel: normalizeValueVec(def.vel || [0,0,0], 3),\n      emit_rate: normalizeValue(def.emit_rate || 10),\n      emit_time: normalizeValueVec(def.emit_time || [0,Infinity], 2),\n      emit_initial: normalizeValue(def.emit_initial || 1),\n    };\n    // convert particles per second to ms per emission\n    let min = def.normalized.emit_rate[0];\n    let max = def.normalized.emit_rate[0] + def.normalized.emit_rate[1];\n    def.normalized.emit_rate[0] = 1000 / max;\n    def.normalized.emit_rate[1] = 1000 / min;\n    assert(def.normalized.emit_rate[0] > 1); // Not more than 1000 per second, that's ridic'.\n  }\n  return def.normalized;\n}\n\nfunction normalizeDef(def, particle_manager) {\n  if (!def.normalized) {\n    let norm = def.normalized = {\n      system_lifespan: normalizeValue(def.system_lifespan || Infinity),\n      particles: [],\n      emitters: [],\n    };\n    let part_map = {};\n    for (let key in def.particles) {\n      part_map[key] = norm.particles.length;\n      norm.particles.push(normalizeParticle(def.particles[key], particle_manager));\n    }\n    for (let key in def.emitters) {\n      norm.emitters.push(normalizeEmitter(def.emitters[key], part_map));\n    }\n  }\n  return def.normalized;\n}\n\nfunction instValue(v) {\n  return v[0] + Math.random() * v[1];\n}\nfunction instValueVec(v) {\n  let ret = new Float32Array(v.length);\n  for (let ii = 0; ii < v.length; ++ii) {\n    ret[ii] = instValue(v[ii]);\n  }\n  return ret;\n}\n\nlet temp_color = vec4();\nlet temp_color2 = vec4();\nlet temp_size = vec2();\nlet temp_size2 = vec2();\n// let temp_pos = v3allocZero();\n\nclass ParticleSystem {\n  constructor(parent, def_in, pos) {\n    assert(pos.length === 3);\n    this.parent = parent;\n    this.def = normalizeDef(def_in, parent);\n    this.system_lifespan = instValue(this.def.system_lifespan);\n    assert(this.system_lifespan > 0);\n    this.age = 0;\n    this.kill_hard = false;\n    this.kill_soft = false;\n    this.pos = vec3(pos[0], pos[1], pos[2]);\n    this.part_sets = [];\n    for (let ii = 0; ii < this.def.particles.length; ++ii) {\n      let def = this.def.particles[ii];\n      let part_set = {\n        def,\n        parts: [],\n      };\n      this.part_sets.push(part_set);\n    }\n    this.emitters = [];\n    // Instantiate emitters\n    for (let ii = 0; ii < this.def.emitters.length; ++ii) {\n      let def = this.def.emitters[ii];\n      let emitter = {\n        def,\n        emit_time: instValueVec(def.emit_time),\n        countdown: 0,\n        started: false,\n        stopped: false,\n      };\n      this.emitters.push(emitter);\n    }\n    // Do *not* do this here, causes them to be drawn twice on the first frame,\n    //   they'll be ticked as usual.\n    // // do initial tick for things that have an emit_time[0] of 0 and have an emit_initial\n    // this.tick(0);\n  }\n\n  tickParticle(part, dt) { // eslint-disable-line class-methods-use-this\n    let def = part.def;\n    part.age += dt;\n    let age_norm = part.age / part.lifespan;\n    if (age_norm >= 1) {\n      return true;\n    }\n\n    // Pos, vel - incrementally computed\n    let dts = dt / 1000;\n    part.pos[0] += part.vel[0] * dts;\n    part.pos[1] += part.vel[1] * dts;\n    part.pos[2] += part.vel[2] * dts;\n    part.vel[0] += part.accel[0] * dts;\n    part.vel[1] += part.accel[1] * dts;\n    part.vel[2] += part.accel[2] * dts;\n\n    // Color, size, rot - explicitly computed\n    v4copy(temp_color, part.color, temp_color);\n    if (def.color_track) {\n      if (age_norm < def.color_track[0][4]) {\n        v4mul(temp_color, temp_color, def.color_track[0]);\n      } else if (age_norm >= def.color_track[def.color_track.length - 1][4]) {\n        v4mul(temp_color, temp_color, def.color_track[def.color_track.length - 1]);\n      } else {\n        for (let ii = 0; ii < def.color_track.length - 1; ++ii) {\n          if (age_norm >= def.color_track[ii][4] && age_norm < def.color_track[ii + 1][4]) {\n            let weight = (age_norm - def.color_track[ii][4]) / (def.color_track[ii + 1][4] - def.color_track[ii][4]);\n            v4lerp(temp_color2, weight, def.color_track[ii], def.color_track[ii + 1]);\n            v4mul(temp_color, temp_color, temp_color2);\n            break;\n          }\n        }\n      }\n    }\n\n    v2copy(temp_size, part.size);\n    if (def.size_track) {\n      if (age_norm < def.size_track[0][2]) {\n        v2mul(temp_size, temp_size, def.size_track[0]);\n      } else if (age_norm >= def.size_track[def.size_track.length - 1][2]) {\n        v2mul(temp_size, temp_size, def.size_track[def.size_track.length - 1]);\n      } else {\n        for (let ii = 0; ii < def.size_track.length - 1; ++ii) {\n          if (age_norm >= def.size_track[ii][2] && age_norm < def.size_track[ii + 1][2]) {\n            let weight = (age_norm - def.size_track[ii][2]) / (def.size_track[ii + 1][2] - def.size_track[ii][2]);\n            v2lerp(temp_size2, weight, def.size_track[ii], def.size_track[ii + 1]);\n            v2mul(temp_size, temp_size, temp_size2);\n            break;\n          }\n        }\n      }\n    }\n\n    // TODO: let rot = part.rot + part.age * part.rot_vel;\n\n    // TODO: draw using:\n    //   rot\n    let w = temp_size[0];\n    let h = temp_size[1];\n    let x = part.pos[0] - w/2;\n    let y = part.pos[1] - h/2;\n    let z = part.pos[2];\n    sprites.queueraw4([def.texture],\n      x, y, x, y + h, x + w, y + h, x + w, y, z, 0, 0, 1, 1,\n      temp_color, null, null, def.blend);\n\n    return false;\n  }\n\n  tickPartSet(dt_orig, part_set) {\n    //let def = part_set.def;\n    let parts = part_set.parts;\n    for (let ii = parts.length - 1; ii >= 0; --ii) {\n      let part = parts[ii];\n      let dt = this.kill_soft ? dt_orig * part.kill_time_accel : dt_orig;\n      if (this.tickParticle(part, dt)) {\n        parts[ii] = parts[parts.length - 1];\n        parts.pop();\n      }\n    }\n  }\n\n  emitParticle(init_dt, emitter) {\n    let emitter_def = emitter.def;\n    let part_set = this.part_sets[emitter_def.part_idx];\n    let def = part_set.def;\n    let pos = instValueVec(emitter_def.pos, 3);\n    v3add(pos, pos, this.pos);\n    // PERFTODO: Make the whole Particle just a data[] Float32Array\n    let part = {\n      def,\n      pos,\n      color: instValueVec(def.color, 4),\n      size: instValueVec(def.size, 4),\n      vel: instValueVec(emitter_def.vel, 3),\n      accel: instValueVec(def.accel, 3),\n      rot: instValue(def.rot),\n      rot_vel: instValue(def.rot_vel),\n      lifespan: instValue(def.lifespan),\n      kill_time_accel: instValue(def.kill_time_accel),\n      age: 0,\n    };\n    if (!this.tickParticle(part, init_dt)) {\n      part_set.parts.push(part);\n    }\n  }\n\n  tickEmitter(dt, emitter) {\n    let def = emitter.def;\n    // check for initial emission\n    if (!emitter.started && this.age >= emitter.emit_time[0]) {\n      emitter.started = true;\n      // ignore time before we started emitting\n      dt = this.age - emitter.emit_time[0];\n      let num = instValue(def.emit_initial);\n      for (let ii = 0; ii < num; ++ii) {\n        this.emitParticle(dt, emitter);\n      }\n      emitter.countdown = instValue(def.emit_rate);\n    }\n    if (emitter.started && !emitter.stopped && !this.kill_soft) {\n      // should we stop?\n      let remaining_dt = dt;\n      let emit_dt = dt;\n      if (this.age >= emitter.emit_time[1]) {\n        emitter.stopped = true;\n        // Do not emit during time after we stopped\n        emit_dt -= this.age - emitter.emit_time[1];\n      }\n      // Emit dt's worth of particles\n      while (emit_dt >= emitter.countdown) {\n        emit_dt -= emitter.countdown;\n        remaining_dt -= emitter.countdown;\n        emitter.countdown = instValue(def.emit_rate);\n        this.emitParticle(remaining_dt, emitter);\n      }\n      emitter.countdown -= emit_dt;\n    }\n  }\n\n  tick(dt) {\n    if (this.kill_hard) {\n      return true;\n    }\n    // tick existing particles\n    for (let ii = this.part_sets.length - 1; ii >= 0; --ii) {\n      this.tickPartSet(dt, this.part_sets[ii]);\n    }\n    // advance time and spawn new ones (with partial ticks)\n    this.age += dt;\n    for (let ii = 0; ii < this.emitters.length; ++ii) {\n      this.tickEmitter(dt, this.emitters[ii]);\n    }\n\n    return this.age >= this.system_lifespan; // kill if past lifespan\n  }\n\n  shift(delta) {\n    if (this.def.no_shift) {\n      return;\n    }\n    this.pos[0] += delta[0];\n    this.pos[1] += delta[1];\n    this.pos[2] += delta[2];\n    for (let ii = 0; ii < this.part_sets.length; ++ii) {\n      let parts = this.part_sets[ii].parts;\n      for (let jj = 0; jj < parts.length; ++jj) {\n        let part = parts[jj];\n        part.pos[0] += delta[0];\n        part.pos[1] += delta[1];\n        part.pos[2] += delta[2];\n      }\n    }\n  }\n}\n\nclass ParticleManager {\n  constructor() {\n    this.systems = [];\n  }\n\n  createSystem(def, pos) {\n    let system = new ParticleSystem(this, def, pos);\n    this.systems.push(system);\n    return system;\n  }\n\n  tick(dt) {\n    for (let ii = this.systems.length - 1; ii >= 0; --ii) {\n      if (this.systems[ii].tick(dt)) {\n        this.systems[ii] = this.systems[this.systems.length - 1];\n        this.systems.pop();\n      }\n    }\n  }\n\n  killAll() {\n    this.systems = [];\n  }\n\n  shift(delta) {\n    for (let ii = 0; ii < this.systems.length; ++ii) {\n      this.systems[ii].shift(delta);\n    }\n  }\n}\n\nexport function create() {\n  return new ParticleManager();\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst camera2d = require('./camera2d.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst input = require('./input.js');\nconst { max } = Math;\nconst settings = require('./settings.js');\nconst ui = require('./ui.js');\nconst { vec4, v3copy } = require('./vmath.js');\n\nlet metrics = [];\n\nconst METRIC_PAD = 2;\n\nlet bg_default = vec4(0,0,0,0.5);\nlet bg_mouse_over = vec4(0,0,0,0.75);\nlet bg_fade = vec4();\n\n// referenced in engine.js\nsettings.register({\n  show_metrics: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  show_fps: {\n    label: 'Show FPS',\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,3],\n  },\n  fps_graph: {\n    label: 'FPS Graph',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  fps_window: {\n    label: 'FPS Time Window (seconds)',\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0.001, 120],\n  },\n});\n\ncmd_parse.register({\n  cmd: 'fps',\n  help: 'Toggles FPS display',\n  func: function (str, resp_func) {\n    if (settings.show_fps && settings.show_metrics || str === '0') {\n      settings.set('show_fps', 0);\n    } else {\n      settings.set('show_fps', 1);\n      settings.set('show_metrics', 1);\n    }\n    resp_func();\n  },\n});\n\nlet fps_style = glov_font.style({\n  outline_width: 2, outline_color: 0x00000080,\n  color: 0xFFFFFFff,\n});\n\nexport function addMetric(metric) {\n  if (metric.show_graph) {\n    metric.num_lines = metric.colors.length;\n    metric.history_size = metric.data.history.length / metric.num_lines;\n  }\n  metric.num_labels = Object.keys(metric.labels).length;\n  if (metric.interactable === undefined) {\n    metric.interactable = engine.DEBUG && (metric.num_labels > 1 || metric.show_graph);\n  }\n  metrics.push(metric);\n}\n\nfunction showMetric(y, metric) {\n  let font = engine.font;\n  let pad = METRIC_PAD;\n  let line_height = ui.font_height / settings.render_scale_all;\n  let METRIC_VALUE_WIDTH = line_height * (metric.width || 2.5);\n  let x = camera2d.x1Real() - METRIC_VALUE_WIDTH - pad;\n  let y0 = y;\n  y += pad;\n  let max_label_w = 0;\n  let max_labels = settings[metric.show_stat];\n  let drew_any = false;\n  let alpha = 1;\n  for (let label in metric.labels) {\n    let value = metric.labels[label]();\n    if (value) {\n      let style = fps_style;\n      if (value.alpha) {\n        alpha = value.alpha;\n        value = value.value;\n        style = glov_font.styleAlpha(fps_style, alpha);\n      }\n      let label_w = font.drawSizedAligned(style, x, y, Z.FPSMETER + 1, line_height,\n        glov_font.ALIGN.HRIGHT, 0, 0, label);\n      max_label_w = max(max_label_w, label_w);\n      font.drawSizedAligned(style, x, y, Z.FPSMETER + 1, line_height,\n        glov_font.ALIGN.HFIT, METRIC_VALUE_WIDTH, 0, value);\n      y += line_height;\n      drew_any = true;\n    }\n    if (!--max_labels) {\n      break;\n    }\n  }\n  let w = METRIC_VALUE_WIDTH + max_label_w + METRIC_PAD;\n  x -= max_label_w + METRIC_PAD;\n\n  if (!drew_any) {\n    return y - pad;\n  }\n\n  y += pad;\n  let bg = bg_default;\n  let pos_param = {\n    x: x - pad,\n    y: y0,\n    w: w + pad * 2,\n    h: y - y0,\n  };\n  if (metric.interactable) {\n    if (input.mouseUpEdge(pos_param)) {\n      if (metric.num_labels > 1 && settings[metric.show_stat] <= 1) {\n        settings.set(metric.show_stat, metric.num_labels);\n      } else if (metric.show_graph && !settings[metric.show_graph]) {\n        settings.set(metric.show_graph, 1);\n      } else {\n        if (metric.show_graph) {\n          settings.set(metric.show_graph, 0);\n        }\n        settings.set(metric.show_stat, 1);\n      }\n    }\n    if (input.mouseOver(pos_param)) {\n      bg = bg_mouse_over;\n    }\n  }\n  if (alpha !== 1) {\n    bg_fade[3] = bg[3] * alpha;\n    bg = v3copy(bg_fade, bg);\n  }\n  ui.drawRect(pos_param.x, pos_param.y, pos_param.x + pos_param.w, y, Z.FPSMETER, bg);\n  return y;\n}\n\nfunction showMetricGraph(y, metric) {\n  const small = engine.game_height < 300;\n  const LINE_WIDTH = small ? 1 : 3;\n  const LINE_PAD = small ? 0 : 1;\n  const LINE_HEIGHT = small ? 64 : 128;\n  const NUM_LINES = metric.history_size - 1;\n  let w = (LINE_WIDTH + LINE_PAD) * NUM_LINES;\n  let x = camera2d.x1Real() - w;\n  let h = LINE_HEIGHT + LINE_PAD * 2;\n  let z = Z.FPSMETER;\n  ui.drawRect(x, y - h, x + w, y, z++, bg_default);\n  x += LINE_PAD;\n  y -= LINE_PAD;\n  let history_index = metric.data.index;\n  let line_scale = LINE_HEIGHT / metric.line_scale_top;\n  for (let ii = 0; ii < NUM_LINES; ii++) {\n    let line_index = ((ii + history_index + 1) % metric.history_size) * metric.num_lines;\n    let data = metric.data.history;\n    let bar_max = 0;\n    for (let jj = 0; jj < metric.num_lines; jj++) {\n      let line_jj = data[line_index + jj];\n      let bar_min;\n      if (metric.bars_stack) {\n        bar_min = bar_max;\n        bar_max += line_jj;\n      } else {\n        // bars overlap, figure out how big this bar should be relative to next smallest\n        let lesser = 0;\n        for (let kk = 0; kk < metric.num_lines; kk++) {\n          if (kk === jj) {\n            continue;\n          }\n          let line_kk = data[line_index + kk];\n          if ((line_kk < line_jj || line_kk === line_jj && kk < jj) && line_kk > lesser) {\n            lesser = line_kk;\n          }\n        }\n        bar_min = lesser;\n        bar_max = line_jj;\n      }\n      let color = metric.colors[jj];\n      ui.drawRect(x, y - bar_max * line_scale, x + LINE_WIDTH, y - bar_min * line_scale, z, color);\n    }\n    x += LINE_WIDTH + LINE_PAD;\n  }\n  z += NUM_LINES;\n  y -= LINE_HEIGHT + LINE_PAD;\n  return y;\n}\n\nexport function draw() {\n  camera2d.setAspectFixed(engine.game_width, engine.game_height);\n  let y = camera2d.y0Real();\n  let y_graph = camera2d.y1Real();\n  for (let ii = 0; ii < metrics.length; ++ii) {\n    let metric = metrics[ii];\n    if (settings[metric.show_stat]) {\n      y = showMetric(y, metric);\n      y += METRIC_PAD;\n    }\n    if (settings[metric.show_graph]) {\n      y_graph = showMetricGraph(y_graph, metric);\n      y_graph -= METRIC_PAD;\n    }\n  }\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nlet user_want_locked = false;\nlet elem;\nlet on_ptr_lock;\n\nexport function isLocked() {\n  return user_want_locked; // Either it's locked, or there's an async attempt to lock it outstanding\n}\n\nfunction pointerLog(msg) {\n  console.log(`PointerLock: ${msg}`); // TODO: Disable this after things settle\n}\n\nexport function exit() {\n  pointerLog('Lock exit requested');\n  user_want_locked = false;\n  document.exitPointerLock();\n}\n\nexport function enter(when) {\n  user_want_locked = true;\n  on_ptr_lock();\n  pointerLog(`Trying pointer lock in response to ${when}`);\n  elem.requestPointerLock();\n}\n\nfunction onPointerLockChange() {\n  if (document.pointerLockElement || document.mozPointerLockElement || document.webkitPointerLockElement) {\n    pointerLog('Lock successful');\n    if (!user_want_locked) {\n      pointerLog('User canceled lock');\n      document.exitPointerLock();\n    }\n  } else {\n    if (user_want_locked) {\n      pointerLog('Lock lost');\n      user_want_locked = false;\n    }\n  }\n}\n\nfunction onPointerLockError(e) {\n  pointerLog('Error');\n  user_want_locked = false;\n}\n\nexport function startup(_elem, _on_ptr_lock) {\n  elem = _elem;\n  on_ptr_lock = _on_ptr_lock;\n\n  elem.requestPointerLock = elem.requestPointerLock || elem.mozRequestPointerLock ||\n    elem.webkitRequestPointerLock || function () { /* nop */ };\n  document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock ||\n    document.webkitExitPointerLock || function () { /* nop */ };\n\n  document.addEventListener('pointerlockchange', onPointerLockChange, false);\n  document.addEventListener('mozpointerlockchange', onPointerLockChange, false);\n  document.addEventListener('webkitpointerlockchange', onPointerLockChange, false);\n\n  document.addEventListener('pointerlockerror', onPointerLockError, false);\n  document.addEventListener('mozpointerlockerror', onPointerLockError, false);\n  document.addEventListener('webkitpointerlockerror', onPointerLockError, false);\n}\n","/* eslint no-extend-native:off,no-invalid-this:off */\n\n// TypedArray.slice, fill, join, sort, etc - not supported on IE, some older Safari, older Android, Chrome 44\nlet typedarrays = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array];\n\nif (!Uint8Array.prototype.slice) {\n  typedarrays.forEach(function (ArrayType) {\n    Object.defineProperty(ArrayType.prototype, 'slice', {\n      value: function (begin, end) {\n        if (end === undefined) {\n          end = this.length;\n        }\n        if (end < 0) {\n          end = this.length - end;\n        }\n        begin = begin || 0;\n        if (begin >= this.length) {\n          begin = this.length - 1;\n        }\n        if (end > this.length) {\n          end = this.length;\n        }\n        if (end < begin) {\n          end = begin;\n        }\n        let len = end - begin;\n        let ret = new ArrayType(len);\n        for (let ii = 0; ii < len; ++ii) {\n          ret[ii] = this[begin + ii];\n        }\n        return ret;\n      }\n    });\n  });\n}\n\nfunction cmpDefault(a, b) {\n  return a - b;\n}\nlet replacements = {\n  join: function (delim) {\n    return Array.prototype.join.call(this, delim);\n  },\n  fill: function (value, begin, end) {\n    if (end === undefined) {\n      end = this.length;\n    }\n    for (let ii = begin || 0; ii < end; ++ii) {\n      this[ii] = value;\n    }\n    return this;\n  },\n  sort: function (cmp) {\n    Array.prototype.sort.call(this, cmp || cmpDefault);\n  },\n};\n\nfor (let key in replacements) {\n  if (!Uint8Array.prototype[key]) {\n    typedarrays.forEach(function (ArrayType) {\n      Object.defineProperty(ArrayType.prototype, key, {\n        value: replacements[key],\n      });\n    });\n  }\n}\n\nif (!String.prototype.endsWith) {\n  Object.defineProperty(String.prototype, 'endsWith', {\n    value: function (test) {\n      return this.slice(-test.length) === test;\n    },\n  });\n  Object.defineProperty(String.prototype, 'startsWith', {\n    value: function (test) {\n      return this.slice(0, test.length) === test;\n    },\n  });\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Vector math functions required by the rest of the engine taken piecemeal from\n// gl-matrix and related, as well as some generic math utilities\n\n// Source of some: https://github.com/toji/gl-matrix/blob/master/src/quat.js\n\nconst { vec4 } = require('./vmath.js');\nconst { acos, cos, sin, sqrt } = Math;\n\nconst EPSILON = 0.000001;\n\nexports.unit_quat = vec4(0, 0, 0, -1);\n\nexport function quat() {\n  return vec4(0, 0, 0, -1);\n}\nexports.createQuat = quat;\n\n// qi == \"quaterion in-place\" operation\n\n// Not completely sure we need this part of normalizing?  Some libraries have it, others do not\nexport function qiNegW(q) {\n  if (q[3] > 0) {\n    q[0] *= -1;\n    q[1] *= -1;\n    q[2] *= -1;\n    q[3] *= -1;\n  }\n}\n\nexport function qiNormalize(q) {\n  let l = sqrt(q[0] * q[0] + q[1] * q[1] +\n                    q[2] * q[2] + q[3] * q[3]);\n  if (l !== 0) {\n    let il = 1.0 / l;\n    q[0] *= il;\n    q[1] *= il;\n    q[2] *= il;\n    q[3] *= il;\n  }\n  qiNegW(q);\n}\n\n// axis must be normalized\nexport function qFromAxisAngle(out, axis, angle) {\n  angle *= 0.5;\n  let s = sin(angle);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = cos(angle);\n  qiNegW(out);\n  return out;\n}\n\nexport function qFromYPR(out, yaw, pitch, roll) {\n  let s_pitch = sin(pitch*0.5);\n  let c_pitch = cos(pitch*0.5);\n  let s_yaw = sin(yaw*0.5);\n  let c_yaw = cos(yaw*0.5);\n  let s_roll = sin(roll*0.5);\n  let c_roll = cos(roll*0.5);\n  let c_pitch_c_yaw = c_pitch*c_yaw;\n  let s_pitch_s_yaw = s_pitch*s_yaw;\n  let s_pitch_c_yaw = s_pitch*c_yaw;\n  let c_pitch_s_yaw = c_pitch*s_yaw;\n\n  out[0] = s_pitch_c_yaw * c_roll - c_pitch_s_yaw * s_roll;\n  out[1] = s_pitch_s_yaw * c_roll + c_pitch_c_yaw * s_roll;\n  out[2] = c_pitch_s_yaw * c_roll + s_pitch_c_yaw * s_roll;\n  out[3] = c_pitch_c_yaw * c_roll - s_pitch_s_yaw * s_roll;\n\n  qiNormalize(out);\n  return out;\n}\n\n// export function qToYPR(ypr, q) {\n//   let xx = q[0] * q[0];\n//   let yy = q[1] * q[1];\n//   let zz = q[2] * q[2];\n//   let asinparam = 2 * (q[3] * q[0] + q[1] * q[2]);\n//   let y;\n//   let p;\n//   let r;\n//   if (abs(asinparam) > 0.99999) {\n//     let sign = (asinparam < 0) ? -1 : 1;\n//     y = sign * 2 * atan2(q[2], q[0]);\n//     p = sign * PI/2;\n//     r = 0;\n//     if (y < -PI) {\n//       y += 2 * PI;\n//     }\n//     if (y > PI) {\n//       y -= 2 * PI;\n//     }\n//   } else {\n//     y = atan2(\n//       2 * (q[3] * q[2] - q[0] * q[1]),\n//       1 - 2 * (xx + zz)\n//     );\n//     p = asin(asinparam);\n//     r = atan2(\n//       2 * (q[3] * q[1] - q[0] * q[2]),\n//       1 - 2 * (xx + yy)\n//     );\n//   }\n//   v3set(ypr, y, p, r);\n// }\n\nexport function qRotateX(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  let bx = sin(rad);\n  let bw = cos(rad);\n\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n\nexport function qRotateY(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  let by = sin(rad);\n  let bw = cos(rad);\n\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n\nexport function qRotateZ(out, a, rad) {\n  rad *= 0.5;\n\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  let bz = sin(rad);\n  let bw = cos(rad);\n\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n\n\nexport function qSlerp(out, t, a, b) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  let bx = b[0];\n  let by = b[1];\n  let bz = b[2];\n  let bw = b[3];\n\n  let scale0;\n  let scale1;\n\n  // calc cosine\n  let cosom = ax * bx + ay * by + az * bz + aw * bw;\n  // adjust signs (if necessary)\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  }\n  // calculate coefficients\n  if ((1.0 - cosom) > EPSILON) {\n    // standard case (slerp)\n    let omega = acos(cosom);\n    let sinom = sin(omega);\n    scale0 = sin((1.0 - t) * omega) / sinom;\n    scale1 = sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  }\n  // calculate final values\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n\n  return out;\n}\n\nexport function qTransformVec3(out, a, q) {\n  let qx = q[0];\n  let qy = q[1];\n  let qz = q[2];\n  let qw = q[3];\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n  let uvx = qy * z - qz * y;\n  let uvy = qz * x - qx * z;\n  let uvz = qx * y - qy * x;\n  // var uuv = vec3.cross([], qvec, uv);\n  let uuvx = qy * uvz - qz * uvy;\n  let uuvy = qz * uvx - qx * uvz;\n  let uuvz = qx * uvy - qy * uvx;\n  // vec3.scale(uv, uv, 2 * w);\n  let w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2;\n  // vec3.scale(uuv, uuv, 2);\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2;\n  // return vec3.add(out, a, vec3.add(out, uv, uuv));\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n\nexport function qMult(out, a, b) {\n  let ax = a[0];\n  let ay = a[1];\n  let az = a[2];\n  let aw = a[3];\n  let bx = b[0];\n  let by = b[1];\n  let bz = b[2];\n  let bw = b[3];\n\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n\nexport function qInvert(out, a) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let a3 = a[3];\n  let denom = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  let scale = denom ? 1.0 / denom : 0;\n\n  out[0] = -a0 * scale;\n  out[1] = -a1 * scale;\n  out[2] = -a2 * scale;\n  out[3] = a3 * scale;\n  return out;\n}\n\n\nexport function qLerp(out, t, v0, v1) {\n\n  qiNormalize(v0);\n  qiNormalize(v1);\n  let d = v0[0] * v1[0] + v0[1] * v1[1] + v0[2] * v1[2] + v0[3] * v1[3];\n  let v0_t = (d < 0 ? -1 : 1) * (1 - t);\n\n  out[0] =v0[0]*v0_t+v1[0]*t;\n  out[1] =v0[1]*v0_t+v1[1]*t;\n  out[2] =v0[2]*v0_t+v1[2]*t;\n  out[3] =v0[3]*v0_t+v1[3]*t;\n\n  qiNormalize(out);\n  return out;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// Alea PRNG\n// Based on code from Johannes Baagøe <baagoe@baagoe.com>, 2010\n// From https://github.com/coverslide/node-alea/blob/master/alea.js, MIT Licensed\n// From http://baagoe.com/en/RandomMusings/javascript/\n\nexport function mashString(data) {\n  let n = 0xefc8249d;\n  for (let i = 0; i < data.length; i++) {\n    n += data.charCodeAt(i);\n    let h = 0.02519603282416938 * n;\n    n = h >>> 0;\n    h -= n;\n    h *= n;\n    n = h >>> 0;\n    h -= n;\n    n += h * 0x100000000; // 2^32\n  }\n  return n >>> 0;\n  // return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n}\n\nfunction Mash() {\n  this.n = 0xc06c5fc8; // 0xefc8249d;\n}\nMash.prototype.mash = function (data) {\n  let n = this.n + data;\n  let h = 0.02519603282416938 * n;\n  n = h >>> 0;\n  h -= n;\n  h *= n;\n  n = h >>> 0;\n  h -= n;\n  n += h * 0x100000000; // 2^32\n  this.n = n;\n  return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n};\n\nfunction Alea(seed) {\n  this.reseed(seed);\n}\nAlea.prototype.reseed = function (seed) {\n  // this.s0/s1/s2 are floating point between 0 and 1\n  // this.c is a 32-bit int\n  this.c = 1;\n  let mash = new Mash();\n  // Hard-coded results of initial mash(' ') found in original implementation\n  this.s0 = 0.3014581324532628;\n  this.s1 = 0.2643220406025648;\n  this.s2 = 0.7516536582261324;\n\n  this.s0 -= mash.mash(seed);\n  if (this.s0 < 0) {\n    this.s0 += 1;\n  }\n  this.s1 -= mash.mash(seed);\n  if (this.s1 < 0) {\n    this.s1 += 1;\n  }\n  this.s2 -= mash.mash(seed);\n  if (this.s2 < 0) {\n    this.s2 += 1;\n  }\n};\nAlea.prototype.step = function () {\n  let t = 2091639 * this.s0 + this.c * 2.3283064365386963e-10; // 2^-32\n  this.s0 = this.s1;\n  this.s1 = this.s2;\n  return (this.s2 = t - (this.c = t | 0));\n};\nAlea.prototype.uint32 = function () {\n  return this.step() * 0x100000000; // 2^32\n};\nAlea.prototype.fract53 = function () {\n  return this.step() +\n    (this.step() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n};\nAlea.prototype.random = Alea.prototype.step;\nAlea.prototype.range = function (range) {\n  return (this.step() * range) | 0;\n};\nAlea.prototype.floatBetween = function (a, b) {\n  return a + (b - a) * this.random();\n};\n\n// Note: import/export probably needs more precision than F32 or JSON provide\n// Alea.prototype.exportState = function () {\n//   return [this.s0, this.s1, this.s2, this.c];\n// };\n// Alea.prototype.importState = function (i) {\n//   this.s0 = i[0];\n//   this.s1 = i[1];\n//   this.s2 = i[2];\n//   this.c = i[3];\n// };\n\nexport function randCreate(seed) {\n  return new Alea(seed);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// RandSeed2\n// Derived from libGlov, MIT Licensed\n// Super-simple RNG.  2-3x faster than Alea, but probably some correlation in\n//   anything but 1D.\n// Allows for fast, direct manipulation of rand.seed (if correlation between adjacent seeds is acceptable)\n\n//const MAX_INT2 = 0xFFFFFFFF;\n\n// Initialize with two steps past the seed, otherwise close seeds (e.g. 0 and 1) produce very close first results\nfunction step2(seed) {\n  seed = (seed >>> 0) || 0x532f638c2; // arbitrary non-zero\n  seed ^= seed << 13;\n  seed ^= seed >>> 17;\n  seed ^= seed << 5;\n  seed ^= seed << 13;\n  seed ^= seed >>> 17;\n  seed ^= seed << 5;\n  return seed >>> 0;\n}\n\nfunction RandSeed2(seed) {\n  this.seed = step2(seed);\n}\nRandSeed2.prototype.reseed = function (seed) {\n  this.seed = step2(seed);\n};\nRandSeed2.prototype.step = function () { // as long as seed is never === 0, this never returns 0\n  let seed = this.seed;\n  seed ^= seed << 13;\n  seed ^= seed >>> 17;\n  seed ^= seed << 5;\n  return (this.seed = (seed >>> 0)) - 1;\n};\nRandSeed2.prototype.uint32 = RandSeed2.prototype.step;\n// returns [0,range-1]\nRandSeed2.prototype.range = function (range) {\n  // slightly slower (esp before opt): return (this.step() * range / MAX_INT2) | 0; // faster than this.step() % range\n  // slower: return this.step() % range;\n  return (this.step() * range * 2.3283064376e-10) | 0; // 1/MAX_INT2 - largest float such that 0xFFFFFFFE*f < 1.0\n};\n// returns [0,1)\nRandSeed2.prototype.random = function () {\n  // slower: return this.step() / MAX_INT2\n  return this.step() * 2.3283064376e-10; // 1/MAX_INT2 - largest float such that 0xFFFFFFFE*f < 1.0\n};\nRandSeed2.prototype.floatBetween = function (a, b) {\n  return a + (b - a) * this.random();\n};\n\nexport function randFastCreate(seed) {\n  return new RandSeed2(seed);\n}\n","// Portions Copyright 2020 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n// This is ported pretty directly from libGLOV, could really use a fresh\n//   implementation that is more focus aware and gamepad friendly, and should\n//   use ui.buttonShared logic.\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst input = require('./input.js');\nconst { KEYS, PAD } = input;\nconst { max, min, round } = Math;\nconst { clipPush, clipPop } = require('./sprites.js');\nconst ui = require('./ui.js');\nconst { clamp } = require('../../common/util.js');\nconst { vec2, vec4 } = require('./vmath.js');\n\nconst MAX_OVERSCROLL = 50;\nconst OVERSCROLL_DELAY_WHEEL = 180;\n\nfunction darken(color, factor) {\n  return vec4(color[0] * factor, color[1] * factor, color[2] * factor, color[3]);\n}\n\nlet default_pixel_scale = 1;\nexport function setPixelScale(scale) {\n  default_pixel_scale = scale;\n}\n\nfunction ScrollArea(params) {\n  // configuration options\n  this.x = 0;\n  this.y = 0;\n  this.z = Z.UI; // actually in DOM, so above everything!\n  this.w = 10;\n  this.h = 10; // height of visible area, not scrolled area\n  this.rate_scroll_click = ui.font_height;\n  this.pixel_scale = default_pixel_scale;\n  this.top_pad = true; // set to false it the top/bottom \"buttons\" don't look like buttons\n  this.color = vec4(1,1,1,1);\n  this.background_color = vec4(0.8, 0.8, 0.8, 1); // can be null\n  this.auto_scroll = false; // If true, will scroll to the bottom if the height changes and we're not actively scrolling\n  this.focusable_elem = null; // Another element to call .focus() on if we think we are focused\n  this.applyParams(params);\n\n  // Calculated (only once) if not set\n  this.rate_scroll_wheel = this.rate_scroll_wheel || this.rate_scroll_click * 2;\n  this.rollover_color = this.rollover_color || darken(this.color, 0.75);\n  this.rollover_color_light = this.rollover_color_light || darken(this.color, 0.95);\n  assert(this.rollover_color_light !== this.color); // equality is used to detect if this gets used and prevent rollover\n  this.disabled_color = this.disabled_color || this.rollover_color;\n  this.background_color_focused = this.background_color_focused || (\n    this.background_color ? vec4(0.4, 0.4, 0.4, 1) : null\n  );\n\n  // run-time state\n  this.scroll_pos = 0;\n  this.overscroll = 0; // overscroll beyond beginning or end\n  this.overscroll_delay = 0;\n  this.grabbed_pos = 0;\n  this.grabbed = false;\n  this.drag_start = null;\n  this.began = false;\n  this.last_internal_h = 0;\n  this.last_frame = 0;\n  this.focused = false;\n  this.was_disabled = false;\n  this.scrollbar_visible = false;\n}\n\nScrollArea.prototype.applyParams = function (params) {\n  if (!params) {\n    return;\n  }\n  for (let f in params) {\n    this[f] = params[f];\n  }\n};\n\nScrollArea.prototype.barWidth = function () {\n  let { pixel_scale } = this;\n  let { scrollbar_top } = ui.sprites;\n  return scrollbar_top.uidata.total_w * pixel_scale;\n};\n\nScrollArea.prototype.isFocused = function () {\n  return this.focused;\n};\n\nScrollArea.prototype.begin = function (params) {\n  this.applyParams(params);\n  let { x, y, w, h, z } = this;\n  assert(!this.began || engine.DEBUG); // Checking mismatched begin/end\n  this.began = true;\n  // Set up camera and clippers\n  clipPush(z + 0.05, x, y, w - this.barWidth(), h);\n  let camera_orig_x0 = camera2d.x0();\n  let camera_orig_x1 = camera2d.x1();\n  let camera_orig_y0 = camera2d.y0();\n  let camera_orig_y1 = camera2d.y1();\n  // map (0,0) onto (x,y) in the current camera space, keeping w/h scale the same\n  let camera_new_x0 = -(x - camera_orig_x0);\n  let camera_new_y0 = -(y - camera_orig_y0) + round(this.scroll_pos + this.overscroll);\n  let camera_new_x1 = camera_new_x0 + camera_orig_x1 - camera_orig_x0;\n  let camera_new_y1 = camera_new_y0 + camera_orig_y1 - camera_orig_y0;\n  camera2d.push();\n  camera2d.set(camera_new_x0, camera_new_y0, camera_new_x1, camera_new_y1);\n};\n\nScrollArea.prototype.clampScrollPos = function () {\n  let clamped_pos = clamp(this.scroll_pos, 0, this.last_max_value);\n  if (this.scroll_pos < 0) {\n    this.overscroll = max(this.scroll_pos, -MAX_OVERSCROLL);\n  } else if (this.scroll_pos > this.last_max_value) {\n    this.overscroll = min(this.scroll_pos - this.last_max_value, MAX_OVERSCROLL);\n  }\n  this.scroll_pos = clamped_pos;\n};\n\nScrollArea.prototype.keyboardScroll = function () {\n  if (this.was_disabled) {\n    return;\n  }\n  let modified = false;\n  let pad_shift = input.padButtonDown(PAD.RIGHT_TRIGGER) || input.padButtonDown(PAD.LEFT_TRIGGER);\n  let value = input.keyDownEdge(KEYS.PAGEDOWN) +\n    (pad_shift ? input.padButtonDownEdge(PAD.DOWN) : 0);\n  if (value) {\n    // don't overscroll on pageup/pagedown unless we're already at the end\n    this.scroll_pos = min(this.scroll_pos + this.h,\n      this.scroll_pos === this.last_max_value ? Infinity : this.last_max_value);\n    modified = true;\n  }\n  value = input.keyDownEdge(KEYS.PAGEUP) +\n    (pad_shift ? input.padButtonDownEdge(PAD.UP) : 0);\n  if (value) {\n    this.scroll_pos = max(this.scroll_pos - this.h,\n      this.scroll_pos === 0 ? -this.h : 0);\n    modified = true;\n  }\n\n  if (modified) {\n    this.clampScrollPos();\n  }\n};\n\nlet temp_pos = vec2();\n// h is height all members in the scroll area (can be more or less than visible height)\nScrollArea.prototype.end = function (h) {\n  //ScrollAreaDisplay *display = OR(this.display, &scroll_area_display_default);\n  assert(h >= 0);\n  h = max(h, 1); // prevent math from going awry on height of 0\n  assert(this.began); // Checking mismatched begin/end\n  this.began = false;\n  // restore camera and clippers\n  camera2d.pop();\n  clipPop();\n\n  if (this.scroll_pos > h - this.h) {\n    // internal height must have shrunk\n    this.scroll_pos = max(0, h - this.h+1);\n  }\n  if (this.overscroll) {\n    let dt = engine.getFrameDt();\n    if (dt >= this.overscroll_delay) {\n      this.overscroll_delay = 0;\n      this.overscroll = this.overscroll * max(1 - dt * 0.008, 0);\n    } else {\n      this.overscroll_delay -= dt;\n    }\n  }\n\n  let {\n    auto_hide,\n    pixel_scale,\n    rollover_color,\n    rollover_color_light,\n  } = this;\n\n  let {\n    scrollbar_top, scrollbar_bottom, scrollbar_trough, scrollbar_handle, scrollbar_handle_grabber\n  } = ui.sprites;\n\n  let bar_w = scrollbar_top.uidata.total_w * pixel_scale;\n  let button_h = min(scrollbar_top.uidata.total_h * pixel_scale, this.h / 3);\n  let button_h_nopad = this.top_pad ? button_h : 0;\n  let bar_x0 = this.x + this.w - bar_w;\n  let handle_h = this.h / h; // How much of the area is visible\n  handle_h = clamp(handle_h, 0, 1);\n  let handle_pos = (this.h > h) ? 0 : (this.scroll_pos / (h - this.h));\n  handle_pos = clamp(handle_pos, 0, 1);\n  let handle_pixel_h = handle_h * (this.h - button_h_nopad * 2);\n  let handle_pixel_min_h = scrollbar_handle.uidata.total_h * pixel_scale;\n  handle_pixel_h = max(handle_pixel_h, min(handle_pixel_min_h, button_h / 2));\n  let handle_screenpos = round(this.y + button_h_nopad + handle_pos * (this.h - button_h_nopad * 2 - handle_pixel_h));\n  let top_color = this.color;\n  let bottom_color = this.color;\n  let handle_color = this.color;\n  let trough_color = this.color;\n  let disabled = false;\n  if (!this.h || handle_h === 1) {\n    disabled = true;\n  }\n  this.was_disabled = disabled;\n\n  // Handle UI interactions\n  let user_moved_this_frame = false;\n  if (disabled) {\n    trough_color = top_color = bottom_color = handle_color = this.disabled_color;\n    this.drag_start = null;\n  } else {\n    // handle scroll wheel\n    let wheel_delta = input.mouseWheel({\n      x: this.x,\n      y: this.y,\n      w: this.w,\n      h: this.h\n    });\n    if (wheel_delta) {\n      this.overscroll_delay = OVERSCROLL_DELAY_WHEEL;\n      this.scroll_pos -= this.rate_scroll_wheel * wheel_delta;\n      user_moved_this_frame = true;\n    }\n\n    // handle drag of handle\n    // before end buttons, as those might be effectively hidden in some UIs\n    let down = input.mouseDownEdge({\n      x: bar_x0,\n      y: handle_screenpos,\n      w: bar_w,\n      h: handle_pixel_h,\n      button: 0\n    });\n    if (down) {\n      this.grabbed_pos = (down.pos[1] - handle_screenpos);\n      this.grabbed = true;\n      handle_color = rollover_color_light;\n    }\n    if (this.grabbed) {\n      ui.focusSteal(this);\n      user_moved_this_frame = true;\n    }\n    let up = this.grabbed && input.mouseUpEdge({ button: 0 });\n    if (up) {\n      this.grabbed = false;\n      // update pos\n      let delta = up.pos[1] - (this.y + button_h_nopad) - this.grabbed_pos;\n      this.scroll_pos = (h - this.h) * delta / (this.h - button_h_nopad * 2 - handle_pixel_h);\n      handle_color = rollover_color_light;\n    }\n    if (this.grabbed && !input.mouseDown({ button: 0, max_dist: Infinity })) {\n      // released but someone else ate it, release anyway!\n      this.grabbed = false;\n    }\n    if (this.grabbed) {\n      // update pos\n      input.mousePos(temp_pos);\n      let delta = temp_pos[1] - (this.y + button_h_nopad) - this.grabbed_pos;\n      this.scroll_pos = (h - this.h) * delta / (this.h - button_h_nopad * 2 - handle_pixel_h);\n      handle_color = rollover_color_light;\n    }\n    if (input.mouseOver({\n      x: bar_x0,\n      y: handle_screenpos,\n      w: bar_w,\n      h: handle_pixel_h\n    })) {\n      if (handle_color !== rollover_color_light) {\n        handle_color = rollover_color;\n      }\n    }\n\n    // handle clicking on end buttons\n    let button_param = {\n      x: bar_x0,\n      y: this.y,\n      w: bar_w,\n      h: button_h,\n      button: 0\n    };\n    while (input.mouseUpEdge(button_param)) {\n      ui.focusSteal(this);\n      top_color = rollover_color;\n      this.scroll_pos -= this.rate_scroll_click;\n      user_moved_this_frame = true;\n    }\n    if (input.mouseOver(button_param)) {\n      top_color = rollover_color;\n    }\n    button_param.y = this.y + this.h - button_h;\n    while (input.mouseUpEdge(button_param)) {\n      ui.focusSteal(this);\n      bottom_color = rollover_color;\n      this.scroll_pos += this.rate_scroll_click;\n      user_moved_this_frame = true;\n    }\n    if (input.mouseOver(button_param)) {\n      bottom_color = rollover_color;\n    }\n\n    // handle clicking trough if not caught by anything above +/-\n    let click;\n    let bar_param = {\n      x: bar_x0,\n      y: this.y,\n      w: bar_w,\n      h: this.h,\n      button: 0\n    };\n    while ((click = input.mouseUpEdge(bar_param))) {\n      ui.focusSteal(this);\n      if (click.pos[1] > handle_screenpos + handle_pixel_h/2) {\n        this.scroll_pos += this.h;\n      } else {\n        this.scroll_pos -= this.h;\n      }\n      user_moved_this_frame = true;\n    }\n    // Catch mouse over on trough\n    input.mouseOver(bar_param);\n\n    // handle dragging the scroll area background\n    let drag = input.drag({ x: this.x, y: this.y, w: this.w - bar_w, h: this.h, button: 0 });\n    if (drag) {\n      // Drag should not steal focus\n      // This also fixes an interaction with chat_ui where clicking on the chat background (which causes\n      //   a flicker of a drag) would cause pointer lock to be lost\n      //ui.focusSteal(this);\n      user_moved_this_frame = true;\n      if (this.drag_start === null) {\n        this.drag_start = this.scroll_pos;\n      }\n      this.scroll_pos = this.drag_start - drag.cur_pos[1] + drag.start_pos[1];\n    } else {\n      this.drag_start = null;\n    }\n  }\n\n  this.focused = !disabled && ui.focusCheck(this);\n  if (this.focused && this.focusable_elem) {\n    this.focusable_elem.focus();\n  }\n\n  let maxvalue = max(h - this.h+1, 0);\n  this.last_max_value = maxvalue;\n  this.clampScrollPos();\n  if (this.auto_scroll && (this.last_internal_h !== h || this.last_frame !== engine.getFrameIndex() - 1)) {\n    // We were at the bottom, but we are now not, and auto-scroll is enabled\n    if (!user_moved_this_frame) {\n      // want to be at the bottom, scroll down (effective next frame)\n      this.scroll_pos = maxvalue;\n      this.overscroll = 0;\n    }\n  }\n  this.last_internal_h = h;\n  this.last_frame = engine.getFrameIndex();\n\n  let bg_color = this.focused || this.focusable_elem && this.focusable_elem.is_focused ?\n    this.background_color_focused :\n    this.background_color;\n  if (bg_color) {\n    ui.drawRect(this.x, this.y, this.x + this.w, this.y + this.h, this.z, bg_color);\n  }\n\n  if (disabled && (auto_hide || !this.h)) {\n    this.scrollbar_visible = false;\n    return;\n  }\n  this.scrollbar_visible = true;\n\n  scrollbar_top.draw({\n    x: bar_x0, y: this.y, z: this.z + 0.2,\n    w: bar_w, h: button_h,\n    color: top_color,\n  });\n  scrollbar_bottom.draw({\n    x: bar_x0, y: this.y + this.h - button_h, z: this.z + 0.2,\n    w: bar_w, h: button_h,\n    color: bottom_color,\n  });\n  scrollbar_trough.draw({\n    x: bar_x0, y: this.y + button_h / 2, z: this.z+0.1,\n    w: bar_w, h: this.h - button_h,\n    color: trough_color,\n  });\n\n  ui.drawVBox({\n    x: bar_x0, y: handle_screenpos, z: this.z + 0.3,\n    w: bar_w, h: handle_pixel_h,\n  }, scrollbar_handle, handle_color);\n  let grabber_h = scrollbar_handle_grabber.uidata.total_h * pixel_scale;\n  scrollbar_handle_grabber.draw({\n    x: bar_x0, y: handle_screenpos + (handle_pixel_h - grabber_h) / 2, z: this.z + 0.4,\n    w: bar_w, h: grabber_h,\n    color: handle_color,\n  });\n};\n\n// h is height of visible area\nScrollArea.prototype.scrollIntoFocus = function (miny, maxy, h) {\n  let old_scroll_pos = this.scroll_pos;\n  let changed = false;\n  miny = max(miny, 0);\n  if (miny < this.scroll_pos) {\n    this.scroll_pos = miny;\n    changed = true;\n  }\n  maxy -= h;\n  if (maxy > this.scroll_pos) {\n    this.scroll_pos = maxy;\n    changed = true;\n  }\n  if (changed) {\n    // Make it smooth/bouncy a bit\n    this.overscroll = old_scroll_pos - this.scroll_pos;\n  }\n};\n\nexport function scrollAreaCreate(params) {\n  return new ScrollArea(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint complexity:off */\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_engine = require('./engine.js');\nconst glov_input = require('./input.js');\nconst glov_font = require('./font.js');\nconst { scrollAreaCreate } = require('./scroll_area.js');\nconst { clipped, clipPause, clipResume } = require('./sprites.js');\nconst glov_ui = require('./ui.js');\nconst { vec4 } = require('./vmath.js');\nlet glov_markup = null; // Not ported\n\nconst { min, max, sin } = Math;\nconst { cloneShallow, merge, nearSame } = require('../../common/util.js');\n\nlet font;\n\nconst selbox_font_style_default = glov_font.style(null, {\n  color: 0xDFDFDFff,\n});\n\nconst selbox_font_style_selected = glov_font.style(null, {\n  color: 0xFFFFFFff,\n});\n\nconst selbox_font_style_down = glov_font.style(null, {\n  color: 0x000000ff,\n});\n\nconst selbox_font_style_disabled = glov_font.style(null, {\n  color: 0x808080ff,\n});\n\nexport const default_display = {\n  style_default: selbox_font_style_default,\n  style_selected: selbox_font_style_selected,\n  style_disabled: selbox_font_style_disabled,\n  style_down: selbox_font_style_down,\n  no_background: false,\n  no_buttons: false,\n  centered: false,\n  bounce: true,\n  tab_stop: 0,\n  xpad: 8,\n  // selection_highlight: null, // TODO: custom / better selection highlight for menus\n  use_markup: false, // always false, Markup not ported\n};\n\n\nconst color_gray50 = vec4(0.313, 0.313, 0.313, 1.000);\nconst color_gray80 = vec4(0.500, 0.500, 0.500, 1.000);\nconst color_grayD0 = vec4(0.816, 0.816, 0.816, 1.000);\nconst color_white = vec4(1, 1, 1, 1);\n\nconst SELBOX_BOUNCE_TIME = 80;\n\n// Used by GlovSimpleMenu and GlovSelectionBox\nexport class GlovMenuItem {\n  constructor(params) {\n    params = params || {};\n    if (params instanceof GlovMenuItem) {\n      for (let field in params) {\n        this[field] = params[field];\n      }\n      return;\n    }\n    if (typeof params === 'string') {\n      params = { name: params };\n    }\n    this.name = params.name || 'NO_NAME'; // name to display\n    this.state = params.state || null; // state to set upon selection\n    this.cb = params.cb || null; // callback to call upon selection\n    // TODO - cb function on value change?\n    this.value = null; // can be number or string\n    this.value_min = 0;\n    this.value_max = 0;\n    this.value_inc = 0;\n    this.tag = params.tag || null; // for isSelected(tag)\n    // was bitmask\n    this.exit = Boolean(params.exit);\n    this.prompt_int = Boolean(params.prompt_int);\n    this.prompt_string = Boolean(params.prompt_string);\n    this.no_sound = Boolean(params.no_sound);\n    this.slider = Boolean(params.slider);\n    this.no_controller_exit = Boolean(params.no_controller_exit);\n    this.plus_minus = Boolean(params.plus_minus);\n    this.disabled = Boolean(params.disabled);\n    this.centered = Boolean(params.centered);\n  }\n}\n\n\nclass GlovSelectionBox {\n  constructor(params) {\n    // Options (and defaults)\n    this.x = 0;\n    this.y = 0;\n    this.z = Z.UI;\n    this.width = glov_ui.button_width;\n    this.items = [];\n    this.is_dropdown = false;\n    this.transient_focus = false;\n    this.disabled = false;\n    this.display = cloneShallow(default_display);\n    this.scroll_height = 0;\n    this.font_height = glov_ui.font_height;\n    this.entry_height = glov_ui.button_height;\n    this.auto_reset = true;\n    this.auto_unfocus = true;\n    this.reset_selection = false;\n    this.initial_selection = 0;\n    this.applyParams(params);\n\n    // Run-time state\n    this.dropdown_visible = false;\n    this.selected = 0;\n    this.was_clicked = false;\n    this.was_right_clicked = false;\n    this.is_focused = false;\n    this.dummy_focus_check = { selbox_dummy: 1 };\n    this.mouse_mode = false;\n    this.last_mousex = 0;\n    this.last_mousey = 0;\n    this.bounce_time = 0;\n    this.expected_frame_index = 0;\n    this.pre_dropdown_selection = undefined;\n    if (this.is_dropdown || this.scroll_height) {\n      this.sa = scrollAreaCreate({\n        focusable_elem: this,\n        //background_color: null,\n      });\n    }\n  }\n\n  applyParams(params) {\n    if (!params) {\n      return;\n    }\n    for (let f in params) {\n      if (f === 'items') {\n        this.items = params.items.map((item) => new GlovMenuItem(item));\n      } else if (f === 'display') {\n        merge(this.display, params[f]);\n      } else {\n        this[f] = params[f];\n      }\n    }\n  }\n\n  isSelected(tag_or_index) {\n    if (typeof tag_or_index === 'number') {\n      return this.selected === tag_or_index;\n    }\n    return this.items[this.selected].tag === tag_or_index;\n  }\n\n  getSelected() {\n    return this.items[this.selected];\n  }\n\n  getHeight() {\n    let { display, entry_height } = this;\n    if (this.is_dropdown) {\n      return entry_height + 2;\n    }\n    let list_height = this.items.length * entry_height;\n    let do_scroll = this.scroll_height && this.items.length * entry_height > this.scroll_height;\n    if (do_scroll) {\n      list_height = this.scroll_height;\n    }\n    list_height += 2;\n    if (!display.no_background) {\n      list_height += 4;\n    }\n    return list_height + 3;\n  }\n\n  focus() {\n    glov_ui.focusSteal(this);\n    this.is_focused = true;\n  }\n\n  run(params) {\n    this.applyParams(params);\n    let { x, y, z, width, font_height, entry_height, auto_reset } = this;\n    let { KEYS, PAD } = glov_input;\n\n    if (this.reset_selection || auto_reset && this.expected_frame_index !== glov_engine.getFrameIndex()) {\n      this.reset_selection = false;\n      // Reset\n      if (this.items[this.initial_selection] && !this.items[this.initial_selection].disabled) {\n        this.selected = this.initial_selection;\n      } else {\n        // Selection out of range or disabled, select first non-disabled entry\n        for (let ii = 0; ii < this.items.length; ++ii) {\n          if (!this.items[ii].disabled) {\n            this.selected = ii;\n            break;\n          }\n        }\n      }\n    }\n\n    let y0 = y;\n    let yret;\n    let display = this.display;\n    this.was_clicked = false;\n    this.was_right_clicked = false;\n    let pos_changed = false;\n\n    let was_focused = this.is_focused;\n    // Trick to detect if we gained focus from ahead or behind of ourselves, for transient_focus mode\n    let gained_focus_forward = false;\n    if (!this.disabled && !this.is_focused) {\n      gained_focus_forward = glov_ui.focusCheck(this.dummy_focus_check);\n      if (gained_focus_forward) {\n        glov_ui.focusSteal(this);\n      }\n    }\n\n    let old_sel = this.selected;\n    let focused = this.is_focused = this.disabled ? false : glov_ui.focusCheck(this);\n    let gained_focus = focused && !was_focused;\n\n    if (this.dropdown_visible && (!focused ||\n      focused && glov_input.keyDownEdge(KEYS.ESC)\n    )) {\n      if (this.pre_dropdown_selection !== undefined) {\n        // Restore selection to before opening the dropdown\n        this.selected = this.pre_dropdown_selection;\n        this.pre_dropdown_selection = undefined;\n      }\n      this.dropdown_visible = false;\n    }\n\n    let num_non_disabled_selections = 0;\n    let eff_sel = -1;\n    for (let ii = 0; ii < this.items.length; ++ii) {\n      let item = this.items[ii];\n      if (!item.disabled) {\n        if (eff_sel === -1 && this.selected <= ii) {\n          eff_sel = num_non_disabled_selections;\n        }\n        num_non_disabled_selections++;\n      }\n    }\n    // This is OK, can have an empty selection box: assert(num_non_disabled_selections);\n    if (eff_sel === -1) {\n      // perhaps had the end selected, and selection became smaller\n      eff_sel = 0;\n    }\n\n    if (this.transient_focus && gained_focus) {\n      if (gained_focus_forward) {\n        eff_sel = 0;\n      } else {\n        eff_sel = num_non_disabled_selections - 1;\n      }\n      pos_changed = true;\n    }\n\n    if (!this.is_dropdown && !display.no_background) {\n      let bg_height = this.getHeight();\n      if (focused) {\n        glov_ui.drawRect(x, y, x + width, y + bg_height - 2, z, color_white);\n        y += 2;\n        x += 2;\n        width -= 4;\n        glov_ui.drawRect(x, y, x + width, y + bg_height - 6, z+0.1, color_gray50);\n        y += 2;\n        x += 2;\n        width -= 4;\n      } else {\n        glov_ui.drawRect(x, y, x + width, y + bg_height - 2, z, color_gray50);\n        y += 4;\n        x += 4;\n        width -= 8;\n      }\n    }\n\n    let scroll_height = this.scroll_height;\n    if (!scroll_height && this.is_dropdown) {\n      scroll_height = camera2d.y1() - (y + entry_height);\n    }\n    let page_size = (scroll_height - 1) / entry_height;\n\n    if (focused) {\n      let pad_shift = glov_input.padButtonDown(PAD.RIGHT_TRIGGER) || glov_input.padButtonDown(PAD.LEFT_TRIGGER);\n      let value = glov_input.keyDownEdge(KEYS.PAGEDOWN) +\n        (pad_shift ? glov_input.padButtonDownEdge(PAD.DOWN) : 0);\n      if (value) {\n        eff_sel += page_size * value;\n        eff_sel = min(eff_sel, num_non_disabled_selections - 1);\n        this.mouse_mode = false;\n        pos_changed = true;\n      }\n      value = glov_input.keyDownEdge(KEYS.PAGEUP) +\n        (pad_shift ? glov_input.padButtonDownEdge(PAD.UP) : 0);\n      if (value) {\n        eff_sel -= page_size * value;\n        eff_sel = max(eff_sel, 0);\n        this.mouse_mode = false;\n        pos_changed = true;\n      }\n      value = glov_input.keyDownEdge(KEYS.DOWN) +\n        glov_input.keyDownEdge(KEYS.S) +\n        glov_input.padButtonDownEdge(PAD.DOWN);\n      if (value) {\n        eff_sel+=value;\n        this.mouse_mode = false;\n        pos_changed = true;\n      }\n      value = glov_input.keyDownEdge(KEYS.UP) +\n        glov_input.keyDownEdge(KEYS.W) +\n        glov_input.padButtonDownEdge(PAD.UP);\n      if (value) {\n        eff_sel-=value;\n        this.mouse_mode = false;\n        pos_changed = true;\n      }\n      if (glov_input.keyDownEdge(KEYS.HOME)) {\n        eff_sel = 0;\n        this.mouse_mode = false;\n        pos_changed = true;\n      }\n      if (glov_input.keyDownEdge(KEYS.END)) {\n        eff_sel = num_non_disabled_selections - 1;\n        this.mouse_mode = false;\n        pos_changed = true;\n      }\n      if (glov_input.keyDownEdge(KEYS.SPACE) || glov_input.keyDownEdge(KEYS.ENTER)) {\n        if (!this.is_dropdown || this.dropdown_visible) {\n          this.was_clicked = true;\n        } else {\n          this.dropdown_visible = !this.dropdown_visible;\n          this.pre_dropdown_selection = this.selected;\n        }\n      }\n    }\n\n    let sel_changed = false;\n    if (eff_sel < 0) {\n      if (this.transient_focus) {\n        eff_sel = 0;\n        sel_changed = true;\n        glov_ui.focusPrev(this);\n      } else {\n        eff_sel = num_non_disabled_selections - 1;\n      }\n    }\n    if (eff_sel >= num_non_disabled_selections && num_non_disabled_selections) {\n      if (this.transient_focus) {\n        eff_sel = num_non_disabled_selections - 1;\n        sel_changed = true;\n        glov_ui.focusNext(this);\n      } else {\n        eff_sel = 0;\n      }\n    }\n\n    // Convert from eff_sel back to actual selection\n    for (let ii = 0; ii < this.items.length; ++ii) {\n      let item = this.items[ii];\n      if (!item.disabled) {\n        if (!eff_sel) {\n          this.selected = ii;\n          break;\n        }\n        --eff_sel;\n      }\n    }\n\n    let pad = 8;\n\n    let dropdown_x = x;\n    let dropdown_y = y;\n    let clip_pause = clipped() && this.is_dropdown && this.dropdown_visible;\n    if (clip_pause) {\n      clipPause();\n    }\n    let z_save = z;\n    if (this.is_dropdown) {\n      z += 1000; // drop-down part should be above everything except tooltips\n    }\n\n    if (!this.is_dropdown || this.dropdown_visible) {\n      let do_scroll = scroll_height && this.items.length * entry_height > scroll_height;\n      let extra_height = this.is_dropdown ? entry_height : 0;\n      if (!do_scroll && y + this.items.length * entry_height + extra_height >= camera2d.y1()) {\n        y = camera2d.y1() - this.items.length * entry_height;\n      } else {\n        y += extra_height;\n      }\n      let y_save = y;\n      let x_save = x;\n      let scroll_pos = 0;\n      let eff_width = width;\n      if (do_scroll) {\n        if (pos_changed) {\n          // ensure part of visible scroll area includes the current selection\n          let buffer = min(1.5 * entry_height, (scroll_height - entry_height) / 2);\n          this.sa.scrollIntoFocus(this.selected * entry_height - buffer,\n            min(this.items.length * entry_height,\n              (this.selected + 1) * entry_height + buffer),\n            scroll_height);\n        }\n        this.sa.begin({\n          x, y, z,\n          w: width,\n          h: scroll_height,\n        });\n        scroll_pos = this.sa.scroll_pos + this.sa.overscroll;\n        y = 0;\n        x = 0;\n        eff_width = width - this.sa.barWidth();\n      }\n      for (let i = 0; i < this.items.length; i++) {\n        let item = this.items[i];\n        let entry_disabled = item.disabled;\n        let image_set = null;\n        if (!this.disabled && !entry_disabled && glov_input.click({\n          x, y, w: width, h: entry_height\n        })) {\n          glov_ui.focusSteal(this);\n          this.was_clicked = true;\n          this.mouse_mode = true;\n          this.selected = i;\n        }\n        if (!this.disabled && !entry_disabled && glov_input.click({\n          x, y, w: width, h: entry_height, button: 1,\n        })) {\n          glov_ui.focusSteal(this);\n          this.was_right_clicked = true;\n          this.mouse_mode = true;\n          this.selected = i;\n        }\n        let is_mouseover = false;\n        if (!this.disabled && !entry_disabled && glov_input.mouseOver({\n          x, y, w: width, h: entry_height\n        })) {\n          let mpos = glov_input.mousePos();\n          is_mouseover = true;\n          if (focused || this.transient_focus) {\n            if (this.expected_frame_index === glov_engine.getFrameIndex() &&\n              (mpos[0] !== this.last_mousex || !nearSame(mpos[1] - scroll_pos, this.last_mousey, 1.25))\n            ) {\n              this.mouse_mode = true;\n              this.selected = i;\n            }\n            this.last_mousex = mpos[0];\n            this.last_mousey = mpos[1] - scroll_pos;\n          }\n          // Not used anymore because in mouse_mode, rollover *is* selection, don't have two cursors!\n          // if (this.mouse_mode) {\n          //   text_color = 0x000000ff;\n          //   image_set = &menu_rollover;\n          // }\n        }\n\n        let style;\n        let show_selection = !this.disabled && (\n          !(this.transient_focus && !this.is_focused) && !this.is_dropdown || // show if a non-dropdown that's focused\n          is_mouseover || !this.mouse_mode);\n        let bounce = false;\n        if (this.selected === i && show_selection) {\n          style = display.style_selected || selbox_font_style_selected;\n          image_set = glov_ui.sprites.menu_selected;\n          if (is_mouseover && glov_input.mouseDown()) {\n            if (glov_ui.sprites.menu_down) {\n              image_set = glov_ui.sprites.menu_down;\n            } else {\n              style = display.style_down || selbox_font_style_down;\n            }\n          }\n          if (display.bounce && !this.is_dropdown) {\n            let ms = glov_engine.getFrameDt();\n            if (this.selected !== old_sel) {\n              bounce = true;\n              this.bounce_time = SELBOX_BOUNCE_TIME;\n            } else if (ms >= this.bounce_time) {\n              this.bounce_time = 0;\n            } else {\n              bounce = true;\n              this.bounce_time -= ms;\n            }\n          }\n        } else if (entry_disabled) {\n          style = display.style_disabled || selbox_font_style_disabled;\n          image_set = glov_ui.sprites.menu_entry;\n        } else {\n          style = display.style_default || selbox_font_style_default;\n          image_set = glov_ui.sprites.menu_entry;\n        }\n        let yoffs = 0;\n        let bounce_amt = 0;\n        if (bounce) {\n          bounce_amt = sin(this.bounce_time * 20 / SELBOX_BOUNCE_TIME / 10);\n          yoffs = -4 * bounce_amt * entry_height / 32;\n        }\n        if (!display.no_buttons) {\n          glov_ui.drawHBox({ x, y: y + yoffs, z: z + 1, w: eff_width, h: entry_height },\n            image_set, color_white);\n        }\n        // spriteListClipperPush(x, y + yoffs, eff_width - pad, entry_height);\n        let did_tab = false;\n        let text_y = y + yoffs;\n        if (display.tab_stop) {\n          let str = item.name;\n          let tab_idx = str.indexOf('\\t');\n          if (tab_idx !== -1) {\n            did_tab = true;\n            let pre = str.slice(0, tab_idx);\n            let post = str.slice(tab_idx + 1);\n            let x1 = x + display.xpad;\n            let x2 = x + display.xpad + display.tab_stop + pad;\n            let w1 = display.tab_stop;\n            let w2 = eff_width - display.tab_stop - display.xpad * 2 - pad;\n            if (display.use_markup) {\n              let md = {};\n              md.align = glov_font.ALIGN.HFIT;\n              md.x_size = md.y_size = font_height;\n              md.w = w1;\n              md.h = 1;\n              md.style = style;\n              glov_markup.print(md, x1, text_y, z + 2, pre);\n              md.w = w2;\n              glov_markup.print(md, x2, text_y, z + 2, post);\n            } else {\n              font.drawSizedAligned(style, x1, text_y, z + 2, font_height,\n                glov_font.ALIGN.HFIT | glov_font.ALIGN.VCENTER, // eslint-disable-line no-bitwise\n                w1, entry_height, pre);\n              font.drawSizedAligned(style, x2, text_y, z + 2, font_height,\n                glov_font.ALIGN.HFIT | glov_font.ALIGN.VCENTER, // eslint-disable-line no-bitwise\n                w2, entry_height, post);\n            }\n          }\n        }\n        if (!did_tab) {\n          let md = {};\n          // eslint-disable-next-line no-bitwise\n          md.align = (item.centered || display.centered ? glov_font.ALIGN.HCENTERFIT : glov_font.ALIGN.HFIT) |\n            glov_font.ALIGN.VCENTER;\n          md.x_size = md.y_size = font_height;\n          md.w = eff_width - display.xpad * 2;\n          md.h = entry_height;\n          md.style = style;\n          let xx = x + display.xpad;\n          let zz = z + 2;\n          if (display.use_markup) {\n            glov_markup.print(md, xx, text_y, zz, item.name);\n          } else {\n            font.drawSizedAligned(md.style, xx, text_y, zz, md.x_size,\n              md.align, md.w, md.h, item.name);\n          }\n        }\n        // spriteListClipperPop();\n        // if (display.selection_highlight && this.selected === i && show_selection) {\n        //   let grow = 0.2 * (1 - bounce_amt);\n        //   display.selection_highlight.DrawStretched(\n        //     x - grow * eff_width, y - grow * entry_height, z + 1.5,\n        //     eff_width * (1 + 2 * grow), entry_height * (1 + 2 * grow), 0, 0xFF);\n        // }\n        y += entry_height;\n      }\n      if (do_scroll) {\n        this.sa.end(y);\n        y = y_save + scroll_height;\n        x = x_save;\n      }\n\n      if (this.was_clicked && this.is_dropdown) {\n        this.dropdown_visible = false;\n      }\n    }\n\n    if (clip_pause) {\n      clipResume();\n    }\n\n    if (this.is_dropdown) {\n      z = z_save;\n      x = dropdown_x;\n      y = dropdown_y;\n      // display header\n      let color0 = color_white;\n      if (this.disabled) {\n        color0 = color_gray80;\n      }\n      // let color1 = color_white;\n      // let dropdown_rect = glov_ui.sprites.menu_header.uidata.rects[2];\n      // let dropdown_width = (dropdown_rect[2] - dropdown_rect[0]) / (dropdown_rect[3] - dropdown_rect[1]) *\n      //   entry_height;\n      // let dropdown_x = x + width - dropdown_width;\n      //int dropdown_w = glov_ui_menu_header.right.GetTileWidth();\n      let dropdown_param = {\n        x, y, z: z + 2 - 0.1,\n        w: width, h: entry_height,\n        disabled: this.disabled,\n      };\n      let clicked = false;\n      if (!this.disabled && glov_input.click(dropdown_param)) {\n        glov_ui.focusSteal(this);\n        clicked = true;\n        this.dropdown_visible = !this.dropdown_visible;\n        this.pre_dropdown_selection = this.selected;\n        color0 = color_grayD0;\n        // color1 = color_gray80;\n      } else if (!this.disabled && glov_input.mouseOver({\n        x, y, w: width, h: entry_height\n      })) {\n        glov_ui.setMouseOver(this);\n        color0 = color_grayD0;\n        // color1 = color_gray80;\n      }\n      glov_ui.checkHooks(dropdown_param, clicked);\n      glov_ui.drawHBox({\n        x, y, z: z + 1,\n        w: width, h: entry_height\n      }, glov_ui.sprites.menu_header, color0); // TODO: only pieces 1 and 2?\n      // glov_ui.draw_list.queue(glov_ui.sprites.menu_header,\n      //   dropdown_x, y, z + 1.5, color1, [dropdown_width, entry_height, 1, 1],\n      //   glov_ui.sprites.menu_header.uidata.rects[2]);\n      let eff_selection = this.is_dropdown && this.dropdown_visible && this.pre_dropdown_selection !== undefined ?\n        this.pre_dropdown_selection :\n        this.selected;\n      font.drawSizedAligned(focused ? glov_ui.font_style_focused : glov_ui.font_style_normal,\n        x + display.xpad, y, z + 2,\n        font_height, glov_font.ALIGN.HFIT | glov_font.ALIGN.VCENTER, // eslint-disable-line no-bitwise\n        width - display.xpad - glov_ui.sprites.menu_header.uidata.wh[2] * entry_height, entry_height,\n        this.items[eff_selection].name);\n      y += entry_height;\n      yret = y + 2;\n    }\n\n    if (this.selected !== old_sel || sel_changed) {\n      glov_ui.playUISound('rollover');\n    }\n\n    if (focused && this.auto_unfocus) {\n      if (glov_input.click({ peek: true })) {\n        glov_ui.focusSteal('canvas');\n      }\n    }\n\n    this.expected_frame_index = glov_engine.getFrameIndex() + 1;\n    x = 10;\n    y += 5;\n    if (!this.is_dropdown) {\n      yret = y;\n    }\n    assert.equal(yret - y0, this.getHeight());\n    return yret - y0;\n  }\n}\n\n\nexport function create(params) {\n  if (!font) {\n    font = glov_ui.font;\n  }\n  return new GlovSelectionBox(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nlet modified = {};\nexports.true = true; // for perf.js\n\nconst { titleCase } = require('../../common/util.js');\nconst { cmd_parse } = require('./cmds.js');\nconst engine = require('./engine.js');\n\nexport function get(key) {\n  return exports[key];\n}\n\nexport function set(key, value) {\n  if (exports[key] !== value) {\n    cmd_parse.handle(null, `${key} ${value}`, null); // uses default cmd_parse handler\n  }\n}\n\nexport function setAsync(key, value) {\n  engine.postTick({ fn: set.bind(null, key, value) });\n}\n\nexport function runTimeDefault(key, new_default) {\n  // Set a default value that cannot be determined at load time\n  // Only set if this has never been modified\n  if (!modified[key]) {\n    // Does *not* call cmd_parse.set - will not write to storage, still at \"default\" setting\n    exports[key] = new_default;\n  }\n}\n\nexport function register(defs) {\n  Object.keys(defs).forEach(function (key) {\n    let def = defs[key];\n    exports[key] = def.default_value;\n    cmd_parse.registerValue(key, {\n      type: def.type,\n      label: def.label || titleCase(key.replace(/_/g, ' ')),\n      range: def.range,\n      get: () => exports[key],\n      set: (v) => {\n        modified[key] = true;\n        exports[key] = v;\n      },\n      store: true,\n      ver: def.ver,\n      help: def.help,\n      usage: def.usage,\n      on_change: def.on_change,\n    });\n  });\n}\n\nregister({\n  max_fps: {\n    label: 'Max FPS',\n    default_value: 0,\n    type: cmd_parse.TYPE_FLOAT,\n  },\n  render_scale: {\n    label: 'Render Scale (3D)',\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0.1,1],\n  },\n  render_scale_mode: {\n    label: 'Render Scale Mode',\n    default_value: 0,\n    type: cmd_parse.TYPE_INT,\n    range: [0,2],\n  },\n  render_scale_all: {\n    label: 'Render Scale (All)',\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0.3333,4],\n  },\n  render_scale_clear: {\n    label: 'Render Scale Full Clear',\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n  fov: {\n    default_value: 60,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [40,100],\n  },\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport const MAX_SEMANTIC = 5;\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { errorReportSetDetails, glovErrorReport } = require('./error_report.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst { matchAll } = require('../../common/util.js');\nconst { texturesUnloadDynamic } = require('./textures.js');\nconst { webFSGetFile } = require('./webfs.js');\n\nlet last_id = 0;\n\nlet bound_prog = null;\n\nexport const semantic = {\n  'ATTR0': 0,\n  'POSITION': 0,\n  'ATTR1': 1,\n  'COLOR': 1,\n  'COLOR_0': 1,\n  'ATTR2': 2,\n  'TEXCOORD': 2,\n  'TEXCOORD_0': 2,\n  'ATTR3': 3,\n  'NORMAL': 3,\n  'ATTR4': 4,\n  'TEXCOORD_1': 4,\n};\n\nexport let globals;\nlet global_defines;\n\nlet error_fp;\nlet error_vp;\n\nlet shaders = [];\n\nconst vp_attr_regex = /attribute [^ ]+ ([^ ;]+);/g;\nconst uniform_regex = /uniform (?:(?:low|medium|high)p )?((?:(?:vec|mat)\\d(?:x\\d)?|float) [^ ;]+);/g;\nconst sampler_regex = /uniform sampler(?:2D|Cube) ([^ ;]+);/g;\nconst include_regex = /\\n#include \"([^\"]+)\"/g;\n\nconst type_size = {\n  float: 1,\n  vec2: 2*1,\n  vec3: 3*1,\n  vec4: 4*1,\n  mat3: 3*3,\n  mat4: 4*4,\n};\n\nlet includes = {};\n\nfunction loadInclude(key) {\n  let text = webFSGetFile(includes[key].filename, 'text');\n  includes[key].text = `\\n// from include \"${key}\":\\n${text}\\n`;\n}\n\nexport function addInclude(key, filename) {\n  assert(!includes[key]);\n  includes[key] = { filename };\n  loadInclude(key);\n}\n\nexport function shadersResetState() {\n  for (let ii = 0; ii < shaders.length; ++ii) {\n    let shader = shaders[ii];\n    if (shader.programs) {\n      for (let fpid in shader.programs) {\n        let prog = shader.programs[fpid];\n        //gl.useProgram(prog.handle);\n        for (let jj = 0; jj < prog.uniforms.length; ++jj) {\n          let unif = prog.uniforms[jj];\n          for (let kk = 0; kk < unif.size; ++kk) {\n            unif.value[kk] = NaN;\n          }\n          //uniformSetValue(unif);\n        }\n      }\n    }\n  }\n  bound_prog = null;\n  gl.useProgram(null);\n}\n\nfunction setGLErrorReportDetails() {\n  // Set some debug details we might want\n  let details = {\n    max_fragment_uniform_vectors: gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS),\n    max_varying_vectors: gl.getParameter(gl.MAX_VARYING_VECTORS),\n    max_vertex_attribs: gl.getParameter(gl.MAX_VERTEX_ATTRIBS),\n    max_vertex_uniform_vectors: gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS),\n    vendor: gl.getParameter(gl.VENDOR),\n    renderer: gl.getParameter(gl.RENDERER),\n    webgl: engine.webgl2 ? 2 : 1,\n  };\n  let debug_info = gl.getExtension('WEBGL_debug_renderer_info');\n  if (debug_info) {\n    details.renderer_unmasked = gl.getParameter(debug_info.UNMASKED_RENDERER_WEBGL);\n    details.vendor_unmasked = gl.getParameter(debug_info.UNMASKED_VENDOR_WEBGL);\n  }\n  for (let key in details) {\n    errorReportSetDetails(key, details[key]);\n  }\n}\n\nlet report_queued = false;\nlet shader_errors;\nlet shader_errors_any_fatal;\nfunction reportShaderError(non_fatal, err) {\n  function doReport() {\n    setGLErrorReportDetails();\n    let msg = `Shader error(s):\\n    ${shader_errors.join('\\n    ')}`;\n    if (!shader_errors_any_fatal) {\n      glovErrorReport(false, msg, 'shaders.js');\n    } else {\n      assert(false, msg);\n    }\n    shader_errors = null;\n  }\n  if (!report_queued) {\n    setTimeout(doReport, 1000);\n    report_queued = true;\n    shader_errors = [];\n    shader_errors_any_fatal = false;\n  }\n  shader_errors_any_fatal = shader_errors_any_fatal || !non_fatal;\n  shader_errors.push(err);\n}\n\nfunction parseIncludes(text) {\n  let supplied_uniforms = {};\n  text.replace(uniform_regex, function (str, key) {\n    supplied_uniforms[key] = true;\n  });\n  text = text.replace(include_regex, function (str, filename) {\n    let replacement = includes[filename];\n    if (!replacement) {\n      console.error(`Could not evaluate ${str}`);\n      return str;\n    }\n    replacement = replacement.text;\n    // Remove duplicate uniforms\n    replacement = replacement.replace(uniform_regex, function (str2, key) {\n      if (supplied_uniforms[key]) {\n        return `// [removed ${key}]`;\n      }\n      supplied_uniforms[key] = true;\n      return str2;\n    });\n    return replacement;\n  });\n  return text;\n}\n\nconst webgl2_header = [\n  '#version 300 es',\n  '#define WEBGL2',\n].join('\\n');\nconst webgl2_header_fp = [\n  webgl2_header,\n  '#define varying in',\n  'out lowp vec4 fragColor;',\n  '#define gl_FragColor fragColor',\n  '#define texture2D texture',\n  '#define textureCube texture',\n  ''\n].join('\\n');\nconst webgl2_header_vp = [\n  webgl2_header,\n  '#define varying out',\n  '#define attribute in',\n  ''\n].join('\\n');\n\nfunction Shader(params) {\n  let { filename, defines, non_fatal } = params;\n  assert.equal(typeof filename, 'string');\n  let type = filename.endsWith('.fp') ? gl.FRAGMENT_SHADER : filename.endsWith('.vp') ? gl.VERTEX_SHADER : 0;\n  assert(type);\n  this.type = type;\n  this.filename = filename;\n  this.non_fatal = non_fatal;\n  this.defines_arr = (defines || []);\n  this.defines = this.defines_arr.map((a) => `#define ${a}\\n`).join('');\n  this.shader = gl.createShader(type);\n  this.id = ++last_id;\n  if (type === gl.VERTEX_SHADER) {\n    this.programs = {};\n  }\n  shaders.push(this);\n  this.compile();\n}\n\nShader.prototype.compile = function () {\n  let { type, filename } = this;\n  let header = '';\n  let text = webFSGetFile(filename, 'text');\n  if (engine.webgl2 && text.indexOf('#pragma WebGL2') !== -1) {\n    header = type === gl.VERTEX_SHADER ? webgl2_header_vp : webgl2_header_fp;\n  }\n  text = `${header}${global_defines}${this.defines}${text}`;\n  text = parseIncludes(text);\n  text = text.replace(/#pragma WebGL2?/g, '');\n  if (type === gl.VERTEX_SHADER) {\n    this.attributes = matchAll(text, vp_attr_regex);\n    // Ensure they are known names so we can give them indices\n    // Add to semantic[] above as needed\n    this.attributes.forEach((v) => assert(semantic[v] !== undefined));\n  } else {\n    this.samplers = matchAll(text, sampler_regex);\n    // Ensure all samplers end in a unique number\n    let found = [];\n    this.samplers.forEach((v) => {\n      let num = Number(v.slice(-1));\n      assert(!isNaN(num));\n      assert(!found[num]);\n      found[num] = true;\n    });\n  }\n  this.uniforms = matchAll(text, uniform_regex);\n  // Ensure a known type\n  this.uniforms.forEach((v) => {\n    let type_name = v.split(' ')[0];\n    assert(type_size[type_name]);\n  });\n  gl.shaderSource(this.shader, text);\n  gl.compileShader(this.shader);\n\n  if (!gl.getShaderParameter(this.shader, gl.COMPILE_STATUS)) {\n    this.valid = false;\n    let error_text = gl.getShaderInfoLog(this.shader);\n    if (error_text) { // sometimes null on iOS\n      error_text = error_text.replace(/\\0/g, '').trim();\n    }\n    if (this.defines_arr.length) {\n      filename += `(${this.defines_arr.join(',')})`;\n    }\n    console[this.non_fatal ? 'warn' : 'error'](`Error compiling ${filename}: ${error_text}`);\n    reportShaderError(this.non_fatal, `${filename}: ${error_text}`);\n    // eslint-disable-next-line newline-per-chained-call\n    console.log(text.split('\\n').map((line, idx) => `${idx+1}: ${line}`).join('\\n'));\n  } else {\n    this.valid = true;\n  }\n};\n\nexport function create(filename) {\n  if (typeof filename === 'object') {\n    return new Shader(filename);\n  }\n  return new Shader({ filename });\n}\n\nfunction uniformSetValue(unif) {\n  switch (unif.width) { // eslint-disable-line default-case\n    case 1:\n      gl.uniform1fv(unif.location, unif.value);\n      break;\n    case 2:\n      gl.uniform2fv(unif.location, unif.value);\n      break;\n    case 3:\n      gl.uniform3fv(unif.location, unif.value);\n      break;\n    case 4:\n      gl.uniform4fv(unif.location, unif.value);\n      break;\n    case 9:\n      gl.uniformMatrix3fv(unif.location, false, unif.value);\n      break;\n    case 16:\n      gl.uniformMatrix4fv(unif.location, false, unif.value);\n      break;\n  }\n}\n\nfunction link(vp, fp) {\n  let prog = vp.programs[fp.id] = {\n    handle: gl.createProgram(),\n    uniforms: null,\n  };\n  if (!prog.handle) {\n    assert(false, `gl.createProgram() returned ${prog.handle}${gl.createProgram() ? ', retry would succeed' : ''}`);\n  }\n  gl.attachShader(prog.handle, vp.shader);\n  gl.attachShader(prog.handle, fp.shader);\n  // call this for all relevant semantic\n  for (let ii = 0; ii < vp.attributes.length; ++ii) {\n    gl.bindAttribLocation(prog.handle, semantic[vp.attributes[ii]], vp.attributes[ii]);\n  }\n  gl.linkProgram(prog.handle);\n\n  prog.valid = gl.getProgramParameter(prog.handle, gl.LINK_STATUS);\n  if (!prog.valid) {\n    reportShaderError(false, `Shader link error (${vp.filename} & ${fp.filename}):` +\n      ` ${gl.getProgramInfoLog(prog.handle)}`);\n    console.error(`Shader link error: ${gl.getProgramInfoLog(prog.handle)}`);\n  }\n\n  gl.useProgram(prog.handle);\n  bound_prog = prog;\n\n  let uniforms = vp.uniforms.slice(0);\n  for (let ii = 0; ii < fp.uniforms.length; ++ii) {\n    let name = fp.uniforms[ii];\n    if (uniforms.indexOf(name) === -1) {\n      uniforms.push(name);\n    }\n  }\n  prog.uniforms = uniforms.map((v) => {\n    v = v.split(' ');\n    let type = v[0];\n    let name = v[1];\n    let count = 1;\n    let m = name.match(/([^[]+)\\[(\\d+)\\]/);\n    if (m) {\n      name = m[1];\n      count = Number(m[2]);\n    }\n    let location = gl.getUniformLocation(prog.handle, name);\n    if (location === null) {\n      // Not in either shader, (commented out?), remove (via filter below)\n      return null;\n    }\n    let width = type_size[type];\n    let size = width * count;\n    let glob = globals[name];\n    let value = new Float32Array(size);\n    // set initial value\n    let unif = {\n      name,\n      size,\n      width,\n      count,\n      value,\n      location,\n      glob,\n    };\n    uniformSetValue(unif);\n    return unif;\n  }).filter((v) => v);\n\n  for (let ii = 0; ii < fp.samplers.length; ++ii) {\n    let name = fp.samplers[ii];\n    let num = Number(name.slice(-1));\n    let location = gl.getUniformLocation(prog.handle, name);\n    if (location !== null) {\n      gl.uniform1i(location, num);\n    }\n  }\n  return prog;\n}\n\nexport function bind(vp, fp, params) {\n  let prog = vp.programs[fp.id];\n  if (!prog) {\n    prog = link(vp, fp);\n  }\n  if (!prog.valid) {\n    prog = link(vp, error_fp);\n    if (!prog.valid) {\n      prog = link(error_vp, error_fp);\n    }\n    vp.programs[fp.id] = prog;\n  }\n  if (prog !== bound_prog) {\n    bound_prog = prog;\n    gl.useProgram(prog.handle);\n  }\n  for (let ii = 0; ii < prog.uniforms.length; ++ii) {\n    let unif = prog.uniforms[ii];\n    let value = params[unif.name] || unif.glob;\n    if (!value) {\n      continue;\n    }\n    let diff = false;\n    for (let jj = 0; jj < unif.size; ++jj) {\n      if (value[jj] !== unif.value[jj]) {\n        diff = true;\n        break;\n      }\n    }\n    if (diff) {\n      for (let jj = 0; jj < unif.size; ++jj) {\n        unif.value[jj] = value[jj];\n      }\n      uniformSetValue(unif);\n    }\n  }\n}\n\nconst reserved = { WEBGL2: 1 };\nexport function addReservedDefine(key) {\n  reserved[key] = 1;\n}\nlet internal_defines = {};\nfunction applyDefines() {\n  global_defines = Object.keys(engine.defines).filter((v) => !reserved[v])\n    .concat(Object.keys(internal_defines))\n    .map((v) => `#define ${v}\\n`)\n    .join('');\n}\n\nfunction shaderReload() {\n  if (shaders.length) {\n    window.debugmsg('', true);\n    gl.useProgram(null);\n    for (let ii = 0; ii < shaders.length; ++ii) {\n      let programs = shaders[ii].programs;\n      if (programs) {\n        for (let id in programs) {\n          gl.deleteProgram(programs[id].handle);\n        }\n        shaders[ii].programs = {};\n      }\n    }\n    for (let ii = 0; ii < shaders.length; ++ii) {\n      shaders[ii].compile();\n    }\n    texturesUnloadDynamic();\n  }\n}\n\nexport function handleDefinesChanged() {\n  applyDefines();\n  shaderReload();\n}\n\nexport function setInternalDefines(new_values) {\n  for (let key in new_values) {\n    if (new_values[key]) {\n      internal_defines[key] = new_values[key];\n    } else {\n      delete internal_defines[key];\n    }\n  }\n  handleDefinesChanged();\n}\n\nfunction onShaderChange(filename) {\n  for (let key in includes) {\n    loadInclude(key);\n  }\n  shaderReload();\n}\n\nexport function startup(_globals) {\n  applyDefines();\n  globals = _globals;\n\n  error_fp = create('glov/shaders/error.fp');\n  error_vp = create('glov/shaders/error.vp');\n\n  filewatchOn('.fp', onShaderChange);\n  filewatchOn('.vp', onShaderChange);\n}\n\nexport function addGlobal(key, vec) {\n  assert(!globals[key]);\n  globals[key] = vec;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint complexity:off */\n\n//////////////////////////////////////////////////////////////////////////\n// GlovSimpleMenu is just a GlovSelectionBox plus some logic to activate\n// callbacks/etc upon selecting of elements.\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_engine = require('./engine.js');\nconst glov_input = require('./input.js');\nconst selection_box = require('./selection_box.js');\nconst glov_ui = require('./ui.js');\nconst { clamp, vec4 } = require('./vmath.js');\n\nconst { KEYS, PAD } = glov_input;\n\nconst color101010C8 = vec4(0x10/255, 0x10/255, 0x10/255, 0xC8/255);\n\nclass GlovSimpleMenu {\n  constructor(params) {\n    params = params || {};\n    this.sel_box = selection_box.create(params);\n    this.edit_index = -1;\n\n    // Output members\n    this.selected = -1; // actually selected/acted on, not just current highlight, like this.sel_box.selected\n  }\n\n  focus() {\n    glov_ui.focusSteal(this.sel_box);\n  }\n\n  execItem(index, delta) {\n    let { items } = this.sel_box;\n    assert(index >= 0 && index < items.length);\n    let menu_item = items[index];\n    let force = false;\n    if (delta === 2) {\n      delta = 1;\n      force = true;\n    }\n    if (menu_item.cb) {\n      menu_item.cb();\n    }\n    if (!menu_item.state) {\n      if (menu_item.value !== null && (menu_item.prompt_int || menu_item.prompt_string)) {\n        // Open an edit box\n        // menu.internal.mte = GlovModalTextEntry::createInt(simpleMenuFieldName(menu_item.name), *menu_item.value);\n        this.internal.edit_index = index;\n        // glovInputReleaseAll();\n      } else if (menu_item.value !== null) {\n        if (glov_input.keyDown(KEYS.SHIFT) && !force) {\n          delta = -1;\n        }\n        menu_item.value += delta * menu_item.value_inc;\n        if (menu_item.slider || menu_item.plus_minus) {\n          // implicitly no wrapping, maybe make a separate flag for this?\n          menu_item.value = clamp(menu_item.value, menu_item.value_min, menu_item.value_max);\n        } else {\n          if (menu_item.value < menu_item.value_min) {\n            menu_item.value = menu_item.value_max;\n          }\n          if (menu_item.value > menu_item.value_max) {\n            menu_item.value = menu_item.value_min;\n          }\n        }\n        // TODO: some kind of callback on value change\n      } else {\n        // presumably tag or externally operated on, probably want to skip key repeat here too?\n        // glovInputReleaseAll();\n      }\n    } else {\n      glov_engine.setState(menu_item.state);\n      // glovInputReleaseAll();\n    }\n  }\n\n  run(params) {\n    let { sel_box } = this;\n    sel_box.applyParams(params); // Apply new list of items, positions, etc\n\n    const { items, x, z } = sel_box;\n    const y0 = sel_box.y;\n    let exit_index = -1;\n    for (let i = 0; i < items.length; ++i) {\n      if (items[i].exit) {\n        exit_index = i;\n      }\n    }\n\n    // Check to see if any selection has an editBox open first\n    let selbox_enabled = true;\n    if (this.edit_index >= 0 && this.edit_index < items.length) {\n      selbox_enabled = false;\n      glov_ui.drawRect(camera2d.x0(), camera2d.y0(), camera2d.x1(), camera2d.y1(),\n        z + 2, color101010C8);\n      // TODO: Need modal text entry dialog\n      // let ret = this.internal.mte.run(z + 3);\n\n      // if (ret == 'ok') {\n      //   if (items[this.edit_index].prompt_int) {\n      //     items[this.edit_index].value = this.internal.mte.getInt();\n      //   } else {\n      //     items[this.edit_index].svalue = this.internal.mte.getString();\n      //   }\n      //   this.edit_index = -1;\n      // } else if (ret == 'cancel') {\n      //   this.edit_index = -1;\n      // }\n    }\n    sel_box.disabled = !selbox_enabled;\n\n    // Do all sliders, plus-minus-es - needs\n    let display = sel_box.display;\n    for (let ii = 0; ii < items.length; ii++) {\n      let menu_item = items[ii];\n      if (menu_item.slider) {\n        let slider = menu_item.internal.slider;\n        if (!slider) {\n          // slider = menu_item.internal.slider = glov_slider.create();\n        }\n        slider.no_notches = true;\n        // slider.sound_release = this.sound_accept;\n        slider.disabled = menu_item.disabled;\n        let slider_width = 160;\n        let slider_x = x + sel_box.width - slider_width - 12;\n        let v = menu_item.value - menu_item.value_min;\n        let color = display.style_default.color;\n        // if (display.style_default.color_mode == glov_font.COLOR_MODE.GRADIENT) {\n        //   color = colorIntLerp(display.style_default.color, display.style_default.colorLR, 0.5);\n        // }\n        if (slider.disabled) {\n          color = display.style_disabled.color;\n        }\n        v = slider.run({\n          x: slider_x,\n          y: y0 + ii * 24 + 2,\n          z: z + 3,\n          w: slider_width,\n          // scale: 1,\n          color,\n          value: v,\n          max: menu_item.value_max - menu_item.value_min\n        });\n        menu_item.value = v + menu_item.value_min;\n        if (slider.rollover || slider.grabbed) {\n          // expect our row to be selected\n          if (sel_box.selected !== ii) {\n            sel_box.selected = ii;\n            glov_ui.playUISound('select');\n          }\n        }\n      } else if (menu_item.plus_minus) {\n        assert(typeof menu_item.value === 'number', 'plus_minus items require a numerical value');\n        assert(menu_item.value_inc, 'plus_minus items require a value increment');\n        let buttons_width = 60;\n        let pad = 6;\n        let button_width = (buttons_width - pad) / 2;\n        let button_x = x + sel_box.width - buttons_width;\n        let delta = 0;\n        // if (!glovMasterControllerActive()) { // Don't show buttons if using a controller / no mouse\n        if (glov_ui.buttonText({\n          no_focus: true,\n          x: button_x,\n          y: y0 + ii * 24 + 2,\n          z: z + 3,\n          w: button_width,\n          h: glov_ui.button_height * 0.66,\n          text: '-'\n        })) {\n          delta = -1;\n        }\n        let minus_over = glov_ui.button_mouseover;\n        if (glov_ui.buttonText({\n          no_focus: true,\n          x: button_x + pad + button_width,\n          y: y0 + ii * 24 + 2,\n          z: z + 3,\n          w: button_width,\n          h: glov_ui.button_height * 0.66,\n          text: '+'\n        })) {\n          delta = 1;\n        }\n        let plus_over = glov_ui.button_mouseover;\n        // } end if (!glovMasterControllerActive())\n        if (delta) {\n          menu_item.value += delta * menu_item.value_inc;\n          menu_item.value = clamp(menu_item.value, menu_item.value_min, menu_item.value_max);\n        }\n        if (minus_over || plus_over) {\n          // expect our row to be selected\n          if (sel_box.selected !== ii) {\n            sel_box.selected = ii;\n            glov_ui.playUISound('select');\n          }\n        }\n      }\n    }\n\n    let y = y0;\n    y += sel_box.run();\n\n    let selected=-1;\n    if (exit_index !== -1 && (\n      glov_input.keyDownEdge(KEYS.ESC) ||\n      !items[exit_index].no_controller_exit && glov_input.padButtonDownEdge(PAD.CANCEL)\n    )) {\n      this.execItem(exit_index, 1);\n      selected = exit_index;\n    }\n    // Only allow left/right to \"select\" a menu option if it's a toggle/increment\n    // kind of menu option, otherwise this just feels weird\n    let allow_left_right = items[sel_box.selected].value !== null;\n    if (sel_box.was_clicked || sel_box.is_focused && (\n      glov_input.keyDownEdge(KEYS.SPACE) ||\n      glov_input.keyDownEdge(KEYS.ENTER) ||\n      glov_input.padButtonDownEdge(PAD.SELECT))\n    ) {\n      this.execItem(sel_box.selected, 1);\n      selected = sel_box.selected;\n    }\n    if (sel_box.is_focused && allow_left_right && (\n      glov_input.keyDownEdge(KEYS.RIGHT) ||\n      glov_input.keyDownEdge(KEYS.D) ||\n      glov_input.padButtonDownEdge(PAD.RIGHT))\n    ) {\n      this.execItem(sel_box.selected, 2);\n      selected = sel_box.selected;\n    }\n    if (sel_box.wasRightClicked || sel_box.is_focused && allow_left_right && (\n      // This was UpHit before, some problem with it triggering an up on the next screen?  Should supress the next up\n      // events after eating a down for UI?\n      glov_input.keyDownEdge(KEYS.LEFT) ||\n      glov_input.keyDownEdge(KEYS.A) ||\n      glov_input.padButtonDownEdge(PAD.LEFT))\n    ) {\n      this.execItem(sel_box.selected, -1);\n      selected = sel_box.selected;\n    }\n    this.selected = selected;\n    if (selected !== -1 && !items[selected].no_sound) {\n      if (items[selected].exit) {\n        glov_ui.playUISound('cancel');\n      } else {\n        glov_ui.playUISound('select');\n      }\n    }\n\n    return y - y0;\n  }\n\n  isSelected(tag_or_index) {\n    if (this.selected === -1) {\n      return false;\n    }\n    if (tag_or_index === undefined) {\n      return this.sel_box.items[this.selected].tag || true;\n    }\n    return this.sel_box.isSelected(tag_or_index);\n  }\n\n  getSelectedIndex() {\n    return this.selected;\n  }\n\n  getSelectedItem() {\n    return this.sel_box.items[this.selected];\n  }\n}\n\nexport function create(params) {\n  return new GlovSimpleMenu(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport const FADE_DEFAULT = 0;\nexport const FADE_OUT = 1;\nexport const FADE_IN = 2;\nexport const FADE = FADE_OUT + FADE_IN;\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./cmds.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst { Howl, Howler } = require('@jimbly/howler/src/howler.core.js');\nconst { abs, floor, max, min, random } = Math;\nconst settings = require('./settings.js');\nconst urlhash = require('./urlhash.js');\nconst { defaults, ridx } = require('../../common/util.js');\n\nconst DEFAULT_FADE_RATE = 0.001;\n\nlet sounds = {};\nlet num_loading = 0;\n\n// Howler.usingWebAudio = false; // Disable WebAudio for testing HTML5 fallbacks\n\nconst default_params = {\n  ext_list: ['mp3', 'wav'], // (recommended) try loading .mp3 versions first, then fallback to .wav\n  //  also covers all browsers: ['webm', 'mp3']\n  fade_rate: DEFAULT_FADE_RATE,\n};\nlet sound_params;\n\nlet last_played = {};\nlet frame_timestamp = 0;\nlet fades = [];\nlet music;\n\nlet volume_override = 1;\nlet volume_override_target = 1;\n\nsettings.register({\n  volume: {\n    default_value: 1,\n    type: cmd_parse.TYPE_FLOAT,\n    range: [0,1],\n  },\n});\n\nsettings.register({\n  sound: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\nsettings.register({\n  music: {\n    default_value: 1,\n    type: cmd_parse.TYPE_INT,\n    range: [0,1],\n  },\n});\n\nexport function soundLoad(base, opts, cb) {\n  opts = opts || {};\n  if (Array.isArray(base)) {\n    assert(!cb);\n    for (let ii = 0; ii < base.length; ++ii) {\n      soundLoad(base[ii], opts);\n    }\n    return;\n  }\n  let key = base;\n  if (sounds[key]) {\n    if (cb) {\n      cb();\n    }\n    return;\n  }\n  let m = base.match(/^(.*)\\.(mp3|ogg|wav|webm)$/u);\n  let preferred_ext;\n  if (m) {\n    base = m[1];\n    preferred_ext = m[2];\n  }\n  let src = `sounds/${base}`;\n  let srcs = [];\n  let suffix = '';\n  if (opts.for_reload) {\n    suffix = `?rl=${Date.now()}`;\n  }\n  if (preferred_ext) {\n    srcs.push(`${urlhash.getURLBase()}${src}.${preferred_ext}${suffix}`);\n  }\n  for (let ii = 0; ii < sound_params.ext_list.length; ++ii) {\n    let ext = sound_params.ext_list[ii];\n    if (ext !== preferred_ext) {\n      srcs.push(`${urlhash.getURLBase()}${src}.${ext}${suffix}`);\n    }\n  }\n  // Try loading desired sound types one at a time.\n  // Cannot rely on Howler's built-in support for this because it only continues\n  //   through the list on *some* load errors, not all :(.\n  function tryLoad(idx) {\n    if (idx === srcs.length) {\n      console.error(`Error loading sound ${base}: All fallbacks exhausted, giving up`);\n      if (cb) {\n        cb('Error loading sound');\n      }\n      return;\n    }\n    ++num_loading;\n    let once = false;\n    let sound = new Howl({\n      src: srcs.slice(idx),\n      html5: Boolean(opts.streaming),\n      loop: Boolean(opts.loop),\n      volume: 0,\n      onload: function () {\n        if (!once) {\n          --num_loading;\n          once = true;\n          sound.glov_load_opts = opts;\n          sounds[key] = sound;\n          if (cb) {\n            cb(null);\n          }\n        }\n      },\n      onloaderror: function (id, err, extra) {\n        if (idx === srcs.length - 1) {\n          console.error(`Error loading sound ${srcs[idx]}: ${err}`);\n        } else {\n          console.log(`Error loading sound ${srcs[idx]}: ${err}, trying fallback...`);\n        }\n        if (!once) {\n          --num_loading;\n          once = true;\n          tryLoad(idx + 1);\n        }\n      },\n    });\n  }\n  tryLoad(0);\n}\n\nfunction soundReload(filename) {\n  let sound_name = filename.match(/^sounds\\/([^.]+)\\.\\w+$/);\n  sound_name = sound_name && sound_name[1];\n  if (!sound_name) {\n    return;\n  }\n  if (!sounds[sound_name]) {\n    console.log(`Reload trigged for non-existent sound: ${filename}`);\n    return;\n  }\n  let opts = sounds[sound_name].glov_load_opts;\n  opts.for_reload = true;\n  delete sounds[sound_name];\n  soundLoad(sound_name, opts);\n}\n\nexport function soundStartup(params) {\n  sound_params = defaults(params || {}, default_params);\n\n  // Music\n  music = []; // 0 is current, 1 is previous (fading out)\n  for (let ii = 0; ii < 2; ++ii) {\n    music.push({\n      sound: null,\n      id: 0,\n      current_volume: 0,\n      target_volume: 0,\n      sys_volume: 0,\n      need_play: false,\n    });\n  }\n  filewatchOn('.mp3', soundReload);\n  filewatchOn('.ogg', soundReload);\n  filewatchOn('.wav', soundReload);\n  filewatchOn('.webm', soundReload);\n}\n\nexport function soundPause() {\n  volume_override = volume_override_target = 0;\n  // Immediately mute all the music\n  // Can't do a nice fade out here because we stop getting ticked when we're not in the foreground\n  soundTick(0); // eslint-disable-line no-use-before-define\n}\n\nexport function soundResume() {\n  volume_override_target = 1;\n\n  // Actual context resuming handled internally by Howler, leaving hooks in for now, though\n  // Maybe more reliable than `Howler.safeToPlay`...\n}\n\nexport function soundResumed() {\n  return !Howler.noAudio && Howler.safeToPlay;\n}\n\nexport function soundTick(dt) {\n  frame_timestamp += dt;\n  if (volume_override !== volume_override_target) {\n    let delta = dt * 0.004;\n    if (volume_override < volume_override_target) {\n      volume_override = min(volume_override + delta, volume_override_target);\n    } else {\n      volume_override = max(volume_override - delta, volume_override_target);\n    }\n  }\n  if (!soundResumed()) {\n    return;\n  }\n  // Do music fading\n  // Cannot rely on Howler's fading because starting a fade when one is in progress\n  //   messes things up, as well causes snaps in volume :(\n  let max_fade = dt * sound_params.fade_rate;\n  for (let ii = 0; ii < music.length; ++ii) {\n    let mus = music[ii];\n    if (!mus.sound) {\n      continue;\n    }\n    let target = settings.music ? mus.target_volume : 0;\n    if (mus.current_volume !== target) {\n      let delta = target - mus.current_volume;\n      let fade_amt = min(abs(delta), max_fade);\n      if (delta < 0) {\n        mus.current_volume = max(target, mus.current_volume - fade_amt);\n      } else {\n        mus.current_volume = min(target, mus.current_volume + fade_amt);\n      }\n      if (!mus.target_volume && !mus.current_volume) {\n        if (!mus.need_play) {\n          mus.sound.stop(mus.id);\n        }\n        mus.sound = null;\n      }\n    }\n    if (mus.sound) {\n      let sys_volume = mus.current_volume * settings.volume * volume_override;\n      if (mus.need_play) {\n        mus.need_play= false;\n        mus.id = mus.sound.play();\n        mus.sys_volume = -1;\n      }\n      if (mus.sys_volume !== sys_volume) {\n        mus.sound.volume(sys_volume, mus.id);\n        mus.sys_volume = sys_volume;\n      }\n    }\n  }\n\n  for (let ii = fades.length - 1; ii >= 0; --ii) {\n    let fade = fades[ii];\n    fade.volume = max(0, fade.volume - max_fade);\n    fade.sound.volume(fade.volume * settings.volume * volume_override, fade.id);\n    if (!fade.volume) {\n      fade.sound.stop(fade.id);\n      ridx(fades, ii);\n    }\n  }\n}\n\nexport function soundPlay(soundname, volume, as_music) {\n  volume = volume || 1;\n  if (!as_music && !settings.sound || as_music && !settings.music) {\n    return null;\n  }\n  if (!soundResumed()) {\n    return null;\n  }\n  if (Array.isArray(soundname)) {\n    soundname = soundname[floor(random() * soundname.length)];\n  }\n  let sound = sounds[soundname];\n  if (!sound) {\n    return null;\n  }\n  let last_played_time = last_played[soundname] || -9e9;\n  if (frame_timestamp - last_played_time < 45) {\n    return null;\n  }\n\n  let id = sound.play(undefined, volume * settings.volume * volume_override);\n  // sound.volume(volume * settings.volume * volume_override, id);\n  last_played[soundname] = frame_timestamp;\n  return {\n    stop: sound.stop.bind(sound, id),\n    playing: sound.playing.bind(sound, id), // not reliable if it hasn't started yet? :(\n    fadeOut: (time) => {\n      fades.push({\n        volume,\n        sound,\n        id,\n        time,\n      });\n    },\n  };\n}\n\nexport function soundPlayMusic(soundname, volume, transition) {\n  if (!settings.music) {\n    return;\n  }\n  if (volume === undefined) {\n    volume = 1;\n  }\n  transition = transition || FADE_DEFAULT;\n  soundLoad(soundname, { streaming: true, loop: true }, (err) => {\n    assert(!err);\n    let sound = sounds[soundname];\n    assert(sound);\n    if (music[0].sound === sound) {\n      // Same sound, just adjust volume, if required\n      music[0].target_volume = volume;\n      if (!transition) {\n        if (!volume) {\n          sound.stop(music[0].id);\n          music[0].sound = null;\n        } else {\n          let sys_volume = music[0].sys_volume = volume * settings.volume * volume_override;\n          sound.volume(sys_volume, music[0].id);\n        }\n      }\n      return;\n    }\n    // fade out previous music, if any\n    if (music[0].current_volume) {\n      if (transition & FADE_OUT) {\n        // swap to position 1, start fadeout\n        let temp = music[1];\n        music[1] = music[0];\n        music[0] = temp;\n        music[1].target_volume = 0;\n      }\n    }\n    if (music[0].sound) {\n      music[0].sound.stop(music[0].id);\n    }\n    music[0].sound = sound;\n    music[0].target_volume = volume;\n    let start_vol = (transition & FADE_IN) ? 0 : volume;\n    music[0].current_volume = start_vol;\n    if (soundResumed()) {\n      let sys_volume = start_vol * settings.volume * volume_override;\n      music[0].id = sound.play(undefined, sys_volume);\n      // sound.volume(sys_volume, music[0].id);\n      music[0].sys_volume = sys_volume;\n      music[0].need_play = false;\n    } else {\n      music[0].need_play = true;\n    }\n  });\n}\n\nexport function soundLoading() {\n  return num_loading;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { floor, random } = Math;\n\nfunction GlovSpriteAnimation(params) {\n  this.frame = 0;\n  this.time = 0;\n  this.state = null;\n  this.anim = null;\n  this.anim_idx = 0;\n\n  if (params instanceof GlovSpriteAnimation) {\n    this.data = params.data; // already initialized\n    this.setState(params.state);\n  } else {\n    this.data = params;\n    for (let key in this.data) {\n      let anim = this.data[key];\n      if (typeof anim.frames === 'number') {\n        anim.frames = [anim.frames];\n      }\n      if (typeof anim.times === 'number') {\n        let arr = new Array(anim.frames.length);\n        for (let ii = 0; ii < anim.frames.length; ++ii) {\n          arr[ii] = anim.times;\n        }\n        anim.times = arr;\n      }\n      anim.total_time = 0;\n      for (let ii = 0; ii < anim.times.length; ++ii) {\n        anim.total_time += anim.times[ii];\n      }\n      if (anim.loop === undefined) {\n        anim.loop = true;\n      }\n    }\n  }\n}\n\nexport function create(params) {\n  return new GlovSpriteAnimation(params);\n}\n\nGlovSpriteAnimation.prototype.clone = function () {\n  return new GlovSpriteAnimation(this);\n};\n\nGlovSpriteAnimation.prototype.setState = function (state, force) {\n  if (state === this.state && !force) {\n    return this;\n  }\n  this.state = state;\n  this.anim = this.data[state];\n  if (this.anim.init_time) {\n    this.time = floor(random() * this.anim.init_time);\n  } else {\n    this.time = 0;\n  }\n  this.anim_idx = 0;\n  this.frame = this.anim.frames[this.anim_idx];\n  return this;\n};\n\nGlovSpriteAnimation.prototype.progress = function () {\n  if (!this.anim) {\n    return 1;\n  }\n  let time = this.time;\n  for (let ii = 0; ii < this.anim_idx; ++ii) {\n    time += this.anim.times[ii];\n  }\n  return time / this.anim.total_time;\n};\n\nGlovSpriteAnimation.prototype.update = function (dt) {\n  if (!this.anim) {\n    return;\n  }\n  this.time += dt;\n  if (this.time > this.anim.times[this.anim_idx]) {\n    this.time -= this.anim.times[this.anim_idx];\n    this.anim_idx = this.anim_idx + 1;\n    if (this.anim_idx === this.anim.frames.length) {\n      if (this.anim.loop) {\n        this.anim_idx = this.anim_idx % this.anim.frames.length;\n      } else {\n        // keep final frame\n        this.anim = null;\n        return;\n      }\n    }\n    this.frame = this.anim.frames[this.anim_idx];\n    if (this.time >= this.anim.times[this.anim_idx]) {\n      this.time = this.anim.times[this.anim_idx] - 1;\n    }\n  }\n};\n\nGlovSpriteAnimation.prototype.getFrame = function (dt) {\n  if (dt !== undefined) {\n    this.update(dt);\n  }\n  return this.frame;\n};\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code from Turbulenz: Copyright (c) 2012-2013 Turbulenz Limited\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst engine = require('./engine.js');\nconst geom = require('./geom.js');\nconst { cos, max, min, round, sin } = Math;\nconst textures = require('./textures.js');\nconst shaders = require('./shaders.js');\nconst { nextHighestPowerOfTwo } = require('../../common/util.js');\nconst { vec2, vec4 } = require('./vmath.js');\n\nexport const BLEND_ALPHA = 0;\nexport const BLEND_ADDITIVE = 1;\n\nlet sprite_vshader;\nlet sprite_fshader;\nlet sprite_dual_fshader;\nlet clip_space = vec4();\nlet sprite_shader_params = {\n  clip_space\n};\nlet last_uid = 0;\n\nlet sprite_queue = [];\n\nlet sprite_freelist = [];\n\nlet sprite_queue_stack = [];\nexport function spriteQueuePush(new_list) {\n  assert(sprite_queue_stack.length < 10); // probably leaking\n  sprite_queue_stack.push(sprite_queue);\n  sprite_queue = new_list || [];\n}\nexport function spriteQueuePop(for_pause) {\n  assert(sprite_queue_stack.length);\n  assert(for_pause || !sprite_queue.length);\n  sprite_queue = sprite_queue_stack.pop();\n}\n\nfunction SpriteData() {\n  // x1 y1 x2 y2 x3 y3 x4 y4 - vertices [0,8)\n  // cr cg cb ca u1 v1 u2 v2 - normalized color + texture [8,16)\n  // data for GL queuing\n  this.data = new Float32Array(16);\n  // data for sorting/binding/etc\n  this.texs = null;\n  this.shader = null;\n  this.shader_params = null;\n  this.x = 0;\n  this.y = 0;\n  this.z = 0;\n  this.blend = 0; // BLEND_ALPHA\n  this.uid = 0;\n}\n\nfunction spriteDataAlloc() {\n  if (sprite_freelist.length) {\n    return sprite_freelist.pop();\n  }\n  return new SpriteData();\n}\n\nfunction cmpSprite(a, b) {\n  if (a.z !== b.z) {\n    return a.z - b.z;\n  }\n  if (a.y !== b.y) {\n    return a.y - b.y;\n  }\n  if (a.x !== b.x) {\n    return a.x - b.x;\n  }\n  return a.uid - b.uid;\n}\n\nexport function queuefn(z, fn) {\n  assert(isFinite(z));\n  sprite_queue.push({\n    fn,\n    x: 0,\n    y: 0,\n    z,\n    uid: ++last_uid,\n  });\n}\n\n// coordinates must be in counter-clockwise winding order\nexport function queueraw4(\n  texs, x0, y0, x1, y1, x2, y2, x3, y3, z,\n  u0, v0, u1, v1,\n  color, shader, shader_params, blend\n) {\n  assert(isFinite(z));\n  let elem = spriteDataAlloc();\n  let data = elem.data;\n  // x1 y1 x2 y2 x3 y3 x4 y4 - vertices [0,8)\n  // cr cg cb ca u1 v1 u2 v2 - normalized color + texture [8,16)\n  // Minor perf improvement: convert by clip_space here (still just a single MAD\n  //   if pre-calculated in the camera) and remove it from the shader.\n  data[0] = (x0 - camera2d.data[0]) * camera2d.data[4];\n  data[1] = (y0 - camera2d.data[1]) * camera2d.data[5];\n  data[2] = (x1 - camera2d.data[0]) * camera2d.data[4];\n  data[3] = (y1 - camera2d.data[1]) * camera2d.data[5];\n  data[4] = (x2 - camera2d.data[0]) * camera2d.data[4];\n  data[5] = (y2 - camera2d.data[1]) * camera2d.data[5];\n  data[6] = (x3 - camera2d.data[0]) * camera2d.data[4];\n  data[7] = (y3 - camera2d.data[1]) * camera2d.data[5];\n  data[8] = color[0];\n  data[9] = color[1];\n  data[10] = color[2];\n  data[11] = color[3];\n  data[12] = u0;\n  data[13] = v0;\n  data[14] = u1;\n  data[15] = v1;\n\n  elem.texs = texs;\n  elem.x = data[0];\n  elem.y = data[1];\n  elem.z = z;\n  elem.shader = shader || null;\n  if (shader_params) {\n    shader_params.clip_space = sprite_shader_params.clip_space;\n    elem.shader_params = shader_params;\n  } else {\n    elem.shader_params = null;\n  }\n  elem.blend = blend || 0; // BLEND_ALPHA\n  //elem.bucket = bucket || this.default_bucket;\n  //elem.tech_params = tech_params || null;\n  elem.uid = ++last_uid;\n  sprite_queue.push(elem);\n  return elem;\n}\n\nexport function queueraw(\n  texs, x, y, z, w, h,\n  u0, v0, u1, v1,\n  color, shader, shader_params, blend\n) {\n  return queueraw4(texs,\n    x, y,\n    x, y + h,\n    x + w, y + h,\n    x + w, y,\n    z,\n    u0, v0, u1, v1,\n    color, shader, shader_params, blend);\n}\n\nexport function queuesprite(sprite, x, y, z, w, h, rot, uvs, color, shader, shader_params, nozoom, pixel_perfect) {\n  assert(isFinite(z));\n  let elem = spriteDataAlloc();\n  elem.texs = sprite.texs;\n  x = (x - camera2d.data[0]) * camera2d.data[4];\n  y = (y - camera2d.data[1]) * camera2d.data[5];\n  elem.z = z;\n  w *= camera2d.data[4];\n  h *= camera2d.data[5];\n  if (pixel_perfect) {\n    x |= 0;\n    y |= 0;\n    w |= 0;\n    h |= 0;\n  }\n  elem.x = x;\n  elem.y = y;\n  color = color || sprite.color;\n  let data = elem.data;\n  if (!rot) {\n    let x1 = x - sprite.origin[0] * w;\n    let y1 = y - sprite.origin[1] * h;\n    let x2 = x1 + w;\n    let y2 = y1 + h;\n    data[0] = x1;\n    data[1] = y1;\n    data[2] = x1;\n    data[3] = y2;\n    data[4] = x2;\n    data[5] = y2;\n    data[6] = x2;\n    data[7] = y1;\n  } else {\n    let dx = sprite.origin[0] * w;\n    let dy = sprite.origin[1] * h;\n\n    let cosr = cos(rot);\n    let sinr = sin(rot);\n\n    let x1 = x - cosr * dx + sinr * dy;\n    let y1 = y - sinr * dx - cosr * dy;\n    let ch = cosr * h;\n    let cw = cosr * w;\n    let sh = sinr * h;\n    let sw = sinr * w;\n\n    data[0] = x1;\n    data[1] = y1;\n    data[2] = x1 - sh;\n    data[3] = y1 + ch;\n    data[4] = x1 + cw - sh;\n    data[5] = y1 + sw + ch;\n    data[6] = x1 + cw;\n    data[7] = y1 + sw;\n  }\n\n  data[8] = color[0];\n  data[9] = color[1];\n  data[10] = color[2];\n  data[11] = color[3];\n\n  let ubias = 0;\n  let vbias = 0;\n  let tex = elem.texs[0];\n  if (!nozoom && !tex.nozoom) {\n    // Bias the texture coordinates depending on the minification/magnification\n    //   level so we do not get pixels from neighboring frames bleeding in\n    // Use min here (was max in libGlov), to solve tooltip edges being wrong in strict pixely\n    // Use max here to solve box buttons not lining up, but instead using nozoom in drawBox/drawHBox,\n    //   but, that only works for magnification - need the max here for minification!\n    let zoom_level = max(\n      (uvs[2] - uvs[0]) * tex.width / w,\n      (uvs[3] - uvs[1]) * tex.height / h,\n    ); // in texels per pixel\n    if (zoom_level < 1) { // magnification\n      if (tex.filter_mag === gl.LINEAR) {\n        // Need to bias by half a texel, so we're doing absolutely no blending with the neighboring texel\n        ubias = vbias = 0.5;\n      } else if (tex.filter_mag === gl.NEAREST && engine.antialias) {\n        // When antialiasing is on, even nearest sampling samples from adjacent texels, do slight bias\n        // Want to bias by one *pixel's* worth\n        ubias = vbias = zoom_level / 2;\n      }\n    } else if (zoom_level > 1) { // minification\n      // need to apply this bias even with nearest filtering, not exactly sure why\n      let mipped_texels = zoom_level / 2;\n      ubias = vbias = 0.5 + mipped_texels;\n\n    }\n    if (uvs[0] > uvs[2]) {\n      ubias *= -1;\n    }\n    if (uvs[1] > uvs[3]) {\n      vbias *= -1;\n    }\n  }\n\n  data[12] = uvs[0] + ubias / tex.width;\n  data[13] = uvs[1] + vbias / tex.height;\n  data[14] = uvs[2] - ubias / tex.width;\n  data[15] = uvs[3] - vbias / tex.height;\n\n  elem.uid = ++last_uid;\n  elem.shader = shader || null;\n  elem.blend = 0; // BLEND_ALPHA\n\n  if (shader_params) {\n    shader_params.clip_space = sprite_shader_params.clip_space;\n    elem.shader_params = shader_params;\n  } else {\n    elem.shader_params = null;\n  }\n  sprite_queue.push(elem);\n}\n\n\nlet clip_temp_xy = vec2();\nlet clip_temp_wh = vec2();\nfunction clipCoordsScissor(x, y, w, h) {\n  camera2d.virtualToCanvas(clip_temp_xy, [x, y]);\n  clip_temp_xy[0] = round(clip_temp_xy[0]);\n  clip_temp_xy[1] = round(clip_temp_xy[1]);\n  camera2d.virtualToCanvas(clip_temp_wh, [x + w, y + h]);\n  clip_temp_wh[0] = round(clip_temp_wh[0]) - clip_temp_xy[0];\n  clip_temp_wh[1] = round(clip_temp_wh[1]) - clip_temp_xy[1];\n\n  // let gd_w = engine.render_width || engine.width;\n  let gd_h = engine.render_height || engine.height;\n  return [clip_temp_xy[0], gd_h - (clip_temp_xy[1] + clip_temp_wh[1]), clip_temp_wh[0], clip_temp_wh[1]];\n}\n\nfunction clipCoordsDom(x, y, w, h) {\n  let xywh = vec4();\n  camera2d.virtualToDom(xywh, [x + w, y + h]);\n  xywh[2] = xywh[0];\n  xywh[3] = xywh[1];\n  camera2d.virtualToDom(xywh, [x, y]);\n  xywh[0] = round(xywh[0]);\n  xywh[1] = round(xywh[1]);\n  xywh[2] = round(xywh[2]) - xywh[0];\n  xywh[3] = round(xywh[3]) - xywh[1];\n\n  return xywh;\n}\n\nexport function clip(z_start, z_end, x, y, w, h) {\n  let scissor = clipCoordsScissor(x, y, w, h);\n  queuefn(z_start - 0.01, () => {\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(scissor[0], scissor[1], scissor[2], scissor[3]);\n  });\n  queuefn(z_end - 0.01, () => {\n    gl.disable(gl.SCISSOR_TEST);\n  });\n}\n\nlet clip_stack = [];\nexport function clipped() {\n  return clip_stack.length > 0;\n}\n\nexport function clipPush(z, x, y, w, h) {\n  assert(clip_stack.length < 10); // probably leaking\n  let scissor = clipCoordsScissor(x, y, w, h);\n  let dom_clip = clipCoordsDom(x, y, w, h);\n  camera2d.setInputClipping(dom_clip);\n  spriteQueuePush();\n  clip_stack.push({\n    z, scissor, dom_clip,\n  });\n}\n\nexport function clipPop() {\n  assert(clipped());\n  queuefn(Z.TOOLTIP - 0.1, () => {\n    gl.disable(gl.SCISSOR_TEST);\n  });\n  let { z, scissor } = clip_stack.pop();\n  let sprites = sprite_queue;\n  spriteQueuePop(true);\n  if (clip_stack.length) {\n    let { dom_clip } = clip_stack[clip_stack.length - 1];\n    camera2d.setInputClipping(dom_clip);\n  } else {\n    camera2d.setInputClipping(null);\n  }\n  queuefn(z, () => {\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(scissor[0], scissor[1], scissor[2], scissor[3]);\n    spriteQueuePush();\n    sprite_queue = sprites;\n    exports.draw();\n    spriteQueuePop();\n    // done at Z.TOOLTIP: gl.disable(gl.SCISSOR_TEST);\n  });\n}\n\nlet clip_paused;\nexport function clipPause() {\n  // Queue back into the root sprite queue\n  assert(clipped());\n  assert(!clip_paused);\n  clip_paused = true;\n  spriteQueuePush(sprite_queue_stack[0]);\n  camera2d.setInputClipping(null);\n  // push onto the clip stack so if there's another clip push/pop we get back to\n  // escaped when it pops.\n  clip_stack.push({ dom_clip: null });\n}\nexport function clipResume() {\n  assert(clipped());\n  assert(clip_paused);\n  clip_stack.pop(); // remove us\n  clip_paused = false;\n  assert(clipped());\n  let { dom_clip } = clip_stack[clip_stack.length - 1];\n  spriteQueuePop(true);\n  camera2d.setInputClipping(dom_clip);\n}\n\nfunction diffTextures(texsa, texsb) {\n  if (texsa.length !== texsb.length) {\n    return true;\n  }\n  for (let ii = 0; ii < texsa.length; ++ii) {\n    if (texsa[ii] !== texsb[ii]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nlet batch_state;\nlet sprite_geom;\nlet sprite_buffer; // Float32Array with 8 entries per vert\nlet sprite_buffer_len = 0; // in verts\nlet sprite_buffer_batch_start = 0;\nlet sprite_buffer_idx = 0; // in verts\nlet last_blend_mode;\nlet last_bound_shader;\nconst MAX_VERT_COUNT = 65536;\nlet batches = [];\n\nfunction commit() {\n  if (sprite_buffer_idx === sprite_buffer_batch_start) {\n    return;\n  }\n  batches.push({\n    state: batch_state,\n    start: sprite_buffer_batch_start,\n    end: sprite_buffer_idx,\n  });\n  sprite_buffer_batch_start = sprite_buffer_idx;\n}\n\nfunction commitAndFlush() {\n  commit();\n  if (!batches.length) {\n    return;\n  }\n  assert(sprite_buffer_idx);\n  sprite_geom.update(sprite_buffer, sprite_buffer_idx);\n  sprite_geom.bind();\n\n  for (let ii = 0; ii < batches.length; ++ii) {\n    let batch = batches[ii];\n    let { state, start, end } = batch;\n    if (last_bound_shader !== state.shader || state.shader_params) {\n      shaders.bind(sprite_vshader,\n        state.shader || sprite_fshader,\n        state.shader_params || sprite_shader_params);\n      last_bound_shader = state.shader;\n    }\n    if (last_blend_mode !== state.blend) {\n      last_blend_mode = state.blend;\n      if (last_blend_mode === BLEND_ADDITIVE) {\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n      } else {\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      }\n    }\n    textures.bindArray(state.texs);\n    gl.drawElements(sprite_geom.mode, (end - start) * 3 / 2, gl.UNSIGNED_SHORT, start * 3);\n  }\n\n  batches.length = 0;\n  sprite_buffer_idx = 0;\n  sprite_buffer_batch_start = 0;\n}\n\nfunction bufferSpriteData(data) {\n  let index = sprite_buffer_idx * 8;\n  sprite_buffer_idx += 4;\n\n  let c1 = data[8];\n  let c2 = data[9];\n  let c3 = data[10];\n  let c4 = data[11];\n  let u1 = data[12];\n  let v1 = data[13];\n  let u2 = data[14];\n  let v2 = data[15];\n\n  sprite_buffer[index] = data[0];\n  sprite_buffer[index + 1] = data[1];\n  sprite_buffer[index + 2] = c1;\n  sprite_buffer[index + 3] = c2;\n  sprite_buffer[index + 4] = c3;\n  sprite_buffer[index + 5] = c4;\n  sprite_buffer[index + 6] = u1;\n  sprite_buffer[index + 7] = v1;\n\n  sprite_buffer[index + 8] = data[2];\n  sprite_buffer[index + 9] = data[3];\n  sprite_buffer[index + 10] = c1;\n  sprite_buffer[index + 11] = c2;\n  sprite_buffer[index + 12] = c3;\n  sprite_buffer[index + 13] = c4;\n  sprite_buffer[index + 14] = u1;\n  sprite_buffer[index + 15] = v2;\n\n  sprite_buffer[index + 16] = data[4];\n  sprite_buffer[index + 17] = data[5];\n  sprite_buffer[index + 18] = c1;\n  sprite_buffer[index + 19] = c2;\n  sprite_buffer[index + 20] = c3;\n  sprite_buffer[index + 21] = c4;\n  sprite_buffer[index + 22] = u2;\n  sprite_buffer[index + 23] = v2;\n\n  sprite_buffer[index + 24] = data[6];\n  sprite_buffer[index + 25] = data[7];\n  sprite_buffer[index + 26] = c1;\n  sprite_buffer[index + 27] = c2;\n  sprite_buffer[index + 28] = c3;\n  sprite_buffer[index + 29] = c4;\n  sprite_buffer[index + 30] = u2;\n  sprite_buffer[index + 31] = v1;\n}\n\nexport function draw() {\n  if (engine.defines.NOSPRITES) {\n    sprite_queue.length = 0;\n  }\n  if (!sprite_queue.length) {\n    return;\n  }\n\n  clip_space[0] = 2 / engine.viewport[2];\n  clip_space[1] = -2 / engine.viewport[3];\n\n  last_blend_mode = -1;\n  last_bound_shader = -1;\n\n  if (!sprite_geom) {\n    sprite_geom = geom.create([\n      [shaders.semantic.POSITION, gl.FLOAT, 2, false],\n      [shaders.semantic.COLOR, gl.FLOAT, 4, false],\n      [shaders.semantic.TEXCOORD, gl.FLOAT, 2, false],\n    ], [], null, geom.QUADS);\n    sprite_buffer = new Float32Array(1024);\n    sprite_buffer_len = sprite_buffer.length / 8;\n  }\n\n  sprite_queue.sort(cmpSprite);\n\n  batch_state = null;\n  assert.equal(sprite_buffer_idx, 0);\n  assert.equal(sprite_buffer_batch_start, 0);\n  assert.equal(batches.length, 0);\n  for (let ii = 0; ii < sprite_queue.length; ++ii) {\n    let elem = sprite_queue[ii];\n    if (elem.fn) {\n      commitAndFlush();\n      batch_state = null;\n      elem.fn();\n      last_bound_shader = -1;\n      last_blend_mode = -1;\n      assert.equal(sprite_buffer_idx, 0);\n      assert.equal(sprite_buffer_batch_start, 0);\n      assert.equal(batches.length, 0);\n\n      clip_space[0] = 2 / engine.viewport[2];\n      clip_space[1] = -2 / engine.viewport[3];\n    } else {\n      if (!batch_state ||\n        diffTextures(elem.texs, batch_state.texs) ||\n        elem.shader !== batch_state.shader ||\n        elem.shader_params !== batch_state.shader_params ||\n        elem.blend !== batch_state.blend\n      ) {\n        commit();\n        batch_state = elem;\n      }\n      if (sprite_buffer_idx + 4 > sprite_buffer_len) {\n        commitAndFlush();\n        // batch_state left alone\n        if (sprite_buffer_len !== MAX_VERT_COUNT) {\n          let new_length = min((sprite_buffer_len * 1.25 + 3) & ~3, MAX_VERT_COUNT); // eslint-disable-line no-bitwise\n          sprite_buffer_len = new_length;\n          sprite_buffer = new Float32Array(new_length * 8);\n        }\n      }\n\n      bufferSpriteData(elem.data);\n      sprite_freelist.push(elem);\n    }\n  }\n  commitAndFlush();\n\n  sprite_queue.length = 0;\n  if (last_blend_mode !== BLEND_ALPHA) {\n    // always reset to this\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  }\n}\n\nexport function buildRects(ws, hs) {\n  let rects = [];\n  let total_w = 0;\n  for (let ii = 0; ii < ws.length; ++ii) {\n    total_w += ws[ii];\n  }\n  let total_h = 0;\n  for (let ii = 0; ii < hs.length; ++ii) {\n    total_h += hs[ii];\n  }\n  let tex_w = nextHighestPowerOfTwo(total_w);\n  let tex_h = nextHighestPowerOfTwo(total_h);\n  let wh = [];\n  for (let ii = 0; ii < ws.length; ++ii) {\n    wh.push(ws[ii] / total_h);\n  }\n  let hw = [];\n  for (let ii = 0; ii < hs.length; ++ii) {\n    hw.push(hs[ii] / total_w);\n  }\n  let aspect = [];\n  let non_square = false;\n  let y = 0;\n  for (let jj = 0; jj < hs.length; ++jj) {\n    let x = 0;\n    for (let ii = 0; ii < ws.length; ++ii) {\n      let r = vec4(x / tex_w, y / tex_h,\n        (x + ws[ii]) / tex_w, (y + hs[jj]) / tex_h);\n      rects.push(r);\n      let asp = ws[ii] / hs[jj];\n      if (asp !== 1) {\n        non_square = true;\n      }\n      aspect.push(asp);\n      x += ws[ii];\n    }\n    y += hs[jj];\n  }\n  return {\n    widths: ws,\n    heights: hs,\n    wh,\n    hw,\n    rects,\n    aspect: non_square ? aspect : null,\n    total_w,\n    total_h,\n  };\n}\n\nfunction Sprite(params) {\n  if (params.texs) {\n    this.texs = params.texs;\n  } else {\n    let ext = params.ext || '.png';\n    this.texs = [];\n    if (params.tex) {\n      this.texs.push(params.tex);\n    } else if (params.layers) {\n      assert(params.name);\n      this.texs = [];\n      for (let ii = 0; ii < params.layers; ++ii) {\n        this.texs.push(textures.load({\n          url: `img/${params.name}_${ii}${ext}`,\n          filter_min: params.filter_min,\n          filter_mag: params.filter_mag,\n          wrap_s: params.wrap_s,\n          wrap_t: params.wrap_t,\n        }));\n      }\n    } else if (params.name) {\n      this.texs.push(textures.load({\n        url: `img/${params.name}${ext}`,\n        filter_min: params.filter_min,\n        filter_mag: params.filter_mag,\n        wrap_s: params.wrap_s,\n        wrap_t: params.wrap_t,\n      }));\n    } else {\n      assert(params.url);\n      this.texs.push(textures.load(params));\n    }\n  }\n\n  this.origin = params.origin || vec2(0, 0); // [0,1] range\n  this.size = params.size || vec2(1, 1);\n  this.color = params.color || vec4(1,1,1,1);\n  this.uvs = params.uvs || vec4(0, 0, 1, 1);\n  if (!params.uvs) {\n    // Fix up non-power-of-two textures\n    this.texs[0].onLoad((tex) => {\n      this.uvs[2] = tex.src_width / tex.width;\n      this.uvs[3] = tex.src_height / tex.height;\n    });\n  }\n\n  if (params.ws) {\n    this.uidata = buildRects(params.ws, params.hs);\n  }\n  this.shader = params.shader || null;\n}\n\n// params:\n//   required: x, y\n//   optional: z, w, h, uvs, color, nozoom, pixel_perfect\nSprite.prototype.draw = function (params) {\n  if (params.w === 0 || params.h === 0) {\n    return;\n  }\n  let w = (params.w || 1) * this.size[0];\n  let h = (params.h || 1) * this.size[1];\n  let uvs = (typeof params.frame === 'number') ? this.uidata.rects[params.frame] : (params.uvs || this.uvs);\n  queuesprite(this, params.x, params.y, params.z || Z.UI, w, h, params.rot, uvs, params.color || this.color,\n    params.shader || this.shader, params.shader_params, params.nozoom, params.pixel_perfect);\n};\n\nSprite.prototype.drawDualTint = function (params) {\n  params.shader = sprite_dual_fshader;\n  params.shader_params = {\n    color1: params.color1,\n  };\n  this.draw(params);\n};\n\nexport function create(params) {\n  return new Sprite(params);\n}\n\nexport function startup() {\n  clip_space[2] = -1;\n  clip_space[3] = 1;\n  sprite_vshader = shaders.create('glov/shaders/sprite.vp');\n  sprite_fshader = shaders.create('glov/shaders/sprite.fp');\n  sprite_dual_fshader = shaders.create('glov/shaders/sprite_dual.fp');\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst dot_prop = require('dot-prop');\nconst EventEmitter = require('../../common/tiny-events.js');\nconst { fbGetLoginInfo } = require('./fbinstant.js');\nconst local_storage = require('./local_storage.js');\nconst md5 = require('../../common/md5.js');\nconst { isPacket } = require('../../common/packet.js');\nconst util = require('../../common/util.js');\n\n// relevant events:\n//   .on('channel_data', cb(data [, mod_key, mod_value]));\n\nfunction ClientChannelWorker(subs, channel_id, base_handlers) {\n  EventEmitter.call(this);\n  this.subs = subs;\n  this.channel_id = channel_id;\n  this.subscriptions = 0;\n  this.subscribe_failed = false;\n  this.got_subscribe = false;\n  this.immediate_subscribe = 0;\n  this.channel_data_ver = 0; // for polling for changes\n  this.handlers = Object.create(base_handlers);\n  this.data = {};\n}\nutil.inherits(ClientChannelWorker, EventEmitter);\n\n// cb(data)\nClientChannelWorker.prototype.onSubscribe = function (cb) {\n  assert(this.subscriptions || this.autosubscribed);\n  this.on('subscribe', cb);\n  if (this.got_subscribe) {\n    cb(this.data);\n  }\n};\n\n// cb(data)\nClientChannelWorker.prototype.onceSubscribe = function (cb) {\n  assert(this.subscriptions || this.autosubscribed);\n  if (this.got_subscribe) {\n    cb(this.data);\n  } else {\n    this.once('subscribe', cb);\n  }\n};\n\n\nClientChannelWorker.prototype.handleChannelData = function (data, resp_func) {\n  console.log(`got channel_data(${this.channel_id}):  ${JSON.stringify(data)}`);\n  this.data = data;\n  ++this.channel_data_ver;\n  this.emit('channel_data', this.data);\n  this.got_subscribe = true;\n  this.emit('subscribe', this.data);\n\n  // Get command list upon first connect\n  let channel_type = this.channel_id.split('.')[0];\n  let cmd_list = this.subs.cmds_fetched_by_type;\n  if (cmd_list && !cmd_list[channel_type]) {\n    cmd_list[channel_type] = true;\n    this.send('cmdparse', 'cmd_list', (err, resp) => {\n      if (err) { // already unsubscribed?\n        console.error(`Error getting cmd_list for ${channel_type}`);\n        delete cmd_list[channel_type];\n      } else {\n        this.subs.cmd_parse.addServerCommands(resp);\n      }\n    });\n  }\n\n  resp_func();\n};\n\nClientChannelWorker.prototype.handleApplyChannelData = function (data, resp_func) {\n  // already logged in handleChannelMessage\n  // if (!data.q) {\n  //   console.log(`got channel data mod: ${JSON.stringify(data)}`);\n  // }\n  if (data.value === undefined) {\n    dot_prop.delete(this.data, data.key);\n  } else {\n    dot_prop.set(this.data, data.key, data.value);\n  }\n  ++this.channel_data_ver;\n  this.emit('channel_data', this.data, data.key, data.value);\n  resp_func();\n};\n\nClientChannelWorker.prototype.getChannelData = function (key, default_value) {\n  return dot_prop.get(this.data, key, default_value);\n};\n\nClientChannelWorker.prototype.setChannelData = function (key, value, skip_predict, resp_func) {\n  if (!skip_predict) {\n    dot_prop.set(this.data, key, value);\n  }\n  let q = value && value.q || undefined;\n  let pak = this.subs.client.pak('set_channel_data');\n  pak.writeAnsiString(this.channel_id);\n  pak.writeBool(q);\n  pak.writeAnsiString(key);\n  pak.writeJSON(value);\n  pak.send(resp_func);\n};\n\nClientChannelWorker.prototype.removeMsgHandler = function (msg, cb) {\n  assert(this.handlers[msg] === cb);\n  delete this.handlers[msg];\n};\n\nClientChannelWorker.prototype.onMsg = function (msg, cb) {\n  assert(!this.handlers[msg] || this.handlers[msg] === cb);\n  this.handlers[msg] = cb;\n};\n\nClientChannelWorker.prototype.pak = function (msg) {\n  let pak = this.subs.client.pak('channel_msg');\n  pak.writeAnsiString(this.channel_id);\n  pak.writeAnsiString(msg);\n  // pak.writeInt(flags);\n  return pak;\n};\n\nClientChannelWorker.prototype.send = function (msg, data, resp_func, old_fourth) {\n  assert(!resp_func || typeof resp_func === 'function');\n  assert(!old_fourth);\n  this.subs.client.send('channel_msg', {\n    channel_id: this.channel_id,\n    msg, data,\n  }, resp_func);\n};\n\nClientChannelWorker.prototype.cmdParse = function (cmd, resp_func) {\n  this.send('cmdparse', cmd, resp_func);\n};\n\nfunction SubscriptionManager(client, cmd_parse) {\n  EventEmitter.call(this);\n  this.client = client;\n  this.channels = {};\n  this.logged_in = false;\n  this.login_credentials = null;\n  this.logged_in_username = null;\n  this.was_logged_in = false;\n  this.logging_in = false;\n  this.logging_out = false;\n  this.auto_create_user = false;\n  this.cmd_parse = cmd_parse;\n  if (cmd_parse) {\n    this.cmds_fetched_by_type = {};\n  }\n  this.base_handlers = {};\n  this.channel_handlers = {}; // channel type -> msg -> handler\n\n  this.first_connect = true;\n  this.server_time = 0;\n  this.server_time_interp = 0;\n  client.onMsg('connect', this.handleConnect.bind(this));\n  client.onMsg('channel_msg', this.handleChannelMessage.bind(this));\n  client.onMsg('server_time', this.handleServerTime.bind(this));\n  client.onMsg('chat_broadcast', this.handleChatBroadcast.bind(this));\n  client.onMsg('restarting', this.handleRestarting.bind(this));\n  if (cmd_parse) {\n    client.onMsg('csr_to_client', this.handleCSRToClient.bind(this));\n  }\n  // Add handlers for all channel types\n  this.onChannelMsg(null, 'channel_data', ClientChannelWorker.prototype.handleChannelData);\n  this.onChannelMsg(null, 'apply_channel_data', ClientChannelWorker.prototype.handleApplyChannelData);\n}\nutil.inherits(SubscriptionManager, EventEmitter);\n\nSubscriptionManager.prototype.onceConnected = function (cb) {\n  if (this.client.connected) {\n    return void cb();\n  }\n  this.once('connect', cb);\n};\n\nSubscriptionManager.prototype.getBaseHandlers = function (channel_type) {\n  let handlers = this.channel_handlers[channel_type];\n  if (!handlers) {\n    handlers = this.channel_handlers[channel_type] = Object.create(this.base_handlers);\n  }\n  return handlers;\n};\n\nSubscriptionManager.prototype.onChannelMsg = function (channel_type, msg, cb) {\n  let handlers = channel_type ? this.getBaseHandlers(channel_type) : this.base_handlers;\n  assert(!handlers[msg]);\n  handlers[msg] = cb;\n};\n\nSubscriptionManager.prototype.handleChatBroadcast = function (data) {\n  console.error(`[${data.src}] ${data.msg}`);\n  this.emit('chat_broadcast', data);\n};\n\nSubscriptionManager.prototype.handleRestarting = function (data) {\n  this.restarting = data;\n  this.emit('restarting', data);\n};\n\nSubscriptionManager.prototype.handleConnect = function (data) {\n  let reconnect = false;\n  if (this.first_connect) {\n    this.first_connect = false;\n  } else {\n    reconnect = true;\n  }\n  this.restarting = Boolean(data.restarting);\n\n  if (!this.client.connected || this.client.socket.readyState !== 1) { // WebSocket.OPEN\n    // we got disconnected while trying to log in, we'll retry after reconnection\n    return;\n  }\n\n  let subs = this;\n  function resub() {\n    // (re-)subscribe to all channels\n    for (let channel_id in subs.channels) {\n      let channel = subs.channels[channel_id];\n      if (channel.subscriptions) {\n        subs.client.send('subscribe', channel_id, function (err) {\n          if (err) {\n            channel.subscribe_failed = true;\n            console.error(`Error subscribing to ${channel_id}: ${err}`);\n            channel.emit('subscribe_fail', err);\n          }\n        });\n      }\n    }\n    subs.emit('connect', reconnect);\n  }\n\n  if (this.logging_in) {\n    // already have a login in-flight, it should error before we try again\n  } else if (this.was_logged_in) {\n    // Try to re-connect to existing login\n    this.loginInternal(this.login_credentials, function (err) {\n      if (err && err === 'ERR_FAILALL_DISCONNECT') {\n        // we got disconnected while trying to log in, we'll retry after reconnection\n      } else if (err) {\n        // Error logging in upon re-connection, no good way to handle this?\n        // TODO: Show some message to the user and prompt them to refresh?  Stay in \"disconnected\" state?\n        assert(false, err);\n      } else {\n        resub();\n      }\n    });\n  } else {\n    // Try auto-login\n    if (window.FBInstant) {\n      this.loginFacebook(function () {\n        // ignore error on auto-login\n      });\n    } else if (local_storage.get('name') && local_storage.get('password')) {\n      this.login(local_storage.get('name'), local_storage.get('password'), function () {\n        // ignore error on auto-login\n      });\n    }\n\n    resub();\n  }\n\n};\n\nSubscriptionManager.prototype.handleChannelMessage = function (pak, resp_func) {\n  assert(isPacket(pak));\n  let channel_id = pak.readAnsiString();\n  let msg = pak.readAnsiString();\n  let is_packet = pak.readBool();\n  let data = is_packet ? pak : pak.readJSON();\n  if (!data || !data.q) {\n    let debug_msg;\n    if (!is_packet) {\n      debug_msg = JSON.stringify(data);\n    } else if (typeof data.contents === 'function') {\n      debug_msg = data.contents();\n    } else {\n      debug_msg = '(pak)';\n    }\n    console.log(`got channel_msg(${channel_id}) ${msg}: ${debug_msg}`);\n  }\n  let channel = this.getChannel(channel_id);\n  let handler = channel.handlers[msg];\n  if (!handler) {\n    console.error(`no handler for channel_msg(${channel_id}) ${msg}: ${JSON.stringify(data)}`);\n    return;\n  }\n  handler.call(channel, data, resp_func);\n};\n\nSubscriptionManager.prototype.handleServerTime = function (pak) {\n  this.server_time = pak.readInt();\n  if (this.server_time < this.server_time_interp && this.server_time > this.server_time_interp - 250) {\n    // slight time travel backwards, this one packet must have been delayed,\n    // since we once got a packet quicker. Just ignore this, interpolate from\n    // where we were before\n    // TODO: If the server had a short stall (less than 250ms) we might be\n    // ahead from now on!  Slowly interp back to the specified time\n    // (run speed at 90% until it matches?, same thing for catching up to\n    // small jumps ahead)\n  } else {\n    this.server_time_interp = this.server_time;\n  }\n};\n\nSubscriptionManager.prototype.getServerTime = function () {\n  // Interpolated server time as of start of last tick\n  return this.server_time_interp;\n};\n\nSubscriptionManager.prototype.tick = function (dt) {\n  this.server_time_interp += dt;\n  for (let channel_id in this.channels) {\n    let channel = this.channels[channel_id];\n    if (channel.immediate_subscribe) {\n      if (dt >= channel.immediate_subscribe) {\n        channel.immediate_subscribe = 0;\n        this.unsubscribe(channel_id);\n      } else {\n        channel.immediate_subscribe -= dt;\n      }\n    }\n  }\n};\n\nSubscriptionManager.prototype.subscribe = function (channel_id) {\n  this.getChannel(channel_id, true);\n};\n\nSubscriptionManager.prototype.getChannel = function (channel_id, do_subscribe) {\n  let channel = this.channels[channel_id];\n  if (!channel) {\n    let channel_type = channel_id.split('.')[0];\n    let handlers = this.getBaseHandlers(channel_type);\n    channel = this.channels[channel_id] = new ClientChannelWorker(this, channel_id, handlers);\n  }\n  if (do_subscribe) {\n    channel.subscriptions++;\n    if (this.client.connected && channel.subscriptions === 1) {\n      channel.subscribe_failed = false;\n      this.client.send('subscribe', channel_id, function (err) {\n        if (err) {\n          channel.subscribe_failed = true;\n          console.error(`Error subscribing to ${channel_id}: ${err}`);\n          channel.emit('subscribe_fail', err);\n        }\n      });\n    }\n  }\n  return channel;\n};\n\nSubscriptionManager.prototype.getUserId = function () {\n  return this.loggedIn();\n};\n\nSubscriptionManager.prototype.getMyUserChannel = function () {\n  let user_id = this.loggedIn();\n  if (!user_id) {\n    return null;\n  }\n  let channel = this.getChannel(`user.${user_id}`);\n  if (!this.logging_out) {\n    channel.autosubscribed = true;\n  }\n  return channel;\n};\n\nSubscriptionManager.prototype.unsubscribe = function (channel_id) {\n  let channel = this.channels[channel_id];\n  assert(channel);\n  assert(channel.subscriptions);\n  channel.subscriptions--;\n  if (!channel.subscriptions) {\n    channel.got_subscribe = false;\n  }\n  if (this.client.connected && !channel.subscriptions && !channel.subscribe_failed) {\n    this.client.send('unsubscribe', channel_id);\n  }\n};\n\n// Immediate-mode channel subscription; will unsubscribe automatically on logout\n//   or if not accessed for some time\nSubscriptionManager.prototype.getChannelImmediate = function (channel_id, timeout) {\n  timeout = timeout || 60000;\n  let channel = this.getChannel(channel_id);\n  if (!channel.immediate_subscribe) {\n    this.subscribe(channel_id);\n  }\n  channel.immediate_subscribe = timeout;\n  return channel;\n};\n\nSubscriptionManager.prototype.onLogin = function (cb) {\n  this.on('login', cb);\n  if (this.logged_in) {\n    return void cb();\n  }\n};\n\nSubscriptionManager.prototype.loggedIn = function () {\n  return this.logged_in ? this.logged_in_username || 'missing_name' : false;\n};\n\nSubscriptionManager.prototype.handleLoginResponse = function (resp_func, err, resp) {\n  this.logging_in = false;\n  if (!err) {\n    this.logged_in_username = resp.user_id;\n    this.logged_in_display_name = resp.display_name;\n    this.logged_in = true;\n    this.was_logged_in = true;\n    let user_channel = this.getMyUserChannel(); // auto-subscribe to it\n    user_channel.onceSubscribe(() => {\n      if (!this.did_master_subscribe && user_channel.getChannelData('public.permissions.sysadmin')) {\n        // For cmd_parse access\n        this.did_master_subscribe = true;\n        this.subscribe('master.master');\n      }\n    });\n    this.emit('login');\n  } else {\n    this.emit('login_fail', err);\n  }\n  resp_func(err);\n};\n\nSubscriptionManager.prototype.loginInternal = function (login_credentials, resp_func) {\n  if (this.logging_in) {\n    return void resp_func('Login already in progress');\n  }\n  this.logging_in = true;\n  this.logged_in = false;\n\n  if (login_credentials.fb) {\n    fbGetLoginInfo((err, result) => {\n      if (err) {\n        return void this.handleLoginResponse(resp_func, err);\n      }\n      this.client.send('login_facebook', result, this.handleLoginResponse.bind(this, resp_func));\n    });\n  } else {\n    this.client.send('login', {\n      user_id: login_credentials.user_id,\n      password: md5(this.client.secret + login_credentials.password),\n    }, this.handleLoginResponse.bind(this, resp_func));\n  }\n};\n\nSubscriptionManager.prototype.userCreateInternal = function (params, resp_func) {\n  if (this.logging_in) {\n    return resp_func('Login already in progress');\n  }\n  this.logging_in = true;\n  this.logged_in = false;\n  return this.client.send('user_create', params, this.handleLoginResponse.bind(this, resp_func));\n};\n\nfunction hashedPassword(user_id, password) {\n  if (password.split('$$')[0] === 'prehashed') {\n    password = password.split('$$')[1];\n  } else {\n    password = md5(md5(user_id.toLowerCase()) + password);\n  }\n  return password;\n}\n\n\nSubscriptionManager.prototype.login = function (username, password, resp_func) {\n  username = (username || '').trim();\n  if (!username) {\n    return resp_func('Missing username');\n  }\n  password = (password || '').trim();\n  if (!password) {\n    return resp_func('Missing password');\n  }\n  let hashed_password = hashedPassword(username, password);\n  if (hashed_password !== password) {\n    local_storage.set('password', `prehashed$$${hashed_password}`);\n  }\n  this.login_credentials = { user_id: username, password: hashed_password };\n  if (!this.auto_create_user) {\n    // Just return result directly\n    return this.loginInternal(this.login_credentials, resp_func);\n  }\n  return this.loginInternal(this.login_credentials, (err, data) => {\n    if (!err || err !== 'ERR_USER_NOT_FOUND') {\n      return void resp_func(err, data);\n    }\n    // user not found, auto-create\n    this.userCreate({\n      user_id: username,\n      password,\n      password_confirm: password,\n      email: 'autocreate@glovjs.org',\n    }, resp_func);\n  });\n};\n\nSubscriptionManager.prototype.loginFacebook = function (resp_func) {\n  this.login_credentials = { fb: true };\n  return this.loginInternal(this.login_credentials, resp_func);\n};\n\nSubscriptionManager.prototype.userCreate = function (params, resp_func) {\n  params.user_id = (params.user_id || '').trim();\n  if (!params.user_id) {\n    return resp_func('Missing username');\n  }\n  params.password = (params.password || '').trim();\n  if (!params.password) {\n    return resp_func('Missing password');\n  }\n  params.password_confirm = (params.password_confirm || '').trim();\n  if (!this.auto_create_user && !params.password_confirm) {\n    return resp_func('Missing password confirmation');\n  }\n  params.email = (params.email || '').trim();\n  if (!this.auto_create_user && !params.email) {\n    return resp_func('Missing email');\n  }\n  params.display_name = (params.display_name || '').trim();\n  let hashed_password = hashedPassword(params.user_id, params.password);\n  if (hashed_password !== params.password) {\n    local_storage.set('password', `prehashed$$${hashed_password}`);\n  }\n  let hashed_password_confirm = hashedPassword(params.user_id, params.password_confirm);\n  if (hashed_password !== hashed_password_confirm) {\n    return resp_func('Passwords do not match');\n  }\n  this.login_credentials = { user_id: params.user_id, password: hashed_password };\n  return this.userCreateInternal({\n    display_name: params.display_name || params.user_id,\n    user_id: params.user_id,\n    email: params.email,\n    password: hashed_password,\n  }, resp_func);\n};\n\n\nSubscriptionManager.prototype.logout = function () {\n  assert(this.logged_in);\n  assert(!this.logging_in);\n  assert(!this.logging_out);\n  // Don't know how to gracefully handle logging out with app-level subscriptions\n  //   currently, clean up those we can, assert we have no others\n  if (this.did_master_subscribe) {\n    this.did_master_subscribe = false;\n    this.unsubscribe('master.master');\n  }\n  for (let channel_id in this.channels) {\n    let channel = this.channels[channel_id];\n    if (channel.immediate_subscribe) {\n      channel.immediate_subscribe = 0;\n      this.unsubscribe(channel_id);\n    }\n    assert(!channel.subscriptions, `Remaining active subscription for ${channel_id}`);\n    if (channel.autosubscribed) {\n      channel.autosubscribed = false;\n    }\n  }\n\n  this.logging_out = true;\n  this.client.send('logout', null, (err) => {\n    this.logging_out = false;\n    if (!err) {\n      local_storage.set('password', undefined);\n      this.logged_in = false;\n      this.logged_in_username = null;\n      this.was_logged_in = false;\n      this.login_credentials = null;\n      this.emit('logout');\n    }\n  });\n};\n\nSubscriptionManager.prototype.serverLog = function (type, data) {\n  this.client.send('log', { type, data });\n};\n\nSubscriptionManager.prototype.sendCmdParse = function (command, resp_func) {\n  this.onceConnected(() => {\n    let pak = this.client.pak('cmd_parse_auto');\n    pak.writeString(command);\n    pak.send(resp_func);\n  });\n};\n\nSubscriptionManager.prototype.handleCSRToClient = function (pak, resp_func) {\n  let cmd = pak.readString();\n  let access = pak.readJSON();\n  this.cmd_parse.handle({ access }, cmd, (err, resp) => {\n    if (err && this.cmd_parse.was_not_found) {\n      // bounce back to server\n      return resp_func(null, { found: 0, err });\n    }\n    return resp_func(err, { found: 1, resp });\n  });\n};\n\nexport function create(client, cmd_parse) {\n  return new SubscriptionManager(client, cmd_parse);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint-env browser */\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst { filewatchOn } = require('./filewatch.js');\nconst local_storage = require('./local_storage.js');\nconst settings = require('./settings.js');\nconst urlhash = require('./urlhash.js');\nconst { callEach, isPowerOfTwo, nextHighestPowerOfTwo, ridx } = require('../../common/util.js');\n\nconst TEX_UNLOAD_TIME = 5 * 60 * 1000; // for textures loaded (each frame) with auto_unload: true\n\nexport let textures = {};\nexport let load_count = 0;\nlet aniso = 4;\nlet max_aniso = 0;\nlet aniso_enum;\n\nlet default_filter_min;\nlet default_filter_mag;\n\nconst cube_faces = [\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_X', pos: [0,1] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_X', pos: [0,0] },\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_Y', pos: [1,0] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_Y', pos: [1,1] },\n  { target: 'TEXTURE_CUBE_MAP_NEGATIVE_Z', pos: [2,0] },\n  { target: 'TEXTURE_CUBE_MAP_POSITIVE_Z', pos: [2,1] },\n];\n\nexport const format = {\n  R8: { count: 1 },\n  RGB8: { count: 3 },\n  RGBA8: { count: 4 },\n};\n\nexport function defaultFilters(min, mag) {\n  default_filter_min = min;\n  default_filter_mag = mag;\n}\n\nlet bound_unit = null;\nlet bound_tex = [];\n\nlet handle_loading;\nlet handle_error;\n\nlet frame_timestamp;\n\nfunction setUnit(unit) {\n  if (unit !== bound_unit) {\n    gl.activeTexture(gl.TEXTURE0 + unit);\n    bound_unit = unit;\n  }\n}\n\nfunction bindHandle(unit, target, handle) {\n  if (bound_tex[unit] !== handle) {\n    setUnit(unit);\n    gl.bindTexture(target, handle);\n    bound_tex[unit] = handle;\n  }\n}\n\nfunction unbindAll(target) {\n  for (let unit = 0; unit < bound_tex.length; ++unit) {\n    setUnit(unit);\n    gl.bindTexture(target, target === gl.TEXTURE_2D ? handle_loading : null);\n    bound_tex[unit] = null;\n  }\n}\n\nexport function bind(unit, tex) {\n  tex.last_use = frame_timestamp;\n  // May or may not change the unit\n  bindHandle(unit, tex.target, tex.eff_handle);\n}\n\n// hot path inlined for perf\nexport function bindArray(texs) {\n  for (let ii = 0; ii < texs.length; ++ii) {\n    let tex = texs[ii];\n    tex.last_use = frame_timestamp;\n    let handle = tex.eff_handle;\n    if (bound_tex[ii] !== handle) {\n      if (ii !== bound_unit) {\n        gl.activeTexture(gl.TEXTURE0 + ii);\n        bound_unit = ii;\n      }\n      gl.bindTexture(tex.target, handle);\n      bound_tex[ii] = handle;\n    }\n  }\n}\n\nexport function isArrayBound(texs) {\n  for (let ii = 0; ii < texs.length; ++ii) {\n    let tex = texs[ii];\n    let handle = tex.eff_handle;\n    if (bound_tex[ii] !== handle) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function texturesResetState() {\n  bound_unit = -1;\n  if (engine.webgl2) {\n    unbindAll(gl.TEXTURE_2D_ARRAY);\n  }\n  unbindAll(gl.TEXTURE_2D);\n  setUnit(0);\n  gl.getError();\n}\n\n\nlet auto_unload_textures = [];\n\nfunction Texture(params) {\n  this.name = params.name;\n  this.loaded = false;\n  this.load_fail = false;\n  this.target = params.target || gl.TEXTURE_2D;\n  this.is_array = this.target === gl.TEXTURE_2D_ARRAY;\n  this.is_cube = this.target === gl.TEXTURE_CUBE_MAP;\n  this.handle = gl.createTexture();\n  this.eff_handle = handle_loading;\n  this.setSamplerState(params);\n  this.src_width = this.src_height = 1;\n  this.width = this.height = 1;\n  this.nozoom = params.nozoom || false;\n  this.on_load = [];\n  this.gpu_mem = 0;\n  this.soft_error = params.soft_error || false;\n  this.last_use = frame_timestamp;\n  this.auto_unload = params.auto_unload || false;\n  if (this.auto_unload) {\n    auto_unload_textures.push(this);\n  }\n\n  this.format = params.format || format.RGBA8;\n\n  if (params.data) {\n    let err = this.updateData(params.width, params.height, params.data);\n    if (err) {\n      assert(false, `Error loading ${params.name}: GLError(${err})`);\n    }\n  } else {\n    // texture is not valid, do not leave bound\n    unbindAll(this.target);\n    if (params.url) {\n      this.url = params.url;\n      this.loadURL(params.url);\n    }\n  }\n}\n\nTexture.prototype.updateGPUMem = function () {\n  let new_size = this.width * this.height * this.format.count;\n  if (this.mipmaps) {\n    new_size *= 1.5;\n  }\n  let diff = new_size - this.gpu_mem;\n  engine.perf_state.gpu_mem.tex += diff;\n  this.gpu_mem = diff;\n};\n\nfunction bindForced(tex) {\n  let target = tex.target;\n  setUnit(0);\n  bound_tex[0] = null; // Force a re-bind, no matter what\n  bindHandle(0, target, tex.handle);\n}\n\nTexture.prototype.setSamplerState = function (params) {\n  let target = this.target;\n  bindForced(this);\n\n  this.filter_min = params.filter_min || default_filter_min;\n  this.filter_mag = params.filter_mag || default_filter_mag;\n  gl.texParameteri(target, gl.TEXTURE_MIN_FILTER, this.filter_min);\n  gl.texParameteri(target, gl.TEXTURE_MAG_FILTER, this.filter_mag);\n  this.wrap_s = params.wrap_s || gl.REPEAT;\n  this.wrap_t = params.wrap_t || gl.REPEAT;\n  gl.texParameteri(target, gl.TEXTURE_WRAP_S, this.wrap_s);\n  gl.texParameteri(target, gl.TEXTURE_WRAP_T, this.wrap_t);\n\n  this.mipmaps = this.filter_min >= 0x2700 && this.filter_min <= 0x2703; // Probably gl.LINEAR_MIPMAP_LINEAR\n\n  if (max_aniso) {\n    if (this.mipmaps && params.filter_mag !== gl.NEAREST) {\n      gl.texParameterf(gl.TEXTURE_2D, aniso_enum, aniso);\n    } else {\n      gl.texParameterf(gl.TEXTURE_2D, aniso_enum, 1);\n    }\n  }\n};\n\nTexture.prototype.updateData = function updateData(w, h, data) {\n  assert(!this.destroyed);\n  bindForced(this);\n  this.last_use = frame_timestamp;\n  this.src_width = w;\n  this.src_height = h;\n  this.width = w;\n  this.height = h;\n  // clear the error flag(s) if there are any\n  for (let ii = 0; ii < 10 && gl.getError(); ++ii); // eslint-disable-line curly\n  // Resize NP2 if this is not being used for a texture array, and it is not explicitly allowed (non-mipmapped, wrapped)\n  let np2 = (!isPowerOfTwo(w) || !isPowerOfTwo(h)) && !this.is_array && !this.is_cube &&\n    !(!this.mipmaps && this.wrap_s === gl.CLAMP_TO_EDGE && this.wrap_t === gl.CLAMP_TO_EDGE);\n  if (np2) {\n    this.width = nextHighestPowerOfTwo(w);\n    this.height = nextHighestPowerOfTwo(h);\n    gl.texImage2D(this.target, 0, this.format.internal_type, this.width, this.height, 0,\n      this.format.internal_type, this.format.gl_type, null);\n  }\n  if (data instanceof Uint8Array) {\n    assert(data.length >= w * h * this.format.count);\n    assert(!this.is_cube);\n    if (this.is_array) {\n      let num_images = h / w; // assume square\n      gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n        num_images, 0, this.format.internal_type, this.format.gl_type, data);\n    } else if (np2) {\n      // Could do multiple upload thing like below, but smarter, but we really shouldn't be doing this for\n      // in-process generated images!\n      gl.texSubImage2D(this.target, 0, 0, 0, w, h, this.format.internal_type, this.format.gl_type, data);\n    } else {\n      gl.texImage2D(this.target, 0, this.format.internal_type, w, h, 0,\n        this.format.internal_type, this.format.gl_type, data);\n    }\n  } else {\n    assert(data.width); // instanceof Image fails with ublock AdBlocker; also, this is either an Image or Canvas\n    if (this.is_cube) {\n      assert.equal(w * 2, h * 3);\n      let tex_size = h / 2;\n      let canvas = document.createElement('canvas');\n      canvas.width = tex_size;\n      canvas.height = tex_size;\n      let ctx = canvas.getContext('2d');\n      for (let ii = 0; ii < cube_faces.length; ++ii) {\n        let face = cube_faces[ii];\n        ctx.drawImage(data, face.pos[0] * tex_size, face.pos[1] * tex_size, tex_size, tex_size,\n          0, 0, tex_size, tex_size);\n        gl.texImage2D(gl[face.target], 0, this.format.internal_type, this.format.internal_type, this.format.gl_type,\n          canvas);\n      }\n    } else if (this.is_array) {\n      let num_images = h / w;\n      gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n        num_images, 0, this.format.internal_type, this.format.gl_type, data);\n\n      if (gl.getError()) {\n        // Fix for Samsung devices (Chris's and Galaxy S8 on CrossBrowserTesting)\n        // Also fixes locally on Chrome when using a 8K source texture (was 896x57344),\n        //  perhaps some auto-scaling is going on in the gl.texImage3D call if required?\n        // Try drawing to canvas first\n        let canvas = document.createElement('canvas');\n        canvas.width = w;\n        canvas.height = h;\n        let ctx = canvas.getContext('2d');\n        ctx.drawImage(data, 0, 0);\n        gl.texImage3D(this.target, 0, this.format.internal_type, w, w,\n          num_images, 0, this.format.internal_type, this.format.gl_type, canvas);\n      }\n\n    } else if (np2) {\n      // Pad up to power of two\n      // Duplicate right and bottom pixel row by sending image 3 times\n      if (w !== this.width) {\n        gl.texSubImage2D(this.target, 0, 1, 0, this.format.internal_type, this.format.gl_type, data);\n      }\n      if (h !== this.height) {\n        gl.texSubImage2D(this.target, 0, 0, 1, this.format.internal_type, this.format.gl_type, data);\n      }\n      gl.texSubImage2D(this.target, 0, 0, 0, this.format.internal_type, this.format.gl_type, data);\n    } else {\n      gl.texImage2D(this.target, 0, this.format.internal_type, this.format.internal_type, this.format.gl_type, data);\n    }\n  }\n  let gl_err = gl.getError();\n  if (gl_err) {\n    return gl_err;\n  }\n  if (this.mipmaps) {\n    gl.generateMipmap(this.target);\n    gl_err = gl.getError();\n    if (gl_err) {\n      return gl_err;\n    }\n  }\n  this.updateGPUMem();\n  this.eff_handle = this.handle;\n  this.loaded = true;\n\n  callEach(this.on_load, this.on_load = null, this);\n\n  return 0;\n};\n\nTexture.prototype.onLoad = function (cb) {\n  if (this.loaded) {\n    cb(this);\n  } else {\n    this.on_load.push(cb);\n  }\n};\n\nlet texture_base_url = '';\nexport function getExternalTextureURL(url) {\n  if (!url.match(/^.{2,7}:/)) {\n    url = `${texture_base_url||urlhash.getURLBase()}${url}`;\n  }\n  return url;\n}\nexport function setExternalTextureBaseURL(base_url) {\n  texture_base_url = base_url;\n}\n\nconst TEX_RETRY_COUNT = 4;\nTexture.prototype.loadURL = function loadURL(url, filter) {\n  let tex = this;\n  assert(!tex.destroyed);\n\n  // When our browser's location has been changed from 'site.com/foo/' to\n  //  'site.com/foo/bar/7' our relative image URLs are still relative to the\n  //  base.  Maybe should set some meta tag to do this instead?\n  if (!url.match(/^.{2,7}:/)) {\n    url = `${urlhash.getURLBase()}${url}`;\n  }\n\n  let load_gen = tex.load_gen = (tex.load_gen || 0) + 1;\n  function tryLoad(next) {\n    let did_next = false;\n    function done(img) {\n      if (!did_next) {\n        did_next = true;\n        return void next(img);\n      }\n    }\n\n    let img = new Image();\n    img.onload = function () {\n      done(img);\n    };\n    function fail() {\n      done(null);\n    }\n    img.onerror = fail;\n    img.crossOrigin = 'anonymous';\n    img.src = url;\n  }\n\n  ++load_count;\n  let retries = 0;\n  function handleLoad(img) {\n    if (tex.load_gen !== load_gen || tex.destroyed) {\n      // someone else requested this texture to be loaded!  Or, it was already unloaded\n      --load_count;\n      return;\n    }\n    let err_details = '';\n    if (img) {\n      tex.format = format.RGBA8;\n      if (filter) {\n        img = filter(tex, img);\n      }\n      let err = tex.updateData(img.width, img.height, img);\n      if (err) {\n        err_details = `: GLError(${err})`;\n        // Samsung TV gets 1282 on texture arrays\n        // Samsung Galaxy S6 gets 1281 on texture arrays\n        // Note: Any failed image load (partial read of a bad png, etc) also results in 1281!\n        if (tex.is_array && (String(err) === '1282' || String(err) === '1281') && engine.webgl2 && !engine.DEBUG) {\n          local_storage.setJSON('webgl2_disable', {\n            ua: navigator.userAgent,\n            ts: Date.now(),\n          });\n          console.error(`Error loading array texture \"${url}\"${err_details}, reloading without WebGL2..`);\n          engine.reloadSafe();\n          return;\n        }\n        if (!tex.for_reload) {\n          retries = TEX_RETRY_COUNT; // do not retry this\n        }\n      } else {\n        --load_count;\n        return;\n      }\n    }\n    let err = `Error loading texture \"${url}\"${err_details}`;\n    retries++;\n    if (retries > TEX_RETRY_COUNT) {\n      --load_count;\n      tex.eff_handle = handle_error;\n      tex.load_fail = true;\n      console.error(`${err}${err_details ? '' : ', retries failed'}`);\n      if (tex.soft_error) {\n        tex.err = 'Load failed';\n      } else {\n        assert(false, err);\n      }\n      return;\n    }\n    console.error(`${err}, retrying... `);\n    setTimeout(tryLoad.bind(null, handleLoad), 100 * retries * retries);\n  }\n  tryLoad(handleLoad);\n};\n\nTexture.prototype.allocFBO = function (w, h, need_depth) {\n  const fbo_format = settings.fbo_rgba ? gl.RGBA : gl.RGB;\n  bindForced(this);\n  gl.texImage2D(this.target, 0, fbo_format, w, h, 0, fbo_format, gl.UNSIGNED_BYTE, null);\n\n  this.fbo = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.handle, 0);\n\n  this.last_use = frame_timestamp;\n  this.src_width = this.width = w;\n  this.src_height = this.height = h;\n  this.updateGPUMem();\n};\n\nTexture.prototype.captureStart = function (w, h) {\n  assert(!this.capture);\n  this.capture = { w, h };\n  if (this.fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);\n  }\n};\n\nTexture.prototype.captureEnd = function (filter_linear, wrap) {\n  assert(this.capture);\n  let capture = this.capture;\n  this.capture = null;\n  if (this.fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  } else {\n    this.copyTexImage(0, 0, capture.w, capture.h);\n  }\n  let filter = filter_linear ? gl.LINEAR : gl.NEAREST;\n  this.setSamplerState({\n    filter_min: filter,\n    filter_mag: filter,\n    wrap_s: wrap ? gl.REPEAT : gl.CLAMP_TO_EDGE,\n    wrap_t: wrap ? gl.REPEAT : gl.CLAMP_TO_EDGE,\n  });\n};\n\nTexture.prototype.copyTexImage = function (x, y, w, h) {\n  assert(!this.destroyed);\n  assert(w && h);\n  bindHandle(0, this.target, this.handle);\n  gl.copyTexImage2D(this.target, 0, gl.RGB, x, y, w, h, 0);\n  this.last_use = frame_timestamp;\n  this.src_width = this.width = w;\n  this.src_height = this.height = h;\n  this.updateGPUMem();\n};\n\nTexture.prototype.destroy = function () {\n  if (this.destroyed) {\n    return;\n  }\n  assert(this.name);\n  let auto_unload = this.auto_unload;\n  if (auto_unload) {\n    this.auto_unload = null;\n    let idx = auto_unload_textures.indexOf(this);\n    assert(idx !== -1);\n    ridx(auto_unload_textures, idx);\n  }\n  delete textures[this.name];\n  unbindAll(this.target);\n  gl.deleteTexture(this.handle);\n  if (this.fbo) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.deleteFramebuffer(this.fbo);\n  }\n  this.width = this.height = 0;\n  this.updateGPUMem();\n  this.destroyed = true;\n  if (typeof auto_unload === 'function') {\n    auto_unload();\n  }\n};\n\nfunction create(params) {\n  assert(params.name);\n  let texture = new Texture(params);\n  textures[params.name] = texture;\n  return texture;\n}\n\nlet last_temporary_id = 0;\nexport function createForCapture(unique_name, auto_unload) {\n  let name = unique_name || `screen_temporary_tex_${++last_temporary_id}`;\n  assert(!textures[name]);\n  let texture = create({\n    filter_min: gl.NEAREST,\n    filter_mag: gl.NEAREST,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n    format: format.RGB8,\n    name,\n    auto_unload,\n  });\n  texture.loaded = true;\n  texture.eff_handle = texture.handle;\n  return texture;\n}\n\nexport function load(params) {\n  let key = params.name = params.name || params.url;\n  assert(key);\n  let tex = textures[key];\n  if (!tex) {\n    tex = create(params);\n  }\n  tex.last_use = frame_timestamp;\n  return tex;\n}\n\nexport function cname(key) {\n  let idx = key.lastIndexOf('/');\n  if (idx !== -1) {\n    key = key.slice(idx+1);\n  }\n  idx = key.indexOf('.');\n  if (idx !== -1) {\n    key = key.slice(0, idx);\n  }\n  return key.toLowerCase();\n}\nexport function findTexForReplacement(search_key) {\n  search_key = cname(search_key);\n  for (let key in textures) {\n    let compare_key = cname(key);\n    if (compare_key === search_key) {\n      return textures[key];\n    }\n  }\n  return null;\n}\n\nlet tick_next_tex = 0;\nexport function texturesTick() {\n  frame_timestamp = engine.frame_timestamp;\n  let len = auto_unload_textures.length;\n  if (!len) {\n    return;\n  }\n  if (tick_next_tex >= len) {\n    tick_next_tex = 0;\n  }\n  let tex = auto_unload_textures[tick_next_tex];\n  if (tex.last_use < frame_timestamp - TEX_UNLOAD_TIME) {\n    console.log(`Unloading texture ${tex.name}`);\n    tex.destroy();\n  } else {\n    ++tick_next_tex;\n  }\n}\n\nexport function texturesUnloadDynamic() {\n  while (auto_unload_textures.length) {\n    auto_unload_textures[0].destroy();\n  }\n}\n\nfunction textureReload(filename) {\n  let tex = textures[filename];\n  if (tex && tex.url) {\n    tex.for_reload = true;\n    tex.loadURL(`${tex.url}?rl=${Date.now()}`);\n    return true;\n  }\n  return false;\n}\n\nexport function startup() {\n\n  default_filter_min = gl.LINEAR_MIPMAP_LINEAR;\n  default_filter_mag = gl.LINEAR;\n\n  format.R8.internal_type = gl.LUMINANCE;\n  format.R8.gl_type = gl.UNSIGNED_BYTE;\n  format.RGB8.internal_type = gl.RGB;\n  format.RGB8.gl_type = gl.UNSIGNED_BYTE;\n  format.RGBA8.internal_type = gl.RGBA;\n  format.RGBA8.gl_type = gl.UNSIGNED_BYTE;\n\n  let ext_anisotropic = (\n    gl.getExtension('EXT_texture_filter_anisotropic') ||\n    gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n    gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic')\n  );\n  if (ext_anisotropic) {\n    aniso_enum = ext_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT;\n    aniso = max_aniso = gl.getParameter(ext_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n  }\n\n  handle_error = load({\n    name: 'error',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    filter_mag: gl.NEAREST,\n    data: new Uint8Array([\n      255, 20, 147, 255,\n      255, 0, 0, 255,\n      255, 255, 255, 255,\n      255, 20, 147, 255\n    ]),\n  }).handle;\n\n  handle_loading = load({\n    name: 'loading',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      127, 127, 127, 255,\n      0, 0, 0, 255,\n      64, 64, 64, 255,\n      127, 127, 127, 255,\n    ]),\n  }).handle;\n\n  load({\n    name: 'white',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n      255, 255, 255, 255,\n    ]),\n  });\n\n  load({\n    name: 'invisible',\n    width: 2, height: 2,\n    nozoom: true,\n    format: format.RGBA8,\n    data: new Uint8Array([\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n      0, 0, 0, 0,\n    ]),\n  });\n\n  filewatchOn('.png', textureReload);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_engine = require('./engine.js');\nconst { applyCopy, effectsQueue, effectsIsFinal } = require('./effects.js');\nconst { framebufferCapture, framebufferStart, framebufferEnd, temporaryTextureClaim } = require('./framebuffer.js');\nconst { floor, min, pow, random } = Math;\nconst sprites = require('./sprites.js');\nconst shaders = require('./shaders.js');\nconst textures = require('./textures.js');\nconst glov_ui = require('./ui.js');\nconst { easeOut } = require('../../common/util.js');\nconst { unit_vec, vec4 } = require('./vmath.js');\n\nlet transitions = [];\n\nexport const IMMEDIATE = 'immediate';\n\nexport const REMOVE = 'remove';\nexport const CONTINUE = 'continue';\n\nconst shader_data = {\n  transition_pixelate: {\n    fp: 'glov/shaders/transition_pixelate.fp',\n  },\n};\n\nfunction getShader(key) {\n  let elem = shader_data[key];\n  if (!elem.shader) {\n    elem.shader = shaders.create(elem.fp);\n  }\n  return elem.shader;\n}\n\nfunction GlovTransition(z, func) {\n  this.z = z;\n  this.capture = null;\n  this.func = func;\n  this.accum_time = 0;\n}\n\nfunction transitionCapture(trans) {\n  // Warning: Slow on iOS\n  assert(!trans.capture);\n  trans.capture = textures.createForCapture();\n  framebufferCapture(trans.capture);\n}\n\nfunction transitionCaptureFramebuffer(trans) {\n  assert(!trans.capture);\n  trans.capture = framebufferEnd();\n  temporaryTextureClaim(trans.capture);\n  if (trans.capture.fbo) {\n    // new framebuffer bound, effectively cleared, need to blit this to it!\n    applyCopy({ source: trans.capture, final: effectsIsFinal() });\n  } else {\n    framebufferStart({\n      width: trans.capture.width,\n      height: trans.capture.height,\n      final: effectsIsFinal(),\n    });\n  }\n}\n\nexport function queue(z, fn) {\n  assert(!glov_engine.had_3d_this_frame); // Cannot queue a transition after we've already started 3d rendering/cleared\n  let immediate = false;\n  if (z === IMMEDIATE) {\n    immediate = true;\n    z = Z.TRANSITION_FINAL;\n  }\n\n  for (let ii = 0; ii < transitions.length; ++ii) {\n    let trans = transitions[ii];\n    if (trans.z === z) {\n      // same Z\n      assert(trans.capture);\n      if (!trans.capture) {\n        // two transitions at the same Z on one frame!  ignore second\n        return false;\n      }\n    }\n  }\n  let trans = new GlovTransition(z, fn);\n  transitions.push(trans);\n\n  if (immediate) {\n    transitionCapture(trans);\n  } else {\n    // queue up a capture past the specified Z, so transitions rendering at that Z (plus a handful) get captured\n    effectsQueue(z + Z.TRANSITION_RANGE, transitionCaptureFramebuffer.bind(null, trans));\n    //sprites.queuefn(z + Z.TRANSITION_RANGE, transitionCapture.bind(null, trans));\n  }\n  return true;\n}\n\nfunction destroyTexture(tex) {\n  tex.destroy();\n}\n\nexport function render(dt) {\n  dt = min(dt, 100); // debug: clamp frame times\n  for (let trans_idx = 0; trans_idx < transitions.length; ++trans_idx) {\n    let trans = transitions[trans_idx];\n    trans.accum_time += dt;\n    assert(trans.capture);\n    // call the function and give them the Z\n    // If not the last one, want it to end now!\n    let force_end = trans_idx < transitions.length - 1;\n    let ret = trans.func(trans.z, trans.capture, trans.accum_time, force_end);\n    if (ret === REMOVE) {\n      setTimeout(destroyTexture.bind(null, trans.capture), 0);\n      transitions.splice(trans_idx, 1);\n      trans_idx--;\n    }\n  }\n}\n\nexport function active() {\n  return transitions.length;\n}\n\nfunction glovTransitionFadeFunc(fade_time, z, initial, ms_since_start, force_end) {\n  let progress = min(ms_since_start / fade_time, 1);\n  let alpha = (1 - easeOut(progress, 2));\n  let color = vec4(1, 1, 1, alpha);\n  camera2d.setNormalized();\n  sprites.queueraw4([initial],\n    0, 0, 0, 1,\n    1, 1, 1, 0,\n    z,\n    0, 1, 1, 0,\n    color);\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\n\n/*\n  // Doesn't work because we need more than just 2 UV values in the queue call\nfunction glovTransitionWipeFunc(wipe_time, wipe_angle, z, tex, ms_since_start, force_end) {\n  let progress = min(ms_since_start / wipe_time, 1);\n\n  camera2d.setNormalized();\n\n  let uvs = [[0,1], [1,0]];\n\n  let points = [{}, {}, {}, {}];\n  for (let ii = 0; ii < 4; ii++) {\n    let x = (ii === 1 || ii === 2) ? 1 : 0;\n    let y = (ii >= 2) ? 1 : 0;\n    points[ii].x = x;\n    points[ii].y = y;\n  }\n\n  while (wipe_angle > PI) {\n    wipe_angle -= (2 * PI);\n  }\n  while (wipe_angle < -PI) {\n    wipe_angle += (2 * PI);\n  }\n\n  // TODO: if anyone ever uses this, change 0 degrees to be up, not right, to match other things?\n  if (wipe_angle >= -PI_4 && wipe_angle <= PI_4) {\n    // horizontal wipe from left to right\n    let x0 = progress * 2; // rightmost x\n    let x1 = x0 - sin(abs(wipe_angle)) / SQRT1_2; // leftmost x\n    if (wipe_angle < 0) {\n      points[0].x = x1;\n      points[3].x = x0;\n    } else {\n      points[0].x = x0;\n      points[3].x = x1;\n    }\n    points[1].x = points[2].x = 2;\n  } else if (wipe_angle >= PI_2 + PI_4 || wipe_angle <= -PI_2 - PI_4) {\n    // horizontal wipe from right to left\n    let x0 = 1 - progress * 2; // leftmost x\n    let x1 = x0 + sin(abs(wipe_angle)) / SQRT1_2; // rightmost x,\n    if (wipe_angle < 0) {\n      points[1].x = x1;\n      points[2].x = x0;\n    } else {\n      points[1].x = x0;\n      points[2].x = x1;\n    }\n    points[0].x = points[3].x = -1;\n  } else if (wipe_angle > PI_4 && wipe_angle <= PI_2 + PI_4) {\n    // vertical wipe, top to bottom\n    let y0 = progress * 2; // bottommost y\n    let offs = cos(wipe_angle) / SQRT1_2;\n    let y1 = y0 - abs(offs); // topmost y,\n    if (offs > 0) {\n      points[0].y = y0;\n      points[1].y = y1;\n    } else {\n      points[0].y = y1;\n      points[1].y = y0;\n    }\n    points[2].y = points[3].y = 2;\n  } else {\n    // vertical wipe, bottom to top\n    let y0 = 1 - progress * 2; // topmost y\n    let offs = cos(wipe_angle) / SQRT1_2;\n    let y1 = y0 + abs(offs); // bottommost y,\n    if (offs > 0) {\n      points[2].y = y1;\n      points[3].y = y0;\n    } else {\n      points[2].y = y0;\n      points[3].y = y1;\n    }\n    points[0].y = points[1].y = -1;\n  }\n  // interp UVs based on points\n  points[0].u = lerp(points[0].x, uvs[0][0], uvs[1][0]);\n  points[1].u = lerp(points[1].x, uvs[0][0], uvs[1][0]);\n  points[2].u = lerp(points[2].x, uvs[0][0], uvs[1][0]);\n  points[3].u = lerp(points[3].x, uvs[0][0], uvs[1][0]);\n  points[0].v = lerp(points[0].y, uvs[0][1], uvs[1][1]);\n  points[1].v = lerp(points[1].y, uvs[0][1], uvs[1][1]);\n  points[2].v = lerp(points[2].y, uvs[0][1], uvs[1][1]);\n  points[3].v = lerp(points[3].y, uvs[0][1], uvs[1][1]);\n\n  sprites.queueraw4([tex],\n    points[0].x, points[0].y, points[3].x, points[3].y,\n    points[2].x, points[2].y, points[1].x, points[1].y,\n    z,\n    points[0].u, points[0].v, points[2].u, points[2].v,\n    unit_vec, 'alpha_nearest');\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\n*/\n\nfunction glovTransitionSplitScreenFunc(time, border_width, slide_window, z, tex, ms_since_start, force_end) {\n  let border_color = vec4(1, 1, 1, 1);\n  let progress = easeOut(min(ms_since_start / time, 1), 2);\n  camera2d.setNormalized();\n\n  let uvs = [[0,1], [1,0]];\n\n  let xoffs = progress;\n  let v_half = uvs[0][1] + (uvs[1][1] - uvs[0][1]) / 2;\n  if (slide_window) { // slide window\n    sprites.queueraw([tex], 0, 0, z, 1 - xoffs, 1 / 2,\n      0, uvs[0][1], uvs[1][0] * (1 - progress), v_half,\n      unit_vec);\n    sprites.queueraw([tex], 0 + xoffs, 1 / 2, z, 1 - xoffs, 1 / 2,\n      uvs[1][0] * progress, v_half, uvs[1][0], uvs[1][1],\n      unit_vec);\n  } else { // slide image\n    sprites.queueraw([tex], 0 - xoffs, 0, z, 1, 1 / 2,\n      uvs[0][0], uvs[0][1], uvs[1][0], v_half,\n      unit_vec);\n    sprites.queueraw([tex], 0 + xoffs, 1 / 2, z, 1, 1 / 2,\n      uvs[0][0], v_half, uvs[1][0], uvs[1][1],\n      unit_vec);\n  }\n  let border_grow_progress = min(progress * 4, 1);\n  border_color[3] = border_grow_progress;\n  border_width *= border_grow_progress;\n  // TODO: Would look better if the horizontal border grew from the middle out, so the overlapping bit is identical\n  // on both sides\n  glov_ui.drawRect(0, 0.5 - border_width, 1 - xoffs, 0.5, z + 1, border_color);\n  glov_ui.drawRect(1 - xoffs - border_width, 0, 1 - xoffs, 0.5, z + 1, border_color);\n  glov_ui.drawRect(xoffs, 0.5, 1, 0.5 + border_width, z + 1, border_color);\n  glov_ui.drawRect(xoffs, 0.5, xoffs + border_width, 1, z + 1, border_color);\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\nconst render_scale = 1;\nlet transition_pixelate_textures = [null];\n\nfunction transitionPixelateCapture() {\n  let tex = framebufferEnd();\n  framebufferStart({\n    width: tex.width,\n    height: tex.height,\n    final: effectsIsFinal(),\n  });\n  transition_pixelate_textures[0] = tex;\n}\n\nfunction glovTransitionPixelateFunc(time, z, tex, ms_since_start, force_end) {\n  //ms_since_start %= time;\n  //let viewport = glov_engine.graphics_device.getViewport();\n  //let gd_width = viewport[2];\n  let gd_width = glov_engine.width;\n  let progress = min(ms_since_start / time, 1);\n  camera2d.setNormalized();\n\n  transition_pixelate_textures[0] = tex;\n  if (progress > 0.5) {\n    effectsQueue(z, transitionPixelateCapture); // modifies transition_pixelate_textures[]\n  }\n\n  let partial_progress = (progress > 0.5 ? 1 - progress : progress) * 2;\n  // Use power of two scalings, but then scale relative to a 1024px virtual screen, so the biggest\n  //  pixel is about the same percentage of the screen regardless of resolution.\n  let pixel_scale = pow(2, floor(partial_progress * 8.9)) / 1024 * gd_width * render_scale;\n\n  let param0 = vec4(tex.width / pixel_scale, tex.height / pixel_scale,\n    pixel_scale / tex.width, pixel_scale / tex.height);\n  let param1 = vec4(0.5 / tex.width, 0.5 / tex.height,\n    (tex.texSizeX - 1) / tex.width, (tex.texSizeY - 1) / tex.height);\n\n\n  sprites.queueraw(transition_pixelate_textures, 0, 0, z + 1, 1, 1,\n    0, 1, 1, 0,\n    unit_vec, getShader('transition_pixelate'), {\n      param0,\n      param1,\n    });\n\n  if (force_end || progress === 1) {\n    return REMOVE;\n  }\n  return CONTINUE;\n}\n\nexport function fade(fade_time) {\n  return glovTransitionFadeFunc.bind(null, fade_time);\n}\n\n// export function wipe(wipe_time, wipe_angle) {\n//   return glovTransitionWipeFunc.bind(null, wipe_time, wipe_angle);\n// }\n\n// border_width in camera-relative size\nexport function splitScreen(time, border_width, slide_window) {\n  border_width /= camera2d.w(); // convert to normalized units\n  return glovTransitionSplitScreenFunc.bind(null, time, border_width, slide_window);\n}\n\nexport function pixelate(fade_time) {\n  return glovTransitionPixelateFunc.bind(null, fade_time);\n}\n\n// export function logoZoom(time, logo) {\n//   return glovTransitionLogoZoomFunc.bind(null, time, logo);\n// }\n\nexport function randomTransition(fade_time_scale) {\n  fade_time_scale = fade_time_scale || 1;\n  let idx = floor(random() * 3);\n  switch (idx) {\n    case 0:\n      return fade(500 * fade_time_scale);\n    case 1:\n      return splitScreen(250 * fade_time_scale, 2, false);\n    case 2:\n      return pixelate(750 * fade_time_scale);\n    // case 3:\n    //   return wipe(250 * fade_time_scale, random() * 2 * PI);\n    // case 4:\n    //   if (!logo) {\n    //     GlovTextureLoadOptions options;\n    //     options.clamp_s = options.clamp_t = true;\n    //     logo = GlovTextures::loadtex(\"data/SampleLogoTransition.png\", &options);\n    //   }\n    //   glovTransitionQueue(Z_TRANSITION_FINAL, glovTransitionLogoZoom(500, logo));\n    //   break;\n    default:\n      assert(0);\n  }\n  return null;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-underscore-dangle:off */\n\nwindow.Z = window.Z || {};\nZ.BORDERS = Z.BORDERS || 90;\nZ.UI = Z.UI || 100;\nZ.MODAL = Z.MODAL || 1000;\nZ.TOOLTIP = Z.TOOLTIP || 2000;\nZ.DEBUG = Z.DEBUG || 9800;\n\n// very high, but can still add integers\nZ.TRANSITION_FINAL = Z.TRANSITION_FINAL || 9900;\n// how much Z range can be used for rendering transitions - the capture happens at z + Z_TRANSITION_RANGE\nZ.TRANSITION_RANGE = Z.TRANSITION_RANGE || 10;\n\nZ.FPSMETER = Z.FPSMETER || 10000;\n\nconst assert = require('assert');\nconst camera2d = require('./camera2d.js');\nconst glov_edit_box = require('./edit_box.js');\nconst effects = require('./effects.js');\nconst { effectsQueue } = effects;\nconst glov_engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst glov_input = require('./input.js');\nconst { linkTick } = require('./link.js');\nconst { abs, max, min, round, sqrt } = Math;\nconst { soundLoad, soundPlay } = require('./sound.js');\nconst glov_sprites = require('./sprites.js');\nconst textures = require('./textures.js');\nconst { clamp, clone, lerp, merge } = require('../../common/util.js');\nconst { mat43, m43identity, m43mul } = require('./mat43.js');\nconst { vec2, vec4, v4scale } = require('./vmath.js');\n\nconst MODAL_DARKEN = 0.75;\nlet KEYS;\nlet PAD;\n\nconst menu_fade_params_default = {\n  blur: [0.125, 0.865],\n  saturation: [0.5, 0.1],\n  brightness: [1, 1 - MODAL_DARKEN],\n  fallback_darken: vec4(0, 0, 0, MODAL_DARKEN),\n  z: Z.MODAL,\n};\n\nexport function focuslog(...args) {\n  // console.log(`focuslog(${glov_engine.frame_index}): `, ...args);\n}\n\nlet color_set_shades = vec4(1, 0.8, 0.7, 0.4);\n\nexport function makeColorSet(color) {\n  let ret = {\n    regular: vec4(),\n    rollover: vec4(),\n    down: vec4(),\n    disabled: vec4(),\n  };\n  v4scale(ret.regular, color, color_set_shades[0]);\n  v4scale(ret.rollover, color, color_set_shades[1]);\n  v4scale(ret.down, color, color_set_shades[2]);\n  v4scale(ret.disabled, color, color_set_shades[3]);\n  for (let field in ret) {\n    ret[field][3] = color[3];\n  }\n  return ret;\n}\n\nlet hooks = [];\nexport function addHook(draw, click) {\n  hooks.push({\n    draw,\n    click,\n  });\n}\n\nfunction doBlurEffect(factor) {\n  effects.applyGaussianBlur({\n    blur: factor,\n    // min_size: 128,\n  });\n}\n\nlet desaturate_xform = mat43();\nlet desaturate_tmp = mat43();\nfunction doDesaturateEffect(saturation, brightness) {\n  m43identity(desaturate_xform);\n\n  effects.saturationMatrix(desaturate_tmp, saturation);\n  m43mul(desaturate_xform, desaturate_xform, desaturate_tmp);\n\n  effects.brightnessScaleMatrix(desaturate_tmp, brightness);\n  m43mul(desaturate_xform, desaturate_xform, desaturate_tmp);\n\n  // if ((hue % (Math.PI * 2)) !== 0) {\n  //   effects.hueMatrix(tmp, hue);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (contrast !== 1) {\n  //   effects.contrastMatrix(tmp, contrast);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (brightness !== 0) {\n  //   effects.brightnessMatrix(tmp, brightness);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (additiveRGB[0] !== 0 || additiveRGB[1] !== 0 || additiveRGB[2] !== 0) {\n  //   effects.additiveMatrix(tmp, additiveRGB);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (grayscale) {\n  //   effects.grayScaleMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (negative) {\n  //   effects.negativeMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  // if (sepia) {\n  //   effects.sepiaMatrix(tmp);\n  //   m43mul(xform, xform, tmp);\n  // }\n  effects.applyColorMatrix({\n    colorMatrix: desaturate_xform,\n  });\n}\n\n// overrideable default parameters\nexport let button_height = 32;\nexport let font_height = 24;\nexport let button_width = 200;\nexport let modal_button_width = 100;\nexport let button_img_size = button_height;\nexport let modal_width = 600;\nexport let modal_y0 = 200;\nexport let modal_title_scale = 1.2;\nexport let modal_pad = 16;\nexport let panel_pixel_scale = 32 / 13; // button_height / button pixel resolution\nexport let tooltip_panel_pixel_scale = panel_pixel_scale;\nexport let tooltip_width = 400;\nexport let tooltip_pad = 8;\n\nexport let font_style_focused = glov_font.style(null, {\n  color: 0x000000ff,\n  outline_width: 2,\n  outline_color: 0xFFFFFFff,\n});\nexport let font_style_normal = glov_font.styleColored(null, 0x000000ff);\n\nexport let font;\nexport let title_font;\nexport let sprites = {};\n\nexport let color_button = makeColorSet([1,1,1,1]);\nexport let color_panel = vec4(1, 1, 0.75, 1);\nexport let modal_font_style = glov_font.styleColored(null, 0x000000ff);\n\nlet sounds = {};\nexport let button_mouseover = false; // for callers to poll the very last button\nexport let button_focused = false; // for callers to poll the very last button\nexport let button_click = null; // on click, for callers to poll which mouse button, etc\nexport let touch_changed_focus = false; // did a touch even this frame change focus?\n// For tracking global mouseover state\nlet last_frame_button_mouseover = false;\nlet frame_button_mouseover = false;\n\nlet modal_dialog = null;\nlet modal_stealing_focus = false;\nexport let menu_up = false; // Boolean to be set by app to impact behavior, similar to a modal\nlet menu_fade_params = merge({}, menu_fade_params_default);\nlet menu_up_time = 0;\n\nexports.this_frame_edit_boxes = [];\nlet last_frame_edit_boxes = [];\nlet dom_elems = [];\nlet dom_elems_issued = 0;\n\n// for modal dialogs\nlet button_keys;\n\nlet focused_last_frame;\nlet focused_this_frame;\nlet focused_key_not;\nlet focused_key;\nlet focused_key_prev1;\nlet focused_key_prev2;\n\nlet pad_focus_left;\nlet pad_focus_right;\n\nexport function colorSetSetShades(rollover, down, disabled) {\n  color_set_shades[1] = rollover;\n  color_set_shades[2] = down;\n  color_set_shades[3] = disabled;\n  color_button = makeColorSet([1,1,1,1]);\n}\n\nexport function loadUISprite(name, ws, hs, overrides, only_override) {\n  let override = overrides && overrides[name];\n  if (override === null) {\n    // skip it, assume not used\n  } else if (override) {\n    sprites[name] = glov_sprites.create({\n      name: override[0],\n      ws: override[1],\n      hs: override[2],\n    });\n  } else if (!only_override) {\n    sprites[name] = glov_sprites.create({\n      name: `ui/${name}`,\n      ws,\n      hs,\n    });\n  }\n}\n\nexport function startup(param) {\n  font = param.font;\n  title_font = param.title_font || font;\n  let overrides = param.ui_sprites;\n  KEYS = glov_input.KEYS;\n  PAD = glov_input.PAD;\n  if (param.pad_focus_dpad) {\n    pad_focus_left = PAD.LEFT;\n    pad_focus_right = PAD.RIGHT;\n  } else {\n    pad_focus_left = PAD.LEFT_BUMPER;\n    pad_focus_right = PAD.RIGHT_BUMPER;\n  }\n\n  loadUISprite('button', [4, 5, 4], [13], overrides);\n  sprites.button_regular = sprites.button;\n  loadUISprite('button_rollover', [4, 5, 4], [13], overrides, true);\n  loadUISprite('button_down', [4, 5, 4], [13], overrides);\n  loadUISprite('button_disabled', [4, 5, 4], [13], overrides);\n  loadUISprite('panel', [3, 2, 3], [3, 10, 3], overrides);\n  loadUISprite('menu_entry', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_selected', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_down', [4, 5, 4], [13], overrides);\n  loadUISprite('menu_header', [4, 5, 12], [13], overrides);\n  loadUISprite('slider', [6, 2, 6], [13], overrides);\n  // loadUISprite('slider_notch', [3], [13], overrides);\n  loadUISprite('slider_handle', [9], [13], overrides);\n\n  loadUISprite('scrollbar_bottom', [11], [13], overrides);\n  loadUISprite('scrollbar_trough', [11], [8], overrides);\n  loadUISprite('scrollbar_top', [11], [13], overrides);\n  loadUISprite('scrollbar_handle_grabber', [11], [13], overrides);\n  loadUISprite('scrollbar_handle', [11], [3, 7, 3], overrides);\n\n  sprites.white = glov_sprites.create({ url: 'white' });\n\n  button_keys = {\n    ok: { key: [KEYS.O], pad: [PAD.X], low_key: [KEYS.ESC] },\n    cancel: { key: [KEYS.ESC], pad: [PAD.B, PAD.Y] },\n  };\n  button_keys.yes = clone(button_keys.ok);\n  button_keys.yes.key.push(KEYS.Y);\n  button_keys.no = clone(button_keys.cancel);\n  button_keys.no.key.push(KEYS.N);\n}\n\nlet dynamic_text_elem;\nlet per_frame_dom_alloc = [0,0,0,0,0,0,0];\nexport function getElem(allow_modal, last_elem) {\n  if (modal_dialog && !allow_modal) {\n    return null;\n  }\n  if (dom_elems_issued >= dom_elems.length || !last_elem) {\n    let elem = document.createElement('div');\n    if (glov_engine.DEBUG && !glov_engine.resizing()) {\n      per_frame_dom_alloc[glov_engine.frame_index % per_frame_dom_alloc.length] = 1;\n      let sum = 0;\n      for (let ii = 0; ii < per_frame_dom_alloc.length; ++ii) {\n        sum += per_frame_dom_alloc[ii];\n      }\n      assert(sum < per_frame_dom_alloc.length);\n    }\n    elem.setAttribute('class', 'glovui_dynamic');\n    if (!dynamic_text_elem) {\n      dynamic_text_elem = document.getElementById('dynamic_text');\n    }\n    dynamic_text_elem.appendChild(elem);\n    dom_elems.push(elem);\n    last_elem = elem;\n  }\n  if (dom_elems[dom_elems_issued] !== last_elem) {\n    for (let ii = dom_elems_issued + 1; ii < dom_elems.length; ++ii) {\n      if (dom_elems[ii] === last_elem) {\n        dom_elems[ii] = dom_elems[dom_elems_issued];\n        dom_elems[dom_elems_issued] = last_elem;\n      }\n    }\n  }\n  let elem = dom_elems[dom_elems_issued];\n  dom_elems_issued++;\n  return elem;\n}\n\nexport function bindSounds(_sounds) {\n  sounds = _sounds;\n  for (let key in sounds) {\n    soundLoad(sounds[key]);\n  }\n}\n\nexport function drawHBox(coords, s, color) {\n  let uidata = s.uidata;\n  let ws = [uidata.wh[0] * coords.h, 0, uidata.wh[2] * coords.h];\n  let x = coords.x;\n  ws[1] = max(0, coords.w - ws[0] - ws[2]);\n  for (let ii = 0; ii < ws.length; ++ii) {\n    let my_w = ws[ii];\n    s.draw({\n      x,\n      y: coords.y,\n      z: coords.z,\n      color,\n      w: my_w,\n      h: coords.h,\n      uvs: uidata.rects[ii],\n      // nozoom: true, // nozoom since different parts of the box get zoomed differently\n    });\n    x += my_w;\n  }\n}\n\nexport function drawVBox(coords, s, color) {\n  let uidata = s.uidata;\n  let hs = [uidata.hw[0] * coords.w, 0, uidata.hw[2] * coords.w];\n  let y = coords.y;\n  hs[1] = max(0, coords.h - hs[0] - hs[2]);\n  for (let ii = 0; ii < hs.length; ++ii) {\n    let my_h = hs[ii];\n    s.draw({\n      x: coords.x,\n      y,\n      z: coords.z,\n      color,\n      w: coords.w,\n      h: my_h,\n      uvs: uidata.rects[ii],\n      // nozoom: true, // nozoom since different parts of the box get zoomed differently\n    });\n    y += my_h;\n  }\n}\n\nexport function drawBox(coords, s, pixel_scale, color) {\n  let uidata = s.uidata;\n  let scale = pixel_scale;\n  let ws = [uidata.widths[0] * scale, 0, uidata.widths[2] * scale];\n  ws[1] = max(0, coords.w - ws[0] - ws[2]);\n  let hs = [uidata.heights[0] * scale, 0, uidata.heights[2] * scale];\n  hs[1] = max(0, coords.h - hs[0] - hs[2]);\n  let x = coords.x;\n  for (let ii = 0; ii < ws.length; ++ii) {\n    let my_w = ws[ii];\n    if (my_w) {\n      let y = coords.y;\n      for (let jj = 0; jj < hs.length; ++jj) {\n        let my_h = hs[jj];\n        if (my_h) {\n          s.draw({\n            x, y, z: coords.z,\n            color,\n            w: my_w,\n            h: my_h,\n            uvs: uidata.rects[jj * 3 + ii],\n            nozoom: true, // nozoom since different parts of the box get zoomed differently\n          });\n          y += my_h;\n        }\n      }\n      x += my_w;\n    }\n  }\n}\n\nexport function playUISound(name, volume) {\n  if (name === 'select') {\n    name = 'button_click';\n  }\n  if (sounds[name]) {\n    soundPlay(sounds[name], volume);\n  }\n}\n\nexport function setMouseOver(key, quiet) {\n  if (last_frame_button_mouseover !== key && frame_button_mouseover !== key && !quiet) {\n    playUISound('rollover');\n  }\n  frame_button_mouseover = key;\n  button_mouseover = true;\n}\n\nexport function focusSteal(key) {\n  if (key !== focused_key) {\n    focuslog('focusSteal ', key);\n  }\n  focused_this_frame = true;\n  focused_key = key;\n}\n\nexport function focusCanvas() {\n  focusSteal('canvas');\n}\n\nexport function isFocusedPeek(key) {\n  return focused_key === key;\n}\nexport function isFocused(key) {\n  if (key !== focused_key_prev2) {\n    focused_key_prev1 = focused_key_prev2;\n    focused_key_prev2 = key;\n  }\n  if (key === focused_key || key !== focused_key_not && !focused_this_frame &&\n    !focused_last_frame\n  ) {\n    if (key !== focused_key) {\n      focuslog('isFocused->focusSteal');\n    }\n    focusSteal(key);\n    return true;\n  }\n  return false;\n}\n\nexport function focusNext(key) {\n  focuslog('focusNext ', key);\n  playUISound('rollover');\n  focused_key = null;\n  focused_last_frame = focused_this_frame = false;\n  focused_key_not = key;\n  // Eat input events so a pair of keys (e.g. SDLK_DOWN and SDLK_CONTROLLER_DOWN)\n  // don't get consumed by two separate widgets\n  glov_input.eatAllInput(true);\n}\n\nexport function focusPrev(key) {\n  focuslog('focusPrev ', key);\n  playUISound('rollover');\n  if (key === focused_key_prev2) {\n    focusSteal(focused_key_prev1);\n  } else {\n    focusSteal(focused_key_prev2);\n  }\n  glov_input.eatAllInput(true);\n}\n\nexport function focusCheck(key) {\n  if (modal_stealing_focus) {\n    // hidden by modal, etc\n    return false;\n  }\n  // Returns true even if focusing previous element, since for this frame, we are still effectively focused!\n  let focused = isFocused(key);\n  if (focused) {\n    if (glov_input.keyDownEdge(KEYS.TAB)) {\n      if (glov_input.keyDown(KEYS.SHIFT)) {\n        focusPrev(key);\n      } else {\n        focusNext(key);\n        focused = false;\n      }\n    }\n    if (glov_input.padButtonDownEdge(pad_focus_right)) {\n      focusNext(key);\n      focused = false;\n    }\n    if (glov_input.padButtonDownEdge(pad_focus_left)) {\n      focusPrev(key);\n    }\n  }\n  return focused;\n}\n\nexport function panel(param) {\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.w === 'number');\n  assert(typeof param.h === 'number');\n  param.z = param.z || (Z.UI - 1);\n  let color = param.color || color_panel;\n  drawBox(param, sprites.panel, param.pixel_scale || panel_pixel_scale, color);\n  glov_input.click(param);\n  glov_input.mouseOver(param);\n}\n\nexport function drawTooltip(param) {\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.tooltip === 'string');\n\n  let tooltip_w = param.tooltip_width || tooltip_width;\n  let x = param.x;\n  if (x + tooltip_w > camera2d.x1()) {\n    x = camera2d.x1() - tooltip_w;\n  }\n  let z = param.z || Z.TOOLTIP;\n  let tooltip_y0 = param.y;\n  let eff_tooltip_pad = param.tooltip_pad || tooltip_pad;\n  let w = tooltip_w - eff_tooltip_pad * 2;\n  if (param.tooltip_above) {\n    tooltip_y0 -= font_height * font.numLines(modal_font_style, w, 0, font_height, param.tooltip) + eff_tooltip_pad * 2;\n  }\n  let y = tooltip_y0 + eff_tooltip_pad;\n  y += font.drawSizedWrapped(modal_font_style,\n    x + eff_tooltip_pad, y, z+1, w, 0, font_height,\n    param.tooltip);\n  y += eff_tooltip_pad;\n  let pixel_scale = param.pixel_scale || tooltip_panel_pixel_scale;\n\n  panel({\n    x,\n    y: tooltip_y0,\n    z,\n    w: tooltip_w,\n    h: y - tooltip_y0,\n    pixel_scale,\n  });\n}\n\nexport function checkHooks(param, click) {\n  if (param.hook) {\n    for (let ii = 0; ii < hooks.length; ++ii) {\n      if (click) {\n        hooks[ii].click(param);\n      }\n      hooks[ii].draw(param);\n    }\n  }\n}\n\n// eslint-disable-next-line complexity\nexport function buttonShared(param) {\n  param.z = param.z || Z.UI;\n  let state = 'regular';\n  let ret = false;\n  if (param.draw_only) {\n    return { ret, state };\n  }\n  let key = param.key || `${param.x}_${param.y}`;\n  let rollover_quiet = param.rollover_quiet;\n  let focused = !param.disabled && !param.no_focus && focusCheck(key);\n  let key_opts = param.in_event_cb ? { in_event_cb: param.in_event_cb } : null;\n  button_mouseover = false;\n  if (param.disabled) {\n    if (glov_input.mouseOver(param)) { // Still eat mouse events\n      if (param.disabled_mouseover) {\n        setMouseOver(key, rollover_quiet);\n      }\n    }\n    state = 'disabled';\n  } else if (param.drag_target && (ret = glov_input.dragDrop(param))) {\n    if (!glov_input.mousePosIsTouch()) {\n      setMouseOver(key, rollover_quiet);\n    }\n    if (!param.no_focus) {\n      focusSteal(key);\n      focused = true;\n    }\n    button_click = { drag: true };\n  } else if ((button_click = glov_input.click(param)) ||\n    param.long_press && (button_click = glov_input.longPress(param))\n  ) {\n    if (param.touch_twice && !focused && glov_input.mousePosIsTouch()) {\n      // Just focus, show tooltip\n      touch_changed_focus = true;\n      setMouseOver(key, rollover_quiet);\n    } else {\n      ret = true;\n    }\n    if (!param.no_focus) {\n      focusSteal(key);\n      focused = true;\n    }\n  } else if (param.drag_target && glov_input.dragOver(param)) {\n    // Mouseover even if touch?\n    setMouseOver(key, rollover_quiet);\n    state = glov_input.mouseDown({ max_dist: Infinity }) ? 'down' : 'rollover';\n  } else if (param.drag_over && glov_input.dragOver(param)) {\n    // do nothing\n  } else if (glov_input.mouseOver(param)) {\n    state = glov_input.mouseDown(param) ? 'down' : 'rollover';\n    // On touch, only set mouseover if also down\n    if (!glov_input.mousePosIsTouch() || state === 'down') {\n      setMouseOver(key, rollover_quiet);\n    }\n  }\n  button_focused = focused;\n  if (focused) {\n    if (glov_input.keyDownEdge(KEYS.SPACE, key_opts) || glov_input.keyDownEdge(KEYS.RETURN, key_opts) ||\n      glov_input.padButtonDownEdge(PAD.A)\n    ) {\n      button_click = { kb: true };\n      ret = true;\n    }\n  }\n  if (ret) {\n    state = 'down';\n    playUISound('button_click');\n  }\n  if (button_mouseover && param.tooltip) {\n    drawTooltip({\n      x: param.x,\n      y: param.tooltip_above ? param.y - 2 : param.y + param.h + 2,\n      tooltip_above: param.tooltip_above,\n      tooltip: param.tooltip,\n      tooltip_width: param.tooltip_width,\n    });\n  }\n  param.z += param.z_bias && param.z_bias[state] || 0;\n  checkHooks(param, ret);\n  return { ret, state, focused };\n}\n\nexport let button_last_color;\nexport function buttonTextDraw(param, state, focused) {\n  let colors = param.colors || color_button;\n  let color = button_last_color = colors[state];\n  let base_name = param.base_name || 'button';\n  let sprite_name = `${base_name}_${state}`;\n  let sprite = sprites[sprite_name];\n  // Note: was if (sprite) color = colors.regular for specific-sprite matches\n  if (!sprite) {\n    sprite = sprites[base_name];\n  }\n\n  drawHBox(param, sprite, color);\n  let hpad = min(param.font_height * 0.25, param.w * 0.1);\n  font.drawSizedAligned(\n    focused ? font_style_focused : font_style_normal,\n    param.x + hpad, param.y, param.z + 0.1,\n    // eslint-disable-next-line no-bitwise\n    param.font_height, glov_font.ALIGN.HCENTERFIT | glov_font.ALIGN.VCENTER, param.w - hpad * 2, param.h, param.text);\n}\n\nexport function buttonText(param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(typeof param.text === 'string');\n  // optional params\n  // param.z = param.z || Z.UI;\n  param.w = param.w || button_width;\n  param.h = param.h || button_height;\n  param.font_height = param.font_height || font_height;\n\n  let { ret, state, focused } = buttonShared(param);\n  buttonTextDraw(param, state, focused);\n  return ret;\n}\n\nexport function buttonImage(param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(param.img && param.img.draw); // should be a sprite\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_img_size;\n  param.h = param.h || param.w || button_img_size;\n  param.shrink = param.shrink || 0.75;\n  //param.img_rect; null -> full image\n  let uvs = param.img_rect;\n  if (typeof param.frame === 'number') {\n    uvs = param.img.uidata.rects[param.frame];\n  }\n\n  let { ret, state } = buttonShared(param);\n  let colors = param.colors || color_button;\n  let color = button_last_color = colors[state];\n  if (!param.no_bg) {\n    let base_name = param.base_name || 'button';\n    let sprite_name = `${base_name}_${state}`;\n    let sprite = sprites[sprite_name];\n    if (!sprite) {\n      sprite = sprites[base_name];\n    }\n\n    drawHBox(param, sprite, color);\n  }\n  let img_origin = param.img.origin;\n  let img_w = param.img.size[0];\n  let img_h = param.img.size[1];\n  let aspect = img_w / img_h;\n  if (typeof param.frame === 'number') {\n    aspect = param.img.uidata.aspect ? param.img.uidata.aspect[param.frame] : 1;\n  }\n  let largest_w_horiz = param.w * param.shrink;\n  let largest_w_vert = param.h * param.shrink * aspect;\n  img_w = min(largest_w_horiz, largest_w_vert);\n  img_h = img_w / aspect;\n  let pad_top = (param.h - img_h) / 2;\n  let draw_param = {\n    x: param.x + (param.left_align ? pad_top : (param.w - img_w) / 2) + img_origin[0] * img_w,\n    y: param.y + pad_top + img_origin[1] * img_h,\n    z: param.z + 0.1,\n    // use img_color if provided, use explicit tint if doing dual-tinting, otherwise button color\n    color: param.img_color || param.color1 && param.color || color,\n    color1: param.color1,\n    w: img_w / param.img.size[0],\n    h: img_h / param.img.size[1],\n    uvs,\n    rot: param.rotation,\n  };\n  if (param.flip) {\n    let { x, w } = draw_param;\n    draw_param.x = x + w;\n    draw_param.w = -w;\n  }\n  if (param.color1) {\n    param.img.drawDualTint(draw_param);\n  } else {\n    param.img.draw(draw_param);\n  }\n  return ret;\n}\n\nexport function print(style, x, y, z, text) {\n  return font.drawSized(style, x, y, z, font_height, text);\n}\n\n// Note: modal dialogs not really compatible with HTML overlay on top of the canvas!\nexport function modalDialog(param) {\n  assert(!param.title || typeof param.title === 'string');\n  assert(!param.text || typeof param.text === 'string');\n  assert(!param.buttons || typeof param.buttons === 'object');\n  // assert(Object.keys(param.buttons).length);\n\n  modal_dialog = param;\n}\n\nexport function modalDialogClear() {\n  modal_dialog = null;\n}\n\nlet dom_requirement = vec2(24,24);\nlet virtual_size = vec2();\nfunction modalDialogRun() {\n  camera2d.domDeltaToVirtual(virtual_size, dom_requirement);\n  let fullscreen_mode = false;\n  let eff_font_height = modal_dialog.font_height || font_height;\n  let eff_button_height = button_height;\n  let pad = modal_pad;\n  let vpad = modal_pad * 0.5;\n  let general_scale = 1;\n  if (virtual_size[0] > 0.1 * camera2d.h() && camera2d.w() > camera2d.h() * 2) {\n    // If a 24-pt font is more than 10% of the camera height, we're probably super-wide-screen\n    // on a mobile device due to keyboard being visible\n    fullscreen_mode = true;\n    eff_button_height = eff_font_height;\n    vpad = pad = 4;\n\n    let old_h = camera2d.h();\n    camera2d.push();\n    camera2d.setAspectFixed2(1, eff_font_height * (modal_title_scale + 2) + pad * 4.5);\n    general_scale = camera2d.h() / old_h;\n  }\n\n  let { buttons, click_anywhere } = modal_dialog;\n  let keys = Object.keys(buttons || {});\n\n  const game_width = camera2d.x1() - camera2d.x0();\n  const eff_modal_width = fullscreen_mode ? game_width : (modal_dialog.width || modal_width);\n  let eff_button_width = modal_dialog.button_width || modal_button_width;\n  let max_total_button_width = eff_modal_width * 2 / 3;\n  eff_button_width = min(eff_button_width, max_total_button_width / keys.length);\n  const text_w = eff_modal_width - pad * 2;\n  const x0 = camera2d.x0() + round((game_width - eff_modal_width) / 2);\n  let x = x0 + pad;\n  const y0 = fullscreen_mode ? 0 : (modal_dialog.y0 || modal_y0);\n  let y = round(y0 + pad);\n\n  if (glov_input.pointerLocked()) {\n    glov_input.pointerLockExit();\n  }\n\n  if (modal_dialog.title) {\n    if (fullscreen_mode) {\n      title_font.drawSizedAligned(modal_font_style, x, y, Z.MODAL, eff_font_height * modal_title_scale,\n        glov_font.ALIGN.HFIT, text_w, 0, modal_dialog.title);\n      y += eff_font_height * modal_title_scale;\n    } else {\n      y += title_font.drawSizedWrapped(modal_font_style,\n        x, y, Z.MODAL, text_w, 0, eff_font_height * modal_title_scale,\n        modal_dialog.title);\n    }\n    y = round(y + vpad * 1.5);\n  }\n\n  if (modal_dialog.text) {\n    if (fullscreen_mode) {\n      font.drawSizedAligned(modal_font_style, x, y, Z.MODAL, eff_font_height,\n        glov_font.ALIGN.HFIT, text_w, 0, modal_dialog.text);\n      y += eff_font_height;\n    } else {\n      y += font.drawSizedWrapped(modal_font_style, x, y, Z.MODAL, text_w, 0, eff_font_height,\n        modal_dialog.text);\n    }\n    y = round(y + vpad);\n  }\n\n  let tick_key;\n  if (modal_dialog.tick) {\n    let avail_width = eff_modal_width - pad * 2;\n    if (fullscreen_mode) {\n      avail_width -= (pad + eff_button_width) * keys.length;\n    }\n    let param = {\n      x, y,\n      modal_width: eff_modal_width,\n      avail_width,\n      font_height: eff_font_height,\n      fullscreen_mode,\n    };\n    tick_key = modal_dialog.tick(param);\n    y = param.y;\n  }\n\n  x = x0 + eff_modal_width - (pad + eff_button_width) * keys.length;\n  let did_button = -1;\n  for (let ii = 0; ii < keys.length; ++ii) {\n    let key = keys[ii];\n    let eff_button_keys = button_keys[key.toLowerCase()];\n    let pressed = 0;\n    if (eff_button_keys) {\n      for (let jj = 0; jj < eff_button_keys.key.length; ++jj) {\n        pressed += glov_input.keyDownEdge(eff_button_keys.key[jj]);\n        if (eff_button_keys.key[jj] === tick_key) {\n          pressed++;\n        }\n      }\n      for (let jj = 0; jj < eff_button_keys.pad.length; ++jj) {\n        pressed += glov_input.padButtonDownEdge(eff_button_keys.pad[jj]);\n      }\n    }\n    if (click_anywhere && ii === 0 && glov_input.click()) {\n      ++pressed;\n    }\n    if (pressed) {\n      did_button = ii;\n    }\n    if (buttonText({\n      x: x,\n      y,\n      z: Z.MODAL,\n      w: eff_button_width,\n      h: eff_button_height,\n      text: key\n    })) {\n      did_button = ii;\n    }\n    x = round(x + pad + eff_button_width);\n  }\n  // Also check low-priority keys\n  if (did_button === -1) {\n    for (let ii = 0; ii < keys.length; ++ii) {\n      let key = keys[ii];\n      let eff_button_keys = button_keys[key.toLowerCase()];\n      if (eff_button_keys && eff_button_keys.low_key) {\n        for (let jj = 0; jj < eff_button_keys.low_key.length; ++jj) {\n          if (glov_input.keyDownEdge(eff_button_keys.low_key[jj]) || eff_button_keys.low_key[jj] === tick_key) {\n            did_button = ii;\n          }\n        }\n      }\n    }\n  }\n  if (did_button !== -1) {\n    let key = keys[did_button];\n    playUISound('button_click');\n    modal_dialog = null;\n    if (buttons[key]) {\n      buttons[key]();\n    }\n  }\n  y += eff_button_height;\n  y = round(y + vpad + pad);\n  panel({\n    x: x0,\n    y: y0,\n    z: Z.MODAL - 1,\n    w: eff_modal_width,\n    h: (fullscreen_mode ? camera2d.y1() : y) - y0,\n    pixel_scale: panel_pixel_scale * general_scale,\n  });\n\n  glov_input.eatAllInput();\n  modal_stealing_focus = true;\n  if (fullscreen_mode) {\n    camera2d.pop();\n  }\n}\n\nexport function modalTextEntry(param) {\n  let eb = glov_edit_box.create({\n    allow_modal: true,\n    initial_focus: true,\n    spellcheck: false,\n    initial_select: true,\n    text: param.edit_text,\n    max_len: param.max_len,\n    esc_clears: false,\n  });\n  let buttons = {};\n  for (let key in param.buttons) {\n    let val = param.buttons[key];\n    if (typeof val === 'function') {\n      val = (function (old_fn) {\n        return function () {\n          old_fn(eb.getText());\n        };\n      }(val));\n    }\n    buttons[key] = val;\n  }\n  param.buttons = buttons;\n  param.text = `${param.text || ''}`;\n  let old_tick = param.tick;\n  param.tick = function (params) {\n    let eb_ret = eb.run({\n      x: params.x,\n      y: params.y,\n      w: params.avail_width || param.edit_w,\n      font_height: params.font_height,\n    });\n    if (!params.fullscreen_mode) {\n      params.y += params.font_height + modal_pad;\n    }\n    let ret;\n    if (eb_ret === eb.SUBMIT) {\n      ret = KEYS.O; // Do OK, Yes\n    } else if (eb_ret === eb.CANCEL) {\n      ret = KEYS.ESC; // Do Cancel, No\n    }\n    if (old_tick) {\n      ret = old_tick(params) || ret;\n    }\n    return ret;\n  };\n  modalDialog(param);\n}\n\n\nexport function createEditBox(param) {\n  return glov_edit_box.create(param);\n}\n\nlet slider_default_vshrink = 1.0;\nlet slider_default_handle_shrink = 1.0;\nexport function setSliderDefaultShrink(vshrink, handle_shrink) {\n  slider_default_vshrink = vshrink;\n  slider_default_handle_shrink = handle_shrink;\n}\nconst color_slider_handle = vec4(1,1,1,1);\nconst color_slider_handle_grab = vec4(0.5,0.5,0.5,1);\nconst color_slider_handle_over = vec4(0.75,0.75,0.75,1);\nexport let slider_dragging = false; // for caller polling\n// Returns new value\nexport function slider(value, param) {\n  // required params\n  assert(typeof param.x === 'number');\n  assert(typeof param.y === 'number');\n  assert(param.min < param.max); // also must be numbers\n  // optional params\n  param.z = param.z || Z.UI;\n  param.w = param.w || button_width;\n  param.h = param.h || button_height;\n  let vshrink = param.vshrink || slider_default_vshrink;\n  let handle_shrink = param.handle_shrink || slider_default_handle_shrink;\n  let disabled = param.disabled || false;\n  let handle_h = param.h * handle_shrink;\n  let handle_w = sprites.slider_handle.uidata.wh[0] * handle_h;\n\n  slider_dragging = false;\n\n  let shrinkdiff = handle_shrink - vshrink;\n  drawHBox({\n    x: param.x + param.h * shrinkdiff/2,\n    y: param.y + param.h * (1 - vshrink)/2,\n    w: param.w - param.h * shrinkdiff,\n    h: param.h * vshrink,\n  }, sprites.slider, param.color);\n\n  let xoffs = round(max(sprites.slider.uidata.wh[0] * param.h * vshrink, handle_w) / 2);\n  let draggable_width = param.w - xoffs * 2;\n\n  // Draw notches - would also need to quantize the values below\n  // if (!slider->no_notches) {\n  //   float space_for_notches = width - xoffs * 4;\n  //   int num_notches = max - 1;\n  //   float notch_w = tile_scale * glov_ui_slider_notch->GetTileWidth();\n  //   float notch_h = tile_scale * glov_ui_slider_notch->GetTileHeight();\n  //   float max_notches = space_for_notches / (notch_w + 2);\n  //   int notch_inc = 1;\n  //   if (num_notches > max_notches)\n  //     notch_inc = ceil(num_notches / floor(max_notches));\n\n  //   for (int ii = 1; ii*notch_inc <= num_notches; ii++) {\n  //     float notch_x_mid = x + xoffs + draggable_width * ii * notch_inc / (float)max;\n  //     if (notch_x_mid - notch_w/2 < x + xoffs * 2)\n  //       continue;\n  //     if (notch_x_mid + notch_w/2 > x + width - xoffs * 2)\n  //       continue;\n  //     glov_ui_slider_notch->DrawStretchedColor(notch_x_mid - notch_w / 2, y + yoffs,\n  //       z + 0.25, notch_w, notch_h, 0, color);\n  //   }\n  // }\n\n  // Handle\n  let drag = !disabled && glov_input.drag(param);\n  let grabbed = Boolean(drag);\n  let click = glov_input.click(param);\n  if (click) {\n    grabbed = false;\n    // update pos\n    value = (click.pos[0] - (param.x + xoffs)) / draggable_width;\n    value = param.min + (param.max - param.min) * clamp(value, 0, 1);\n    playUISound('button_click');\n  } else if (grabbed) {\n    // update pos\n    value = (drag.cur_pos[0] - (param.x + xoffs)) / draggable_width;\n    value = param.min + (param.max - param.min) * clamp(value, 0, 1);\n    // Eat all mouseovers while dragging\n    glov_input.mouseOver();\n    slider_dragging = true;\n  }\n  let rollover = !disabled && glov_input.mouseOver(param);\n  let handle_center_pos = param.x + xoffs + draggable_width * (value - param.min) / (param.max - param.min);\n  let handle_x = handle_center_pos - handle_w / 2;\n  let handle_y = param.y + param.h / 2 - handle_h / 2;\n  let handle_color = color_slider_handle;\n  if (grabbed) {\n    handle_color = color_slider_handle_grab;\n  } else if (rollover) {\n    handle_color = color_slider_handle_over;\n  }\n\n  sprites.slider_handle.draw({\n    x: handle_x,\n    y: handle_y,\n    z: param.z + 0.1,\n    w: handle_w,\n    h: handle_h,\n    color: handle_color,\n    frame: 0,\n  });\n\n  return value;\n}\n\nlet pp_bad_frames = 0;\n\nexport function isMenuUp() {\n  return modal_dialog || menu_up;\n}\n\nexport function tickUI(dt) {\n  last_frame_button_mouseover = frame_button_mouseover;\n  frame_button_mouseover = false;\n  focused_last_frame = focused_this_frame;\n  focused_this_frame = false;\n  focused_key_not = null;\n  modal_stealing_focus = false;\n  touch_changed_focus = false;\n  per_frame_dom_alloc[glov_engine.frame_index % per_frame_dom_alloc.length] = 0;\n\n  last_frame_edit_boxes = exports.this_frame_edit_boxes;\n  exports.this_frame_edit_boxes = [];\n  linkTick();\n\n  dom_elems_issued = 0;\n\n  let pp_this_frame = false;\n  if (modal_dialog || menu_up) {\n    let params = menu_fade_params;\n    if (!menu_up) {\n      // Modals get defaults\n      params = menu_fade_params_default;\n    }\n    menu_up_time += dt;\n    // Effects during modal dialogs\n    let factor = min(menu_up_time / 500, 1);\n    if (glov_engine.postprocessing && !glov_engine.defines.NOPP) {\n      // Note: this lerp used to be done later in the frame (during drawing, not queueing) a problem?\n      let blur_factor = lerp(factor, params.blur[0], params.blur[1]);\n      if (blur_factor) {\n        effectsQueue(params.z - 2, doBlurEffect.bind(null, blur_factor));\n      }\n      let saturation = lerp(factor, params.saturation[0], params.saturation[1]);\n      let brightness = lerp(factor, params.brightness[0], params.brightness[1]);\n      if (saturation !== 1 || brightness !== 1) {\n        effectsQueue(params.z - 1, doDesaturateEffect.bind(null, saturation, brightness));\n      }\n      pp_this_frame = true;\n    } else {\n      // Or, just darken\n      sprites.white.draw({\n        x: camera2d.x0Real(),\n        y: camera2d.y0Real(),\n        z: params.z - 2,\n        color: params.fallback_darken,\n        w: camera2d.wReal(),\n        h: camera2d.hReal(),\n      });\n    }\n  } else {\n    menu_up_time = 0;\n  }\n  menu_up = false;\n\n  if (!glov_engine.is_loading && glov_engine.getFrameDtActual() > 50 && pp_this_frame) {\n    pp_bad_frames = (pp_bad_frames || 0) + 1;\n    if (pp_bad_frames >= 6) { // 6 in a row, disable superfluous postprocessing\n      glov_engine.postprocessingAllow(false);\n    }\n  } else if (pp_bad_frames) {\n    pp_bad_frames = 0;\n  }\n\n\n  if (modal_dialog) {\n    modalDialogRun();\n  }\n}\n\nexport function endFrame() {\n  if (glov_input.click({\n    x: -Infinity, y: -Infinity,\n    w: Infinity, h: Infinity,\n  })) {\n    focusSteal('canvas');\n  }\n\n  for (let ii = 0; ii < last_frame_edit_boxes.length; ++ii) {\n    let edit_box = last_frame_edit_boxes[ii];\n    let idx = exports.this_frame_edit_boxes.indexOf(edit_box);\n    if (idx === -1) {\n      edit_box.unrun();\n    }\n  }\n\n  while (dom_elems_issued < dom_elems.length) {\n    let elem = dom_elems.pop();\n    dynamic_text_elem.removeChild(elem);\n  }\n}\n\nexport function cleanupDOMElems() {\n  while (dom_elems.length) {\n    let elem = dom_elems.pop();\n    dynamic_text_elem.removeChild(elem);\n  }\n}\n\nexport function menuUp(param) {\n  merge(menu_fade_params, menu_fade_params_default);\n  if (param) {\n    merge(menu_fade_params, param);\n  }\n  menu_up = true;\n  modal_stealing_focus = true;\n  glov_input.eatAllInput();\n}\n\nfunction copyTextToClipboard(text) {\n  let textArea = document.createElement('textarea');\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  let ret = false;\n  try {\n    ret = document.execCommand('copy');\n  } catch (err) {\n    // do nothing\n  }\n\n  document.body.removeChild(textArea);\n  return ret;\n}\n\nexport function provideUserString(title, thing, str) {\n  let copy_success = copyTextToClipboard(str);\n  modalTextEntry({\n    edit_w: 400,\n    edit_text: str,\n    title,\n    text: copy_success ? `${thing} copied to clipboard!` : 'Copy to clipboard FAILED, please copy from below\\n',\n    buttons: {\n      OK: null,\n    },\n  });\n}\n\nexport function drawRect(x0, y0, x1, y1, z, color) {\n  let mx = min(x0, x1);\n  let my = min(y0, y1);\n  let Mx = max(x0, x1);\n  let My = max(y0, y1);\n  sprites.white.draw({\n    x: mx,\n    y: my,\n    z,\n    color,\n    w: Mx - mx,\n    h: My - my,\n  });\n}\n\nexport function drawRect2(param) {\n  drawRect(param.x, param.y, param.x + param.w, param.y + param.h, param.z, param.color);\n}\n\nfunction spreadTechParams(spread) {\n  // spread=0 -> 1\n  // spread=0.5 -> 2\n  // spread=0.75 -> 4\n  // spread=1 -> large enough to AA\n  spread = min(max(spread, 0), 0.99);\n\n  let tech_params = {\n    param0: vec4(0,0,0,0),\n  };\n\n  tech_params.param0[0] = 1 / (1 - spread);\n  tech_params.param0[1] = -0.5 * tech_params.param0[0] + 0.5;\n  return tech_params;\n}\n\nfunction drawElipseInternal(sprite, x0, y0, x1, y1, z, spread, tu0, tv0, tu1, tv1, color) {\n  glov_sprites.queueraw(sprite.texs,\n    x0, y0, z, x1 - x0, y1 - y0,\n    tu0, tv0, tu1, tv1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nfunction drawCircleInternal(sprite, x, y, z, r, spread, tu0, tv0, tu1, tv1, color) {\n  let x0 = x - r * 2 + r * 4 * tu0;\n  let x1 = x - r * 2 + r * 4 * tu1;\n  let y0 = y - r * 2 + r * 4 * tv0;\n  let y1 = y - r * 2 + r * 4 * tv1;\n  drawElipseInternal(sprite, x0, y0, x1, y1, z, spread, tu0, tv0, tu1, tv1, color);\n}\n\nfunction initCircleSprite() {\n  const CIRCLE_SIZE = 32;\n  let data = new Uint8Array(CIRCLE_SIZE*CIRCLE_SIZE);\n  let midp = (CIRCLE_SIZE - 1) / 2;\n  for (let i = 0; i < CIRCLE_SIZE; i++) {\n    for (let j = 0; j < CIRCLE_SIZE; j++) {\n      let d = sqrt((i - midp)*(i - midp) + (j - midp)*(j - midp)) / midp;\n      let v = clamp(1 - d, 0, 1);\n      data[i + j*CIRCLE_SIZE] = v * 255;\n    }\n  }\n  sprites.circle = glov_sprites.create({\n    url: 'circle',\n    width: CIRCLE_SIZE, height: CIRCLE_SIZE,\n    format: textures.format.R8,\n    data,\n    filter_min: gl.LINEAR,\n    filter_max: gl.LINEAR,\n    wrap_s: gl.CLAMP_TO_EDGE,\n    wrap_t: gl.CLAMP_TO_EDGE,\n    origin: vec2(0.5, 0.5),\n  });\n}\n\nexport function drawElipse(x0, y0, x1, y1, z, spread, color) {\n  if (!sprites.circle) {\n    initCircleSprite();\n  }\n  drawElipseInternal(sprites.circle, x0, y0, x1, y1, z, spread, 0, 0, 1, 1, color);\n}\n\nexport function drawCircle(x, y, z, r, spread, color) {\n  if (!sprites.circle) {\n    initCircleSprite();\n  }\n  drawCircleInternal(sprites.circle, x, y, z, r, spread, 0, 0, 1, 1, color);\n}\n\nexport function drawHollowCircle(x, y, z, r, spread, color) {\n  if (!sprites.hollow_circle) {\n    const CIRCLE_SIZE = 128;\n    const LINE_W = 2;\n    let data = new Uint8Array(CIRCLE_SIZE*CIRCLE_SIZE);\n    let midp = (CIRCLE_SIZE - 1) / 2;\n    for (let i = 0; i < CIRCLE_SIZE; i++) {\n      for (let j = 0; j < CIRCLE_SIZE; j++) {\n        let d = sqrt((i - midp)*(i - midp) + (j - midp)*(j - midp)) / midp;\n        let v = clamp(1 - d, 0, 1);\n        if (v > 0.5) {\n          v = 1 - v;\n        }\n        v += (LINE_W / CIRCLE_SIZE);\n        data[i + j*CIRCLE_SIZE] = v * 255;\n      }\n    }\n    sprites.hollow_circle = glov_sprites.create({\n      url: 'hollow_circle',\n      width: CIRCLE_SIZE, height: CIRCLE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_max: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n  drawCircleInternal(sprites.hollow_circle, x, y, z, r, spread, 0, 0, 1, 1, color);\n}\n\nexport function drawLine(x0, y0, x1, y1, z, w, spread, color) {\n  if (!sprites.line) {\n    const LINE_SIZE=32;\n    let data = new Uint8Array(LINE_SIZE*LINE_SIZE);\n    let midp = (LINE_SIZE - 1) / 2;\n    for (let i = 0; i < LINE_SIZE; i++) {\n      for (let j = 0; j < LINE_SIZE; j++) {\n        let d = abs((i - midp) / midp);\n        let v = clamp(1 - d, 0, 1);\n        data[i + j*LINE_SIZE] = v * 255;\n      }\n    }\n    sprites.line = glov_sprites.create({\n      url: 'line',\n      width: LINE_SIZE, height: LINE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_max: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n\n  let dx = x1 - x0;\n  let dy = y1 - y0;\n  let length = Math.sqrt(dx*dx + dy*dy);\n  dx /= length;\n  dy /= length;\n  let tangx = -dy * w;\n  let tangy = dx * w;\n\n  glov_sprites.queueraw4(sprites.line.texs,\n    x0 + tangx, y0 + tangy,\n    x1 + tangx, y1 + tangy,\n    x1 - tangx, y1 - tangy,\n    x0 - tangx, y0 - tangy,\n    z,\n    0, 0, 1, 1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nexport function drawHollowRect(x0, y0, x1, y1, z, w, spread, color) {\n  drawLine(x0, y0, x1, y0, z, w, spread, color);\n  drawLine(x1, y0, x1, y1, z, w, spread, color);\n  drawLine(x1, y1, x0, y1, z, w, spread, color);\n  drawLine(x0, y1, x0, y0, z, w, spread, color);\n}\n\nexport function drawCone(x0, y0, x1, y1, z, w0, w1, spread, color) {\n  if (!sprites.cone) {\n    const CONE_SIZE = 32;\n    let data = new Uint8Array(CONE_SIZE*CONE_SIZE);\n    let midp = (CONE_SIZE - 1) / 2;\n    for (let i = 0; i < CONE_SIZE; i++) {\n      for (let j = 0; j < CONE_SIZE; j++) {\n        let dx = 0;\n        let dy = 0;\n        let d = 0;\n        if (i > midp) {\n          dx = (i - midp) / midp;\n          dy = abs(j - midp) / midp;\n          let dCircle = sqrt(dx*dx + dy*dy);\n          d = dx * dCircle;\n        }\n        let v = clamp(1 - d, 0, 1);\n        data[i + j*CONE_SIZE] = v * 255;\n      }\n    }\n    sprites.cone = glov_sprites.create({\n      url: 'cone',\n      width: CONE_SIZE, height: CONE_SIZE,\n      format: textures.format.R8,\n      data,\n      filter_min: gl.LINEAR,\n      filter_max: gl.LINEAR,\n      wrap_s: gl.CLAMP_TO_EDGE,\n      wrap_t: gl.CLAMP_TO_EDGE,\n      origin: vec2(0.5, 0.5),\n    });\n  }\n  let dx = x1 - x0;\n  let dy = y1 - y0;\n  let length = Math.sqrt(dx*dx + dy*dy);\n  dx /= length;\n  dy /= length;\n  let tangx = -dy;\n  let tangy = dx;\n  glov_sprites.queueraw4(sprites.cone.texs,\n    x0 - tangx*w0, y0 - tangy*w0,\n    x0 + tangx*w0, y0 + tangy*w0,\n    x1 + tangx*w1, y1 + tangy*w1,\n    x1 - tangx*w1, y1 - tangy*w1,\n    z,\n    0, 0, 1, 1,\n    color, glov_font.font_shaders.font_aa, spreadTechParams(spread));\n}\n\nexport function scaleSizes(scale) {\n  button_height = round(32 * scale);\n  font_height = round(24 * scale);\n  button_width = round(200 * scale);\n  button_img_size = button_height;\n  modal_button_width = round(button_width / 2);\n  modal_width = round(600 * scale);\n  modal_y0 = round(200 * scale);\n  modal_title_scale = 1.2;\n  modal_pad = round(16 * scale);\n  tooltip_width = round(400 * scale);\n  tooltip_pad = round(8 * scale);\n  panel_pixel_scale = button_height / 13; // button_height / panel pixel resolution\n  tooltip_panel_pixel_scale = panel_pixel_scale;\n}\n\nexport function setPanelPixelScale(scale) {\n  tooltip_panel_pixel_scale = panel_pixel_scale = scale;\n}\n\nexport function setModalSizes(_modal_button_width, width, y0, title_scale, pad) {\n  modal_button_width = _modal_button_width || round(button_width / 2);\n  modal_width = width || 600;\n  modal_y0 = y0 || 200;\n  modal_title_scale = title_scale || 1.2;\n  modal_pad = pad || modal_pad;\n}\n\nexport function setFontHeight(_font_height) {\n  font_height = _font_height;\n}\n\nexport function setTooltipWidth(_tooltip_width, _tooltip_panel_pixel_scale) {\n  tooltip_width = _tooltip_width;\n  tooltip_panel_pixel_scale = _tooltip_panel_pixel_scale;\n  tooltip_pad = modal_pad / 2 * _tooltip_panel_pixel_scale;\n}\n\nscaleSizes(1);\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst engine = require('./engine.js');\nconst glov_font = require('./font.js');\nconst input = require('./input.js');\nconst { scrollAreaCreate } = require('./scroll_area.js');\nconst selection_box = require('./selection_box.js');\nconst simple_menu = require('./simple_menu.js');\nconst ui = require('./ui.js');\n\nconst { ceil, random } = Math;\n\nlet demo_menu;\nlet demo_menu_up = false;\nlet demo_result;\nlet font_style;\n\nlet inited;\nlet edit_box1;\nlet edit_box2;\nlet test_select1;\nlet test_select2;\nlet test_select_large1;\nlet test_scroll_area;\nlet slider_value = 1;\nlet test_lines = 10;\nfunction init(x, y, column_width) {\n  edit_box1 = ui.createEditBox({\n    x: x + column_width,\n    y: y,\n    w: column_width - 8,\n  });\n  edit_box2 = ui.createEditBox({\n    x: x + column_width + column_width,\n    y: y,\n    w: column_width - 8,\n  });\n  demo_menu = simple_menu.create({\n    items: [\n      'Option 1',\n      {\n        name: 'Option 2',\n        tag: 'opt2',\n      }, {\n        name: 'Option C',\n        cb: () => {\n          demo_result = 'Callback the third';\n        },\n      },\n    ]\n  });\n  font_style = glov_font.style(null, {\n    outline_width: 1.0,\n    outline_color: 0x800000ff,\n    glow_xoffs: 3.25,\n    glow_yoffs: 3.25,\n    glow_inner: -2.5,\n    glow_outer: 5,\n    glow_color: 0x000000ff,\n  });\n\n  test_select1 = selection_box.create({\n    items: ['Apples', 'Bananas', 'Chameleon'],\n    z: Z.UI,\n    width: column_width - 8,\n  });\n  test_select2 = selection_box.create({\n    items: ['Apples', 'Bananas', 'Chameleon'],\n    is_dropdown: true,\n    z: Z.UI,\n    width: column_width - 8,\n  });\n\n  let large_param = {\n    items: [],\n    is_dropdown: true,\n    z: Z.UI,\n    width: column_width - 8,\n  };\n  for (let ii = 0; ii < 100; ++ii) {\n    large_param.items.push(`item${ii}`);\n  }\n  test_select_large1 = selection_box.create(large_param);\n\n  test_scroll_area = scrollAreaCreate();\n}\n\nexport function run(x, y, z) {\n  z = z || Z.UI;\n  let line_height = ui.button_height + 2;\n  let column_width = ui.button_width + 8;\n  if (inited !== `${x}_${y}_${column_width}`) {\n    init(x, y, column_width);\n    inited = `${x}_${y}_${column_width}`;\n  }\n\n  if (demo_menu_up) {\n    demo_result = '';\n    demo_menu.run({ x: x + ui.button_width, y: y + line_height, z: Z.MODAL });\n    if (demo_menu.isSelected()) {\n      if (demo_menu.isSelected('opt2')) {\n        demo_result = 'Selected the second option';\n      }\n      if (!demo_result) {\n        demo_result = `Menu selected: ${demo_menu.getSelectedItem().name}`;\n      }\n      demo_menu_up = false;\n    }\n    ui.menuUp();\n    input.eatAllInput();\n  }\n\n  let pad = 4;\n  test_scroll_area.begin({\n    x: x + column_width + 4,\n    y: y + 30,\n    z,\n    w: 100,\n    h: ui.font_height * 8 + pad,\n  });\n  let internal_y = 2;\n  ui.print(font_style, 2, internal_y, z + 1, `Edit Box Text: ${edit_box1.text}+${edit_box2.text}`);\n  internal_y += ui.font_height + pad;\n  ui.print(font_style, 2, internal_y, z + 1, `Result: ${demo_result}`);\n  internal_y += ui.font_height + pad;\n  internal_y += test_select_large1.run({ x: 2, y: internal_y, z: z + 1 }) + pad;\n  for (let ii = 0; ii < test_lines; ++ii) {\n    ui.print(font_style, 2, internal_y, z + 1, `Line #${ii}`);\n    internal_y += ui.font_height + pad;\n  }\n  if (ui.buttonText({ x: 2, y: internal_y, z: z + 1, text: 'Add Line' })) {\n    ++test_lines;\n  }\n  internal_y += ui.button_height + pad;\n  if (ui.buttonText({ x: 2, y: internal_y, z: z + 1, text: 'Remove Line' })) {\n    --test_lines;\n  }\n  internal_y += ui.button_height + pad;\n  test_scroll_area.end(internal_y);\n  ui.panel({ x: test_scroll_area.x - pad, y: test_scroll_area.y - pad, z: z - 1,\n    w: test_scroll_area.w + pad * 2, h: test_scroll_area.h + pad * 2 });\n\n  if (ui.buttonText({ x, y, z, text: 'Modal Dialog', tooltip: 'Shows a modal dialog' })) {\n    demo_result = '';\n    ui.modalDialog({\n      title: 'Modal Dialog',\n      text: 'This is a modal dialog!',\n      buttons: {\n        'OK': function () {\n          demo_result = 'OK pushed!';\n        },\n        'Cancel': null, // no callback\n      },\n    });\n  }\n  y += line_height;\n\n  if (edit_box1.run() === edit_box1.SUBMIT) {\n    ui.modalDialog({\n      title: 'Modal Dialog',\n      text: `Edit box submitted with text ${edit_box1.text}`,\n      buttons: {\n        'OK': null,\n      },\n    });\n  }\n  if (edit_box2.run() === edit_box2.SUBMIT) {\n    edit_box2.setText('');\n  }\n\n  if (ui.buttonText({ x, y, z, text: 'Menu', tooltip: 'Shows a menu' })) {\n    demo_menu_up = true;\n  }\n  y += line_height;\n\n  if (ui.buttonText({ x, y, z, text: 'Disabled', tooltip: 'A disabled button', disabled: true })) {\n    assert(false);\n  }\n  y += line_height;\n\n  y += test_select1.run({ x, y, z });\n  y += test_select2.run({ x, y, z });\n\n  slider_value = ui.slider(slider_value, {\n    x, y, z,\n    min: 0,\n    max: 2,\n  });\n  ui.print(null, x + ui.button_width + pad, y, z, `${slider_value.toFixed(2)}`);\n  y += ui.button_height;\n}\n\nexport function runFontTest(x, y) {\n  const COLOR_RED = 0xFF0000ff;\n  const COLOR_GREEN = 0x00FF00ff;\n  const COLOR_WHITE = 0xFFFFFFff;\n  const COLOR_INVISIBLE = 0x00000000;\n  let z = Z.UI;\n  let font = engine.font;\n\n  let font_size = ui.font_height * 2;\n  font.drawSized(null, x, y, z, font_size, `Default ${font_size} ${random().toFixed(7)}`);\n  y += font_size;\n  font.drawSized(null, x, y, z, font_size / 2, `Default ${font_size / 2} Lorem ipsum dolor sit amet <[A|B]>`);\n  y += ceil(font_size / 2);\n  font.drawSized(null, x, y, z, font_size / 4,\n    `Default ${font_size / 4} The quick brown fox jumped over the lazy dog rutabaga Alfalfa`);\n  y += ceil(font_size / 4);\n\n  const font_style_outline = glov_font.style(null, {\n    outline_width: 1, outline_color: COLOR_RED,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: COLOR_INVISIBLE,\n    color: COLOR_WHITE\n  });\n  font.drawSized(font_style_outline, x, y, z, font_size, 'Outline');\n  y += font_size;\n\n  const font_style_glow = glov_font.style(null, {\n    outline_width: 0, outline_color: COLOR_INVISIBLE,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: -1, glow_outer: 4, glow_color: COLOR_GREEN,\n    color: COLOR_WHITE\n  });\n  font.drawSized(font_style_glow, x, y, z, font_size, 'Glow');\n  y += font_size;\n\n  const font_style_shadow = glov_font.style(null, {\n    outline_width: 0, outline_color: COLOR_INVISIBLE,\n    glow_xoffs: 3.25, glow_yoffs: 3.25, glow_inner: -2.5, glow_outer: 5, glow_color: COLOR_GREEN,\n    color: COLOR_WHITE\n  });\n  font.drawSized(font_style_shadow, x, y, z, font_size, 'Glow (Shadow) O0O1Il');\n  y += font_size;\n\n  const font_style_both = glov_font.style(null, {\n    outline_width: 1, outline_color: COLOR_RED,\n    glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 6, glow_color: COLOR_GREEN,\n    color: COLOR_WHITE\n  });\n  font.drawSized(font_style_both, x, y, z, font_size, 'Both 0O0');\n  y += font_size;\n\n  let font_size2 = 32;\n  const font_style_both2 = glov_font.style(null, {\n    outline_width: 1.75,outline_color: COLOR_RED,\n    glow_xoffs: 0.25, glow_yoffs: 0.25, glow_inner: 0, glow_outer: 5, glow_color: 0x7F7F7Fff,\n    color: COLOR_WHITE\n  });\n  font.drawSizedAligned(font_style_both2, x, y, z, font_size2, glov_font.ALIGN.HFIT, ui.button_width * 2, 0,\n    'ALIGN.HFIT The quick brown fox jumps over the lazy dog');\n  y += font_size2;\n  font.drawSizedAligned(font_style_both2, x, y, z, font_size2, glov_font.ALIGN.HFIT, 140, 0,\n    '0 Players (+1 Easy Bots)');\n  y += font_size2;\n\n  let test = 'glow';\n\n  if (test === 'outline') {\n    const font_style_outline2 = glov_font.style(null, {\n      outline_width: 1, outline_color: COLOR_RED,\n      glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: COLOR_INVISIBLE,\n      color: COLOR_WHITE\n    });\n    for (let ii = 1; ii <= 4; ii++) {\n      font_style_outline2.outline_width = ii * 2;\n      font.drawSizedAligned(font_style_outline2, x, y, z, font_size2, glov_font.ALIGN.HLEFT, 400, 0,\n        `Outline thickness ${ii * 2}`);\n      y += font_size2;\n    }\n\n    // Not allowing non-uniform scaling here, simulate with camera?\n    // font.drawSizedAligned(font_style_outline2, x, y, z, font_size2 * 2, font_size2, glov_font.ALIGN.HLEFT, 400, 0,\n    //   'Wide thick outline');\n    // y += font_size2;\n    // font.drawSizedAligned(font_style_outline2, x, y, z, font_size2, font_size2 * 2, glov_font.ALIGN.HLEFT, 400, 0,\n    //   'Tall thick outline');\n    // y += font_size2 * 2;\n  } else if (test === 'glow') {\n    const font_style_glow2 = glov_font.style(null, {\n      outline_width: 0, outline_color: COLOR_INVISIBLE,\n      glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 8, glow_color: COLOR_RED,\n      color: COLOR_WHITE\n    });\n    for (let ii = 1; ii <= 4; ii++) {\n      //font_style_glow2.glow_inner = ii * 2 - 1;\n      font_style_glow2.glow_outer = ii * 2;\n      font.drawSizedAligned(font_style_glow2, x, y, z, font_size2, glov_font.ALIGN.HLEFT, 400, 0,\n        `Glow outer ${ii * 2}`);\n      y += font_size2;\n    }\n\n    // Not allowing non-uniform scaling here, simulate with camera?\n    // font.drawSizedAligned(font_style_glow2, x, y, z, font_size2 * 2, font_size2, glov_font.ALIGN.HLEFT, 400, 0,\n    //   'Wide thick glow \\x01\\x02\\xe5\\xae\\xb4\\xe8\\xaf\\xb7');\n    // y += font_size2;\n    // font.drawSizedAligned(font_style_glow2, x, y, z, font_size2, font_size2 * 2, glov_font.ALIGN.HLEFT, 400, 0,\n    //   'Tall thick glow');\n    // y += font_size2 * 2;\n  } else if (test === 'wrap') {\n    y += font.drawSizedWrapped(null, x, y, z, 400, 24, font_size2, 0xFFFFFFff,\n      'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor' +\n      ' incididunt utlaboreetdoloremagnaaliqua.');\n  }\n\n\n  // Gradient not supported\n  // y = y0;\n  // x += font_size * 8;\n  // const font_style_gradient = glov_font.style(null, {\n  //   outline_width: 1, outline_color: 0x777777ff,\n  //   glow_xoffs: 0, glow_yoffs: 0, glow_inner: 0, glow_outer: 0, glow_color: COLOR_BLUE,\n  //   gradient: [COLOR_WHITE, COLOR_WHITE, COLOR_BLACK, COLOR_BLACK],\n  // });\n  // font.drawSized(font_style_gradient, x, y + Math.sin(engine.getFrameTimestamp() * 0.005) * 20, z,\n  //   font_size*2, 'Gradient');\n  // y += font_size*2;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\n/*\n  API usage:\n  engine.defines = urlhash.register({\n    key: 'D',\n    type: SET,\n  });\n  urlhash.register({\n    key: 'pos',\n    // type: TYPE_STRING,\n    change: (newvalue) => {},\n    title: (value) => 'string',\n    def: '1,2',\n    hides: { otherfield: true },\n    push: true, // do a pushState instead of replaceState when this changes\n    hide_values: { foo: true }, // do not add to URL if values is in the provided set\n  });\n  urlhash.set('pos', '3,4');\n  urlhash.get('pos')\n\n  urlhash.route('w/:w')     // use URLs like foo.com/w/1   instead of foo.com/?w=1\n  urlhash.route('w/:w/:wg')  // use URLs like foo.com/w/1/2 instead of foo.com/?w=1&wg=2\n\n  // Called whenever the URL state is pushed, even if to exactly the same URL (e.g. on link click)\n  urlhash.onChange(cb)\n*/\n\nconst assert = require('assert');\nconst { callEach } = require('../../common/util.js');\n\nconst HISTORY_UPDATE_TIME = 1000;\n\nexport let TYPE_SET = 'set';\nexport let TYPE_STRING = 'string';\n\nlet params = {};\n\nlet title_suffix = '';\n\nlet page_base = (document.location.href || '').match(/^[^#?]+/)[0];\nif (!page_base.endsWith('/')) { // e.g. http://foo.bar/index.html\n  page_base += '?';\n}\n//Removes index.html et all\nlet url_base = page_base.replace(/[^/]*$/,'');\nlet on_change = [];\n\nexport function getURLBase() {\n  return url_base;\n}\n\nexport function getURLPageBase() {\n  return page_base;\n}\n\nlet api_path;\n// Path base like http://foo.bar/api/ (with trailing slash\nexport function setAPIPath(path) {\n  api_path = path;\n}\nexport function getAPIPath() {\n  return api_path || `${getURLBase()}api/`;\n}\n\nexport function onChange(cb) {\n  on_change.push(cb);\n}\n\nfunction cmpNumKeys(a, b) {\n  let d = b.keys.length - a.keys.length;\n  if (d) {\n    return d;\n  }\n  // otherwise alphabetical for stability\n  for (let ii = 0; ii < a.keys.length; ++ii) {\n    if (a.keys[ii] < b.keys[ii]) {\n      return -1;\n    } else if (a.keys[ii] > b.keys[ii]) {\n      return 1;\n    }\n  }\n  assert(false); // two routes with identical keys\n  return 0;\n}\n\nconst route_param_regex = /:(\\w+)/g;\nlet routes = [];\n\nfunction queryString() {\n  let href = String(document.location);\n  return href.slice(page_base.length);\n}\n\nconst regex_value = /[^\\w]\\w+=([^&]+)/;\nfunction getValue(query_string, opts) {\n  if (opts.routes) {\n    for (let ii = 0; ii < opts.routes.length; ++ii) {\n      let r = opts.routes[ii];\n      let m = query_string.match(r.regex);\n      if (m) {\n        let idx = r.keys.indexOf(opts.key);\n        return m[1 + idx];\n      }\n    }\n  }\n  let m = query_string.match(opts.regex) || [];\n  if (opts.type === TYPE_SET) {\n    let r = {};\n    for (let ii = 0; ii < m.length; ++ii) {\n      let m2 = m[ii].match(regex_value);\n      assert(m2);\n      r[m2[1]] = 1;\n    }\n    return r;\n  } else {\n    return m[1] || opts.def;\n  }\n}\n\nlet last_history_str = null; // always re-set it on the first update\n\nfunction goInternal(query_string) { // with the '?'\n  // Update all values, except those hidden by what is currently in the query string\n  let hidden = {};\n  for (let key in params) {\n    let opts = params[key];\n    if (opts.hides) {\n      if (getValue(query_string, opts)) {\n        for (let otherkey in opts.hides) {\n          hidden[otherkey] = 1;\n        }\n      }\n    }\n  }\n\n  let dirty = {};\n  for (let key in params) {\n    if (hidden[key]) {\n      continue;\n    }\n    let opts = params[key];\n    let new_value = getValue(query_string, opts);\n    if (opts.type === TYPE_SET) {\n      for (let v in new_value) {\n        if (!opts.value[v]) {\n          opts.value[v] = 1;\n          dirty[key] = true;\n        }\n      }\n      for (let v in opts.value) {\n        if (!new_value[v]) {\n          delete opts.value[v];\n          dirty[key] = true;\n        }\n      }\n    } else {\n      if (new_value !== opts.value) {\n        dirty[key] = true;\n        opts.value = new_value;\n      }\n    }\n  }\n\n  // Call all change callbacks\n  for (let key in dirty) {\n    let opts = params[key];\n    if (opts.change) {\n      opts.change(opts.value);\n    }\n  }\n  callEach(on_change);\n}\n\nlet eff_title;\nfunction toString() {\n  eff_title = '';\n  let values = [];\n  let hidden = {};\n  for (let key in params) {\n    let opts = params[key];\n    if (opts.hides && opts.value) {\n      for (let otherkey in opts.hides) {\n        hidden[otherkey] = 1;\n      }\n    }\n  }\n  let root_value = '';\n  outer: // eslint-disable-line no-labels\n  for (let ii = 0; ii < routes.length; ++ii) {\n    let r = routes[ii];\n    let route_title = '';\n    for (let jj = 0; jj < r.keys.length; ++jj) {\n      let key = r.keys[jj];\n      if (hidden[key]) {\n        continue outer; // eslint-disable-line no-labels\n      }\n      let opts = params[key];\n      if (opts.hide_values[opts.value]) {\n        continue outer; // eslint-disable-line no-labels\n      }\n      // has a value, is not hidden, continue\n      if (!route_title && opts.title) {\n        route_title = opts.title(opts.value);\n      }\n    }\n    // route is good!\n    root_value = r.route_string.replace(route_param_regex, function (ignored, key) {\n      hidden[key] = true;\n      return String(params[key].value);\n    });\n    if (!eff_title && route_title) {\n      eff_title = route_title;\n    }\n    break;\n  }\n  for (let key in params) {\n    if (hidden[key]) {\n      continue;\n    }\n    let opts = params[key];\n    if (opts.type === TYPE_SET) {\n      for (let v in opts.value) {\n        values.push(`${key}=${v}`);\n      }\n    } else {\n      if (!opts.hide_values[opts.value]) {\n        values.push(`${key}=${opts.value}`);\n        if (!eff_title && opts.title) {\n          eff_title = opts.title(opts.value);\n        }\n      }\n    }\n  }\n  if (title_suffix) {\n    if (eff_title) {\n      eff_title = `${eff_title} | ${title_suffix}`;\n    } else {\n      eff_title = title_suffix;\n    }\n  }\n  return `${root_value}${values.length ? '?' : ''}${values.join('&')}`;\n}\n\nexport function refreshTitle() {\n  toString();\n  if (eff_title && eff_title !== document.title) {\n    document.title = eff_title;\n  }\n}\n\nfunction periodicRefreshTitle() {\n  refreshTitle();\n  setTimeout(periodicRefreshTitle, 1000);\n}\n\nfunction onPopState() {\n  let query_string = queryString();\n  last_history_str = query_string;\n  goInternal(query_string);\n  refreshTitle();\n}\n\nlet on_url_change;\nexport function onURLChange(cb) {\n  on_url_change = cb;\n}\n\nlet last_history_set_time = 0;\nlet scheduled = false;\nlet need_push_state = false;\nfunction updateHistory(new_need_push_state) {\n  let new_str = toString();\n  if (last_history_str === new_str) {\n    return;\n  }\n  need_push_state = need_push_state || new_need_push_state;\n  last_history_str = new_str;\n  if (scheduled) {\n    // already queued up\n    return;\n  }\n  let delay = HISTORY_UPDATE_TIME;\n  if (Date.now() - last_history_set_time > HISTORY_UPDATE_TIME) {\n    // Been awhile, apply \"instantly\" (but still wait until next tick to ensure\n    //   any other immediate changes are registered)\n    delay = 1;\n  }\n  scheduled = true;\n  setTimeout(function () {\n    scheduled = false;\n    last_history_set_time = Date.now();\n    let url = `${page_base}${last_history_str}`;\n    if (url.endsWith('?')) {\n      url = url.slice(0, -1);\n    }\n    try {\n      if (need_push_state) {\n        need_push_state = false;\n        window.history.pushState(undefined, eff_title, url);\n      } else {\n        window.history.replaceState(undefined, eff_title, url);\n      }\n    } catch (e) {\n      // ignore; some browsers disallow this, I guess\n    }\n    if (eff_title) {\n      document.title = eff_title;\n    }\n    if (on_url_change) {\n      on_url_change();\n    }\n    //window.history.replaceState(undefined, eff_title, `#${last_history_str}`);\n  }, delay);\n}\n\n// Optional startup\nexport function startup(param) {\n  assert(!title_suffix);\n  title_suffix = param.title_suffix;\n\n  // Refresh the current URL, it might be in the non-route format\n  updateHistory(false);\n\n  if (title_suffix) {\n    refreshTitle();\n    setTimeout(periodicRefreshTitle, 1000);\n  }\n}\n\nexport function route(route_string) {\n  let keys = [];\n  // foo/:key/:bar => foo/([^/&?]+)/([^/&?]+)\n  let base = route_string.replace(route_param_regex, function (ignored, match) {\n    keys.push(match);\n    return '([^/&?]+)';\n  });\n  let regex = new RegExp(`^${base}(?:$|\\\\?)`);\n  let new_route = {\n    route_string,\n    regex,\n    keys,\n  };\n  for (let ii = 0; ii < keys.length; ++ii) {\n    let opts = params[keys[ii]];\n    // Must have already registered these keys\n    assert(opts);\n    opts.routes = opts.routes || [];\n    opts.routes.push(new_route);\n    // Update initial value\n    opts.value = getValue(queryString(), opts);\n  }\n  routes.push(new_route);\n  routes.sort(cmpNumKeys);\n}\n\nexport function register(opts) {\n  assert(opts.key);\n  assert(!params[opts.key]);\n  opts.type = opts.type || TYPE_STRING;\n  let regex_search = `(?:[^\\\\w])${opts.key}=([^&]+)`;\n  let regex_type = '';\n  if (opts.type === TYPE_SET) {\n    regex_type = 'g';\n  } else {\n    opts.def = opts.def || '';\n    opts.hide_values = opts.hide_values || {};\n    opts.hide_values[opts.def] = true;\n  }\n  opts.regex = new RegExp(regex_search, regex_type);\n  params[opts.key] = opts;\n  // Get initial value\n  opts.value = getValue(queryString(), opts);\n  let ret = opts.value;\n  if (opts.type === TYPE_SET && typeof Proxy === 'function') {\n    // Auto-apply changes to URL if someone modifies the proxy\n    ret = new Proxy(opts.value, {\n      set: function (target, prop, value) {\n        if (value) {\n          target[prop] = 1;\n        } else {\n          delete target[prop];\n        }\n        updateHistory();\n        return true;\n      }\n    });\n  }\n\n  if (!window.onpopstate) {\n    window.onpopstate = onPopState;\n  }\n\n  return ret;\n}\n\nexport function set(key, value, value2) {\n  let opts = params[key];\n  assert(opts);\n  if (opts.type === TYPE_SET) {\n    if (Boolean(opts.value[value]) !== Boolean(value2)) {\n      opts.value[value] = value2 ? 1 : 0;\n      updateHistory(opts.push);\n    }\n  } else {\n    if (opts.value !== value) {\n      opts.value = value;\n      updateHistory(opts.push);\n    }\n  }\n}\n\nexport function get(key) {\n  let opts = params[key];\n  assert(opts);\n  return opts.value;\n}\n\nexport function go(query_string) { // with the '?'\n  goInternal(query_string);\n  updateHistory(true);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\n// Vector math functions required by the rest of the engine taken piecemeal from\n// gl-matrix and related, as well as some generic math utilities\nexports.mat3 = require('gl-mat3/create');\nexports.mat4 = require('gl-mat4/create');\n\nconst { abs, max, min, floor, round, sqrt } = Math;\n\nexport function vec1(v) {\n  return new Float32Array([v]);\n}\n\nexport function vec2(a, b) {\n  let r = new Float32Array(2);\n  if (a || b) {\n    r[0] = a;\n    r[1] = b;\n  }\n  return r;\n}\n\nexport function vec3(a, b, c) {\n  let r = new Float32Array(3);\n  if (a || b || c) {\n    r[0] = a;\n    r[1] = b;\n    r[2] = c;\n  }\n  return r;\n}\n\nexport function vec4(a, b, c, d) {\n  let r = new Float32Array(4);\n  if (a || b || c || d) {\n    r[0] = a;\n    r[1] = b;\n    r[2] = c;\n    r[3] = d;\n  }\n  return r;\n}\n\nfunction frozenVec4(a,b,c,d) {\n  // if (debug) {\n  //   return Object.freeze([a,b,c,d]); // Not a vec4, but lets us catch bugs\n  // }\n  return vec4(a,b,c,d);\n}\n\nexport const unit_vec = frozenVec4(1,1,1,1);\nexport const half_vec = frozenVec4(0.5,0.5,0.5,0.5);\nexport const zero_vec = frozenVec4(0,0,0,0);\nexport const identity_mat3 = exports.mat3();\nexport const identity_mat4 = exports.mat4();\nexport const xaxis = frozenVec4(1,0,0,0);\nexport const yaxis = frozenVec4(0,1,0,0);\nexport const zaxis = frozenVec4(0,0,1,0);\n\nexport function v2abs(out, a) {\n  out[0] = abs(a[0]);\n  out[1] = abs(a[1]);\n  return out;\n}\n\nexport function v2add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\nexport function v2addScale(out, a, b, s) {\n  out[0] = a[0] + b[0] * s;\n  out[1] = a[1] + b[1] * s;\n  return out;\n}\n\nexport function v2copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\nexport function v2distSq(a, b) {\n  return (a[0] - b[0]) * (a[0] - b[0]) +\n    (a[1] - b[1]) * (a[1] - b[1]);\n}\n\nexport function v2div(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\nexport function v2floor(out, a) {\n  out[0] = floor(a[0]);\n  out[1] = floor(a[1]);\n  return out;\n}\n\nexport function v2lengthSq(a) {\n  return a[0]*a[0] + a[1]*a[1];\n}\n\nexport function v2lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  return out;\n}\n\nexport function v2mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\nexport function v2normalize(out, a) {\n  let len = a[0]*a[0] + a[1]*a[1];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\nexport function v2same(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\nexport function v2scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  return out;\n}\n\nexport function v2set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n\nexport function v2sub(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\nexport function v3add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\nexport function v3iAdd(a, b) {\n  a[0] += b[0];\n  a[1] += b[1];\n  a[2] += b[2];\n  return a;\n}\n\nexport function v3addScale(out, a, b, s) {\n  out[0] = a[0] + b[0] * s;\n  out[1] = a[1] + b[1] * s;\n  out[2] = a[2] + b[2] * s;\n  return out;\n}\n\nexport function v3copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\nexport function v3cross(out, a, b) {\n  let a0 = a[0];\n  let a1 = a[1];\n  let a2 = a[2];\n  let b0 = b[0];\n  let b1 = b[1];\n  let b2 = b[2];\n  out[0] = ((a1 * b2) - (a2 * b1));\n  out[1] = ((a2 * b0) - (a0 * b2));\n  out[2] = ((a0 * b1) - (a1 * b0));\n  return out;\n}\n\n// determinant of the matrix made by (columns?) [a, b, c];\nexport function v3determinant(a, b, c) {\n  // let a00 = a[0];\n  // let a01 = a[1];\n  // let a02 = a[2];\n  // let a10 = b[0];\n  // let a11 = b[1];\n  // let a12 = b[2];\n  // let a20 = c[0];\n  // let a21 = c[2];\n  // let a22 = c[2];\n  let a00 = a[0];\n  let a01 = b[0];\n  let a02 = c[0];\n  let a10 = a[1];\n  let a11 = b[1];\n  let a12 = c[1];\n  let a20 = a[2];\n  let a21 = b[2];\n  let a22 = c[2];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\nexport function v3dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function v3distSq(a, b) {\n  return (a[0] - b[0]) * (a[0] - b[0]) +\n    (a[1] - b[1]) * (a[1] - b[1]) +\n    (a[2] - b[2]) * (a[2] - b[2]);\n}\n\nexport function v3dist(a,b) {\n  return sqrt(v3distSq(a,b));\n}\n\nexport function v3div(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\nexport function v3iFloor(a) {\n  a[0] = floor(a[0]);\n  a[1] = floor(a[1]);\n  a[2] = floor(a[2]);\n  return a;\n}\n\nexport function v3floor(out, a) {\n  out[0] = floor(a[0]);\n  out[1] = floor(a[1]);\n  out[2] = floor(a[2]);\n  return out;\n}\n\nexport function v3lengthSq(a) {\n  return a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n}\n\nexport function v3lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  out[2] = it * a[2] + t * b[2];\n  return out;\n}\n\nexport function v3iMax(a, b) {\n  a[0] = max(a[0], b[0]);\n  a[1] = max(a[1], b[1]);\n  a[2] = max(a[2], b[2]);\n  return a;\n}\n\nexport function v3iMin(a, b) {\n  a[0] = min(a[0], b[0]);\n  a[1] = min(a[1], b[1]);\n  a[2] = min(a[2], b[2]);\n  return a;\n}\n\nexport function v3mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\nexport function v3mulMat4(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  out[0] = x * m[0] + y * m[4] + z * m[8];\n  out[1] = x * m[1] + y * m[5] + z * m[9];\n  out[2] = x * m[2] + y * m[6] + z * m[10];\n  return out;\n}\n\nexport function v3normalize(out, a) {\n  let len = a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\nexport function v3iNormalize(a) {\n  let len = a[0]*a[0] + a[1]*a[1] + a[2]*a[2];\n  if (len > 0) {\n    len = 1 / sqrt(len);\n    a[0] *= len;\n    a[1] *= len;\n    a[2] *= len;\n  }\n  return a;\n}\n\n// Treats `a` as vec3 input with w assumed to be 1\n// out[0]/[1] have had perspective divide and converted to normalized 0-1 range\n// out[2] is distance\nexport function v3perspectiveProject(out, a, m) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  let invw = 0.5 / (w || 0.00001);\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) * invw + 0.5;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) * -invw + 0.5;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14];\n  return out;\n}\n\nexport function v3round(out, a) {\n  out[0] = round(a[0]);\n  out[1] = round(a[1]);\n  out[2] = round(a[2]);\n  return out;\n}\n\nexport function v3same(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\nexport function v3scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  out[2] = a[2] * s;\n  return out;\n}\n\nexport function v3set(out, a, b, c) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  return out;\n}\n\nexport function v3sub(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\nexport function v3iScale(a, s) {\n  a[0] *= s;\n  a[1] *= s;\n  a[2] *= s;\n  return a;\n}\n\nexport function v3iSub(a, b) {\n  a[0] -= b[0];\n  a[1] -= b[1];\n  a[2] -= b[2];\n  return a;\n}\n\nexport function v3zero(out) {\n  out[0] = out[1] = out[2] = 0;\n  return out;\n}\n\nexport function v4add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n\nexport function v4clone(a) {\n  return a.slice(0);\n}\n\nexport function v4copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nexport function v4lerp(out, t, a, b) {\n  let it = 1 - t;\n  out[0] = it * a[0] + t * b[0];\n  out[1] = it * a[1] + t * b[1];\n  out[2] = it * a[2] + t * b[2];\n  out[3] = it * a[3] + t * b[3];\n  return out;\n}\n\nexport function v4mul(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n\nexport function v4mulAdd(out, a, b, c) {\n  out[0] = a[0] * b[0] + c[0];\n  out[1] = a[1] * b[1] + c[1];\n  out[2] = a[2] * b[2] + c[2];\n  out[3] = a[3] * b[3] + c[3];\n  return out;\n}\n\nexport function v4same(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n\nexport function v4scale(out, a, s) {\n  out[0] = a[0] * s;\n  out[1] = a[1] * s;\n  out[2] = a[2] * s;\n  out[3] = a[3] * s;\n  return out;\n}\n\nexport function v4set(out, a, b, c, d) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  return out;\n}\n\nexport function v4zero(out) {\n  out[0] = out[1] = out[2] = out[3] = 0;\n  return out;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst { floor } = Math;\n\nlet offs = 0;\nfunction now() {\n  return Date.now() + offs;\n}\nmodule.exports = exports = now;\nexports.now = now;\nexports.sync = function (server_time) {\n  offs = server_time - Date.now();\n};\nexports.seconds = function () {\n  // Seconds since Jan 1st, 2020\n  return floor(now() / 1000) - 1577836800;\n};\n","const assert = require('assert');\nconst { filewatchOn, filewatchTriggerChange } = require('./filewatch.js');\nconst urlhash = require('./urlhash.js');\n\nlet fs = window.glov_webfs = window.glov_webfs || {};\nlet decoded = {};\nlet used = {};\n// export function webFSReady() {\n//   // TODO: async ready state?\n// }\n\nfunction decode(data) {\n  let len = data[0];\n  let str = data[1];\n  let u8 = new Uint8Array(len);\n  let idxo = 0;\n  let idxi = 0;\n  while (idxo < len) {\n    let byte = str.charCodeAt(idxi++);\n    if (byte === 126) {\n      byte = 0;\n    } else if (byte === 27) {\n      byte = str.charCodeAt(idxi++);\n    }\n    u8[idxo++] = byte;\n  }\n  assert.equal(idxi, str.length);\n  assert.equal(idxo, len);\n  return u8;\n}\n\nexport function webFSGetFile(filename, encoding) {\n  let ret = decoded[filename];\n  if (ret) {\n    return ret;\n  }\n  used[filename] = true;\n  let data = fs[filename];\n  assert(data, `Error loading file: ${filename}`);\n  if (encoding === 'text') {\n    ret = data[1];\n  } else {\n    ret = decode(data);\n  }\n  decoded[filename] = ret;\n  return ret;\n}\n\nexport function webFSExists(filename) {\n  return Boolean(fs[filename]);\n}\n\n// Don't report on files we know are loaded dynamically, and are small\nconst report_ignore_regex = /\\.(fp|vp|vm)$/;\nexport function webFSReportUnused() {\n  let tot_size = 0;\n  for (let filename in fs) {\n    if (!used[filename] && !filename.match(report_ignore_regex)) {\n      console.warn(`WebFS file bundled but unreferenced: ${filename}`);\n      tot_size += fs[filename][0];\n    }\n  }\n  if (tot_size) {\n    console.warn(`WebFS wasting ${tot_size} bytes`);\n  }\n}\n\nfunction webFSReload() {\n  window.glov_webfs = {};\n  let scriptTag = document.createElement('script');\n  scriptTag.src = `${urlhash.getURLBase()}fsdata.js?rl=${Date.now()}`;\n  scriptTag.onload = function () {\n    if (window.glov_webfs) {\n      let old_fs = fs;\n      fs = window.glov_webfs;\n      decoded = {};\n      used = {};\n      for (let key in fs) {\n        let old_value = old_fs[key];\n        let new_value = fs[key];\n        for (let ii = 0; ii < new_value.length; ++ii) {\n          if (!old_value || new_value[ii] !== old_value[ii]) {\n            filewatchTriggerChange(key);\n            break;\n          }\n        }\n      }\n    }\n  };\n  document.getElementsByTagName('head')[0].appendChild(scriptTag);\n}\n\nfilewatchOn('fsdata.js', webFSReload);\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Originally from Splody, used with permission\n/* eslint no-multi-spaces:off, array-bracket-spacing:off */\n\nconst { mashString } = require('../rand_alea.js');\nconst { randFastCreate } = require('../rand_fast.js');\nconst { profanityFilterCommon, profanityCommonStartup } = require('../../../common/words/profanity_common.js');\nconst { webFSGetFile } = require('../webfs.js');\n\nlet non_profanity;\n\nexport function profanityStartup() {\n  non_profanity = webFSGetFile('glov/words/replacements.txt', 'text').split('\\n').filter((a) => a);\n  profanityCommonStartup(webFSGetFile('../common/words/filter.gkg', 'text'));\n}\n\nlet rand = randFastCreate();\n\nlet last_word;\nfunction randWord() {\n  if (last_word === -1) {\n    last_word = rand.range(non_profanity.length);\n  } else {\n    let choice = rand.range(non_profanity.length - 1);\n    last_word = choice < last_word ? choice : choice + 1;\n  }\n  return non_profanity[last_word];\n}\n\nexport function profanityFilter(user_str) {\n  last_word = -1;\n  rand.seed = mashString(user_str);\n  return profanityFilterCommon(user_str, randWord);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* global WebSocket, XMLHttpRequest */\n\nconst ack = require('../../common/ack.js');\nconst { ackInitReceiver } = ack;\nconst assert = require('assert');\nconst { errorReportSetDetails } = require('./error_report.js');\nconst { min } = Math;\nconst urlhash = require('./urlhash.js');\nconst walltime = require('./walltime.js');\nconst wscommon = require('../../common/wscommon.js');\nconst { wsHandleMessage } = wscommon;\n\n// let net_time = 0;\n// export function getNetTime() {\n//   let r = net_time;\n//   net_time = 0;\n//   return r;\n// }\n\nexport function WSClient(path) {\n  this.id = null;\n  this.my_ids = {}; // set of all IDs I've been during this session\n  this.handlers = {};\n  this.socket = null;\n  this.connected = false;\n  this.disconnected = false;\n  this.retry_scheduled = false;\n  this.retry_count = 0;\n  this.disconnect_time = Date.now();\n  this.last_receive_time = Date.now();\n  this.idle_counter = 0;\n  this.last_send_time = Date.now();\n  this.auto_path = !path;\n  ackInitReceiver(this);\n\n  if (this.auto_path) {\n\n    path = document.location.toString().match(/^[^#?]+/)[0]; // remove search and anchor\n\n\n    if (path.slice(-1) !== '/') {\n      // /file.html or /path/file.html or /path\n      let idx = path.lastIndexOf('/');\n      if (idx !== -1) {\n        let filename = path.slice(idx+1);\n        if (filename.indexOf('.') !== -1) {\n          path = path.slice(0, idx+1);\n        } else {\n          path += '/';\n        }\n      } else {\n        path += '/';\n      }\n    }\n    path = path.replace(/^http/, 'ws');\n    this.path = `${path}ws`;\n\n  } else {\n    this.path = path;\n  }\n\n  if (path.match(/:\\d+\\//)) {\n    // has port, don't try anything fancy\n    this.path2 = this.path;\n  } else if (path.match(/^ws:/)) {\n    // no port, try wss:// if this fails\n    // Should fix Comcast injection issue\n    this.path2 = this.path.replace(/^ws:/, 'wss:');\n  } else {\n    // Using wss:// some browsers will not allow connecting to ws://, so don't even try\n    this.path2 = this.path;\n  }\n\n  this.connect(false);\n\n  this.onMsg('cack', this.onConnectAck.bind(this));\n  this.onMsg('app_ver', this.onAppVer.bind(this));\n  this.onMsg('error', this.onError.bind(this));\n}\n\nWSClient.prototype.timeSinceDisconnect = function () {\n  return Date.now() - this.disconnect_time;\n};\n\nWSClient.prototype.onAppVer = function (ver) {\n  if (ver !== BUILD_TIMESTAMP) {\n    if (this.on_app_ver_mismatch) {\n      this.on_app_ver_mismatch();\n    } else {\n      if (this.auto_path) {\n        console.error(`App version mismatch (server: ${ver}, client: ${BUILD_TIMESTAMP}), reloading`);\n        if (window.reloadSafe) {\n          window.reloadSafe();\n        } else {\n          document.location.reload();\n        }\n      } else {\n        console.warn(`App version mismatch (server: ${ver}, client: ${BUILD_TIMESTAMP}), ignoring`);\n      }\n    }\n  }\n};\n\nWSClient.prototype.onConnectAck = function (data, resp_func) {\n  let client = this;\n  walltime.sync(data.time);\n  client.connected = true;\n  client.disconnected = false;\n  client.id = data.id;\n  client.my_ids[data.id] = true;\n  errorReportSetDetails('client_id', client.id);\n  client.secret = data.secret;\n  if (data.app_ver) {\n    client.onAppVer(data.app_ver);\n  }\n  // Fire user-level connect handler as well\n  assert(client.handlers.connect);\n  client.handlers.connect(client, {\n    client_id: client.id,\n    restarting: data.restarting,\n  });\n  resp_func();\n};\n\n\nWSClient.prototype.pak = function (msg) {\n  return wscommon.wsPak(msg, null, this);\n};\n\nWSClient.prototype.send = function (msg, data, resp_func) {\n  wscommon.sendMessage.call(this, msg, data, resp_func);\n};\n\nWSClient.prototype.onError = function (e) {\n  console.error('WSClient Error');\n  console.error(e);\n  throw e;\n};\n\n// cb(client, data, resp_func)\nWSClient.prototype.onMsg = function (msg, cb) {\n  assert.ok(!this.handlers[msg]);\n  this.handlers[msg] = function wrappedCallback(client, data, resp_func) {\n    // Client interface does not need a client passed to it!\n    return cb(data, resp_func);\n  };\n};\n\nWSClient.prototype.checkForNewAppVersion = function () {\n  if (this.app_ver_check_in_progress) {\n    return;\n  }\n  this.app_ver_check_in_progress = true;\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', `${urlhash.getURLBase()}app.ver.json`, true);\n  // xhr.responseType = 'json'; // causes un-catchable, un-reported errors\n  xhr.onload = () => {\n    this.app_ver_check_in_progress = false;\n    let text;\n    try {\n      text = xhr.responseText;\n      let obj = JSON.parse(text);\n      if (obj && obj.ver) {\n        this.onAppVer(obj.ver);\n      }\n    } catch (e) {\n      console.error('Received invalid response when checking app version:', text || '<empty response>');\n      // Probably internal server error or such as the server is restart, try again momentarily\n      // This is not triggered on connection errors, only if we got a (non-parseable) response from the server\n      if (!this.delayed_recheck) {\n        this.delayed_recheck = true;\n        setTimeout(() => {\n          this.delayed_recheck = false;\n          this.checkForNewAppVersion();\n        }, 1000);\n      }\n    }\n  };\n  xhr.onerror = () => {\n    this.app_ver_check_in_progress = false;\n  };\n  xhr.send(null);\n};\n\nWSClient.prototype.retryConnection = function () {\n  let client = this;\n  assert(!client.socket);\n  assert(!client.retry_scheduled);\n  client.retry_scheduled = true;\n  ++client.retry_count;\n  this.checkForNewAppVersion();\n  setTimeout(function () {\n    assert(client.retry_scheduled);\n    assert(!client.socket);\n    client.retry_scheduled = false;\n    client.connect(true);\n  }, min(client.retry_count * client.retry_count * 100, 15000));\n};\n\nWSClient.prototype.checkDisconnect = function () {\n  if (this.connected && this.socket.readyState !== 1) { // WebSocket.OPEN\n    // We think we're connected, but we're not, we must have received an\n    // animation frame before the close event when phone was locked or something\n    this.on_close();\n    assert(!this.connected);\n  }\n};\n\nWSClient.prototype.connect = function (for_reconnect) {\n  let client = this;\n\n  let path = `${(client.retry_count % 2) ? client.path2 : client.path}?pver=${wscommon.PROTOCOL_VERSION}${\n    for_reconnect && client.id && client.secret ? `&reconnect=${client.id}&secret=${client.secret}` : ''\n  }`;\n  let socket = new WebSocket(path);\n  socket.binaryType = 'arraybuffer';\n  client.socket = socket;\n\n  // Protect callbacks from ever firing if we've already disconnected this socket\n  //   from the WSClient\n  function guard(fn) {\n    return function (...args) {\n      if (client.socket !== socket) {\n        return;\n      }\n      fn(...args);\n    };\n  }\n\n  function abort(skip_close) {\n    client.socket = null;\n    if (client.connected) {\n      client.disconnect_time = Date.now();\n      client.disconnected = true;\n      errorReportSetDetails('disconnected', 1);\n    }\n    client.connected = false;\n    if (!skip_close) {\n      try {\n        socket.close();\n      } catch (e) {\n        // ignore\n      }\n    }\n    ack.failAll(client);\n  }\n\n  function retry(skip_close) {\n    abort(skip_close);\n    client.retryConnection();\n  }\n\n  // Local state, for this one connection\n  let connected = false;\n  client.socket.addEventListener('error', guard(function (err) {\n    if (!connected) {\n      console.log('WebSocket error during initial connection, retrying...', err);\n      retry();\n    } else {\n      console.error('WebSocket error', err);\n      // Disconnect and reconnect here, is this a terminal error? Probably not, we'll get a 'close' event if it is?\n      // We some error occasionally on iOS, not sure what error, but it auto-reconnects fine, so let's\n      // not do a throw\n      // client.onError(err);\n    }\n  }));\n\n  client.socket.addEventListener('message', guard(function (message) {\n    // net_time -= Date.now();\n    assert(message.data instanceof ArrayBuffer);\n    wsHandleMessage(client, new Uint8Array(message.data));\n    // net_time += Date.now();\n  }));\n\n  client.socket.addEventListener('open', guard(function () {\n    console.log('WebSocket open');\n    connected = true;\n    // reset retry count so next retry is fast if we get disconnected\n    client.retry_count = 0;\n  }));\n\n  // This may get called before the close event gets to use\n  client.on_close = guard(function () {\n    console.log('WebSocket close, retrying connection...');\n    retry(true);\n  });\n  client.socket.addEventListener('close', client.on_close);\n\n  let doPing = guard(function () {\n    if (Date.now() - client.last_send_time > wscommon.PING_TIME && client.connected && client.socket.readyState === 1) {\n      client.send('ping');\n    }\n    setTimeout(doPing, wscommon.PING_TIME);\n  });\n  setTimeout(doPing, wscommon.PING_TIME);\n\n  // For debugging reconnect handling\n  // setTimeout(function () {\n  //   if (connected) {\n  //     socket.close();\n  //   }\n  // }, 5000);\n};\n","module.exports={\"font_size\":8,\"imageW\":128,\"imageH\":128,\"spread\":2,\"noFilter\":1,\"channels\":1,\"char_infos\":[{\"c\":32,\"x0\":61,\"y0\":63,\"xpad\":4,\"w\":0,\"h\":0},{\"c\":33,\"x0\":92,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":34,\"x0\":16,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":2},{\"c\":35,\"x0\":98,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":36,\"x0\":38,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":37,\"x0\":108,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":38,\"x0\":118,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":39,\"x0\":24,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":2},{\"c\":40,\"x0\":2,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":41,\"x0\":9,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":42,\"x0\":109,\"y0\":54,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":43,\"x0\":117,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":44,\"x0\":30,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":2,\"h\":2},{\"c\":45,\"x0\":67,\"y0\":63,\"yoffs\":3,\"xpad\":1,\"w\":3,\"h\":1},{\"c\":46,\"x0\":75,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":1,\"h\":1},{\"c\":47,\"x0\":16,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":48,\"x0\":26,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":49,\"x0\":35,\"y0\":14,\"yoffs\":1,\"xpad\":2,\"w\":3,\"h\":5},{\"c\":50,\"x0\":42,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":51,\"x0\":51,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":52,\"x0\":60,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":53,\"x0\":69,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":54,\"x0\":78,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":55,\"x0\":87,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":56,\"x0\":96,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":57,\"x0\":105,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":58,\"x0\":2,\"y0\":63,\"yoffs\":2,\"xpad\":1,\"w\":1,\"h\":3},{\"c\":59,\"x0\":115,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":1,\"h\":4},{\"c\":60,\"x0\":114,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":61,\"x0\":8,\"y0\":63,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":3},{\"c\":62,\"x0\":122,\"y0\":14,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":63,\"x0\":2,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":64,\"x0\":11,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":65,\"x0\":21,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":66,\"x0\":30,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":67,\"x0\":39,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":68,\"x0\":47,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":69,\"x0\":56,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":70,\"x0\":64,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":71,\"x0\":72,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":72,\"x0\":81,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":73,\"x0\":90,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":74,\"x0\":98,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":75,\"x0\":107,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":76,\"x0\":116,\"y0\":24,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":77,\"x0\":2,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":78,\"x0\":12,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":79,\"x0\":21,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":80,\"x0\":30,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":81,\"x0\":47,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":82,\"x0\":39,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":83,\"x0\":48,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":84,\"x0\":57,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":85,\"x0\":65,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":86,\"x0\":74,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":87,\"x0\":83,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":88,\"x0\":93,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":89,\"x0\":102,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":90,\"x0\":111,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":91,\"x0\":119,\"y0\":34,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":92,\"x0\":2,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":93,\"x0\":12,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":5},{\"c\":94,\"x0\":37,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":2},{\"c\":95,\"x0\":81,\"y0\":63,\"yoffs\":5,\"xpad\":1,\"w\":4,\"h\":1},{\"c\":96,\"x0\":45,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":2},{\"c\":97,\"x0\":121,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":98,\"x0\":19,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":99,\"x0\":2,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":100,\"x0\":28,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":101,\"x0\":10,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":102,\"x0\":37,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":103,\"x0\":56,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":104,\"x0\":45,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":105,\"x0\":54,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":106,\"x0\":2,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":2,\"h\":7},{\"c\":107,\"x0\":60,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":5},{\"c\":108,\"x0\":69,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":109,\"x0\":19,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":4},{\"c\":110,\"x0\":29,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":111,\"x0\":38,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":112,\"x0\":65,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":113,\"x0\":74,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":114,\"x0\":47,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":115,\"x0\":55,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":116,\"x0\":75,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":117,\"x0\":64,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":118,\"x0\":73,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":119,\"x0\":82,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":4},{\"c\":120,\"x0\":92,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":3,\"h\":4},{\"c\":121,\"x0\":83,\"y0\":2,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":6},{\"c\":122,\"x0\":100,\"y0\":54,\"yoffs\":2,\"xpad\":1,\"w\":4,\"h\":4},{\"c\":123,\"x0\":83,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":124,\"x0\":91,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":1,\"h\":5},{\"c\":125,\"x0\":97,\"y0\":44,\"yoffs\":1,\"xpad\":1,\"w\":3,\"h\":5},{\"c\":126,\"x0\":52,\"y0\":63,\"yoffs\":1,\"xpad\":1,\"w\":4,\"h\":2},{\"c\":160,\"x0\":90,\"y0\":63,\"xpad\":3,\"w\":1,\"h\":1},{\"c\":65533,\"x0\":105,\"y0\":44,\"yoffs\":2,\"xpad\":1,\"w\":5,\"h\":5},{\"c\":128263,\"x0\":9,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":10,\"h\":7},{\"c\":128264,\"x0\":24,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":9,\"h\":7}]}","module.exports={\"font_size\":16,\"imageW\":1024,\"imageH\":64,\"spread\":2,\"noFilter\":1,\"channels\":1,\"char_infos\":[{\"c\":32,\"x0\":172,\"y0\":21,\"xpad\":8,\"w\":0,\"h\":0},{\"c\":33,\"x0\":137,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":34,\"x0\":81,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":4},{\"c\":35,\"x0\":144,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":36,\"x0\":59,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":37,\"x0\":159,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":38,\"x0\":174,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":39,\"x0\":92,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":4},{\"c\":40,\"x0\":189,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":41,\"x0\":198,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":42,\"x0\":41,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":43,\"x0\":52,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":44,\"x0\":99,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":4,\"h\":4},{\"c\":45,\"x0\":141,\"y0\":21,\"yoffs\":7,\"xpad\":2,\"w\":6,\"h\":2},{\"c\":46,\"x0\":152,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":2,\"h\":2},{\"c\":47,\"x0\":207,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":48,\"x0\":222,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":49,\"x0\":235,\"y0\":2,\"yoffs\":3,\"xpad\":6,\"w\":4,\"h\":10},{\"c\":50,\"x0\":244,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":51,\"x0\":257,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":52,\"x0\":270,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":53,\"x0\":283,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":54,\"x0\":296,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":55,\"x0\":309,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":56,\"x0\":322,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":57,\"x0\":335,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":58,\"x0\":63,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":2,\"h\":6},{\"c\":59,\"x0\":877,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":2,\"h\":8},{\"c\":60,\"x0\":348,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":61,\"x0\":70,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":6},{\"c\":62,\"x0\":359,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":63,\"x0\":370,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":64,\"x0\":383,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":65,\"x0\":398,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":66,\"x0\":411,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":67,\"x0\":424,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":68,\"x0\":435,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":69,\"x0\":448,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":70,\"x0\":459,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":71,\"x0\":470,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":72,\"x0\":483,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":73,\"x0\":496,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":74,\"x0\":507,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":75,\"x0\":520,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":76,\"x0\":533,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":77,\"x0\":544,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":78,\"x0\":559,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":79,\"x0\":572,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":80,\"x0\":585,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":81,\"x0\":72,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":82,\"x0\":598,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":83,\"x0\":611,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":84,\"x0\":624,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":85,\"x0\":635,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":86,\"x0\":648,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":87,\"x0\":661,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":88,\"x0\":676,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":89,\"x0\":689,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":90,\"x0\":702,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":91,\"x0\":713,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":92,\"x0\":722,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":10,\"h\":10},{\"c\":93,\"x0\":737,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":10},{\"c\":94,\"x0\":108,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":4},{\"c\":95,\"x0\":159,\"y0\":21,\"yoffs\":11,\"xpad\":2,\"w\":8,\"h\":2},{\"c\":96,\"x0\":119,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":4},{\"c\":97,\"x0\":884,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":98,\"x0\":746,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":99,\"x0\":897,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":100,\"x0\":759,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":101,\"x0\":908,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":102,\"x0\":772,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":103,\"x0\":85,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":104,\"x0\":783,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":105,\"x0\":796,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":106,\"x0\":2,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":4,\"h\":14},{\"c\":107,\"x0\":803,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":10},{\"c\":108,\"x0\":816,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":109,\"x0\":921,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":10,\"h\":8},{\"c\":110,\"x0\":936,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":111,\"x0\":949,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":112,\"x0\":98,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":113,\"x0\":111,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":114,\"x0\":962,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":115,\"x0\":973,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":116,\"x0\":823,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":117,\"x0\":986,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":118,\"x0\":999,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":119,\"x0\":2,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":10,\"h\":8},{\"c\":120,\"x0\":17,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":6,\"h\":8},{\"c\":121,\"x0\":124,\"y0\":2,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":12},{\"c\":122,\"x0\":28,\"y0\":21,\"yoffs\":5,\"xpad\":2,\"w\":8,\"h\":8},{\"c\":123,\"x0\":834,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":124,\"x0\":845,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":2,\"h\":10},{\"c\":125,\"x0\":852,\"y0\":2,\"yoffs\":3,\"xpad\":2,\"w\":6,\"h\":10},{\"c\":126,\"x0\":128,\"y0\":21,\"yoffs\":3,\"xpad\":2,\"w\":8,\"h\":4},{\"c\":160,\"x0\":178,\"y0\":21,\"xpad\":7,\"w\":1,\"h\":1},{\"c\":65533,\"x0\":863,\"y0\":2,\"yoffs\":3,\"xpad\":1,\"w\":9,\"h\":10},{\"c\":128263,\"x0\":11,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":19,\"h\":14},{\"c\":128264,\"x0\":35,\"y0\":2,\"yoffs\":1,\"xpad\":1,\"w\":19,\"h\":14}]}","module.exports={\"font_size\":32,\"imageW\":1024,\"imageH\":512,\"spread\":8,\"channels\":1,\"char_infos\":[{\"c\":13,\"x0\":307,\"y0\":381,\"w\":1,\"h\":1},{\"c\":32,\"x0\":325,\"y0\":381,\"xpad\":6.10156,\"w\":1,\"h\":1},{\"c\":33,\"x0\":436,\"y0\":230,\"yoffs\":4,\"xpad\":1.13281,\"w\":6,\"h\":22},{\"c\":34,\"x0\":879,\"y0\":347,\"yoffs\":4,\"w\":10,\"h\":8},{\"c\":35,\"x0\":673,\"y0\":309,\"yoffs\":10,\"w\":16,\"h\":17},{\"c\":36,\"x0\":215,\"y0\":8,\"yoffs\":1,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":37,\"x0\":933,\"y0\":148,\"yoffs\":4,\"xpad\":0.773438,\"w\":26,\"h\":23},{\"c\":38,\"x0\":976,\"y0\":148,\"yoffs\":4,\"xpad\":0.570313,\"w\":20,\"h\":23},{\"c\":39,\"x0\":906,\"y0\":347,\"yoffs\":4,\"w\":5,\"h\":8},{\"c\":40,\"x0\":8,\"y0\":190,\"yoffs\":5,\"w\":8,\"h\":23},{\"c\":41,\"x0\":33,\"y0\":190,\"yoffs\":5,\"xpad\":0.890625,\"w\":7,\"h\":23},{\"c\":42,\"x0\":645,\"y0\":347,\"yoffs\":2,\"w\":11,\"h\":11},{\"c\":43,\"x0\":706,\"y0\":309,\"yoffs\":9,\"xpad\":0.414063,\"w\":15,\"h\":17},{\"c\":44,\"x0\":928,\"y0\":347,\"yoffs\":22,\"w\":5,\"h\":8},{\"c\":45,\"x0\":252,\"y0\":381,\"yoffs\":16,\"w\":9,\"h\":3},{\"c\":46,\"x0\":156,\"y0\":381,\"yoffs\":22,\"w\":5,\"h\":4},{\"c\":47,\"x0\":57,\"y0\":190,\"yoffs\":4,\"w\":13,\"h\":23},{\"c\":48,\"x0\":459,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":49,\"x0\":402,\"y0\":270,\"yoffs\":5,\"xpad\":5.67188,\"w\":12,\"h\":21},{\"c\":50,\"x0\":431,\"y0\":270,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":21},{\"c\":51,\"x0\":493,\"y0\":230,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":22},{\"c\":52,\"x0\":464,\"y0\":270,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":21},{\"c\":53,\"x0\":526,\"y0\":230,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":22},{\"c\":54,\"x0\":559,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":55,\"x0\":498,\"y0\":270,\"yoffs\":5,\"xpad\":1.67188,\"w\":16,\"h\":21},{\"c\":56,\"x0\":593,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":57,\"x0\":627,\"y0\":230,\"yoffs\":5,\"xpad\":0.671875,\"w\":17,\"h\":22},{\"c\":58,\"x0\":401,\"y0\":347,\"yoffs\":12,\"w\":5,\"h\":14},{\"c\":59,\"x0\":651,\"y0\":309,\"yoffs\":12,\"w\":5,\"h\":18},{\"c\":60,\"x0\":867,\"y0\":103,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":61,\"x0\":847,\"y0\":347,\"yoffs\":14,\"w\":15,\"h\":9},{\"c\":62,\"x0\":896,\"y0\":103,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":63,\"x0\":661,\"y0\":230,\"yoffs\":4,\"xpad\":0.195313,\"w\":12,\"h\":22},{\"c\":64,\"x0\":87,\"y0\":190,\"yoffs\":7,\"xpad\":1.21094,\"w\":23,\"h\":23},{\"c\":65,\"x0\":531,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":66,\"x0\":567,\"y0\":270,\"yoffs\":5,\"xpad\":0.882813,\"w\":18,\"h\":21},{\"c\":67,\"x0\":690,\"y0\":230,\"yoffs\":5,\"xpad\":0.945313,\"w\":17,\"h\":22},{\"c\":68,\"x0\":602,\"y0\":270,\"yoffs\":5,\"xpad\":1.01563,\"w\":20,\"h\":21},{\"c\":69,\"x0\":639,\"y0\":270,\"yoffs\":5,\"xpad\":0.617188,\"w\":16,\"h\":21},{\"c\":70,\"x0\":672,\"y0\":270,\"yoffs\":5,\"w\":15,\"h\":21},{\"c\":71,\"x0\":724,\"y0\":230,\"yoffs\":5,\"xpad\":1.75,\"w\":18,\"h\":22},{\"c\":72,\"x0\":704,\"y0\":270,\"yoffs\":5,\"xpad\":2.53906,\"w\":18,\"h\":21},{\"c\":73,\"x0\":739,\"y0\":270,\"yoffs\":5,\"xpad\":2.54688,\"w\":6,\"h\":21},{\"c\":74,\"x0\":759,\"y0\":230,\"yoffs\":5,\"xpad\":2.75781,\"w\":6,\"h\":22},{\"c\":75,\"x0\":762,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":76,\"x0\":798,\"y0\":270,\"yoffs\":5,\"w\":16,\"h\":21},{\"c\":77,\"x0\":831,\"y0\":270,\"yoffs\":5,\"xpad\":2.27344,\"w\":21,\"h\":21},{\"c\":78,\"x0\":869,\"y0\":270,\"yoffs\":5,\"xpad\":2.74219,\"w\":19,\"h\":21},{\"c\":79,\"x0\":127,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":80,\"x0\":905,\"y0\":270,\"yoffs\":5,\"xpad\":0.828125,\"w\":17,\"h\":21},{\"c\":81,\"x0\":165,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":82,\"x0\":939,\"y0\":270,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":83,\"x0\":203,\"y0\":190,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":23},{\"c\":84,\"x0\":975,\"y0\":270,\"yoffs\":5,\"w\":17,\"h\":21},{\"c\":85,\"x0\":782,\"y0\":230,\"yoffs\":5,\"xpad\":2.04688,\"w\":19,\"h\":22},{\"c\":86,\"x0\":8,\"y0\":309,\"yoffs\":5,\"w\":19,\"h\":21},{\"c\":87,\"x0\":44,\"y0\":309,\"yoffs\":5,\"w\":30,\"h\":21},{\"c\":88,\"x0\":818,\"y0\":230,\"yoffs\":5,\"w\":20,\"h\":22},{\"c\":89,\"x0\":91,\"y0\":309,\"yoffs\":5,\"w\":18,\"h\":21},{\"c\":90,\"x0\":126,\"y0\":309,\"yoffs\":5,\"xpad\":0.226563,\"w\":17,\"h\":21},{\"c\":91,\"x0\":925,\"y0\":103,\"yoffs\":4,\"w\":9,\"h\":25},{\"c\":92,\"x0\":235,\"y0\":190,\"yoffs\":4,\"w\":13,\"h\":23},{\"c\":93,\"x0\":951,\"y0\":103,\"yoffs\":4,\"xpad\":1.70313,\"w\":7,\"h\":25},{\"c\":94,\"x0\":950,\"y0\":347,\"yoffs\":14,\"xpad\":0.1875,\"w\":13,\"h\":8},{\"c\":95,\"x0\":278,\"y0\":381,\"yoffs\":23,\"xpad\":0.4375,\"w\":12,\"h\":3},{\"c\":96,\"x0\":57,\"y0\":381,\"yoffs\":3,\"w\":6,\"h\":6},{\"c\":97,\"x0\":738,\"y0\":309,\"yoffs\":10,\"xpad\":1.29688,\"w\":14,\"h\":17},{\"c\":98,\"x0\":265,\"y0\":190,\"yoffs\":4,\"xpad\":0.890625,\"w\":16,\"h\":23},{\"c\":99,\"x0\":769,\"y0\":309,\"yoffs\":10,\"xpad\":0.273438,\"w\":14,\"h\":17},{\"c\":100,\"x0\":298,\"y0\":190,\"yoffs\":4,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":101,\"x0\":800,\"y0\":309,\"yoffs\":10,\"xpad\":1.04688,\"w\":15,\"h\":17},{\"c\":102,\"x0\":855,\"y0\":230,\"yoffs\":4,\"w\":10,\"h\":22},{\"c\":103,\"x0\":330,\"y0\":190,\"yoffs\":10,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":104,\"x0\":882,\"y0\":230,\"yoffs\":4,\"xpad\":1.10156,\"w\":16,\"h\":22},{\"c\":105,\"x0\":160,\"y0\":309,\"yoffs\":5,\"xpad\":1.34375,\"w\":6,\"h\":21},{\"c\":106,\"x0\":78,\"y0\":57,\"yoffs\":5,\"xpad\":1.07031,\"w\":7,\"h\":28},{\"c\":107,\"x0\":915,\"y0\":230,\"yoffs\":4,\"xpad\":0.171875,\"w\":15,\"h\":22},{\"c\":108,\"x0\":947,\"y0\":230,\"yoffs\":4,\"xpad\":1.46875,\"w\":6,\"h\":22},{\"c\":109,\"x0\":50,\"y0\":347,\"yoffs\":10,\"xpad\":1.14063,\"w\":25,\"h\":16},{\"c\":110,\"x0\":92,\"y0\":347,\"yoffs\":10,\"xpad\":2.03906,\"w\":15,\"h\":16},{\"c\":111,\"x0\":832,\"y0\":309,\"yoffs\":10,\"xpad\":0.828125,\"w\":16,\"h\":17},{\"c\":112,\"x0\":362,\"y0\":190,\"yoffs\":10,\"xpad\":0.890625,\"w\":16,\"h\":23},{\"c\":113,\"x0\":395,\"y0\":190,\"yoffs\":10,\"xpad\":2.07031,\"w\":15,\"h\":23},{\"c\":114,\"x0\":184,\"y0\":347,\"yoffs\":11,\"xpad\":0.203125,\"w\":10,\"h\":15},{\"c\":115,\"x0\":865,\"y0\":309,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":17},{\"c\":116,\"x0\":587,\"y0\":309,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":20},{\"c\":117,\"x0\":124,\"y0\":347,\"yoffs\":11,\"xpad\":1.64844,\"w\":15,\"h\":16},{\"c\":118,\"x0\":211,\"y0\":347,\"yoffs\":11,\"w\":15,\"h\":15},{\"c\":119,\"x0\":243,\"y0\":347,\"yoffs\":11,\"w\":23,\"h\":15},{\"c\":120,\"x0\":283,\"y0\":347,\"yoffs\":11,\"w\":16,\"h\":15},{\"c\":121,\"x0\":970,\"y0\":230,\"yoffs\":11,\"w\":15,\"h\":22},{\"c\":122,\"x0\":316,\"y0\":347,\"yoffs\":11,\"xpad\":0.851563,\"w\":13,\"h\":15},{\"c\":123,\"x0\":1002,\"y0\":230,\"yoffs\":6,\"w\":9,\"h\":22},{\"c\":124,\"x0\":8,\"y0\":8,\"w\":7,\"h\":32},{\"c\":125,\"x0\":8,\"y0\":270,\"yoffs\":6,\"xpad\":0.460938,\"w\":8,\"h\":22},{\"c\":126,\"x0\":127,\"y0\":381,\"yoffs\":16,\"xpad\":0.3125,\"w\":12,\"h\":5},{\"c\":144,\"x0\":980,\"y0\":347,\"yoffs\":-5,\"w\":14,\"h\":8},{\"c\":160,\"x0\":343,\"y0\":381,\"xpad\":6.10156,\"w\":1,\"h\":1},{\"c\":161,\"x0\":33,\"y0\":270,\"yoffs\":4,\"xpad\":1.13281,\"w\":6,\"h\":22},{\"c\":162,\"x0\":427,\"y0\":190,\"yoffs\":7,\"xpad\":0.273438,\"w\":14,\"h\":23},{\"c\":163,\"x0\":183,\"y0\":309,\"yoffs\":5,\"xpad\":0.304688,\"w\":14,\"h\":21},{\"c\":164,\"x0\":614,\"y0\":309,\"yoffs\":9,\"xpad\":0.328125,\"w\":20,\"h\":20},{\"c\":165,\"x0\":214,\"y0\":309,\"yoffs\":5,\"w\":18,\"h\":21},{\"c\":166,\"x0\":458,\"y0\":190,\"yoffs\":4,\"xpad\":2.10156,\"w\":6,\"h\":23},{\"c\":167,\"x0\":102,\"y0\":57,\"yoffs\":2,\"xpad\":1.25,\"w\":17,\"h\":28},{\"c\":168,\"x0\":178,\"y0\":381,\"yoffs\":4,\"xpad\":0.453125,\"w\":9,\"h\":4},{\"c\":169,\"x0\":481,\"y0\":190,\"yoffs\":4,\"xpad\":0.625,\"w\":25,\"h\":23},{\"c\":170,\"x0\":551,\"y0\":347,\"yoffs\":4,\"xpad\":0.296875,\"w\":10,\"h\":12},{\"c\":171,\"x0\":673,\"y0\":347,\"yoffs\":13,\"xpad\":0.140625,\"w\":11,\"h\":11},{\"c\":172,\"x0\":729,\"y0\":347,\"yoffs\":13,\"xpad\":0.382813,\"w\":15,\"h\":10},{\"c\":173,\"x0\":361,\"y0\":381,\"xpad\":2.94531,\"w\":1,\"h\":1},{\"c\":174,\"x0\":249,\"y0\":309,\"yoffs\":1,\"xpad\":0.3125,\"w\":22,\"h\":21},{\"c\":175,\"x0\":204,\"y0\":381,\"yoffs\":4,\"w\":9,\"h\":4},{\"c\":176,\"x0\":32,\"y0\":381,\"yoffs\":4,\"w\":8,\"h\":7},{\"c\":177,\"x0\":895,\"y0\":309,\"yoffs\":9,\"w\":14,\"h\":17},{\"c\":178,\"x0\":423,\"y0\":347,\"yoffs\":2,\"xpad\":0.890625,\"w\":11,\"h\":14},{\"c\":179,\"x0\":156,\"y0\":347,\"yoffs\":2,\"xpad\":1.52344,\"w\":11,\"h\":16},{\"c\":180,\"x0\":80,\"y0\":381,\"yoffs\":3,\"w\":6,\"h\":6},{\"c\":181,\"x0\":56,\"y0\":270,\"yoffs\":11,\"xpad\":1.85938,\"w\":15,\"h\":22},{\"c\":182,\"x0\":288,\"y0\":309,\"yoffs\":5,\"xpad\":0.5,\"w\":26,\"h\":21},{\"c\":183,\"x0\":230,\"y0\":381,\"yoffs\":16,\"w\":5,\"h\":4},{\"c\":184,\"x0\":8,\"y0\":381,\"yoffs\":25,\"xpad\":0.0703125,\"w\":7,\"h\":8},{\"c\":185,\"x0\":451,\"y0\":347,\"yoffs\":2,\"xpad\":0.6875,\"w\":10,\"h\":14},{\"c\":186,\"x0\":578,\"y0\":347,\"yoffs\":4,\"xpad\":0.625,\"w\":11,\"h\":12},{\"c\":187,\"x0\":701,\"y0\":347,\"yoffs\":13,\"xpad\":0.140625,\"w\":11,\"h\":11},{\"c\":188,\"x0\":247,\"y0\":8,\"yoffs\":2,\"xpad\":0.0546875,\"w\":25,\"h\":29},{\"c\":189,\"x0\":136,\"y0\":57,\"yoffs\":2,\"xpad\":1.22656,\"w\":25,\"h\":28},{\"c\":190,\"x0\":289,\"y0\":8,\"yoffs\":2,\"xpad\":0.109375,\"w\":26,\"h\":29},{\"c\":191,\"x0\":88,\"y0\":270,\"yoffs\":6,\"xpad\":0.09375,\"w\":13,\"h\":22},{\"c\":192,\"x0\":178,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":193,\"x0\":214,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":194,\"x0\":250,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":195,\"x0\":648,\"y0\":103,\"w\":19,\"h\":26},{\"c\":196,\"x0\":252,\"y0\":103,\"yoffs\":-1,\"w\":19,\"h\":27},{\"c\":197,\"x0\":286,\"y0\":57,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":198,\"x0\":331,\"y0\":309,\"yoffs\":5,\"xpad\":0.28125,\"w\":27,\"h\":21},{\"c\":199,\"x0\":322,\"y0\":57,\"yoffs\":5,\"xpad\":0.945313,\"w\":17,\"h\":28},{\"c\":200,\"x0\":356,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":201,\"x0\":389,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":202,\"x0\":422,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":203,\"x0\":288,\"y0\":103,\"yoffs\":-1,\"xpad\":0.617188,\"w\":16,\"h\":27},{\"c\":204,\"x0\":455,\"y0\":57,\"yoffs\":-2,\"xpad\":1.54688,\"w\":7,\"h\":28},{\"c\":205,\"x0\":479,\"y0\":57,\"yoffs\":-2,\"xpad\":0.546875,\"w\":8,\"h\":28},{\"c\":206,\"x0\":504,\"y0\":57,\"yoffs\":-2,\"w\":11,\"h\":28},{\"c\":207,\"x0\":321,\"y0\":103,\"yoffs\":-1,\"w\":9,\"h\":27},{\"c\":208,\"x0\":375,\"y0\":309,\"yoffs\":5,\"xpad\":1.22656,\"w\":20,\"h\":21},{\"c\":209,\"x0\":684,\"y0\":103,\"xpad\":2.74219,\"w\":19,\"h\":26},{\"c\":210,\"x0\":332,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":211,\"x0\":370,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":212,\"x0\":408,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":213,\"x0\":347,\"y0\":103,\"xpad\":1.22656,\"w\":21,\"h\":27},{\"c\":214,\"x0\":532,\"y0\":57,\"yoffs\":-1,\"xpad\":1.22656,\"w\":21,\"h\":28},{\"c\":215,\"x0\":346,\"y0\":347,\"yoffs\":11,\"xpad\":0.359375,\"w\":15,\"h\":15},{\"c\":216,\"x0\":523,\"y0\":190,\"yoffs\":4,\"xpad\":1.22656,\"w\":21,\"h\":23},{\"c\":217,\"x0\":446,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":218,\"x0\":482,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":219,\"x0\":518,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":220,\"x0\":570,\"y0\":57,\"yoffs\":-1,\"xpad\":2.04688,\"w\":19,\"h\":28},{\"c\":221,\"x0\":606,\"y0\":57,\"yoffs\":-2,\"w\":18,\"h\":28},{\"c\":222,\"x0\":412,\"y0\":309,\"yoffs\":5,\"xpad\":1.00781,\"w\":17,\"h\":21},{\"c\":223,\"x0\":446,\"y0\":309,\"yoffs\":5,\"xpad\":1.30469,\"w\":17,\"h\":21},{\"c\":224,\"x0\":69,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":225,\"x0\":100,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":226,\"x0\":131,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":227,\"x0\":561,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":228,\"x0\":592,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":229,\"x0\":975,\"y0\":103,\"yoffs\":2,\"xpad\":1.29688,\"w\":14,\"h\":25},{\"c\":230,\"x0\":926,\"y0\":309,\"yoffs\":10,\"xpad\":0.960938,\"w\":24,\"h\":17},{\"c\":231,\"x0\":623,\"y0\":190,\"yoffs\":10,\"xpad\":0.273438,\"w\":14,\"h\":23},{\"c\":232,\"x0\":162,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":233,\"x0\":194,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":234,\"x0\":226,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":235,\"x0\":654,\"y0\":190,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":236,\"x0\":686,\"y0\":190,\"yoffs\":3,\"xpad\":1.34375,\"w\":6,\"h\":23},{\"c\":237,\"x0\":709,\"y0\":190,\"yoffs\":3,\"w\":8,\"h\":23},{\"c\":238,\"x0\":734,\"y0\":190,\"yoffs\":3,\"w\":11,\"h\":23},{\"c\":239,\"x0\":118,\"y0\":270,\"yoffs\":4,\"w\":9,\"h\":22},{\"c\":240,\"x0\":762,\"y0\":190,\"yoffs\":4,\"xpad\":1.53125,\"w\":15,\"h\":23},{\"c\":241,\"x0\":144,\"y0\":270,\"yoffs\":4,\"xpad\":2.03906,\"w\":15,\"h\":22},{\"c\":242,\"x0\":258,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":243,\"x0\":291,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":244,\"x0\":324,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":245,\"x0\":794,\"y0\":190,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":246,\"x0\":827,\"y0\":190,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":247,\"x0\":478,\"y0\":347,\"yoffs\":11,\"xpad\":0.453125,\"w\":14,\"h\":14},{\"c\":248,\"x0\":967,\"y0\":309,\"yoffs\":10,\"xpad\":0.828125,\"w\":16,\"h\":17},{\"c\":249,\"x0\":357,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":250,\"x0\":389,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":251,\"x0\":421,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":252,\"x0\":860,\"y0\":190,\"yoffs\":4,\"xpad\":1.64844,\"w\":15,\"h\":23},{\"c\":253,\"x0\":64,\"y0\":8,\"yoffs\":3,\"w\":15,\"h\":30},{\"c\":254,\"x0\":554,\"y0\":8,\"yoffs\":4,\"xpad\":0.890625,\"w\":16,\"h\":29},{\"c\":255,\"x0\":587,\"y0\":8,\"yoffs\":4,\"w\":15,\"h\":29},{\"c\":256,\"x0\":720,\"y0\":103,\"w\":19,\"h\":26},{\"c\":257,\"x0\":892,\"y0\":190,\"yoffs\":4,\"xpad\":1.29688,\"w\":14,\"h\":23},{\"c\":258,\"x0\":385,\"y0\":103,\"yoffs\":-1,\"w\":19,\"h\":27},{\"c\":259,\"x0\":453,\"y0\":148,\"yoffs\":3,\"xpad\":1.29688,\"w\":14,\"h\":24},{\"c\":260,\"x0\":641,\"y0\":57,\"yoffs\":5,\"w\":21,\"h\":28},{\"c\":261,\"x0\":923,\"y0\":190,\"yoffs\":10,\"w\":16,\"h\":23},{\"c\":262,\"x0\":619,\"y0\":8,\"yoffs\":-2,\"xpad\":0.945313,\"w\":17,\"h\":29},{\"c\":263,\"x0\":484,\"y0\":148,\"yoffs\":3,\"xpad\":0.273438,\"w\":14,\"h\":24},{\"c\":268,\"x0\":653,\"y0\":8,\"yoffs\":-2,\"xpad\":0.945313,\"w\":17,\"h\":29},{\"c\":269,\"x0\":515,\"y0\":148,\"yoffs\":3,\"xpad\":0.273438,\"w\":14,\"h\":24},{\"c\":270,\"x0\":679,\"y0\":57,\"yoffs\":-2,\"xpad\":1.01563,\"w\":20,\"h\":28},{\"c\":271,\"x0\":956,\"y0\":190,\"yoffs\":4,\"w\":22,\"h\":23},{\"c\":272,\"x0\":480,\"y0\":309,\"yoffs\":5,\"xpad\":1.22656,\"w\":20,\"h\":21},{\"c\":273,\"x0\":995,\"y0\":190,\"yoffs\":4,\"xpad\":0.0703125,\"w\":17,\"h\":23},{\"c\":274,\"x0\":756,\"y0\":103,\"xpad\":0.617188,\"w\":16,\"h\":26},{\"c\":275,\"x0\":8,\"y0\":230,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":278,\"x0\":421,\"y0\":103,\"yoffs\":-1,\"xpad\":0.617188,\"w\":16,\"h\":27},{\"c\":279,\"x0\":40,\"y0\":230,\"yoffs\":4,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":280,\"x0\":716,\"y0\":57,\"yoffs\":5,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":281,\"x0\":72,\"y0\":230,\"yoffs\":10,\"xpad\":1.04688,\"w\":15,\"h\":23},{\"c\":282,\"x0\":749,\"y0\":57,\"yoffs\":-2,\"xpad\":0.617188,\"w\":16,\"h\":28},{\"c\":283,\"x0\":546,\"y0\":148,\"yoffs\":3,\"xpad\":1.04688,\"w\":15,\"h\":24},{\"c\":286,\"x0\":782,\"y0\":57,\"yoffs\":-1,\"xpad\":1.75,\"w\":18,\"h\":28},{\"c\":287,\"x0\":96,\"y0\":8,\"yoffs\":3,\"xpad\":2.07031,\"w\":15,\"h\":30},{\"c\":290,\"x0\":817,\"y0\":57,\"yoffs\":5,\"xpad\":1.75,\"w\":18,\"h\":28},{\"c\":291,\"x0\":32,\"y0\":8,\"yoffs\":2,\"xpad\":2.07031,\"w\":15,\"h\":31},{\"c\":298,\"x0\":789,\"y0\":103,\"w\":9,\"h\":26},{\"c\":299,\"x0\":176,\"y0\":270,\"yoffs\":4,\"w\":9,\"h\":22},{\"c\":302,\"x0\":852,\"y0\":57,\"yoffs\":5,\"xpad\":0.546875,\"w\":8,\"h\":28},{\"c\":303,\"x0\":877,\"y0\":57,\"yoffs\":5,\"w\":8,\"h\":28},{\"c\":304,\"x0\":454,\"y0\":103,\"yoffs\":-1,\"xpad\":1.54688,\"w\":7,\"h\":27},{\"c\":305,\"x0\":378,\"y0\":347,\"yoffs\":11,\"xpad\":1.34375,\"w\":6,\"h\":15},{\"c\":310,\"x0\":687,\"y0\":8,\"yoffs\":5,\"w\":19,\"h\":29},{\"c\":311,\"x0\":128,\"y0\":8,\"yoffs\":4,\"xpad\":0.171875,\"w\":15,\"h\":30},{\"c\":313,\"x0\":902,\"y0\":57,\"yoffs\":-2,\"w\":16,\"h\":28},{\"c\":314,\"x0\":815,\"y0\":103,\"w\":8,\"h\":26},{\"c\":315,\"x0\":723,\"y0\":8,\"yoffs\":5,\"w\":16,\"h\":29},{\"c\":316,\"x0\":160,\"y0\":8,\"yoffs\":4,\"xpad\":1.46875,\"w\":6,\"h\":30},{\"c\":317,\"x0\":202,\"y0\":270,\"yoffs\":4,\"w\":16,\"h\":22},{\"c\":318,\"x0\":235,\"y0\":270,\"yoffs\":4,\"w\":12,\"h\":22},{\"c\":321,\"x0\":517,\"y0\":309,\"yoffs\":5,\"xpad\":0.046875,\"w\":16,\"h\":21},{\"c\":322,\"x0\":264,\"y0\":270,\"yoffs\":4,\"w\":11,\"h\":22},{\"c\":323,\"x0\":935,\"y0\":57,\"yoffs\":-2,\"xpad\":2.74219,\"w\":19,\"h\":28},{\"c\":324,\"x0\":104,\"y0\":230,\"yoffs\":3,\"xpad\":2.03906,\"w\":15,\"h\":23},{\"c\":325,\"x0\":756,\"y0\":8,\"yoffs\":5,\"xpad\":2.74219,\"w\":19,\"h\":29},{\"c\":326,\"x0\":578,\"y0\":148,\"yoffs\":10,\"xpad\":2.03906,\"w\":15,\"h\":24},{\"c\":327,\"x0\":971,\"y0\":57,\"yoffs\":-2,\"xpad\":2.74219,\"w\":19,\"h\":28},{\"c\":328,\"x0\":136,\"y0\":230,\"yoffs\":3,\"xpad\":2.03906,\"w\":15,\"h\":23},{\"c\":332,\"x0\":478,\"y0\":103,\"xpad\":1.22656,\"w\":21,\"h\":27},{\"c\":333,\"x0\":168,\"y0\":230,\"yoffs\":4,\"xpad\":0.828125,\"w\":16,\"h\":23},{\"c\":336,\"x0\":792,\"y0\":8,\"yoffs\":-2,\"xpad\":1.22656,\"w\":21,\"h\":29},{\"c\":337,\"x0\":610,\"y0\":148,\"yoffs\":3,\"xpad\":0.828125,\"w\":16,\"h\":24},{\"c\":338,\"x0\":292,\"y0\":270,\"yoffs\":5,\"xpad\":0.390625,\"w\":29,\"h\":22},{\"c\":339,\"x0\":8,\"y0\":347,\"yoffs\":10,\"xpad\":0.65625,\"w\":25,\"h\":17},{\"c\":340,\"x0\":8,\"y0\":103,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":341,\"x0\":201,\"y0\":230,\"yoffs\":3,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":342,\"x0\":830,\"y0\":8,\"yoffs\":5,\"w\":19,\"h\":29},{\"c\":343,\"x0\":228,\"y0\":230,\"yoffs\":11,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":344,\"x0\":44,\"y0\":103,\"yoffs\":-2,\"w\":19,\"h\":28},{\"c\":345,\"x0\":255,\"y0\":230,\"yoffs\":3,\"xpad\":0.203125,\"w\":10,\"h\":23},{\"c\":346,\"x0\":866,\"y0\":8,\"yoffs\":-2,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":347,\"x0\":643,\"y0\":148,\"yoffs\":3,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":350,\"x0\":898,\"y0\":8,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":351,\"x0\":282,\"y0\":230,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":23},{\"c\":352,\"x0\":930,\"y0\":8,\"yoffs\":-2,\"xpad\":1.32031,\"w\":15,\"h\":29},{\"c\":353,\"x0\":673,\"y0\":148,\"yoffs\":3,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":354,\"x0\":80,\"y0\":103,\"yoffs\":5,\"w\":17,\"h\":28},{\"c\":355,\"x0\":840,\"y0\":103,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":26},{\"c\":356,\"x0\":114,\"y0\":103,\"yoffs\":-2,\"w\":17,\"h\":28},{\"c\":357,\"x0\":312,\"y0\":230,\"yoffs\":4,\"w\":15,\"h\":23},{\"c\":362,\"x0\":516,\"y0\":103,\"xpad\":2.04688,\"w\":19,\"h\":27},{\"c\":363,\"x0\":344,\"y0\":230,\"yoffs\":4,\"xpad\":1.64844,\"w\":15,\"h\":23},{\"c\":366,\"x0\":962,\"y0\":8,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":367,\"x0\":8,\"y0\":148,\"yoffs\":2,\"xpad\":1.64844,\"w\":15,\"h\":25},{\"c\":368,\"x0\":8,\"y0\":57,\"yoffs\":-2,\"xpad\":2.04688,\"w\":19,\"h\":29},{\"c\":369,\"x0\":703,\"y0\":148,\"yoffs\":3,\"xpad\":1.64844,\"w\":15,\"h\":24},{\"c\":370,\"x0\":148,\"y0\":103,\"yoffs\":5,\"xpad\":2.04688,\"w\":19,\"h\":28},{\"c\":371,\"x0\":338,\"y0\":270,\"yoffs\":11,\"w\":17,\"h\":22},{\"c\":376,\"x0\":552,\"y0\":103,\"yoffs\":-1,\"w\":18,\"h\":27},{\"c\":377,\"x0\":184,\"y0\":103,\"yoffs\":-2,\"xpad\":0.226563,\"w\":17,\"h\":28},{\"c\":378,\"x0\":376,\"y0\":230,\"yoffs\":3,\"xpad\":0.851563,\"w\":13,\"h\":23},{\"c\":379,\"x0\":587,\"y0\":103,\"yoffs\":-1,\"xpad\":0.226563,\"w\":17,\"h\":27},{\"c\":380,\"x0\":372,\"y0\":270,\"yoffs\":4,\"xpad\":0.851563,\"w\":13,\"h\":22},{\"c\":381,\"x0\":218,\"y0\":103,\"yoffs\":-2,\"xpad\":0.226563,\"w\":17,\"h\":28},{\"c\":382,\"x0\":406,\"y0\":230,\"yoffs\":3,\"xpad\":0.851563,\"w\":13,\"h\":23},{\"c\":402,\"x0\":40,\"y0\":148,\"yoffs\":4,\"w\":12,\"h\":25},{\"c\":536,\"x0\":183,\"y0\":8,\"yoffs\":4,\"xpad\":1.32031,\"w\":15,\"h\":30},{\"c\":537,\"x0\":735,\"y0\":148,\"yoffs\":10,\"xpad\":0.28125,\"w\":13,\"h\":24},{\"c\":538,\"x0\":44,\"y0\":57,\"yoffs\":5,\"w\":17,\"h\":29},{\"c\":539,\"x0\":621,\"y0\":103,\"yoffs\":7,\"xpad\":0.234375,\"w\":10,\"h\":27},{\"c\":8226,\"x0\":103,\"y0\":381,\"yoffs\":13,\"xpad\":0.28125,\"w\":7,\"h\":6},{\"c\":8482,\"x0\":606,\"y0\":347,\"yoffs\":5,\"xpad\":0.882813,\"w\":22,\"h\":12},{\"c\":8592,\"x0\":761,\"y0\":347,\"yoffs\":11,\"xpad\":0.882813,\"w\":26,\"h\":10},{\"c\":8593,\"x0\":765,\"y0\":148,\"yoffs\":4,\"xpad\":7.88281,\"w\":19,\"h\":24},{\"c\":8594,\"x0\":804,\"y0\":347,\"yoffs\":11,\"xpad\":0.882813,\"w\":26,\"h\":10},{\"c\":8595,\"x0\":801,\"y0\":148,\"yoffs\":4,\"xpad\":7.88281,\"w\":19,\"h\":24},{\"c\":8734,\"x0\":509,\"y0\":347,\"yoffs\":11,\"xpad\":0.6875,\"w\":25,\"h\":14},{\"c\":9742,\"x0\":837,\"y0\":148,\"yoffs\":4,\"w\":31,\"h\":24},{\"c\":9743,\"x0\":885,\"y0\":148,\"yoffs\":4,\"w\":31,\"h\":24},{\"c\":65533,\"x0\":550,\"y0\":309,\"yoffs\":5,\"w\":20,\"h\":21}]}","/*eslint global-require:off*/\nconst glov_local_storage = require('./glov/local_storage.js');\nglov_local_storage.storage_prefix = 'glovjs-playground'; // Before requiring anything else that might load from this\n\nconst engine = require('./glov/engine.js');\nconst glov_font = require('./glov/font.js');\nconst input = require('./glov/input.js');\nconst { floor } = Math;\nconst net = require('./glov/net.js');\nconst particles = require('./glov/particles.js');\nconst settings = require('./glov/settings.js');\nconst glov_sprites = require('./glov/sprites.js');\nconst sprite_animation = require('./glov/sprite_animation.js');\nconst transition = require('./glov/transition.js');\nconst ui = require('./glov/ui.js');\nconst ui_test = require('./glov/ui_test.js');\nconst particle_data = require('./particle_data.js');\nconst { soundLoad, soundPlay, soundPlayMusic, FADE_IN, FADE_OUT } = require('./glov/sound.js');\nconst { test3D } = require('./test_3d.js');\nconst { vec2, vec4, v4clone, v4copy } = require('./glov/vmath.js');\n\nwindow.Z = window.Z || {};\nZ.BACKGROUND = 1;\nZ.SPRITES = 10;\nZ.PARTICLES = 20;\nZ.UI_TEST = 200;\n\n// let app = exports;\n// Virtual viewport for our game logic\nexport const game_width = 320;\nexport const game_height = 240;\n\nexport let sprites = {};\n\nconst music_file = 'music_test.webm';\n\n// Persistent flags system for testing parameters\nlet flags = {};\nfunction flagGet(key, dflt) {\n  if (flags[key] === undefined) {\n    flags[key] = glov_local_storage.getJSON(`flag_${key}`, dflt) || false;\n  }\n  return flags[key];\n}\nfunction flagToggle(key) {\n  flags[key] = !flagGet(key);\n  glov_local_storage.setJSON(`flag_${key}`, flags[key]);\n}\nfunction flagSet(key, value) {\n  flags[key] = value;\n  glov_local_storage.setJSON(`flag_${key}`, flags[key]);\n}\n\nconst color_white = vec4(1, 1, 1, 1);\nconst colors_active = ui.makeColorSet(vec4(0.5, 1, 0.5, 1));\nconst colors_inactive = ui.makeColorSet(vec4(0.5, 0.5, 0.5, 1));\n\nfunction perfTestSprites() {\n  if (!sprites.test) {\n    sprites.test = [\n      glov_sprites.create({ name: 'test', size: vec2(1, 1), origin: vec2(0.5, 0.5) }),\n      glov_sprites.create({ url: 'img/test.png?1', size: vec2(1, 1), origin: vec2(0.5, 0.5) }),\n    ];\n  }\n\n  let mode = 2;\n  let count = [\n    80000, // one sprite, pre-sorted\n    40000, // one sprite, unsorted\n    20000, // two sprites, unsorted, small batches\n    60000, // two sprites, sorted, bigger batches, sprite API\n    60000, // two sprites, sorted, bigger batches, raw API\n  ][mode];\n  if (mode === 3 || mode === 4) {\n    for (let ii = 0; ii < count;) {\n      let subc = floor(500 + Math.random() * 100);\n      let idx = mode <= 1 ? 0 : Math.round(Math.random());\n      let sprite = sprites.test[idx];\n      let z = Math.random();\n      for (let jj = 0; jj < subc; ++jj) {\n        if (mode === 4) {\n          // glov_sprites.queueraw(sprite.texs,\n          //   Math.random() * game_width - 3, Math.random() * game_height - 3, z,\n          //   6, 6, 0, 0, 1, 1, color_white);\n          glov_sprites.queuesprite(sprite,\n            Math.random() * game_width, Math.random() * game_height, z,\n            6 * sprite.size[0], 6 * sprite.size[1], 0, sprite.uvs, color_white);\n        } else {\n          sprites.test[idx].draw({\n            x: Math.random() * game_width,\n            y: Math.random() * game_height,\n            z,\n            w: 6, h: 6,\n          });\n        }\n      }\n      ii += subc;\n    }\n  } else {\n    for (let ii = 0; ii < count; ++ii) {\n      let idx = mode <= 1 ? 0 : Math.round(Math.random());\n      sprites.test[idx].draw({\n        x: Math.random() * game_width,\n        y: Math.random() * game_height,\n        z: mode === 0 ? ii : Math.random(),\n        w: 6, h: 6,\n      });\n    }\n  }\n}\n\nexport function main() {\n  if (engine.DEBUG) {\n    // Enable auto-reload, etc\n    net.init({ engine });\n  }\n\n  const font_info_04b03x2 = require('./img/font/04b03_8x2.json');\n  const font_info_04b03x1 = require('./img/font/04b03_8x1.json');\n  const font_info_palanquin32 = require('./img/font/palanquin32.json');\n  let pixely = flagGet('pixely', 'on');\n  let font;\n  if (pixely === 'strict') {\n    font = { info: font_info_04b03x1, texture: 'font/04b03_8x1' };\n  } else if (pixely && pixely !== 'off') {\n    font = { info: font_info_04b03x2, texture: 'font/04b03_8x2' };\n  } else {\n    font = { info: font_info_palanquin32, texture: 'font/palanquin32' };\n  }\n\n  if (!engine.startup({\n    game_width,\n    game_height,\n    pixely,\n    font,\n    viewport_postprocess: false,\n  })) {\n    return;\n  }\n  font = engine.font;\n\n  // const font = engine.font;\n\n  // Perfect sizes for pixely modes\n  ui.scaleSizes(13 / 32);\n  ui.setFontHeight(8);\n\n  const createSprite = glov_sprites.create;\n  const createAnimation = sprite_animation.create;\n\n  const color_red = vec4(1, 0, 0, 1);\n  const color_yellow = vec4(1, 1, 0, 1);\n\n  // Cache KEYS\n  const KEYS = input.KEYS;\n  const PAD = input.PAD;\n\n  const sprite_size = 64;\n  function initGraphics() {\n    particles.preloadParticleData(particle_data);\n\n    soundLoad('test');\n\n    sprites.white = createSprite({ url: 'white' });\n\n    sprites.test_tint = createSprite({\n      name: 'tinted',\n      ws: [16, 16, 16, 16],\n      hs: [16, 16, 16],\n      size: vec2(sprite_size, sprite_size),\n      layers: 2,\n      origin: vec2(0.5, 0.5),\n    });\n    sprites.animation = createAnimation({\n      idle_left: {\n        frames: [0,1],\n        times: [200, 500],\n      },\n      idle_right: {\n        frames: [3,2],\n        times: [200, 500],\n      },\n    });\n    sprites.animation.setState('idle_left');\n\n    sprites.game_bg = createSprite({\n      url: 'white',\n      size: vec2(game_width, game_height),\n    });\n  }\n\n  let last_particles = 0;\n\n  function test(dt) {\n    gl.clearColor(0, 0.72, 1, 1);\n    if (!test.color_sprite) {\n      test.color_sprite = v4clone(color_white);\n      test.character = {\n        x: (Math.random() * (game_width - sprite_size - 200) + (sprite_size * 0.5) + 200),\n        y: (Math.random() * (game_height - sprite_size) + (sprite_size * 0.5)),\n      };\n    }\n\n    if (flagGet('ui_test')) {\n      // let clip_test = 30;\n      // glov_sprites.clip(Z.UI_TEST - 10, Z.UI_TEST + 10, clip_test, clip_test, 320-clip_test * 2, 240-clip_test * 2);\n      ui_test.run(10, 10, Z.UI_TEST);\n    }\n    if (flagGet('font_test')) {\n      ui_test.runFontTest(105, 85);\n    }\n\n    test.character.dx = 0;\n    test.character.dx -= input.keyDown(KEYS.LEFT) + input.keyDown(KEYS.A) + input.padButtonDown(PAD.LEFT);\n    test.character.dx += input.keyDown(KEYS.RIGHT) + input.keyDown(KEYS.D) + input.padButtonDown(PAD.RIGHT);\n    test.character.dy = 0;\n    test.character.dy -= input.keyDown(KEYS.UP) + input.keyDown(KEYS.W) + input.padButtonDown(PAD.UP);\n    test.character.dy += input.keyDown(KEYS.DOWN) + input.keyDown(KEYS.S) + input.padButtonDown(PAD.DOWN);\n    if (test.character.dx < 0) {\n      sprites.animation.setState('idle_left');\n    } else if (test.character.dx > 0) {\n      sprites.animation.setState('idle_right');\n    }\n\n    test.character.x += test.character.dx * 0.05;\n    test.character.y += test.character.dy * 0.05;\n    let bounds = {\n      x: test.character.x - sprite_size/2,\n      y: test.character.y - sprite_size/2,\n      w: sprite_size,\n      h: sprite_size,\n    };\n    if (input.mouseDown(bounds)) {\n      v4copy(test.color_sprite, color_yellow);\n    } else if (input.click(bounds)) {\n      v4copy(test.color_sprite, (test.color_sprite[2] === 0) ? color_white : color_red);\n      soundPlay('test');\n    } else if (input.mouseOver(bounds)) {\n      v4copy(test.color_sprite, color_white);\n      test.color_sprite[3] = 0.5;\n    } else {\n      v4copy(test.color_sprite, color_white);\n      test.color_sprite[3] = 1;\n    }\n\n    // sprites.game_bg.draw({\n    //   x: 0, y: 0, z: Z.BACKGROUND,\n    //   color: [0, 0.72, 1, 1]\n    // });\n    sprites.test_tint.drawDualTint({\n      x: test.character.x,\n      y: test.character.y,\n      z: Z.SPRITES,\n      color: [1, 1, 0, 1],\n      color1: [1, 0, 1, 1],\n      frame: sprites.animation.getFrame(dt),\n    });\n\n    let font_test_idx = 0;\n\n    ui.print(glov_font.styleColored(null, 0x000000ff),\n      test.character.x, test.character.y + (++font_test_idx * 20), Z.SPRITES,\n      'TEXT!');\n    let font_style = glov_font.style(null, {\n      outline_width: 1.0,\n      outline_color: 0x800000ff,\n      glow_xoffs: 3.25,\n      glow_yoffs: 3.25,\n      glow_inner: -2.5,\n      glow_outer: 5,\n      glow_color: 0x000000ff,\n    });\n    ui.print(font_style,\n      test.character.x, test.character.y + (++font_test_idx * ui.font_height), Z.SPRITES,\n      'Outline and Drop Shadow');\n\n    let x = ui.button_height;\n    let button_spacing = ui.button_height + 2;\n    let y = game_height - 10 - button_spacing * 6;\n    let mini_button_w = floor((ui.button_width - 2) / 2);\n\n    function miniButton(text, tooltip, active) {\n      let ret = ui.buttonText({\n        x, y, text, tooltip,\n        w: mini_button_w,\n        colors: active ? colors_active : colors_inactive,\n      });\n      x += 2 + mini_button_w;\n      if (x >= ui.button_width) {\n        x = ui.button_height;\n        y += button_spacing;\n      }\n      return ret;\n    }\n\n    if (ui.buttonText({ x, y, text: `Pixely: ${flagGet('pixely') || 'Off'}`,\n      tooltip: 'Toggles pixely or regular mode (requires reload)' })\n    ) {\n      if (flagGet('pixely') === 'strict') {\n        flagSet('pixely', false);\n      } else if (flagGet('pixely') === 'on') {\n        flagSet('pixely', 'strict');\n      } else {\n        flagSet('pixely', 'on');\n      }\n      if (document.location.reload) {\n        document.location.reload();\n      } else {\n        document.location = String(document.location);\n      }\n    }\n    y += button_spacing;\n\n    let rs3d_disabled = !flagGet('3d_test') || engine.render_width;\n    if (ui.buttonText({ x, y, text: `RenderScale3D: ${rs3d_disabled ? '' : settings.render_scale}`,\n      tooltip: 'Changes render_scale',\n      disabled: rs3d_disabled })\n    ) {\n      if (settings.render_scale === 1) {\n        settings.set('render_scale', 0.25);\n      } else {\n        settings.set('render_scale', 1);\n      }\n    }\n    y += button_spacing;\n\n    if (ui.buttonText({ x, y, text: `RenderScaleAll: ${settings.render_scale_all}`,\n      tooltip: 'Changes render_scale_all' })\n    ) {\n      if (settings.render_scale_all === 1) {\n        settings.set('render_scale_all', 0.5);\n      } else {\n        settings.set('render_scale_all', 1);\n      }\n    }\n    y += button_spacing;\n\n    font.drawSizedAligned(null, x, y, Z.UI, ui.font_height, font.ALIGN.HCENTER, ui.button_width, 0, 'Tests');\n    y += ui.font_height + 1;\n\n    let do_3d = flagGet('3d_test'); // before the toggle, so transition looks good\n    if (miniButton('3D', 'Toggles visibility of a 3D test', flagGet('3d_test'))) {\n      flagToggle('3d_test');\n      transition.queue(Z.TRANSITION_FINAL, transition.fade(500));\n    }\n\n    if (miniButton('Font', 'Toggles visibility of general Font tests', flagGet('font_test'))) {\n      flagToggle('font_test');\n      transition.queue(Z.TRANSITION_FINAL, transition.randomTransition());\n    }\n\n    if (miniButton('UI', 'Toggles visibility of general UI tests', flagGet('ui_test'))) {\n      flagToggle('ui_test');\n    }\n\n    if (miniButton('FX', 'Toggles particles', flagGet('particles', true))) {\n      flagToggle('particles');\n    }\n\n    if (miniButton('Music', 'Toggles playing a looping background music track', flagGet('music'))) {\n      flagToggle('music');\n      if (flagGet('music')) {\n        soundPlayMusic(music_file, 1, FADE_IN);\n      } else {\n        soundPlayMusic(music_file, 0, FADE_OUT);\n      }\n    }\n    y += button_spacing;\n\n    if (flagGet('particles')) {\n      if (engine.getFrameTimestamp() - last_particles > 1000) {\n        last_particles = engine.getFrameTimestamp();\n        engine.glov_particles.createSystem(particle_data.defs.explosion,\n          //[test.character.x, test.character.y, Z.PARTICLES]\n          [100 + Math.random() * 120, 100 + Math.random() * 140, Z.PARTICLES]\n        );\n      }\n    }\n\n    if (flagGet('perf_test')) {\n      perfTestSprites();\n    }\n\n    if (do_3d) {\n      test3D();\n    }\n\n\n    // Debuggin full canvas stretching\n    // const camera2d = require('./glov/camera2d.js');\n    // ui.drawLine(camera2d.x0(), camera2d.y0(), camera2d.x1(), camera2d.y1(), Z.BORDERS + 1, 1, 0.95,[1,0,1,0.5]);\n    // ui.drawLine(camera2d.x1(), camera2d.y0(), camera2d.x0(), camera2d.y1(), Z.BORDERS + 1, 1, 0.95,[1,0,1,0.5]);\n\n    // Debugging touch state on mobile\n    // const glov_camera2d = require('./glov/camera2d.js');\n    // engine.font.drawSizedWrapped(engine.fps_style, glov_camera2d.x0(), glov_camera2d.y0(), Z.FPSMETER,\n    //   glov_camera2d.w(), 0, 22, JSON.stringify({\n    //     last_touch_state: input.last_touch_state,\n    //     touch_state: input.touch_state,\n    //   }, undefined, 2));\n  }\n\n  function testInit(dt) {\n    engine.setState(test);\n    if (flagGet('music')) {\n      soundPlayMusic(music_file);\n    }\n    test(dt);\n  }\n\n  initGraphics();\n  engine.setState(testInit);\n}\n","/*eslint global-require:off*/\nconst local_storage = require('./glov/local_storage.js');\nlocal_storage.storage_prefix = 'glovjs-multiplayer'; // Before requiring anything else that might load from this\n\nconst assert = require('assert');\nconst { cmd_parse } = require('./glov/cmds.js');\nconst engine = require('./glov/engine.js');\nconst glov_font = require('./glov/font.js');\nconst input = require('./glov/input.js');\nconst { atan2, random } = Math;\nconst net = require('./glov/net.js');\nconst net_position_manager = require('./glov/net_position_manager.js');\nconst particles = require('./glov/particles.js');\nconst shaders = require('./glov/shaders.js');\nconst { soundLoad, soundPlay } = require('./glov/sound.js');\nconst glov_sprites = require('./glov/sprites.js');\nconst sprite_animation = require('./glov/sprite_animation.js');\nconst ui = require('./glov/ui.js');\nconst { toNumber } = require('../common/util.js');\n\nconst particle_data = require('./particle_data.js');\nconst { vec2, vec3, v2sub, vec4, v4copy } = require('./glov/vmath.js');\n\nwindow.Z = window.Z || {};\nZ.BACKGROUND = 1;\nZ.SPRITES = 10;\nZ.PARTICLES = 20;\n\nlet app = exports;\nwindow.app = app; // for debugging\n\nconst pos_manager = net_position_manager.create({ n: 3, dim_pos: 2, dim_rot: 1 });\n\nconst ROOM_REQUIRES_LOGIN = true;\n\n// Virtual viewport for our game logic\nexport const game_width = 1280;\nexport const game_height = 960;\n\nexport let sprites = {};\n\ncmd_parse.register({\n  cmd: 'bin_get',\n  func: function (str, resp_func) {\n    app.chat_ui.channel.pak('bin_get').send(function (err, pak) {\n      if (err) {\n        return void resp_func(err);\n      }\n      resp_func(null, pak.readBuffer(false).join(','));\n    });\n  },\n});\n\ncmd_parse.register({\n  cmd: 'bin_set',\n  func: function (str, resp_func) {\n    let pak = app.chat_ui.channel.pak('bin_set');\n    pak.writeBuffer(new Uint8Array(str.split(' ').map(toNumber)));\n    pak.send(resp_func);\n  },\n});\n\nexport function main() {\n  net.init({\n    engine,\n    cmd_parse,\n    auto_create_user: false,\n  });\n\n  if (!engine.startup({\n    game_width,\n    game_height,\n    pixely: false,\n    font: {\n      info: require('./img/font/palanquin32.json'),\n      texture: 'font/palanquin32',\n    },\n    safearea_ignore_bottom: true, // We keep the chat button out of the bottom center safe area trouble spot\n    ui_sounds: {\n      msg_err: 'msg_err',\n      msg_in: 'msg_in',\n      msg_out: 'msg_out',\n      msg_out_err: 'msg_out_err',\n      user_join: 'user_join',\n      user_leave: 'user_leave',\n    },\n  })) {\n    return;\n  }\n\n  const test_shader = shaders.create('shaders/test.fp');\n\n  // const font = engine.font;\n\n\n  const createSprite = glov_sprites.create;\n  const createAnimation = sprite_animation.create;\n\n  app.account_ui = require('./account_ui.js').create();\n  app.chat_ui = require('./glov/chat_ui.js').create({ max_len: 1000 });\n\n  const color_white = vec4(1, 1, 1, 1);\n  const color_gray = vec4(0.5, 0.5, 0.5, 1);\n  const color_red = vec4(1, 0, 0, 1);\n  const color_yellow = vec4(1, 1, 0, 1);\n\n  // Cache KEYS\n  const KEYS = input.KEYS;\n  const PAD = input.PAD;\n\n  const sprite_size = 64;\n  function initGraphics() {\n    particles.preloadParticleData(particle_data);\n\n    soundLoad('test');\n\n    sprites.white = createSprite({ url: 'white' });\n\n    sprites.test = createSprite({\n      name: 'test',\n      size: vec2(sprite_size, sprite_size),\n      origin: vec2(0.5, 0.5),\n    });\n    sprites.test_tint = createSprite({\n      name: 'tinted',\n      ws: [16, 16, 16, 16],\n      hs: [16, 16, 16],\n      size: vec2(sprite_size, sprite_size),\n      layers: 2,\n      origin: vec2(0.5, 0.5),\n    });\n    sprites.animation = createAnimation({\n      idle_left: {\n        frames: [0,1],\n        times: [200, 500],\n      },\n      idle_right: {\n        frames: [3,2],\n        times: [200, 500],\n      },\n    });\n    sprites.animation.setState('idle_left');\n\n    sprites.game_bg = createSprite({\n      url: 'white',\n      size: vec2(game_width, game_height),\n    });\n  }\n\n\n  let test_room;\n  let test;\n\n  function playerMotion(dt) {\n    // Network send\n    if (pos_manager.checkNet((pos) => {\n      test.character.x = pos[0];\n      test.character.y = pos[1];\n      test.character.rot = pos[2];\n    })) {\n      return;\n    }\n\n    test.character.dx = 0;\n    test.character.dx -= input.keyDown(KEYS.LEFT) + input.keyDown(KEYS.A) + input.padButtonDown(PAD.LEFT);\n    test.character.dx += input.keyDown(KEYS.RIGHT) + input.keyDown(KEYS.D) + input.padButtonDown(PAD.RIGHT);\n    test.character.dy = 0;\n    test.character.dy -= input.keyDown(KEYS.UP) + input.keyDown(KEYS.W) + input.padButtonDown(PAD.UP);\n    test.character.dy += input.keyDown(KEYS.DOWN) + input.keyDown(KEYS.S) + input.padButtonDown(PAD.DOWN);\n    if (test.character.dx < 0) {\n      sprites.animation.setState('idle_left');\n    } else if (test.character.dx > 0) {\n      sprites.animation.setState('idle_right');\n    }\n\n    test.character.x += test.character.dx * 0.2;\n    test.character.y += test.character.dy * 0.2;\n    let bounds = {\n      x: test.character.x - sprite_size/2,\n      y: test.character.y - sprite_size/2,\n      w: sprite_size,\n      h: sprite_size,\n    };\n    if (input.mouseDown(bounds)) {\n      v4copy(test.color_sprite, color_yellow);\n    } else if (input.click(bounds)) {\n      v4copy(test.color_sprite, (test.color_sprite[2] === 0) ? color_white : color_red);\n      soundPlay('test');\n    } else if (input.mouseOver(bounds)) {\n      v4copy(test.color_sprite, color_white);\n      test.color_sprite[3] = 0.5;\n    } else {\n      v4copy(test.color_sprite, color_white);\n      test.color_sprite[3] = 1;\n    }\n\n    let aim = v2sub(vec2(), input.mousePos(), [test.character.x, test.character.y]);\n    test.character.rot = atan2(aim[0], -aim[1]);\n\n    // Network send\n    pos_manager.updateMyPos(new Float64Array([test.character.x, test.character.y, test.character.rot]), 'idle');\n  }\n\n  function getRoom() {\n    if (!test_room) {\n      test_room = net.subs.getChannel('test.test', true);\n      pos_manager.reinit({\n        channel: test_room,\n        default_pos: vec3(\n          (random() * (game_width - sprite_size) + (sprite_size * 0.5)),\n          (random() * (game_height - sprite_size) + (sprite_size * 0.5)),\n          0\n        ),\n      });\n      app.chat_ui.setChannel(test_room);\n    }\n  }\n\n  function preLogout() {\n    if (test_room) {\n      assert(test_room.subscriptions);\n      net.subs.unsubscribe(test_room.channel_id);\n      app.chat_ui.setChannel(null);\n      test_room = null;\n      if (!ROOM_REQUIRES_LOGIN) {\n        setTimeout(getRoom, 1);\n      }\n    }\n  }\n\n  test = function (dt) {\n    // Allow focusing the canvas, and before chat.\n    ui.focusCheck('canvas');\n\n    app.chat_ui.run(dt);\n    app.account_ui.showLogin({\n      x: 0, y: 0,\n      prelogout: preLogout, center: false,\n      style: glov_font.style(null, {\n        outline_width: 2,\n        outline_color: 0xFFFFFFff,\n        color: 0x000000ff,\n      }),\n    });\n\n    if (!test.color_sprite) {\n      test.color_sprite = v4copy(vec4(), color_white);\n      test.character = { x: 0, y: 0, rot: 0 };\n    }\n\n    if (test_room && test_room.subscriptions) {\n      playerMotion(dt);\n\n      sprites.game_bg.draw({\n        x: 0, y: 0, z: Z.BACKGROUND,\n        color: [0.5, 0.6, 0.7, 1],\n        shader: test_shader,\n        shader_params: {\n          params: [1.0, 1.0, 1.0, engine.getFrameTimestamp() * 0.0005 % 1000],\n        },\n      });\n\n      sprites.test_tint.drawDualTint({\n        x: test.character.x,\n        y: test.character.y,\n        z: Z.SPRITES,\n        rot: test.character.rot,\n        color: [1, 1, 0, 1],\n        color1: [1, 0, 1, 1],\n        size: [sprite_size, sprite_size],\n        frame: sprites.animation.getFrame(dt),\n      });\n\n      // Draw other users\n      let room_clients = test_room.getChannelData('public.clients', {});\n      for (let client_id in room_clients) {\n        let other_client = room_clients[client_id];\n        if (other_client.pos && other_client.ids) {\n          let pcd = pos_manager.updateOtherClient(client_id, dt);\n          if (pcd) {\n            let pos = pcd.pos;\n            sprites.test.draw({\n              x: pos[0], y: pos[1], z: Z.SPRITES - 1,\n              rot: pos[2],\n              color: color_gray,\n            });\n            ui.font.drawSizedAligned(glov_font.styleColored(null, 0x00000080),\n              pos[0], pos[1] - 64, Z.SPRITES - 1,\n              ui.font_height, glov_font.ALIGN.HCENTER, 0, 0,\n              other_client.ids.display_name || `client_${client_id}`);\n          }\n        }\n      }\n    }\n\n    app.chat_ui.runLate(dt);\n  };\n\n  function testInit(dt) {\n    engine.setState(test);\n    if (!ROOM_REQUIRES_LOGIN) {\n      getRoom();\n    }\n\n    net.subs.onLogin(getRoom);\n\n    test(dt);\n  }\n\n  initGraphics();\n  engine.setState(testInit);\n}\n","export let defs = {};\n\ndefs.explosion = {\n  particles: {\n    part0: {\n      blend: 'alpha',\n      texture: 'particles/circle64',\n      color: [1,1,1,1], // multiplied by animation track, default 1,1,1,1, can be omitted\n      color_track: [\n        // just values, NOT random range\n        { t: 0.0, v: [1,1,1,0] },\n        { t: 0.2, v: [1,1,1,1] },\n        { t: 0.4, v: [1,1,0.5,0.5] },\n        { t: 1.0, v: [1,0,0,0] },\n      ],\n      size: [[48,8], [48,8]], // multiplied by animation track\n      size_track: [\n        // just values, NOT random range\n        { t: 0.0, v: [1,1] },\n        { t: 0.2, v: [2,2] },\n        { t: 0.4, v: [1,1] },\n        { t: 1.0, v: [1.5,1.5] },\n      ],\n      accel: [0,0,0],\n      rot: [0,360], // degrees\n      rot_vel: [10,2], // degrees per second\n      lifespan: [2500,0], // milliseconds\n      kill_time_accel: 5,\n    },\n  },\n  emitters: {\n    part0: {\n      particle: 'part0',\n      // Random ranges affect each emitted particle:\n      pos: [[-16,32], [-16,32], 0],\n      vel: [0,0,0],\n      emit_rate: [15,0], // emissions per second\n      // Random ranges only calculated upon instantiation:\n      emit_time: [0,1000],\n      emit_initial: 10,\n      max_parts: Infinity,\n    },\n  },\n  system_lifespan: 2500,\n};\n","const engine = require('./glov/engine.js');\nconst mat4LookAt = require('gl-mat4/lookat');\nconst mat4ScaleRotateTranslate = require('./glov/mat4ScaleRotateTranslate.js');\nconst models = require('./glov/models.js');\nconst { quat, qRotateZ } = require('./glov/quat.js');\nconst textures = require('./glov/textures.js');\nconst { mat4, zaxis, zero_vec } = require('./glov/vmath.js');\n\nlet mat_view = mat4();\nlet mat_obj = mat4();\nlet rot = quat();\n\nexport function test3D() {\n  if (!models.models.box) {\n    models.startup();\n  }\n  engine.start3DRendering();\n  mat4LookAt(mat_view, [5,4,3], zero_vec, zaxis);\n  engine.setGlobalMatrices(mat_view);\n  qRotateZ(rot, rot, engine.frame_dt * 0.001);\n  textures.bind(0, textures.textures.error);\n  mat4ScaleRotateTranslate(mat_obj, 1, rot, [1,1,0.03]);\n  models.models.box.draw(mat_obj);\n  mat4ScaleRotateTranslate(mat_obj, 1, rot, [0,0,0]);\n  models.models.box.draw(mat_obj);\n  mat4ScaleRotateTranslate(mat_obj, 1, rot, [1,0,0.01]);\n  models.models.box.draw(mat_obj);\n  mat4ScaleRotateTranslate(mat_obj, 1, rot, [0,1,0.02]);\n  models.models.box.draw(mat_obj);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n\nconst assert = require('assert');\nconst { isPacket } = require('./packet.js');\n\nexport function ackInitReceiver(receiver) {\n  receiver.last_pak_id = 0;\n  receiver.resp_cbs = {};\n  receiver.responses_waiting = 0;\n}\n\nconst ERR_FAILALL_DISCONNECT = 'ERR_FAILALL_DISCONNECT';\n\nconst ACKFLAG_IS_RESP = 1<<3;\nconst ACKFLAG_ERR = 1<<4;\nconst ACKFLAG_DATA_JSON = 1<<5;\n// `receiver` is really the sender, here, but will receive any response\nexport function ackWrapPakStart(pak, receiver, msg) {\n  let flags = 0;\n\n  pak.ack_data = {\n    receiver,\n  };\n\n  if (typeof msg === 'number') {\n    flags |= ACKFLAG_IS_RESP;\n    pak.writeInt(msg);\n  } else {\n    pak.writeAnsiString(msg);\n  }\n  let resp_pak_id = receiver ? ++receiver.last_pak_id : 0;\n  pak.ack_data.resp_pak_id = resp_pak_id;\n  pak.ack_data.resp_pak_id_offs = pak.getOffset();\n  pak.writeInt(resp_pak_id);\n\n  pak.ack_data.data_offs = pak.getOffset();\n  pak.ack_data.flags = flags;\n}\n\nexport function ackWrapPakPayload(pak, data) {\n  if (isPacket(data)) {\n    pak.appendRemaining(data);\n  } else {\n    pak.ack_data.flags |= ACKFLAG_DATA_JSON;\n    pak.writeJSON(data);\n  }\n}\n\nexport function ackWrapPakFinish(pak, err, resp_func) {\n  let flags = pak.ack_data.flags;\n  let offs = pak.getOffset();\n  if (err) {\n    // Nothing else must have been written\n    assert.equal(pak.ack_data.data_offs, offs);\n    flags |= ACKFLAG_ERR;\n    pak.writeString(String(err));\n    offs = pak.getOffset();\n  }\n  pak.makeReadable();\n  let resp_pak_id = 0;\n  if (resp_func && resp_func.expecting_response !== false) {\n    resp_pak_id = pak.ack_data.resp_pak_id;\n    assert(resp_pak_id);\n    assert(pak.ack_data.receiver);\n    pak.ack_data.receiver.resp_cbs[resp_pak_id] = resp_func;\n  } else {\n    pak.seek(pak.ack_data.resp_pak_id_offs);\n    pak.zeroInt();\n    pak.seek(offs);\n  }\n  pak.updateFlags(flags);\n  delete pak.ack_data;\n  return resp_pak_id;\n}\n\nexport function ackReadHeader(pak) {\n  let flags = pak.getFlags();\n  let msg = (flags & ACKFLAG_IS_RESP) ? pak.readInt() : pak.readAnsiString();\n  let pak_id = pak.readInt();\n  let err = (flags & ACKFLAG_ERR) ? pak.readString() : undefined;\n  let data;\n  if (flags & ACKFLAG_DATA_JSON) {\n    data = pak.readJSON();\n  } else {\n    data = pak;\n  }\n  return {\n    msg,\n    err,\n    data,\n    pak_id,\n  };\n}\n\nexport function failAll(receiver, err) {\n  err = err || ERR_FAILALL_DISCONNECT;\n  let cbs = receiver.resp_cbs;\n  receiver.resp_cbs = {};\n  receiver.responses_waiting = 0;\n  for (let pak_id in cbs) {\n    cbs[pak_id](err);\n  }\n}\n\n// `source` is a string for debug/logging only\n// `receiver` needs initReceicver called on it, have .onError() in the prototype and optionally .log()\n// sendFunc(msg, err, data, resp_func)\n// handleFunc(msg, data, resp_func)\n// eslint-disable-next-line consistent-return\nexport function ackHandleMessage(receiver, source, net_data_or_pak, send_func, pak_func, handle_func, filter_func) {\n  if (receiver.logPacketDispatch) {\n    receiver.logPacketDispatch(source, net_data_or_pak);\n  }\n  let net_data = isPacket(net_data_or_pak) ? ackReadHeader(net_data_or_pak) : net_data_or_pak;\n  let { err, data, msg, pak_id } = net_data;\n  let now = Date.now();\n  let expecting_response = Boolean(pak_id);\n  let timeout_id;\n  if (expecting_response) {\n    timeout_id = 'pending';\n  }\n  let sent_response = false;\n  let start_time = now;\n\n  if (filter_func && !filter_func(receiver, msg, data)) {\n    // Simply discard this message\n    return;\n  }\n\n  function preSendResp(err) {\n    assert(!sent_response, 'Response function called twice');\n    sent_response = true;\n\n    if (expecting_response) {\n      if (timeout_id) {\n        if (timeout_id !== 'pending') {\n          clearTimeout(timeout_id);\n        }\n      } else {\n        if (err === ERR_FAILALL_DISCONNECT) {\n          // this is the result of a failAll() call, a response was not actually sent!\n        } else {\n          (receiver.log ? receiver : console).log(`Response finally sent for ${msg\n          } after ${((Date.now() - start_time) / 1000).toFixed(1)}s`);\n        }\n      }\n      receiver.responses_waiting--;\n    }\n  }\n\n  function respFunc(err, resp_data, resp_func) {\n    preSendResp(err);\n    // the callback wants to send a response, and possibly get a response from that!\n    if (!expecting_response) {\n      // But, the other end is not expecting a response from this packet, black-hole it\n      if (resp_func) {\n        // We better not be expecting a response to our response!\n        receiver.onError(`Sending a response to a packet (${msg}) that did not expect` +\n          ' one, but we are expecting a response');\n        return;\n      }\n      // however, if there was an error, let's forward that along as an error message\n      if (err) {\n        send_func('error', null, err, null);\n      }\n      return;\n    }\n    send_func(pak_id, err, resp_data, resp_func);\n  }\n  respFunc.expecting_response = expecting_response;\n  respFunc.pak = function (ref_pak) {\n    assert(expecting_response);\n    let pak = pak_func(pak_id, ref_pak);\n    let orig_send = pak.send;\n    pak.send = function (err, resp_func) {\n      preSendResp(err);\n      orig_send.call(pak, err, resp_func);\n    };\n    return pak;\n  };\n\n  if (typeof msg === 'number') {\n    let cb = receiver.resp_cbs[msg];\n    if (!cb) {\n      return void receiver.onError(`Received response to unknown packet with id ${msg} from ${source}`);\n    }\n    delete receiver.resp_cbs[msg];\n    cb(err, data, respFunc);\n  } else {\n    if (!msg) {\n      return void receiver.onError(`Received message with no .msg from ${source}`);\n    }\n    handle_func(msg, data, respFunc);\n  }\n  if (expecting_response) {\n    // Note, this may be -1 if respFunc has already been called\n    receiver.responses_waiting++;\n    if (!sent_response && !respFunc.suppress_timeout) {\n      // timeout warning for response\n      timeout_id = setTimeout(function () {\n        timeout_id = null;\n        if (!respFunc.suppress_timeout) {\n          (receiver.log ? receiver : console).log(`Response not sent for ${msg\n          } from ${source} after ${((Date.now() - start_time) / 1000).toFixed(1)}s`);\n        }\n      }, 15*1000);\n    }\n  }\n}\n","const assert = require('assert');\n\n// Various async functions\n\n// Do *not* nextTick upon empty request, this causes different behavior when empty!\n// let nextTick = typeof process !== 'undefined' ?\n//   process.nextTick :\n//   window.setImmediate ? window.setImmediate : (fn) => setTimeout(fn, 1);\n\n// Derived from https://github.com/hughsk/async-series - MIT Licensed\nfunction series(arr, done) {\n  let length = arr.length;\n\n  if (!length) {\n    return void done(); // void nextTick(done);\n  }\n\n  function handleItem(idx) {\n    arr[idx](function (err) {\n      if (err) {\n        return done(err);\n      }\n      if (idx < length - 1) {\n        return handleItem(idx + 1);\n      }\n      return done();\n    });\n  }\n\n  handleItem(0);\n}\nexports.series = series;\n\n// Originally derived from https://github.com/feross/run-parallel-limit - MIT licensed\nfunction eachLimit(arr, limit, proc, done) {\n  assert.equal(typeof limit, 'number');\n  assert(Array.isArray(arr));\n  assert.equal(typeof proc, 'function');\n  assert.equal(typeof done, 'function');\n  let len = arr.length;\n  let pending = len;\n  let is_errored;\n\n  let next;\n  let results = [];\n  function doNext(idx, err, result) {\n    results[idx] = result;\n    if (err) {\n      is_errored = true;\n    }\n    if (--pending === 0 || err) {\n      if (done) {\n        done(err, results);\n      }\n      done = null;\n    } else if (!is_errored && next < len) {\n      let key = next++;\n      proc(arr[key], doNext.bind(null, key));\n    }\n  }\n\n  if (!pending) {\n    // empty\n    return void done(null, results); // void nextTick(done.bind(null, null, results));\n  }\n  next = limit;\n  for (let ii = 0; ii < arr.length && ii < limit; ++ii) {\n    proc(arr[ii], doNext.bind(null, ii));\n  }\n}\nexports.eachLimit = eachLimit;\n\nfunction each(arr, proc, done) {\n  eachLimit(arr, Infinity, proc, done);\n}\nexports.each = each;\n\nfunction parallelLimit(tasks, limit, done) {\n  eachLimit(tasks, limit, function (task, next) {\n    task(next);\n  }, done);\n}\nexports.parallelLimit = parallelLimit;\n\nfunction parallel(tasks, done) {\n  parallelLimit(tasks, Infinity, done);\n}\nexports.parallel = parallel;\n\nfunction limiter(max_parallel) {\n  let avail = max_parallel;\n  let head = null;\n  let tail = null;\n  function onFinish() {\n    if (!head) {\n      ++avail;\n      return;\n    }\n    let next = head;\n    head = head.next;\n    if (!head) {\n      tail = null;\n    }\n    next(onFinish);\n  }\n  return function limiterRun(exec) {\n    if (!avail) {\n      if (!head) {\n        head = tail = exec;\n      } else {\n        tail.next = exec;\n        tail = exec;\n      }\n      return;\n    }\n    --avail;\n    exec(onFinish);\n  };\n}\nexports.limiter = limiter;\n\nObject.keys(exports).forEach((key) => {\n  exports[`async${key[0].toUpperCase()}${key.slice(1)}`] = exports[key];\n});\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint no-bitwise:off */\n/* globals atob */\n\n// Encoding is fastest with non-native calls: http://jsperf.com/base64-encode\n// Decoding is fastest using window.btoa: http://jsperf.com/base64-decode\n\nconst { floor } = Math;\n\nconst chr_table = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\nconst PAD = '=';\n\n// dv is a DataView with a .u8 property\nfunction encode(dv, offset, length) {\n  let data = dv.u8;\n  let result = '';\n  let i;\n  let effi;\n  // Convert every three bytes to 4 ascii characters.\n  for (i = 0; i < (length - 2); i += 3) {\n    effi = offset + i;\n    result += chr_table[data[effi] >> 2];\n    result += chr_table[((data[effi] & 0x03) << 4) + (data[effi + 1] >> 4)];\n    result += chr_table[((data[effi + 1] & 0x0f) << 2) + (data[effi + 2] >> 6)];\n    result += chr_table[data[effi + 2] & 0x3f];\n  }\n\n  // Convert the remaining 1 or 2 bytes, pad out to 4 characters.\n  if (length % 3) {\n    i = length - (length % 3);\n    effi = offset + i;\n    result += chr_table[data[effi] >> 2];\n    if ((length % 3) === 2) {\n      result += chr_table[((data[effi] & 0x03) << 4) + (data[effi + 1] >> 4)];\n      result += chr_table[(data[effi + 1] & 0x0f) << 2];\n      result += PAD;\n    } else {\n      result += chr_table[(data[effi] & 0x03) << 4];\n      result += PAD + PAD;\n    }\n  }\n\n  return result;\n}\n\nfunction decodeNativeBrowser(data, allocator) {\n  let str = atob(data);\n  let len = str.length;\n  let dv = allocator(len);\n  let u8 = dv.u8;\n  for (let ii = 0; ii < len; ++ii) {\n    u8[ii] = str.charCodeAt(ii);\n  }\n  dv.decode_size = len;\n  return dv;\n}\n\nfunction encodeNativeNode(dv, offset, length) {\n  // Allocates a Buffer() object each time - could have our allocDataView do that if needed for perf\n  return Buffer.from(dv.buffer).toString('base64', offset, offset + length);\n}\n// Faster, but uses an internal function that might break:\n// function encodeNativeNode(dv, offset, length) {\n//   return Buffer.prototype.base64Slice.call(dv.u8, offset, offset + length);\n// }\n\nfunction decodeNativeNode(data, allocator) {\n  let buffer_len = (data.length >> 2) * 3 + floor((data.length % 4) / 1.5);\n  let dv = allocator(buffer_len);\n  let buffer = Buffer.from(dv.buffer);\n  dv.decode_size = buffer.write(data, 'base64');\n  return dv;\n}\n\nconst BROWSER = typeof window !== 'undefined';\n\n// string -> Uint8Array or Buffer\nexports.base64Decode = BROWSER ? decodeNativeBrowser : decodeNativeNode;\n// Uint8Array or Buffer -> string\nexports.base64Encode = BROWSER ? encode : encodeNativeNode;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { isInteger } = require('./util.js');\n\nexport function canonical(cmd) {\n  return cmd.toLowerCase().replace(/[_.]/g, '');\n}\n\nexport const TYPE_INT = 0;\nexport const TYPE_FLOAT = 1;\nexport const TYPE_STRING = 2;\nconst TYPE_NAME = ['INTEGER', 'NUMBER', 'STRING'];\n\nexport function defaultHandler(err, resp) {\n  if (err) {\n    console.error(err, resp);\n  } else {\n    console.info(resp);\n  }\n}\n\nfunction checkAccess(access, list) {\n  if (list) {\n    for (let ii = 0; ii < list.length; ++ii) {\n      if (!access || !access[list[ii]]) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nfunction CmdParse(params) {\n  this.cmds = {};\n  this.cmds_for_complete = this.cmds;\n  this.was_not_found = false;\n  this.storage = params && params.storage; // expects .setJSON(), .getJSON()\n  this.default_handler = defaultHandler;\n  this.register({\n    cmd: 'cmd_list',\n    func: this.cmdList.bind(this),\n    access_show: ['hidden'],\n  });\n}\nCmdParse.prototype.cmdList = function (str, resp_func) {\n  if (!this.cmd_list) {\n    let list = this.cmd_list = {};\n    for (let cmd in this.cmds) {\n      let cmd_data = this.cmds[cmd];\n      let access = []; // combine for data compaction\n      if (cmd_data.access_show) {\n        access = access.concat(cmd_data.access_show);\n      }\n      if (cmd_data.access_run) {\n        access = access.concat(cmd_data.access_run);\n      }\n      if (access.indexOf('hidden') !== -1) {\n        continue;\n      }\n      let data = {\n        name: cmd_data.name,\n        help: cmd_data.help,\n      };\n      if (cmd_data.usage) {\n        data.usage = cmd_data.usage;\n      }\n      if (access.length) {\n        data.access_show = access;\n      }\n      list[cmd] = data;\n    }\n  }\n  resp_func(null, this.cmd_list);\n};\n\nCmdParse.prototype.setDefaultHandler = function (fn) {\n  assert(this.default_handler === defaultHandler); // Should only set this once\n  this.default_handler = fn;\n};\nCmdParse.prototype.handle = function (self, str, resp_func) {\n  resp_func = resp_func || this.default_handler;\n  this.was_not_found = false;\n  let m = str.match(/^([^\\s]+)(?:\\s+(.*))?$/);\n  if (!m) {\n    resp_func('Missing command');\n    return true;\n  }\n  let cmd = canonical(m[1]);\n  let cmd_data = this.cmds[cmd];\n  if (cmd_data && !checkAccess(self && self.access, cmd_data.access_run)) {\n    // this.was_not_found = true;\n    resp_func(`Access denied: \"${m[1]}\"`);\n    return false;\n  }\n  if (!cmd_data) {\n    this.was_not_found = true;\n    resp_func(`Unknown command: \"${m[1]}\"`);\n    this.was_not_found = false;\n    return false;\n  }\n  cmd_data.fn.call(self, m[2] || '', resp_func);\n  return true;\n};\n\nCmdParse.prototype.register = function (param) {\n  assert.equal(typeof param, 'object');\n  let { cmd, func, help, usage, access_show, access_run } = param;\n  assert(cmd && func);\n  this.cmds[canonical(cmd)] = {\n    name: cmd,\n    fn: func,\n    help: help || '',\n    usage: usage || undefined,\n    access_show,\n    access_run,\n  };\n};\n\nCmdParse.prototype.registerValue = function (cmd, param) {\n  assert(TYPE_NAME[param.type] || !param.set);\n  assert(param.set || param.get);\n  let label = param.label || cmd;\n  let store = param.store && this.storage || false;\n  let store_key = `cmd_parse_${canonical(cmd)}`;\n  if (param.ver) {\n    store_key += `_${param.ver}`;\n  }\n  if (store) {\n    assert(param.set);\n    let init_value = this.storage.getJSON(store_key);\n    if (init_value !== undefined) {\n      // enforce stored values within current range\n      if (param.range) {\n        init_value = Number(init_value);\n        if (!isFinite(init_value) || init_value < param.range[0] || init_value > param.range[1]) {\n          init_value = undefined;\n        }\n      }\n      if (init_value !== undefined) {\n        param.set(init_value);\n      }\n    }\n  }\n  let fn = (str, resp_func) => {\n    function value() {\n      resp_func(null, `${label} = ${param.get()}`);\n    }\n    function usage() {\n      resp_func(`Usage: /${cmd} ${TYPE_NAME[param.type]}`);\n    }\n    if (!str) {\n      if (param.get) {\n        return value();\n      } else {\n        return usage();\n      }\n    }\n    if (!param.set) {\n      return resp_func(`Usage: /${cmd}`);\n    }\n    let n = Number(str);\n    if (param.range) {\n      if (n < param.range[0]) {\n        n = param.range[0];\n      } else if (n > param.range[1]) {\n        n = param.range[1];\n      }\n    }\n    let store_value = n;\n    if (param.type === TYPE_INT) {\n      if (!isInteger(n)) {\n        return usage();\n      }\n      param.set(n);\n    } else if (param.type === TYPE_FLOAT) {\n      if (!isFinite(n)) {\n        return usage();\n      }\n      param.set(n);\n    } else {\n      store_value = str;\n      param.set(str);\n    }\n    if (store) {\n      this.storage.setJSON(store_key, store_value);\n    }\n    if (param.on_change) {\n      param.on_change();\n    }\n    if (param.get) {\n      return value();\n    } else {\n      return resp_func(null, `${label} udpated`);\n    }\n  };\n  this.register({\n    cmd,\n    func: fn,\n    help: param.help || ((param.get && param.set) ?\n      `Set or display \"${label}\" value` :\n      param.set ? `Set \"${label}\" value` : `Display \"${label}\" value`),\n    usage: param.usage || ((param.get ? `Display \"${label}\" value\\n  Usage: /${cmd}\\n` : '') +\n      (param.set ? `Set \"${label}\" value\\n  Usage: /${cmd} NewValue` : '')),\n    access_show: param.access_show,\n    access_run: param.access_run,\n  });\n};\n\nfunction cmpCmd(a, b) {\n  if (a.cname < b.cname) {\n    return -1;\n  }\n  return 1;\n}\n\n// for auto-complete\nCmdParse.prototype.addServerCommands = function (new_cmds) {\n  let cmds = this.cmds_for_complete;\n  if (this.cmds_for_complete === this.cmds) {\n    cmds = this.cmds_for_complete = {};\n    for (let cname in this.cmds) {\n      cmds[cname] = this.cmds[cname];\n    }\n  }\n  for (let cname in new_cmds) {\n    if (!cmds[cname]) {\n      cmds[cname] = new_cmds[cname];\n    }\n  }\n};\n\nCmdParse.prototype.autoComplete = function (str, access) {\n  let list = [];\n  str = str.split(' ');\n  let first_tok = canonical(str[0]);\n  for (let cname in this.cmds_for_complete) {\n    if (str.length === 1 && cname.slice(0, first_tok.length) === first_tok ||\n      str.length > 1 && cname === first_tok\n    ) {\n      let cmd_data = this.cmds_for_complete[cname];\n      if (checkAccess(access, cmd_data.access_show) && checkAccess(access, cmd_data.access_run)) {\n        list.push({\n          cname,\n          cmd: cmd_data.name,\n          help: cmd_data.help,\n          usage: cmd_data.usage,\n        });\n      }\n    }\n  }\n  list.sort(cmpCmd);\n  return list; // .slice(0, 20); Maybe?\n};\n\nCmdParse.prototype.canonical = canonical;\n\nCmdParse.prototype.TYPE_INT = TYPE_INT;\nCmdParse.prototype.TYPE_FLOAT = TYPE_FLOAT;\nCmdParse.prototype.TYPE_STRING = TYPE_STRING;\n\nexport function create(params) {\n  return new CmdParse(params);\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport let FRIEND_ADDED = 1;\nexport let FRIEND_ADDED_AUTO = 2;\nexport let FRIEND_REMOVED = 3;\n\nexport let PRESENCE_OFFLINE = 0; // for invisible, etc\nexport let PRESENCE_ACTIVE = 1;\nexport let PRESENCE_INACTIVE = 2;\n","/**\n *\n *  MD5 (Message-Digest Algorithm)\n *  http://www.webtoolkit.info/\n *\n * Modified by railGun to handle node.js Buffer objects\n *\n **/\n\n/* eslint no-bitwise:off, new-cap:off*/\nconst assert = require('assert');\n\nfunction stringUtf8Encode(str) {\n  let c;\n  let n;\n  let utftext = [];\n  str = str.replace(/\\r\\n/g, '\\n');\n  for (n = 0; n < str.length; ++n) {\n    c = str.charCodeAt(n);\n    if (c < 128) {\n      utftext.push(String.fromCharCode(c));\n    } else if ((c > 127) && (c < 2048)) {\n      utftext.push(String.fromCharCode((c >> 6) | 192));\n      utftext.push(String.fromCharCode((c & 63) | 128));\n    } else {\n      utftext.push(String.fromCharCode((c >> 12) | 224));\n      utftext.push(String.fromCharCode(((c >> 6) & 63) | 128));\n      utftext.push(String.fromCharCode((c & 63) | 128));\n    }\n  }\n  return utftext.join('');\n}\n\n\nfunction rotateLeft(lValue, iShiftBits) {\n  return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));\n}\n\nfunction addUnsigned(lX,lY) {\n  let lX8 = (lX & 0x80000000);\n  let lY8 = (lY & 0x80000000);\n  let lX4 = (lX & 0x40000000);\n  let lY4 = (lY & 0x40000000);\n  let lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);\n  if (lX4 & lY4) {\n    return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n  }\n  if (lX4 | lY4) {\n    if (lResult & 0x40000000) {\n      return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n    } else {\n      return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n    }\n  } else {\n    return (lResult ^ lX8 ^ lY8);\n  }\n}\n\nfunction F(x,y,z) {\n  return (x & y) | ((~x) & z);\n}\nfunction G(x,y,z) {\n  return (x & z) | (y & (~z));\n}\nfunction H(x,y,z) {\n  return (x ^ y ^ z);\n}\nfunction I(x,y,z) {\n  return (y ^ (x | (~z)));\n}\n\nfunction FF(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction GG(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction HH(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction II(a,b,c,d,x,s,ac) {\n  a = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));\n  return addUnsigned(rotateLeft(a, s), b);\n}\n\nfunction convertToWordArray(string) {\n  let lWordCount;\n  let lMessageLength = string.length;\n  let lNumberOfWords_temp1=lMessageLength + 8;\n  let lNumberOfWords_temp2=\n    (lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;\n  let lNumberOfWords = (lNumberOfWords_temp2+1)*16;\n  let lWordArray=new Array(lNumberOfWords-1);\n  let lBytePosition = 0;\n  let lByteCount = 0;\n  while (lByteCount < lMessageLength) {\n    lWordCount = (lByteCount-(lByteCount % 4))/4;\n    lBytePosition = (lByteCount % 4)*8;\n    lWordArray[lWordCount] |= string.charCodeAt(lByteCount) << lBytePosition;\n    lByteCount++;\n  }\n  lWordCount = (lByteCount-(lByteCount % 4))/4;\n  lBytePosition = (lByteCount % 4)*8;\n  lWordArray[lWordCount] |= (0x80<<lBytePosition);\n  lWordArray[lNumberOfWords-2] = lMessageLength<<3;\n  lWordArray[lNumberOfWords-1] = lMessageLength>>>29;\n  return lWordArray;\n}\n\n// function convertByteArraytoWordArray(arr) {\n//   let lWordCount;\n//   let lMessageLength = arr.length;\n//   let lNumberOfWords_temp1 = lMessageLength + 8;\n//   let lNumberOfWords_temp2 =\n//     (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;\n//   let lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\n//   let lWordArray = new Array(lNumberOfWords - 1);\n//   let lBytePosition = 0;\n//   let lByteCount = 0;\n//   while (lByteCount < lMessageLength) {\n//     lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n//     lBytePosition = (lByteCount % 4) * 8;\n//     lWordArray[lWordCount] |= arr[lByteCount] << lBytePosition;\n//     lByteCount++;\n//   }\n//   lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n//   lBytePosition = (lByteCount % 4) * 8;\n//   lWordArray[lWordCount] |= 0x80 << lBytePosition;\n//   lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n//   lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n//   return lWordArray;\n// }\n\nfunction wordToHex(lValue) {\n  let wordToHexValue='';\n\n\n  let wordToHexValue_temp='';\n\n\n  let lByte;\n  let lCount;\n  for (lCount = 0; lCount<=3; lCount++) {\n    lByte = (lValue>>>(lCount*8)) & 255;\n    wordToHexValue_temp = `0${lByte.toString(16)}`;\n    wordToHexValue +=\n      wordToHexValue_temp.substr(wordToHexValue_temp.length-2,2);\n  }\n  return wordToHexValue;\n}\n\n// string can either be a string, node.js Buffer, array (of numbers < 256)\n// or a typed array\nmodule.exports = function md5(string) {\n  let AA;\n  let BB;\n  let CC;\n  let DD;\n  let a;\n  let b;\n  let c;\n  let d;\n  let k;\n  let S11=7;\n  let S12=12;\n  let S13=17;\n  let S14=22;\n  let S21=5;\n  let S22=9;\n  let S23=14;\n  let S24=20;\n  let S31=4;\n  let S32=11;\n  let S33=16;\n  let S34=23;\n  let S41=6;\n  let S42=10;\n  let S43=15;\n  let S44=21;\n\n  let x;\n  if (typeof string === 'string') {\n    string = stringUtf8Encode(string);\n    x = convertToWordArray(string);\n  } else {\n    assert(false); // disable due to not used\n    // node.js buffer or Array\n    // x = convertByteArraytoWordArray(string);\n  }\n\n  a = 0x67452301;\n  b = 0xEFCDAB89;\n  c = 0x98BADCFE;\n  d = 0x10325476;\n\n  for (k=0; k<x.length; k+=16) {\n    AA=a;\n    BB=b;\n    CC=c;\n    DD=d;\n    a=FF(a,b,c,d,x[k], S11,0xD76AA478);\n    d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);\n    c=FF(c,d,a,b,x[k+2], S13,0x242070DB);\n    b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);\n    a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);\n    d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);\n    c=FF(c,d,a,b,x[k+6], S13,0xA8304613);\n    b=FF(b,c,d,a,x[k+7], S14,0xFD469501);\n    a=FF(a,b,c,d,x[k+8], S11,0x698098D8);\n    d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);\n    c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);\n    b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);\n    a=FF(a,b,c,d,x[k+12],S11,0x6B901122);\n    d=FF(d,a,b,c,x[k+13],S12,0xFD987193);\n    c=FF(c,d,a,b,x[k+14],S13,0xA679438E);\n    b=FF(b,c,d,a,x[k+15],S14,0x49B40821);\n    a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);\n    d=GG(d,a,b,c,x[k+6], S22,0xC040B340);\n    c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);\n    b=GG(b,c,d,a,x[k], S24,0xE9B6C7AA);\n    a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);\n    d=GG(d,a,b,c,x[k+10],S22,0x2441453);\n    c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);\n    b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);\n    a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);\n    d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);\n    c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);\n    b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);\n    a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);\n    d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);\n    c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);\n    b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);\n    a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);\n    d=HH(d,a,b,c,x[k+8], S32,0x8771F681);\n    c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);\n    b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);\n    a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);\n    d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);\n    c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);\n    b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);\n    a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);\n    d=HH(d,a,b,c,x[k], S32,0xEAA127FA);\n    c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);\n    b=HH(b,c,d,a,x[k+6], S34,0x4881D05);\n    a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);\n    d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);\n    c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);\n    b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);\n    a=II(a,b,c,d,x[k], S41,0xF4292244);\n    d=II(d,a,b,c,x[k+7], S42,0x432AFF97);\n    c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);\n    b=II(b,c,d,a,x[k+5], S44,0xFC93A039);\n    a=II(a,b,c,d,x[k+12],S41,0x655B59C3);\n    d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);\n    c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);\n    b=II(b,c,d,a,x[k+1], S44,0x85845DD1);\n    a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);\n    d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);\n    c=II(c,d,a,b,x[k+6], S43,0xA3014314);\n    b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);\n    a=II(a,b,c,d,x[k+4], S41,0xF7537E82);\n    d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);\n    c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);\n    b=II(b,c,d,a,x[k+9], S44,0xEB86D391);\n    a=addUnsigned(a,AA);\n    b=addUnsigned(b,BB);\n    c=addUnsigned(c,CC);\n    d=addUnsigned(d,DD);\n  }\n\n  let temp = wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);\n  return temp.toLowerCase();\n};\n\n/* // Uncomment this and run \"node MD5.js file.ext\"\nvar FS = require('fs');\nvar data = FS.readFileSync(process.argv[2]);\nvar md5 = module.exports(data);\nconsole.log('MD5 = ' + md5);\n// */\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Some code derived from libGLOV (C++), also MIT Licensed\n\n/* eslint no-bitwise:off */\n\n// Upon read, throw an exception if there is any data read error (e.g. read off of end of packet)\n\n// TODO: Maybe: Have 2 offsets, one for writing (data_len?), one for reading (buf_offs?),\n//   then there should be many fewer ?pak.readable branches\n//   that return different values under different circumstances, and maybe fewer .makeReadable() calls needed.\n\n\n// 3 bits of flags reserved for internal use\nconst PACKET_DEBUG = exports.PACKET_DEBUG = 1<<0;\nconst PACKET_RESERVED1 = exports.PACKET_RESERVED1 = 1<<1;\nconst PACKET_RESERVED2 = exports.PACKET_RESERVED2 = 1<<2;\nconst FLAG_PACKET_INTERNAL = PACKET_DEBUG | PACKET_RESERVED1 | PACKET_RESERVED2;\n\n// Internal, runtime-only (not serialized) flags < 8 bits\nconst PACKET_UNOWNED_BUFFER = 1 << 8;\n\nexports.default_flags = 0;\n\nconst assert = require('assert');\nconst { max } = Math;\nconst { isInteger, log2 } = require('../common/util.js');\n// const { isInteger, log2 } = require('../../build.dev/common/util.js');\nconst { base64Encode, base64Decode } = require('../common/base64.js');\n\nconst FALSYS = [undefined, null, 0, false, '', NaN];\nconst PAK_BUF_DEFAULT_SIZE = 1024;\n\nconst UNDERRUN = 'PKTERR_UNDERRUN';\n\nconst POOL_PACKETS = 5000;\nconst POOL_TIMEOUT = 5000;\nconst POOL_BUF_BY_SIZE = [\n  0, // 2^0 : 1 - shouldn't be allocated ever?\n  10, // 2^1 : 2\n  10, // 2^2 : 4\n  20, // 2^3 : 8\n  20, // 2^4 : 16\n  20, // 2^5 : 32\n  20, // 2^6 : 64\n  20, // 2^7 : 128\n  20, // 2^8 : 256\n  20, // 2^9 : 512\n  5000, // 2^10 : 1024 - standard Packet size\n  20, // 2^11 : 2048\n  20, // 2^12 : 4096\n  20, // 2^13 : 8192\n  20, // 2^14 : 16384\n  20, // 2^15 : 32768\n  20, // 2^16 : 65536\n  10, // 2^17 : 131072\n  10, // 2^18 : 262144,\n];\n\nlet pak_pool = [];\nlet pak_debug_pool = [];\nlet buf_pool = POOL_BUF_BY_SIZE.map(() => []);\n\nfunction allocDataView(size) {\n  let pool_idx = log2(size);\n  assert(pool_idx);\n  if (pool_idx >= buf_pool.length) {\n    pool_idx = 0;\n  }\n  if (pool_idx) {\n    size = 1 << pool_idx;\n    if (buf_pool[pool_idx].length) {\n      // No reinit here, just a container\n      //console.log(`Buffer FROMPOOL:${size}/${pool_idx}`);\n      return buf_pool[pool_idx].pop();\n    }\n  } else {\n    // Enable this (and lower pool size) to track down big packets:\n    // console.log(`Allocating UNPOOLABLE buffer of size ${size} from ${new Error().stack}`);\n  }\n  //console.log(`Buffer ALLOC:${size}`);\n  let u8 = new Uint8Array(size);\n  let dv = new DataView(u8.buffer);\n  dv.u8 = u8;\n  if (pool_idx) {\n    dv.packet_pool_idx = pool_idx;\n  }\n  return dv;\n}\n\nfunction wrapU8AsDataView(u8) {\n  let dv = new DataView(u8.buffer, u8.byteOffset, u8.byteLength);\n  dv.u8 = u8;\n  return dv;\n}\n\nfunction utf8ByteLength(str) {\n  let len = str.length;\n  let ret = len;\n  for (let ii = 0; ii < len; ++ii) {\n    let c = str.charCodeAt(ii);\n    if (c > 0x7F) {\n      ++ret;\n      if (c > 0x07FF) {\n        ++ret;\n        if (c > 0xFFFF) {\n          ++ret;\n          if (c > 0x1FFFFF) {\n            ++ret;\n            if (c > 0x3FFFFFF) {\n              ++ret;\n            }\n          }\n        }\n      }\n    }\n  }\n  return ret;\n}\n\n// Assumes buffer will fit it\nfunction utf8WriteChar(buf, buf_offs, c) {\n  if (c <= 0x7F) {\n    buf.u8[buf_offs++] = c;\n  } else if (c <= 0x07FF) {\n    buf.u8[buf_offs++] = (c >> 6) | 0xC0;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0xFFFF) {\n    buf.u8[buf_offs++] = (c >> 12) | 0xE0;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x1FFFFF) {\n    buf.u8[buf_offs++] = (c >> 18) | 0xF0;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x3FFFFFF) {\n    buf.u8[buf_offs++] = (c >> 24) | 0xF8;\n    buf.u8[buf_offs++] = ((c >> 18) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  } else if (c <= 0x7FFFFFFF) {\n    buf.u8[buf_offs++] = (c >> 30) | 0xFC;\n    buf.u8[buf_offs++] = ((c >> 24) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 18) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 12) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = ((c >> 6) & 0x3F) | 0x80;\n    buf.u8[buf_offs++] = (c & 0x3F) | 0x80;\n  }\n  return buf_offs;\n}\n\nfunction poolBuf(dv) {\n  // if it's poolable (not part of another Buffer), pool it!\n  assert(dv);\n  assert(dv.u8);\n  let pool_idx = dv.packet_pool_idx;\n  if (pool_idx) {\n    let arr = buf_pool[pool_idx];\n    if (arr.length < POOL_BUF_BY_SIZE[pool_idx]) {\n      //console.log(`Buffer TOPOOL:${dv.byteLength}/${pool_idx}`);\n      arr.push(dv);\n    }\n  } else {\n    // console.log(`Buffer UNPOOLABLE:${dv.byteLength}`);\n  }\n}\n\nexport function packetBufPoolAlloc(size) {\n  return allocDataView(size);\n}\nexport function packetBufPoolFree(dv) {\n  poolBuf(dv);\n}\n\nfunction Packet(flags, init_size, pak_debug) {\n  this.reinit(flags, init_size, pak_debug);\n}\nPacket.prototype.reinit = function (flags, init_size, pak_debug) {\n  this.flags = flags || 0;\n  this.has_flags = false;\n  this.buf = null;\n  this.buf_len = 0;\n  this.buf_offs = 0;\n  this.bufs = null;\n  this.bsizes = null;\n  this.readable = false;\n  this.ref_count = 1;\n  this.pak_debug = pak_debug;\n  if (init_size) {\n    this.fit(init_size, true);\n    this.buf_len = init_size;\n  }\n};\nPacket.prototype.ref = function () {\n  assert(this.ref_count); // must not already be pooled!\n  ++this.ref_count;\n};\nPacket.prototype.pool = function () {\n  assert(this.ref_count);\n  if (--this.ref_count) {\n    return;\n  }\n  // Do not clear on pool(), callers (readInt()) may still momentarily reference .buf, etc\n  if (this.flags & PACKET_UNOWNED_BUFFER) {\n    // doing nothing with buffers, still pooling the packet\n  } else {\n    if (this.buf) {\n      poolBuf(this.buf);\n    }\n    if (this.bufs) {\n      for (let ii = 0; ii < this.bufs.length; ++ii) {\n        poolBuf(this.bufs[ii]);\n      }\n    }\n  }\n  if (pak_pool.length < POOL_PACKETS) {\n    pak_pool.push(this);\n  }\n  if (this.pak_debug) {\n    this.pak_debug.poolDebug();\n  }\n};\n\nPacket.prototype.totalSize = function () {\n  let ret = 0;\n  if (this.readable) {\n    return this.buf_len;\n  }\n  if (this.bsizes) {\n    for (let ii = 0; ii < this.bsizes.length; ++ii) {\n      ret += this.bsizes[ii];\n    }\n  }\n  ret += this.buf_offs;\n  return ret;\n};\n\nPacket.prototype.setReadable = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  assert(!this.readable);\n  this.readable = true;\n};\n\nPacket.prototype.makeReadable = function () {\n  assert(this.buf);\n  assert(!this.readable); // otherwise just reset offset? or do nothing?\n  let total = this.totalSize(); // before this.readable = true\n  this.readable = true;\n  if (!this.bufs) {\n    this.buf_len = total;\n    this.buf_offs = 0;\n    return;\n  }\n  let buf = allocDataView(total);\n  let u8 = buf.u8;\n  let offs = 0;\n  for (let ii = 0; ii < this.bufs.length; ++ii) {\n    let bsize = this.bsizes[ii];\n    let dv = this.bufs[ii];\n    if (offs + dv.u8.length > total) {\n      // unused portion would overrun\n      assert.equal(dv.byteOffset, 0);\n      u8.set(new Uint8Array(dv.buffer, 0, bsize), offs);\n    } else {\n      u8.set(dv.u8, offs);\n    }\n    offs += bsize;\n    poolBuf(dv);\n  }\n  assert.equal(this.buf.byteOffset, 0); // Would handle it, but should never happen here, these are our pooled buffers?\n  u8.set(new Uint8Array(this.buf.buffer, this.buf.byteOffset, this.buf_offs), offs);\n  poolBuf(this.buf);\n  assert.equal(offs + this.buf_offs, total);\n  this.bufs = this.bsizes = null;\n  this.buf = buf;\n  this.buf_offs = 0;\n  this.buf_len = total; // buffer is actually buf.buffer.byteLength, but we can't read past `total`\n};\n\nPacket.prototype.flush = function () {\n  let { buf, buf_offs } = this;\n  if (!this.bufs) {\n    this.bufs = [buf];\n    this.bsizes = [buf_offs];\n  } else {\n    this.bufs.push(buf);\n    this.bsizes.push(buf_offs);\n  }\n  this.buf = null;\n  this.buf_len = 0;\n  this.buf_offs = 0;\n};\nPacket.prototype.fit = function (extra_bytes, no_advance) {\n  let { buf, buf_len, buf_offs } = this;\n  let new_offs = buf_offs + extra_bytes;\n  if (new_offs <= buf_len) {\n    if (!no_advance) {\n      this.buf_offs = new_offs;\n    }\n    return buf_offs;\n  }\n  assert(!this.readable); // Shouldn't happen on concatenated buffers\n  if (buf) {\n    this.flush();\n  }\n  this.buf_len = buf_len = max(PAK_BUF_DEFAULT_SIZE, extra_bytes);\n  this.buf = allocDataView(buf_len);\n  this.buf_offs = no_advance ? 0 : extra_bytes;\n  return 0;\n};\nPacket.prototype.advance = function (bytes) {\n  let offs = this.buf_offs;\n  let new_offs = offs + bytes;\n  this.buf_offs = new_offs;\n  if (new_offs > this.buf_len) {\n    throw new Error(UNDERRUN);\n  }\n  if (new_offs === this.buf_len) {\n    this.pool();\n  }\n  return offs;\n};\nPacket.prototype.ended = function () {\n  return this.buf_offs === this.buf_len;\n};\n\n// low-level write/read functions\nPacket.prototype.writeU8 = function (v) {\n  assert(v >= 0 && v < 256);\n  let offs = this.fit(1);\n  this.buf.u8[offs] = v;\n};\nPacket.prototype.readU8 = function () {\n  return this.buf.u8[this.advance(1)];\n};\n// Packed int, first byte:\n// 0-247 byte\n// 248 positive 16-bit\n// 249 negative 16-bit\n// 250 positive 32-bit\n// 251 negative 32-bit\n// 252 positive 64-bit\n// 253 negative 64-bit\n// 254 unused\n// 255 negative byte\nPacket.prototype.writeInt = function (v) {\n  assert(isInteger(v));\n  let offs = this.fit(9, true); // 9 is max size of a packed int\n  let buf = this.buf;\n  let neg = (v < 0) ? 1 : 0;\n  if (neg) {\n    v = -v;\n  }\n  if (v < 248) { // || neg && v < 256 would also decode right\n    if (neg) {\n      buf.u8[offs++] = 255;\n    }\n    buf.u8[offs++] = v;\n  } else {\n    if (v < 65536) {\n      buf.u8[offs++] = 248 + neg;\n      buf.setUint16(offs, v, true);\n      offs += 2;\n    } else if (v < 4294967296) {\n      buf.u8[offs++] = 250 + neg;\n      buf.setUint32(offs, v, true);\n      offs += 4;\n    } else {\n      buf.u8[offs++] = 252 + neg;\n      let low_bits = v >>> 0;\n      buf.setUint32(offs, low_bits, true);\n      offs += 4;\n      buf.setUint32(offs, (v - low_bits) / 4294967296, true);\n      offs += 4;\n    }\n  }\n  this.buf_offs = offs;\n};\nPacket.prototype.zeroInt = function () {\n  // Overwrite an existing int with a zero, keeping the same packed size\n  let b1 = this.buf.u8[this.buf_offs];\n  if (b1 < 248) {\n    this.buf.u8[this.buf_offs++] = 0;\n    return;\n  }\n  // Otherwise, leave header bit\n  this.buf_offs++;\n  let zeroes = 1;\n  switch (b1) {\n    case 253:\n    case 252: // 8\n      zeroes += 4;\n    case 251:  // eslint-disable-line no-fallthrough\n    case 250: // 4\n      zeroes += 2;\n    case 249:  // eslint-disable-line no-fallthrough\n    case 248: // 2\n      zeroes++;\n    case 255:  // eslint-disable-line no-fallthrough\n      // 1\n      break;\n    default:\n      throw new Error('PKTERR_PACKED_INT');\n  }\n  while (zeroes) {\n    --zeroes;\n    this.buf.u8[this.buf_offs++] = 0;\n  }\n};\nPacket.prototype.readInt = function () {\n  let b1 = this.buf.u8[this.advance(1)];\n  if (b1 < 248) {\n    return b1;\n  }\n  let sign = 1;\n  switch (b1) {\n    case 249:\n      sign = -1;\n    case 248: // eslint-disable-line no-fallthrough\n      return sign * this.buf.getUint16(this.advance(2), true);\n    case 251:\n      sign = -1;\n    case 250: // eslint-disable-line no-fallthrough\n      return sign * this.buf.getUint32(this.advance(4), true);\n    case 253:\n      sign = -1;\n    case 252: { // eslint-disable-line no-fallthrough\n      let low_bits = this.buf.getUint32(this.advance(4), true);\n      let high_bits = this.buf.getUint32(this.advance(4), true);\n      return sign * (high_bits * 4294967296 + low_bits);\n    }\n    case 255:\n      return -this.buf.u8[this.advance(1)];\n    default:\n      throw new Error('PKTERR_PACKED_INT');\n  }\n};\nPacket.prototype.writeFloat = function (v) {\n  assert.equal(typeof v, 'number');\n  if (!v) {\n    this.buf.u8[this.fit(1)] = 0;\n    return;\n  }\n  let offs = this.fit(5, true);\n  this.buf.setFloat32(offs, v, true);\n  if (this.buf.u8[offs] <= 1) { // escape a 0 or 1 in the first byte\n    this.buf.u8[offs++] = 1;\n    this.buf.setFloat32(offs, v, true);\n  }\n  this.buf_offs = offs + 4;\n};\nPacket.prototype.readFloat = function () {\n  let offs = this.advance(1);\n  let b1 = this.buf.u8[offs];\n  if (!b1) {\n    return 0;\n  }\n  if (b1 === 1) {\n    return this.buf.getFloat32(this.advance(4), true);\n  }\n  this.advance(3);\n  return this.buf.getFloat32(offs, true);\n};\nPacket.prototype.writeU32 = function (v) {\n  assert.equal(typeof v, 'number');\n  this.buf.setUint32(this.fit(4), v, true);\n};\nPacket.prototype.readU32 = function () {\n  return this.buf.getUint32(this.advance(4), true);\n};\nPacket.prototype.writeString = function (v) {\n  assert.equal(typeof v, 'string'); // Could maybe do a toString() here if not\n  let byte_length = utf8ByteLength(v);\n  this.writeInt(byte_length); // Just 1 byte for small strings\n  if (!byte_length) {\n    return;\n  }\n  let offs = this.fit(byte_length);\n  let buf = this.buf;\n  for (let ii = 0; ii < v.length; ++ii) {\n    let c = v.charCodeAt(ii);\n    if (c <= 0x7F) {\n      buf.u8[offs++] = c;\n    } else {\n      offs = utf8WriteChar(buf, offs, c);\n    }\n  }\n};\n// Only called on multi-byte characters; Supplied the first byte for efficiency\nPacket.prototype.utf8ReadChar = function (c) {\n  let buf = this.buf;\n  if (c >= 0xC0 && c < 0xE0) {\n    return ((c & 0x1F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xE0 && c < 0xF0) {\n    return ((c & 0x0F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xF0 && c < 0xF8) {\n    return ((c & 0x0F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else if (c >= 0xF8 && c < 0xFC) {\n    return ((c & 0x0F) << 24) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  } else { //if (c >= 0xFC) {\n    return ((c & 0x0F) << 30) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 24) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 18) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 12) |\n      ((buf.u8[this.buf_offs++] & 0x3F) << 6) |\n      (buf.u8[this.buf_offs++] & 0x3F);\n  }\n};\n\nlet string_assembly = [];\nPacket.prototype.readString = function () {\n  let byte_length = this.readInt();\n  if (!byte_length) {\n    return '';\n  }\n  if (this.buf_offs + byte_length > this.buf_len) {\n    throw new Error(UNDERRUN);\n  }\n\n  let { buf } = this;\n  let end_offset = this.buf_offs + byte_length;\n  let ret;\n  if (byte_length > 8192) {\n    ret = '';\n    while (this.buf_offs < end_offset) {\n      let c = buf.u8[this.buf_offs++];\n      if (c > 0x7F) {\n        c = this.utf8ReadChar(c);\n      }\n      ret += String.fromCharCode(c);\n    }\n  } else {\n    string_assembly.length = byte_length;\n    let ii = 0;\n    while (this.buf_offs < end_offset) {\n      let c = buf.u8[this.buf_offs++];\n      if (c > 0x7F) {\n        c = this.utf8ReadChar(c);\n      }\n      string_assembly[ii++] = c;\n    }\n    if (string_assembly.length !== ii) {\n      // truncate if multi-byte UTF8 produced single characters\n      string_assembly.length = ii;\n    }\n    ret = String.fromCharCode.apply(undefined, string_assembly);\n  }\n  if (this.buf_offs === this.buf_len) {\n    this.pool();\n  }\n  return ret;\n};\n// Much more efficient than writeString if the input is known to be ANSI-ish (all characters <= 255)\nPacket.prototype.writeAnsiString = function (v) {\n  assert.equal(typeof v, 'string'); // Could maybe do a toString() here if not\n  let byte_length = v.length;\n  this.writeInt(byte_length);\n  let offs = this.fit(byte_length);\n  let { buf } = this;\n  for (let ii = 0; ii < byte_length; ++ii) {\n    buf.u8[offs++] = v.charCodeAt(ii);\n  }\n};\nPacket.prototype.readAnsiString = function () {\n  let len = this.readInt();\n  if (!len) {\n    return '';\n  }\n  let offs = this.advance(len);\n  let { buf } = this;\n  string_assembly.length = len;\n  for (let ii = 0; ii < len; ++ii) {\n    string_assembly[ii] = buf.u8[offs++];\n  }\n  return String.fromCharCode.apply(undefined, string_assembly);\n};\n\n// high-level write/read functions\nPacket.prototype.writeJSON = function (v) {\n  if (!v) {\n    let idx = FALSYS.indexOf(v);\n    assert(idx !== -1);\n    this.writeU8(idx + 1);\n    return;\n  }\n  this.writeU8(0);\n  this.writeString(JSON.stringify(v));\n};\nPacket.prototype.readJSON = function () {\n  let byte = this.readU8();\n  if (byte) {\n    if (byte - 1 >= FALSYS.length) {\n      throw new Error('PKTERR_JSON_HEADER');\n    }\n    return FALSYS[byte - 1];\n  }\n  let str = this.readString();\n  return JSON.parse(str);\n};\n// Uint8Array or Buffer object?\nPacket.prototype.writeBuffer = function (v) {\n  this.writeInt(v.length);\n  if (v.length) {\n    let offs = this.fit(v.length);\n    this.buf.u8.set(v, offs);\n  }\n};\nconst null_buf = new Uint8Array(0);\nPacket.prototype.readBuffer = function (do_copy) {\n  let len = this.readInt();\n  if (!len) {\n    return null_buf;\n  }\n  let offs = this.advance(len);\n  if (do_copy) {\n    return this.buf.u8.slice(offs, offs + len);\n  } else {\n    let { buf } = this;\n    return new Uint8Array(buf.buffer, buf.byteOffset + offs, len);\n  }\n};\nPacket.prototype.writeBool = function (v) {\n  this.writeU8(v?1:0);\n};\nPacket.prototype.readBool = function () {\n  return Boolean(this.readU8());\n};\n\nPacket.prototype.append = function (pak) {\n  assert.equal(this.flags & FLAG_PACKET_INTERNAL, pak.flags & FLAG_PACKET_INTERNAL);\n  if (pak.bufs) {\n    for (let ii = 0; ii < pak.bufs.length; ++ii) {\n      let buf = pak.bufs[ii];\n      let bsize = pak.bsizes[ii];\n      let offs = this.fit(bsize);\n      if (bsize !== buf.byteLength) {\n        this.buf.u8.set(new Uint8Array(buf.buffer, buf.byteOffset, bsize), offs);\n      } else {\n        this.buf.u8.set(buf.u8, offs);\n      }\n    }\n  }\n  if (pak.buf) {\n    let buf = pak.buf;\n    let bsize = pak.readable ? pak.buf_len : pak.buf_offs;\n    let offs = this.fit(bsize);\n    if (bsize !== buf.byteLength) {\n      this.buf.u8.set(new Uint8Array(buf.buffer, buf.byteOffset, bsize), offs);\n    } else {\n      this.buf.u8.set(buf.u8, offs);\n    }\n  }\n};\n\nPacket.prototype.appendRemaining = function (pak) {\n  assert.equal(this.flags & FLAG_PACKET_INTERNAL, pak.flags & FLAG_PACKET_INTERNAL);\n  assert(pak.readable);\n  assert(!pak.bufs);\n  assert(pak.buf);\n  assert(pak.buf_offs <= pak.buf_len);\n  let bsize = pak.buf_len - pak.buf_offs;\n  if (bsize) {\n    let offs = this.fit(bsize);\n    this.buf.u8.set(new Uint8Array(pak.buf.buffer, pak.buf.byteOffset + pak.buf_offs, bsize), offs);\n  }\n  // everything consumed, pool it\n  pak.pool();\n};\n\nPacket.prototype.toJSON = function () {\n  let ret = {\n    f: this.flags,\n  };\n\n  if (this.bufs) {\n    ret.b = [];\n    for (let ii = 0; ii < this.bufs.length; ++ii) {\n      ret.b.push(base64Encode(this.bufs[ii], 0, this.bsizes[ii]));\n    }\n  }\n  if (this.buf) {\n    if (this.readable) {\n      ret.d = base64Encode(this.buf, 0, this.buf_len);\n    } else {\n      ret.d = base64Encode(this.buf, 0, this.buf_offs);\n    }\n  }\n  return ret;\n};\n\nPacket.prototype.setBuffer = function (buf, buf_len) {\n  assert(!this.buf);\n  assert(!this.bufs);\n  assert(this.flags & PACKET_UNOWNED_BUFFER); // Probably okay if not?\n  assert(buf instanceof Uint8Array);\n  this.buf = wrapU8AsDataView(buf);\n  this.buf_len = buf_len;\n  this.readable = true;\n};\n\nPacket.prototype.getBuffer = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  return this.buf.u8;\n};\n\nPacket.prototype.getBufferLen = function () {\n  assert(this.buf);\n  assert(!this.bufs);\n  return this.readable ? this.buf_len : this.buf_offs;\n};\n\nPacket.prototype.getOffset = function () {\n  if (this.readable) {\n    return this.buf_offs;\n  }\n  return this.totalSize();\n};\n\nPacket.prototype.seek = function (pos) {\n  assert(this.readable); // .makeReadable should be called so that it is a single buffer\n  assert(pos >= 0 && pos <= this.buf_len);\n  this.buf_offs = pos;\n};\n\nPacket.prototype.writeFlags = function () {\n  assert(!this.has_flags);\n  assert.equal(this.buf_offs, 0);\n  this.writeU8(this.flags);\n  this.has_flags = true;\n};\n\nPacket.prototype.updateFlags = function (flags) {\n  assert(this.has_flags);\n  assert(!(flags & FLAG_PACKET_INTERNAL));\n  this.flags = this.flags & FLAG_PACKET_INTERNAL | flags;\n  let buf = this.bufs ? this.bufs[0] : this.buf;\n  buf.u8[0] = this.flags;\n};\n\nPacket.prototype.readFlags = function () {\n  let read = this.readU8();\n  assert.equal(read, this.flags & 0xFF);\n  this.has_flags = true;\n  return this.flags;\n};\n\nPacket.prototype.getFlags = function () {\n  return this.flags;\n};\n\nPacket.prototype.getInternalFlags = function () {\n  return this.flags & FLAG_PACKET_INTERNAL;\n};\n\nPacket.prototype.contents = function () {\n  return `pak(${this.totalSize()}b)`;\n};\n\nfunction PacketDebug(flags, init_size) {\n  this.reinit(flags, init_size);\n}\nPacketDebug.prototype.reinit = function (flags, init_size) {\n  this.in_pool = false;\n  if (pak_pool.length) {\n    this.pak = pak_pool.pop();\n    this.pak.reinit(flags, init_size, this);\n  } else {\n    this.pak = new Packet(flags, init_size, this);\n  }\n  this.warned = false;\n  this.pool_timer = setTimeout(() => {\n    console.warn(`Packet not pooled after 5s: ${this.contents()}`);\n    this.warned = true;\n  }, POOL_TIMEOUT);\n};\nPacketDebug.prototype.poolDebug = function () {\n  if (this.warned) {\n    console.warn('Packet pooled after timeout');\n  } else {\n    clearTimeout(this.pool_timer);\n  }\n  assert(!this.in_pool);\n  this.in_pool = true; // Set this, as if pooled, even if discarded\n  if (pak_debug_pool.length < POOL_PACKETS) {\n    pak_debug_pool.push(this);\n  }\n};\nconst types = [null, 'U8', 'U32', 'Int', 'Float', 'String', 'AnsiString', 'JSON', 'Bool', 'Buffer'];\n// Functions (types) that read and write a debug byte\ntypes.forEach((type, idx) => {\n  if (!type) { // don't use debug ID 0\n    return;\n  }\n  let write = `write${type}`;\n  let read = `read${type}`;\n  let write_fn = Packet.prototype[write];\n  let read_fn = Packet.prototype[read];\n  PacketDebug.prototype[write] = function (v) {\n    this.pak.writeU8(idx);\n    write_fn.call(this.pak, v);\n  };\n  PacketDebug.prototype[read] = function (param) {\n    let found_idx = this.pak.readU8();\n    if (found_idx !== idx) {\n      assert(false, `PacketDebug error: Expected ${type}(${idx}), found ${types[found_idx]}(${found_idx})`);\n    }\n    return read_fn.call(this.pak, param);\n  };\n});\nPacketDebug.prototype.zeroInt = function () {\n  this.pak.writeU8(3); // types.indexof('Int')\n  this.pak.zeroInt();\n};\n// Functions that simply fall through\n[\n  'ended',\n  'getBuffer',\n  'getBufferLen',\n  'getFlags',\n  'getInternalFlags',\n  'getOffset',\n  'makeReadable',\n  'pool',\n  'readFlags', // *not* wrapped in debug headers\n  'ref',\n  'seek',\n  'setBuffer',\n  'setReadable',\n  'toJSON',\n  'totalSize',\n  'updateFlags',\n  'writeFlags', // *not* wrapped in debug headers\n].forEach((fname) => {\n  let fn = Packet.prototype[fname];\n  PacketDebug.prototype[fname] = function () {\n    return fn.apply(this.pak, arguments); // eslint-disable-line prefer-rest-params\n  };\n});\nPacketDebug.prototype.append = function (pak) {\n  assert(pak instanceof PacketDebug);\n  this.pak.append(pak.pak);\n};\nPacketDebug.prototype.appendRemaining = function (pak) {\n  assert(pak instanceof PacketDebug);\n  this.pak.appendRemaining(pak.pak);\n};\nfunction format(v) {\n  switch (typeof v) {\n    case 'object':\n      if (v instanceof Uint8Array) {\n        return `u8<${v.length}>`;\n      }\n      return JSON.stringify(v);\n    default:\n      return v;\n  }\n}\nPacketDebug.prototype.contents = function () {\n  let { pak } = this;\n  let cur_offs = pak.getOffset();\n  let read_len = cur_offs;\n  let ret = [`buf:${pak.buf_offs}/${pak.buf_len}`];\n  if (pak.bufs) {\n    // write packet, just combine and reset location when done\n    pak.makeReadable();\n    ret.push('bufs');\n  } else if (pak.buf) {\n    // read packet, or write packet that is a single buf\n    if (pak.readable) {\n      read_len = pak.buf_len;\n    }\n    pak.buf_offs = 0;\n  } else {\n    ret.push('empty');\n    read_len = -1;\n  }\n  let saved_ref_count = pak.ref_count;\n  pak.ref_count = 2; // prevent auto pooling, don't assert on ref() if unref'd.\n  try {\n    if (!saved_ref_count) {\n      ret.push('!ref_count=0!');\n    }\n    if (pak.has_flags) {\n      ret.push(`flags:${pak.readU8()}`);\n    }\n    while (pak.buf_offs < read_len) {\n      let type_idx = pak.readU8();\n      let type = types[type_idx];\n      if (!type) {\n        ret.push(`UnknownType:${type_idx}`);\n        break;\n      }\n      let val = pak[`read${type}`]();\n      ret.push(`${type}:${format(val)}`);\n    }\n  } catch (e) {\n    ret.push(`Error dumping packet contents: ${e}`);\n  }\n  pak.ref_count = saved_ref_count;\n  pak.buf_offs = cur_offs;\n  return ret.join(',');\n};\n\nfunction packetCreate(flags, init_size) {\n  if (flags === undefined) {\n    flags = exports.default_flags;\n  }\n  let pool = (flags & PACKET_DEBUG) ? pak_debug_pool : pak_pool;\n  if (pool.length) {\n    let pak = pool.pop();\n    pak.reinit(flags, init_size);\n    return pak;\n  }\n  if (flags & PACKET_DEBUG) {\n    return new PacketDebug(flags, init_size);\n  }\n  return new Packet(flags, init_size);\n}\nexports.packetCreate = packetCreate;\n\nfunction packetFromBuffer(buf, buf_len, need_copy) {\n  let flags = buf[0];\n  assert.equal(typeof flags, 'number'); // `buf` should be a Buffer or Uint8Array, not a DataView like other funcs here\n  if (need_copy) {\n    assert(buf_len);\n    assert(buf.buffer instanceof ArrayBuffer);\n    let pak = packetCreate(flags, buf_len);\n    if (buf.byteLength !== buf_len) {\n      buf = Buffer.from(buf.buffer, 0, buf_len);\n    }\n    pak.getBuffer().set(buf);\n    pak.setReadable();\n    return pak;\n  } else {\n    // reference unowned/unpoolable buffer\n    assert(buf instanceof Uint8Array);\n    let pak = packetCreate(flags | PACKET_UNOWNED_BUFFER);\n    pak.setBuffer(buf, buf_len || buf.byteLength);\n    return pak;\n  }\n}\nexports.packetFromBuffer = packetFromBuffer;\n\nfunction packetFromJSON(js_obj) {\n  let pak = packetCreate(js_obj.f);\n\n  let payload = pak.pak || pak;\n\n  function decode(str) {\n    return base64Decode(str, allocDataView);\n  }\n  if (js_obj.b) {\n    payload.bsizes = [];\n    payload.bufs = [];\n    for (let ii = 0; ii < js_obj.b.length; ++ii) {\n      let buf = decode(js_obj.b[ii]);\n      payload.bufs.push(buf);\n      payload.bsizes.push(buf.decode_size);\n      delete buf.decode_size;\n    }\n  }\n  if (js_obj.d) {\n    payload.buf = decode(js_obj.d);\n    payload.buf_len = payload.buf.decode_size;\n    delete payload.buf.decode_size;\n    payload.buf_offs = 0;\n  }\n\n  return pak;\n}\nexports.packetFromJSON = packetFromJSON;\n\nfunction isPacket(thing) {\n  return thing instanceof Packet || thing instanceof PacketDebug;\n}\nexports.isPacket = isPacket;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n/* eslint prefer-rest-params:off, no-underscore-dangle:off */\n\nconst assert = require('assert');\n\nfunction EventEmitter() {\n  this._listeners = {};\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.EventEmitter = EventEmitter;\n\nfunction addListener(ee, type, fn, once) {\n  assert(typeof fn === 'function');\n  let arr = ee._listeners[type];\n  if (!arr) {\n    arr = ee._listeners[type] = [];\n  }\n  arr.push({\n    once,\n    fn,\n  });\n}\n\nEventEmitter.prototype.hasListener = function (type, fn) {\n  let arr = this._listeners[type];\n  if (!arr) {\n    return false;\n  }\n  for (let ii = 0; ii < arr.length; ++ii) {\n    if (arr[ii].fn === fn) {\n      return true;\n    }\n  }\n  return false;\n};\n\nEventEmitter.prototype.on = function (type, fn) {\n  addListener(this, type, fn, 0);\n  return this;\n};\n\nEventEmitter.prototype.once = function (type, fn) {\n  addListener(this, type, fn, 1);\n  return this;\n};\n\nEventEmitter.prototype.removeListener = function (type, fn) {\n  let arr = this._listeners[type];\n  assert(arr);\n  for (let ii = 0; ii < arr.length; ++ii) {\n    if (arr[ii].fn === fn) {\n      arr.splice(ii, 1);\n      return this;\n    }\n  }\n  assert(false); // expected to find the listener!\n  return this;\n};\n\nfunction filterNotOnce(elem) {\n  return !elem.once;\n}\n\nEventEmitter.prototype.emit = function (type, ...args) {\n  let arr = this._listeners[type];\n  if (!arr) {\n    return false;\n  }\n\n  let any = false;\n  let any_once = false;\n  for (let ii = 0; ii < arr.length; ++ii) {\n    let elem = arr[ii];\n    any = true;\n    elem.fn(...args);\n    if (elem.once) {\n      any_once = true;\n    }\n  }\n  if (any_once) {\n    this._listeners[type] = arr.filter(filterNotOnce);\n  }\n\n  return any;\n};\n\n// Aliases\n// EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nconst assert = require('assert');\nconst { abs, floor, min, max, random, round, pow, sqrt } = Math;\n\nexport function nop() {\n  // empty\n}\n\nexport function once(fn) {\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n    called = true;\n    fn(...args);\n  };\n}\n\nexport function empty(obj) {\n  for (let key in obj) {\n    return false;\n  }\n  return true;\n}\n\nexport function easeInOut(v, a) {\n  let va = pow(v, a);\n  return va / (va + pow(1 - v, a));\n}\n\nexport function easeIn(v, a) {\n  return 2 * easeInOut(0.5 * v, a);\n}\n\nexport function easeOut(v, a) {\n  return 2 * easeInOut(0.5 + 0.5 * v, a) - 1;\n}\n\nexport function clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function merge(dest, src) {\n  for (let f in src) {\n    dest[f] = src[f];\n  }\n  return dest;\n}\n\nexport function has(obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field);\n}\n\nexport function defaults(dest, src) {\n  for (let f in src) {\n    if (!has(dest, f)) {\n      dest[f] = src[f];\n    }\n  }\n  return dest;\n}\n\nexport function defaultsDeep(dest, src) {\n  for (let f in src) {\n    if (!has(dest, f)) {\n      dest[f] = src[f];\n    } else if (typeof dest[f] === 'object') {\n      defaultsDeep(dest[f], src[f]);\n    }\n  }\n  return dest;\n}\n\nexport function cloneShallow(src) {\n  return merge({}, src);\n}\n\nexport function deepEqual(a, b) {\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let ii = 0; ii < a.length; ++ii) {\n      if (!deepEqual(a[ii], b[ii])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (typeof a === 'object') {\n    if (typeof b !== 'object') {\n      return false;\n    }\n    if (!a || !b) { // at least one is null\n      return !a && !b; // equal if both are null\n    }\n    for (let key in a) {\n      // b must have key, or both a[key] and b[key] are undefined\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    for (let key in b) {\n      // if b has key and it's defined, a must also be defined (and would have checked equality above)\n      if (b[key] !== undefined && a[key] === undefined) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a === b;\n}\n\nexport function clamp(v, mn, mx) {\n  return min(max(mn, v), mx);\n}\n\nexport function lerp(a, v0, v1) {\n  return (1 - a) * v0 + a * v1;\n}\n\nexport function mix(v0, v1, a) { // GLSL semantics\n  return (1 - a) * v0 + a * v1;\n}\n\nexport function sign(a) {\n  return a < 0 ? -1 : a > 0 ? 1 : 0;\n}\n\n// log2 rounded up to nearest integer\nexport function log2(val) {\n  for (let ii=1, jj=0; ; ii <<= 1, ++jj) { // eslint-disable-line no-bitwise\n    if (ii >= val) {\n      return jj;\n    }\n  }\n}\n\nexport function ridx(arr, idx) {\n  arr[idx] = arr[arr.length - 1];\n  arr.pop();\n}\n\nexport function round100(a) {\n  return round(a * 100) / 100;\n}\n\nexport function round1000(a) {\n  return round(a * 1000) / 1000;\n}\n\nexport function fract(a) {\n  return a - floor(a);\n}\n\nexport function nearSame(a, b, tol) {\n  return abs(b - a) <= tol;\n}\n\nexport function titleCase(str) {\n  return str.split(' ').map((word) => `${word[0].toUpperCase()}${word.slice(1)}`)\n    .join(' ');\n}\n\nconst EPSILON = 0.00001;\n\n// http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/\nexport function lineCircleIntersect(p1, p2, pCircle, radius) {\n  let dp = [\n    p2[0] - p1[0],\n    p2[1] - p1[1]\n  ];\n  let a = dp[0] * dp[0] + dp[1] * dp[1];\n  let b = 2 * (dp[0] * (p1[0] - pCircle[0]) + dp[1] * (p1[1] - pCircle[1]));\n  let c = pCircle[0] * pCircle[0] + pCircle[1] * pCircle[1];\n  c += p1[0] * p1[0] + p1[1] * p1[1];\n  c -= 2 * (pCircle[0] * p1[0] + pCircle[1] * p1[1]);\n  c -= radius * radius;\n  let bb4ac = b * b - 4 * a * c;\n  if (abs(a) < EPSILON || bb4ac < 0) {\n    return false;\n  }\n\n  let mu1 = (-b + sqrt(bb4ac)) / (2 * a);\n  let mu2 = (-b - sqrt(bb4ac)) / (2 * a);\n  if (mu1 >= 0 && mu1 <= 1 || mu2 >= 0 && mu2 <= 1) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function inherits(ctor, superCtor) {\n  // From Node.js\n  assert(typeof superCtor === 'function');\n  // not needed? ctor.super_ = superCtor; // eslint-disable-line no-underscore-dangle\n  // second parameter also not actually needed, just defines new Foo().constructor === Foo?\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nexport function isPowerOfTwo(n) {\n  return ((n & (n - 1)) === 0); // eslint-disable-line no-bitwise\n}\n\nexport function nextHighestPowerOfTwo(x) {\n  --x;\n  for (let i = 1; i < 32; i <<= 1) { // eslint-disable-line no-bitwise\n    x |= x >> i; // eslint-disable-line no-bitwise\n  }\n  return x + 1;\n}\n\nexport function logdata(data) {\n  if (data === undefined) {\n    return '';\n  }\n  let r = JSON.stringify(data);\n  if (r.length < 120) {\n    return r;\n  }\n  return `${r.slice(0, 120-3)}...`;\n}\n\nexport function isInteger(v) {\n  return typeof v === 'number' && isFinite(v) && floor(v) === v;\n}\n\nexport function toNumber(v) {\n  return Number(v);\n}\n\nexport function randomNot(not_value, max_value) {\n  let new_value;\n  do {\n    new_value = floor(random() * max_value);\n  } while (new_value === not_value);\n  return new_value;\n}\n\nexport function toArray(array_like) {\n  return Array.prototype.slice.call(array_like);\n}\n\nexport function matchAll(str, re) {\n  let ret = [];\n  let m;\n  do {\n    m = re.exec(str);\n    if (m) {\n      ret.push(m[1]);\n    }\n  } while (m);\n  return ret;\n}\n\nexport function callEach(arr, pre_clear, ...args) {\n  if (arr && arr.length) {\n    for (let ii = 0; ii < arr.length; ++ii) {\n      arr[ii](...args);\n    }\n  }\n}\n\n// The characters cause problems with lower level systems (Google Firestore)\n// that presumably try to convert to UTF-16.\nconst utf16_surrogates = /[\\uD800-\\uDFFF]/g;\nexport function sanitize(str) {\n  return (str || '').replace(utf16_surrogates, '');\n}\n\nexport function plural(number, label) {\n  return `${label}${number === 1 ? '' : 's'}`;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n// Originally from Splody, used with permission\n/* eslint no-multi-spaces:off, array-bracket-spacing:off */\n\nconst assert = require('assert');\nconst { max } = Math;\n\nconst trans_src = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+';\nconst trans_dst = '4bcd3fgh1jk1mn0pqr57uvwxy24bcd3fgh1jk1mn0pqr57uvwxy201234567897';\nconst trans_src_regex = /[a-zA-Z0-9+]+/g;\nlet trans_lookup = {};\nfunction canonize(str) {\n  return str.split('').map((c) => (trans_lookup[c] || c)).join('');\n}\n\nfunction rot13(str) {\n  return str.split('').map((c) => {\n    c = c.charCodeAt(0);\n    if (c >= 97/*a*/ && c <= 122/*z*/) {\n      c = 97 + (((c - 97) + 13) % 26);\n    } else if (c >= 65/*A*/ && c <= 90/*Z*/) {\n      c = 65 + (((c - 65) + 13) % 26);\n    }\n    return String.fromCharCode(c);\n  }).join('');\n}\n\nlet profanity = {};\n\n// shorter first, if substrings (just 's' and 'es'/'ers')\nlet suffixes =           [ '', 's',  's', 'in', 'ing', 'er', 'ers', 'ed', 'y' ];\nlet suffixes_canonized = [ '', '5', '35', '1n', '1ng', '3r', '3r5', '3d', 'y' ];\n\nlet max_len = 0;\nlet inited = false;\nexport function profanityCommonStartup(filter_gkg) {\n  assert(!inited);\n  inited = true;\n  for (let ii = 0; ii < trans_src.length; ++ii) {\n    trans_lookup[trans_src[ii]] = trans_dst[ii];\n  }\n  let data = filter_gkg.split('\\n').filter((a) => a);\n  for (let ii = 0; ii < data.length; ++ii) {\n    let s = rot13(data[ii]);\n    let start_len = s.length;\n    s = canonize(s);\n    assert.equal(start_len, s.length); // Otherwise got a bad character in the source data?\n    for (let jj = 0; jj < suffixes_canonized.length; ++jj) {\n      let str = s + suffixes_canonized[jj];\n      let existing = profanity[str];\n      if (!existing || existing > jj) {\n        max_len = max(max_len, str.length);\n        profanity[str] = jj + 1;\n      }\n    }\n  }\n}\n\nlet randWord;\nfunction filterWord(word_src) {\n  if (word_src.length >= max_len) {\n    return word_src;\n  }\n\n  let is_uppercase = word_src[0].toUpperCase() === word_src[0];\n  let word_canon = canonize(word_src);\n  let suffix_idx = profanity[word_canon];\n  // do lookup, replace\n  if (!suffix_idx) {\n    return word_src;\n  }\n  --suffix_idx;\n  let word = randWord();\n  if (is_uppercase) {\n    word = word[0].toUpperCase() + word.slice(1);\n  }\n  let suffix = suffixes[suffix_idx];\n  if (word[word.length - 1] === suffix[0]) { // e.g. replacement word ends in an 'e'\n    suffix = suffix.slice(1);\n  }\n  if (word.endsWith('e') && suffix[0] === 'i') {\n    word = word.slice(0, -1);\n  }\n  word += suffix;\n  return word;\n}\n\nlet is_profane;\nfunction checkWord(word_src) {\n  if (word_src.length >= max_len) {\n    return;\n  }\n\n  if (profanity[canonize(word_src)]) {\n    is_profane = true;\n  }\n}\n\nexport function profanityFilterCommon(user_str, rand_word_fn) {\n  assert(inited);\n  randWord = rand_word_fn;\n  return user_str.replace(trans_src_regex, filterWord);\n}\n\nexport function isProfane(user_str) {\n  assert(inited);\n  is_profane = false;\n  user_str.replace(trans_src_regex, checkWord);\n  return is_profane;\n}\n","// Portions Copyright 2019 Jimb Esser (https://github.com/Jimbly/)\n// Released under MIT License: https://opensource.org/licenses/MIT\n\nexport let wsstats = { msgs: 0, bytes: 0 };\nexport let wsstats_out = { msgs: 0, bytes: 0 };\n\nconst ack = require('./ack.js');\nconst assert = require('assert');\nconst { ackHandleMessage, ackReadHeader, ackWrapPakStart, ackWrapPakPayload, ackWrapPakFinish } = ack;\nconst packet = require('./packet.js');\nconst { isPacket, packetCreate, packetFromBuffer } = packet;\n\nexport const CONNECTION_TIMEOUT = 60000;\nexport const PING_TIME = CONNECTION_TIMEOUT / 2;\nexports.PROTOCOL_VERSION = '1';\n\n// Rough estimate, if over, will prevent resizing the packet\nconst PAK_HEADER_SIZE = 1 + // flags\n  1+16 + // message id\n  1+9; // resp_pak_id\n\nexport function wsPakSendDest(client, pak) {\n  if (!client.connected || client.socket.readyState !== 1) {\n    // We only get to this particular location from wsserver.broadcast*, all\n    //   other paths will print the actual message and error earlier.\n    console.warn(`Attempting to send on a disconnected link (client_id:${client.id}), ignoring`);\n    pak.pool();\n    return;\n  }\n  let buf = pak.getBuffer(); // a Uint8Array\n  let buf_len = pak.getBufferLen();\n  if (buf_len !== buf.length) {\n    buf = new Uint8Array(buf.buffer, buf.byteOffset, buf_len);\n  }\n  wsstats_out.msgs++;\n  wsstats_out.bytes += buf.length;\n  if (client.ws_server) {\n    client.socket.send(buf, function () {\n      pak.pool();\n    });\n  } else {\n    client.socket.send(buf);\n    pak.pool();\n  }\n  client.last_send_time = Date.now();\n}\n\nfunction wsPakSendFinish(pak, err, resp_func) {\n  let { client, msg } = pak.ws_data;\n  delete pak.ws_data;\n  let ack_resp_pkt_id = ackWrapPakFinish(pak, err, resp_func);\n\n  if (!client.connected || client.socket.readyState !== 1) { // WebSocket.OPEN\n    if (msg === 'channel_msg') { // client -> server channel message, attach additional debugging info\n      pak.seek(0);\n      pak.readFlags();\n      let header = ackReadHeader(pak);\n      let is_packet = isPacket(header.data);\n      let channel_id;\n      let submsg;\n      if (is_packet) {\n        pak.ref(); // deal with auto-pool of an empty packet\n        channel_id = pak.readAnsiString();\n        submsg = pak.readAnsiString();\n        if (!pak.ended()) {\n          pak.pool();\n        }\n      } else {\n        channel_id = header.data.channel_id;\n        submsg = header.data.msg;\n      }\n      msg = `channel_msg:${channel_id}:${submsg}`;\n    }\n    if (typeof msg !== 'number') {\n      (client.log ? client : console).log(`Attempting to send msg=${msg} on a disconnected link, ignoring`);\n      if (!client.log && client.onError && msg) {\n        // On the client, if we try to send a new packet while disconnected, this is an application error\n        client.onError(`Attempting to send msg=${msg} on a disconnected link`);\n      }\n    }\n\n    if (ack_resp_pkt_id) {\n      // Callback will never be dispatched through ack.js, remove the callback here\n      delete client.resp_cbs[ack_resp_pkt_id];\n    }\n    pak.pool();\n    return;\n  }\n\n  assert.equal(Boolean(resp_func && resp_func.expecting_response !== false), Boolean(ack_resp_pkt_id));\n\n  wsPakSendDest(client, pak);\n}\n\nfunction wsPakSend(err, resp_func) {\n  let pak = this; //eslint-disable-line no-invalid-this\n  if (typeof err === 'function' && !resp_func) {\n    resp_func = err;\n    err = null;\n  }\n  wsPakSendFinish(pak, err, resp_func);\n}\n\nexport function wsPak(msg, ref_pak, client) {\n  assert(typeof msg === 'string' || typeof msg === 'number');\n\n  // Assume new packet needs to be comparable to old packet, in flags and size\n  let pak = packetCreate(ref_pak ? ref_pak.getInternalFlags() : packet.default_flags,\n    ref_pak ? ref_pak.totalSize() + PAK_HEADER_SIZE : 0);\n  pak.writeFlags();\n\n  ackWrapPakStart(pak, client, msg);\n\n  pak.ws_data = {\n    msg,\n    client,\n  };\n  pak.send = wsPakSend;\n  return pak;\n}\n\nfunction sendMessageInternal(client, msg, err, data, resp_func) {\n  let is_packet = isPacket(data);\n  let pak = wsPak(msg, is_packet ? data : null, client);\n\n  if (!err) {\n    ackWrapPakPayload(pak, data);\n  }\n\n  pak.send(err, resp_func);\n}\n\nexport function sendMessage(msg, data, resp_func) {\n  sendMessageInternal(this, msg, null, data, resp_func); // eslint-disable-line no-invalid-this\n}\n\nexport function wsHandleMessage(client, buf, filter) {\n  ++wsstats.msgs;\n  let now = Date.now();\n  let source = client.id ? `client ${client.id}` : 'server';\n  if (!(buf instanceof Uint8Array)) {\n    (client.log ? client : console).log(`Received incorrect WebSocket data type from ${source} (${typeof buf})`);\n    return client.onError('Invalid data received');\n  }\n  wsstats.bytes += buf.length;\n  let pak = packetFromBuffer(buf, buf.length, false);\n  pak.readFlags();\n  client.last_receive_time = now;\n  client.idle_counter = 0;\n\n  return ackHandleMessage(client, source, pak, function sendFunc(msg, err, data, resp_func) {\n    if (resp_func && !resp_func.expecting_response) {\n      resp_func = null;\n    }\n    sendMessageInternal(client, msg, err, data, resp_func);\n  }, function pakFunc(msg, ref_pak) {\n    return wsPak(msg, ref_pak, client);\n  }, function handleFunc(msg, data, resp_func) {\n    let handler = client.handlers[msg];\n    if (!handler) {\n      let error_msg = `No handler for message ${JSON.stringify(msg)} from ${source}`;\n      console.error(error_msg, isPacket(data) ? data.contents() : data);\n      if (client.onError) {\n        return client.onError(error_msg);\n      }\n      return resp_func(error_msg);\n    }\n    return handler(client, data, resp_func);\n  }, filter);\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvYWNjb3VudF91aS5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9hcHAuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2Jvb3RzdHJhcC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvYnJvd3Nlci5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvY2FtZXJhMmQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2NoYXRfdWkuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2NtZHMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2VkaXRfYm94LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9lZmZlY3RzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9lbmdpbmUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2Vycm9yX3JlcG9ydC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvZmJpbnN0YW50LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9maWxld2F0Y2guanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2ZvbnQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2ZyYW1lYnVmZmVyLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9mcmllbmRzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9nZW9tLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9nbGIvY2xpZW50L2dsb3YvZ2xiL2RlY29kZS11dGY4LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9nbGIvY2xpZW50L2dsb3YvZ2xiL2dsdGYtdHlwZS11dGlscy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvZ2xiL2NsaWVudC9nbG92L2dsYi9wYXJzZXIuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2dsYi9jbGllbnQvZ2xvdi9nbGIvdW5wYWNrLWJpbmFyeS1qc29uLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9nbGIvY2xpZW50L2dsb3YvZ2xiL3VucGFjay1nbGItYnVmZmVycy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvaW5fZXZlbnQuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L2lucHV0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9saW5rLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9sb2NhbF9zdG9yYWdlLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9tYXQ0My5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvbWF0NFNjYWxlUm90YXRlVHJhbnNsYXRlLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9tb2RlbHMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L25ldC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvbmV0X3Bvc2l0aW9uX21hbmFnZXIuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3BhcnRpY2xlcy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvcGVyZi5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvcG9pbnRlcl9sb2NrLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9wb2x5ZmlsbC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvcXVhdC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvcmFuZF9hbGVhLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9yYW5kX2Zhc3QuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3Njcm9sbF9hcmVhLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zZWxlY3Rpb25fYm94LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zZXR0aW5ncy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc2hhZGVycy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvc2ltcGxlX21lbnUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3NvdW5kLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zcHJpdGVfYW5pbWF0aW9uLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zcHJpdGVzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi9zdWJzY3JpcHRpb25fbWFuYWdlci5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3YvdGV4dHVyZXMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3RyYW5zaXRpb24uanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3VpLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi91aV90ZXN0LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi91cmxoYXNoLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi9jbGllbnQvZ2xvdi92bWF0aC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2dsb3YvY2xpZW50L2dsb3Yvd2FsbHRpbWUuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3dlYmZzLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvZ2xvdi93b3Jkcy9jbGllbnQvZ2xvdi93b3Jkcy9wcm9mYW5pdHkuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9nbG92L2NsaWVudC9nbG92L3dzY2xpZW50LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvaW1nL2ZvbnQvMDRiMDNfOHgxLmpzb24iLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9pbWcvZm9udC8wNGIwM184eDIuanNvbiIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2ltZy9mb250L3BhbGFucXVpbjMyLmpzb24iLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NsaWVudC9jbGllbnQvbWFpbi5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9tdWx0aXBsYXllci5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY2xpZW50L2NsaWVudC9wYXJ0aWNsZV9kYXRhLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jbGllbnQvY2xpZW50L3Rlc3RfM2QuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vYWNrLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL2FzeW5jLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL2Jhc2U2NC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi9jbWRfcGFyc2UuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vZW51bXMuanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vbWQ1LmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vY29tbW9uL3BhY2tldC5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi90aW55LWV2ZW50cy5qcyIsImRpc3QvZ2FtZS9idWlsZC5pbnRlcm1lZGlhdGUvY29tbW9uL2NvbW1vbi91dGlsLmpzIiwiZGlzdC9nYW1lL2J1aWxkLmludGVybWVkaWF0ZS9jb21tb24vd29yZHMvY29tbW9uL3dvcmRzL3Byb2Zhbml0eV9jb21tb24uanMiLCJkaXN0L2dhbWUvYnVpbGQuaW50ZXJtZWRpYXRlL2NvbW1vbi9jb21tb24vd3Njb21tb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7d0hDR0EsSUFBTSxPQUFTLFFBQVEsVUFDdkIsSUFBTSxjQUFnQixRQUFRLDJCQUM5QixJQUFNLFVBQVksUUFBUSxrQixhQUNJLFFBQVEsbUJBQTlCLEssU0FBQSxLQUFNLFksU0FBQSxZLGNBQ08sUUFBUSxrQkFBckIsUyxVQUFBLFNBQ1IsSUFBTSxJQUFNLFFBQVEsaUJBQ3BCLElBQU0sR0FBSyxRQUFRLGdCLGNBQ0YsUUFBUSxtQkFBakIsSyxVQUFBLEtBRUQsSUFBSSxXQUFhLFVBQVUsTUFBTSxLQUFNLENBQzVDLE1BQU8sV0FDUCxjQUFlLEVBQ2YsY0FBZSxLLDhCQUVWLElBQUksaUJBQW1CLFVBQVUsTUFBTSxL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LFNBQVMsU0FBUyxFQUFHLEdBQzFCLEVBQUUsSUFBTSxFQUNSLEVBQUUsSUFBTSxFQUNSLEVBQUUsSUFBTSxFQUNSLE9BQU8sRUFHRixTQUFTLE9BQU8sRUFBRyxHQUN4QixFQUFFLElBQU0sRUFBRSxHQUNWLEVBQUUsSUFBTSxFQUFFLEdBQ1YsRUFBRSxJQUFNLEVBQUUsR0FDVixPQUFPLEVBR0YsU0FBUyxPQUFPLEtBQ3JCLElBQUksR0FBSyxJQUFJLEdBQUssSUFBSSxHQUFLLEVBQzNCLE9BQU8sSUFHRixTQUFTLE1BQU0sSUFBSyxFQUFHLEdBQzVCLElBQUksR0FBSyxFQUFFLEdBQUssRUFBRSxHQUNsQixJQUFJLEdBQUssRUFBRSxHQUFLLEVBQUUsR0FDbEIsSUFBSSxHQUFLLEVBQUUsR0FBSyxFQUFFLEdBQ2xCLElBQUksR0FBSyxFQUFFLEdBQUssRUFBRSxHQUNsQixPQUFPLElBR0YsU0FBUyxRQUFRLEdBQ3RCLE9BQU8sRUFBRSxNQUFNLEdBR1YsU0FBUyxPQUFPLElBQUssR0FDMUIsSUFBSSxHQUFLLEVBQUUsR0FDWCxJQUFJLEdBQUssRUFBRSxHQUNYLElBQUksR0FBSyxFQUFFLEdBQ1gsSUFBSSxHQUFLLEVBQUUsR0FDWCxPQUFPLElBR0YsU0FBUyxPQUFPLElBQUssRUFBRyxFQUFHLEdBQ2hDLElBQUksR0FBSyxFQUFJLEVBQ2IsSUFBSSxHQUFLLEdBQUssRUFBRSxHQUFLLEVBQUksRUFBRSxHQUMzQixJQUFJLEdBQUssR0FBSyxFQUFFLEdBQUssRUFBSSxFQUFFLEdBQzNCLElBQUksR0FBSyxHQUFLLEVBQUUsR0FBSyxFQUFJLEVBQUUsR0FDM0IsSUFBSSxHQUFLLEdBQUssRUFBRSxHQUFLLEVBQUksRUFBRSxHQUMzQixPQUFPLElBR0YsU0FBUyxNQUFNLElBQUssRUFBRyxHQUM1QixJQUFJLEdBQUssRUFBRSxHQUFLLEVBQUUsR0FDbEIsSUFBSSxHQUFLLEVBQUUsR0FBSyxFQUFFLEdBQ2xCLElBQUksR0FBSyxFQUFFLEdBQUssRUFBRSxHQUNsQixJQUFJLEdBQUssRUFBRSxHQUFL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QUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3ZCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxVQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxXQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxJQUFJLFdBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3ZCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUksSUFBSSxVQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxXQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3ZCLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFJLElBQUksWUFDekIsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksSUFBSSxZQUN6QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBSSxJQUFJLFlBQ3pCLEVBQUUsR0FB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QUFRLEtBQUssV0FBYSxNQUM1RCxHQUFJLE9BQU8sUUFBUyxDQUNsQixPQUFPLE9BQU8sUUFBUSxXQUV4QixPQUFPLFVBQVUsV0FFbkIsT0FBTyxRQUFRLE9BQVEsS0FBTSxZQUM1QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYgKi9cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vZ2xvdi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2dsb3YvZm9udC5qcycpO1xuY29uc3QgeyBLRVlTLCBrZXlEb3duRWRnZSB9ID0gcmVxdWlyZSgnLi9nbG92L2lucHV0LmpzJyk7XG5jb25zdCB7IGxpbmtUZXh0IH0gPSByZXF1aXJlKCcuL2dsb3YvbGluay5qcycpO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnLi9nbG92L25ldC5qcycpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL2dsb3YvdWkuanMnKTtcbmNvbnN0IHsgdmVjNCB9ID0gcmVxdWlyZSgnLi9nbG92L3ZtYXRoLmpzJyk7XG5cbmV4cG9ydCBsZXQgc3R5bGVfbGluayA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweDUwNDBGRmZmLFxuICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMjAsXG59KTtcbmV4cG9ydCBsZXQgc3R5bGVfbGlua19ob3ZlciA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweDAwMDBGRmZmLFxuICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMjAsXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFVzZXJJRCh1c2VyX2lkLCBkaXNwbGF5X25hbWUpIHtcbiAgbGV0IG5hbWUgPSBkaXNwbGF5X25hbWUgfHwgdXNlcl9pZDtcbiAgaWYgKHVzZXJfaWQudG9Mb3dlckNhc2UoKSAhPT0gbmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgbmFtZSA9IGAke2Rpc3BsYXlfbmFtZX0gKCR7dXNlcl9pZH0pYDtcbiAgfVxuICByZXR1cm4gbmFtZTtcbn1cblxuZnVuY3Rpb24gQWNjb3VudFVJKCkge1xuICB0aGlzLmVkaXRfYm94X25hbWUgPSB1aS5jcmVhdGVFZGl0Qm94KHtcbiAgICBwbGFjZWhvbGRlcjogJ1VzZXJuYW1lJyxcbiAgICBpbml0aWFsX2ZvY3VzOiB0cnVlLFxuICAgIHRleHQ6IGxvY2FsX3N0b3JhZ2UuZ2V0KCduYW1lJykgfHwgJycsXG4gIH0pO1xuICB0aGlzLmVkaXRfYm94X3Bhc3N3b3JkID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgcGxhY2Vob2xkZXI6ICdQYXNzd29yZCcsXG4gICAgdHlwZTogJ3Bhc3N3b3JkJyxcbiAgICB0ZXh0OiBsb2NhbF9zdG9yYWdlLmdldCgnbmFtZScpICYmIGxvY2FsX3N0b3JhZ2UuZ2V0KCdwYXNzd29yZCcpIHx8ICcnLFxuICB9KTtcbiAgdGhpcy5lZGl0X2JveF9wYXNzd29yZF9jb25maXJtID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgaW5pdGlhbF9mb2N1czogdHJ1ZSxcbiAgICBwbGFjZWhvbGRlcjogJ0NvbmZpcm0nLFxuICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgdGV4dDogJycsXG4gIH0pO1xuICB0aGlzLmVkaXRfYm94X2VtYWlsID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgcGxhY2Vob2xkZXI6ICdFbWFpbCcsXG4gICAgdGV4dDogJycsXG4gIH0pO1xuICB0aGlzLmVkaXRfYm94X2Rpc3BsYXlfbmFtZSA9IHVpLmNyZWF0ZUVkaXRCb3goe1xuICAgIHBsYWNlaG9sZGVyOiAnRGlzcGxheScsXG4gICAgdGV4dDogJycsXG4gIH0pO1xuICB0aGlzLmNyZWF0aW9uX21vZGUgPSBmYWxzZTtcbn1cblxuQWNjb3VudFVJLnByb3RvdHlwZS5zaG93TG9naW4gPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgbGV0IHsgeCwgeSwgc3R5bGUsIGJ1dHRvbl9oZWlnaHQsIGJ1dHRvbl93aWR0aCwgcHJlbG9nb3V0LCBjZW50ZXIsIHVybF90b3MsIHVybF9wcml2LCB0ZXh0X3csIGZvbnRfaGVpZ2h0IH0gPSBwYXJhbTtcbiAgZm9udF9oZWlnaHQgPSBmb250X2hlaWdodCB8fCB1aS5mb250X2hlaWdodDtcbiAgYnV0dG9uX2hlaWdodCA9IGJ1dHRvbl9oZWlnaHQgfHwgdWkuYnV0dG9uX2hlaWdodDtcbiAgYnV0dG9uX3dpZHRoID0gYnV0dG9uX3dpZHRoIHx8IDI0MDtcbiAgdGV4dF93ID0gdGV4dF93IHx8IDQwMDtcbiAgbGV0IHsgZWRpdF9ib3hfbmFtZSwgZWRpdF9ib3hfcGFzc3dvcmQsIGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0sIGVkaXRfYm94X2VtYWlsLCBlZGl0X2JveF9kaXNwbGF5X25hbWUgfSA9IHRoaXM7XG4gIGxldCBsb2dpbl9tZXNzYWdlO1xuICBjb25zdCBCT1hfSCA9IGZvbnRfaGVpZ2h0O1xuICBsZXQgcGFkID0gMTA7XG4gIGxldCBtaW5faCA9IEJPWF9IICogMiArIHBhZCAqIDMgKyBidXR0b25faGVpZ2h0O1xuICBsZXQgY2FsaWduID0gY2VudGVyID8gZ2xvdl9mb250LkFMSUdOLkhSSUdIVCA6IGdsb3ZfZm9udC5BTElHTi5ITEVGVCB8IGdsb3ZfZm9udC5BTElHTi5IRklUO1xuXG4gIGZ1bmN0aW9uIHNob3dUT1MoaXNfY3JlYXRlKSB7XG4gICAgaWYgKHVybF90b3MpIHtcbiAgICAgIGFzc2VydCh1cmxfcHJpdik7XG4gICAgICBsZXQgdGVybXNfaGVpZ2h0ID0gZm9udF9oZWlnaHQgKiAwLjc1O1xuICAgICAgdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCB4LCB5LCBaLlVJLCB0ZXJtc19oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSLCAwLCAwLFxuICAgICAgICBgQnkgJHtpc19jcmVhdGUgPyAnY3JlYXRpbmcgYW4gYWNjb3VudCcgOiAnbG9nZ2luZyBpbid9IHlvdSBhZ3JlZSB0byBvdXJgKTtcbiAgICAgIHkgKz0gdGVybXNfaGVpZ2h0O1xuICAgICAgbGV0IGFuZF93ID0gdWkuZm9udC5nZXRTdHJpbmdXaWR0aChzdHlsZSwgdGVybXNfaGVpZ2h0LCAnIGFuZCAnKTtcbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCwgeSwgWi5VSSwgdGVybXNfaGVpZ2h0LCBnbG92X2ZvbnQuQUxJR04uSENFTlRFUiwgMCwgMCxcbiAgICAgICAgJ2FuZCcpO1xuICAgICAgbGlua1RleHQoe1xuICAgICAgICBzdHlsZV9saW5rLCBzdHlsZV9saW5rX2hvdmVyLFxuICAgICAgICB4OiB4IC0gYW5kX3cgLyAyIC0gdWkuZm9udC5nZXRTdHJpbmdXaWR0aChzdHlsZV9saW5rLCB0ZXJtc19oZWlnaHQsICdUZXJtcyBvZiBTZXJ2aWNlJyksXG4gICAgICAgIHksXG4gICAgICAgIHo6IFouVUksXG4gICAgICAgIGZvbnRfc2l6ZTogdGVybXNfaGVpZ2h0LFxuICAgICAgICB1cmw6IHVybF90b3MsXG4gICAgICAgIHRleHQ6ICdUZXJtcyBvZiBTZXJ2aWNlJyxcbiAgICAgIH0pO1xuICAgICAgbGlua1RleHQoe1xuICAgICAgICBzdHlsZV9saW5rLCBzdHlsZV9saW5rX2hvdmVyLFxuICAgICAgICB4OiB4ICsgYW5kX3cgLyAyLFxuICAgICAgICB5LFxuICAgICAgICB6OiBaLlVJLFxuICAgICAgICBmb250X3NpemU6IHRlcm1zX2hlaWdodCxcbiAgICAgICAgdXJsOiB1cmxfcHJpdixcbiAgICAgICAgdGV4dDogJ1ByaXZhY3kgUG9saWN5JyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB5ICs9IEJPWF9IICsgcGFkO1xuICB9XG5cbiAgaWYgKCFuZXQuY2xpZW50LmNvbm5lY3RlZCkge1xuICAgIGxvZ2luX21lc3NhZ2UgPSAnRXN0YWJsaXNoaW5nIGNvbm5lY3Rpb24uLi4nO1xuICB9IGVsc2UgaWYgKG5ldC5zdWJzLmxvZ2dpbmdfaW4pIHtcbiAgICBsb2dpbl9tZXNzYWdlID0gJ0xvZ2dpbmcgaW4uLi4nO1xuICB9IGVsc2UgaWYgKG5ldC5zdWJzLmxvZ2dpbmdfb3V0KSB7XG4gICAgbG9naW5fbWVzc2FnZSA9ICdMb2dnaW5nIG91dC4uLic7XG4gIH0gZWxzZSBpZiAoIW5ldC5zdWJzLmxvZ2dlZEluKCkgJiYgd2luZG93LkZCSW5zdGFudCkge1xuICAgIG5ldC5zdWJzLmxvZ2luRmFjZWJvb2soZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB1aS5tb2RhbERpYWxvZyh7XG4gICAgICAgICAgdGl0bGU6ICdGYWNlYm9vayBsb2dpbiBGYWlsZWQnLFxuICAgICAgICAgIHRleHQ6IGVycixcbiAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAnQ2FuY2VsJzogbnVsbCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmICghbmV0LnN1YnMubG9nZ2VkSW4oKSAmJiBuZXQuc3Vicy5hdXRvX2NyZWF0ZV91c2VyICYmXG4gICAgIWxvY2FsX3N0b3JhZ2UuZ2V0KCdkaWRfYXV0b19hbm9uJykgJiYgIWxvY2FsX3N0b3JhZ2UuZ2V0KCduYW1lJylcbiAgKSB7XG4gICAgbG9naW5fbWVzc2FnZSA9ICdBdXRvIGxvZ2dpbmcgaW4uLi4nO1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCdkaWRfYXV0b19hbm9uJywgJ3llcycpO1xuICAgIGxldCBuYW1lID0gYGFub24ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyLCA4KX1gO1xuICAgIGxldCBwYXNzID0gJ3Rlc3QnO1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCduYW1lJywgbmFtZSk7XG4gICAgbmV0LnN1YnMubG9naW4obmFtZSwgcGFzcywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB1aS5tb2RhbERpYWxvZyh7XG4gICAgICAgICAgdGl0bGU6ICdBdXRvLWxvZ2luIEZhaWxlZCcsXG4gICAgICAgICAgdGV4dDogZXJyLFxuICAgICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgICdSZXRyeSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgbG9jYWxfc3RvcmFnZS5zZXQoJ2RpZF9hdXRvX2Fub24nLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICBsb2NhbF9zdG9yYWdlLnNldCgnbmFtZScsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ0NhbmNlbCc6IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXQuc3Vicy5zZW5kQ21kUGFyc2UoJ3JlbmFtZV9yYW5kb20nLCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKCFuZXQuc3Vicy5sb2dnZWRJbigpKSB7XG4gICAgbGV0IHN1Ym1pdCA9IGZhbHNlO1xuICAgIGxldCB3ID0gdGV4dF93IC8gMjtcbiAgICBsZXQgaW5kZW50ID0gY2VudGVyID8gMCA6IDE0MDtcbiAgICBsZXQgdGV4dF94ID0gY2VudGVyID8geCAtIDggOiB4O1xuICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgdGV4dF94LCB5LCBaLlVJLCBmb250X2hlaWdodCwgY2FsaWduLCBpbmRlbnQgLSBwYWQsIDAsICdVc2VybmFtZTonKTtcbiAgICBzdWJtaXQgPSBlZGl0X2JveF9uYW1lLnJ1bih7IHg6IHggKyBpbmRlbnQsIHksIHcsIGZvbnRfaGVpZ2h0IH0pID09PSBlZGl0X2JveF9uYW1lLlNVQk1JVCB8fCBzdWJtaXQ7XG4gICAgeSArPSBCT1hfSCArIHBhZDtcbiAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHRleHRfeCwgeSwgWi5VSSwgZm9udF9oZWlnaHQsIGNhbGlnbiwgaW5kZW50IC0gcGFkLCAwLCAnUGFzc3dvcmQ6Jyk7XG4gICAgc3VibWl0ID0gZWRpdF9ib3hfcGFzc3dvcmQucnVuKHsgeDogeCArIGluZGVudCwgeSwgdywgZm9udF9oZWlnaHQgfSkgPT09IGVkaXRfYm94X3Bhc3N3b3JkLlNVQk1JVCB8fCBzdWJtaXQ7XG4gICAgeSArPSBCT1hfSCArIHBhZDtcblxuICAgIGlmICh0aGlzLmNyZWF0aW9uX21vZGUpIHtcbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgdGV4dF94LCB5LCBaLlVJLCBmb250X2hlaWdodCwgY2FsaWduLCBpbmRlbnQgLSBwYWQsIDAsICdDb25maXJtIFBhc3N3b3JkOicpO1xuICAgICAgc3VibWl0ID0gZWRpdF9ib3hfcGFzc3dvcmRfY29uZmlybS5ydW4oeyB4OiB4ICsgaW5kZW50LCB5LCB3LCBmb250X2hlaWdodCB9KSA9PT0gZWRpdF9ib3hfcGFzc3dvcmQuU1VCTUlUIHx8XG4gICAgICAgIHN1Ym1pdDtcbiAgICAgIHkgKz0gQk9YX0ggKyBwYWQ7XG5cbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgdGV4dF94LCB5LCBaLlVJLCBmb250X2hlaWdodCwgY2FsaWduLCBpbmRlbnQgLSBwYWQsIDAsICdFbWFpbCBBZGRyZXNzOicpO1xuICAgICAgc3VibWl0ID0gZWRpdF9ib3hfZW1haWwucnVuKHsgeDogeCArIGluZGVudCwgeSwgdywgZm9udF9oZWlnaHQgfSkgPT09IGVkaXRfYm94X3Bhc3N3b3JkLlNVQk1JVCB8fCBzdWJtaXQ7XG4gICAgICB5ICs9IEJPWF9IICsgcGFkO1xuXG4gICAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHRleHRfeCwgeSwgWi5VSSwgZm9udF9oZWlnaHQsIGNhbGlnbiwgaW5kZW50IC0gcGFkLCAwLCAnRGlzcGxheSBOYW1lOicpO1xuICAgICAgc3VibWl0ID0gZWRpdF9ib3hfZGlzcGxheV9uYW1lLnJ1bih7IHg6IHggKyBpbmRlbnQsIHksIHcsIGZvbnRfaGVpZ2h0IH0pID09PSBlZGl0X2JveF9wYXNzd29yZC5TVUJNSVQgfHxcbiAgICAgICAgc3VibWl0O1xuXG4gICAgICBpZiAodWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHg6IHggKyB3ICsgKGNlbnRlciA/IDAgOiAxNDApICsgcGFkLCB5LCB3OiBidXR0b25fd2lkdGggKiAwLjUsIGg6IEJPWF9IICsgcGFkIC0gNCxcbiAgICAgICAgZm9udF9oZWlnaHQ6IGZvbnRfaGVpZ2h0ICogMC43NSxcbiAgICAgICAgdGV4dDogJ1JhbmRvbScsXG4gICAgICB9KSkge1xuICAgICAgICBuZXQuY2xpZW50LnNlbmQoJ3JhbmRvbV9uYW1lJywgbnVsbCwgZnVuY3Rpb24gKGlnbm9yZWQsIGRhdGEpIHtcbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgZWRpdF9ib3hfZGlzcGxheV9uYW1lLnNldFRleHQoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgeSArPSBCT1hfSCArIHBhZDtcblxuICAgICAgc2hvd1RPUyh0cnVlKTtcblxuICAgICAgc3VibWl0ID0gdWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHgsIHksIHc6IGJ1dHRvbl93aWR0aCwgaDogYnV0dG9uX2hlaWdodCxcbiAgICAgICAgZm9udF9oZWlnaHQsXG4gICAgICAgIHRleHQ6ICdDcmVhdGUgVXNlcicsXG4gICAgICB9KSB8fCBzdWJtaXQ7XG4gICAgICBpZiAodWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHg6IHggKyBidXR0b25fd2lkdGggKyBwYWQsIHksIHc6IGJ1dHRvbl93aWR0aCwgaDogYnV0dG9uX2hlaWdodCxcbiAgICAgICAgZm9udF9oZWlnaHQsXG4gICAgICAgIHRleHQ6ICdDYW5jZWwnLFxuICAgICAgfSkgfHwga2V5RG93bkVkZ2UoS0VZUy5FU0MpKSB7XG4gICAgICAgIHRoaXMuY3JlYXRpb25fbW9kZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgeSArPSBidXR0b25faGVpZ2h0ICsgcGFkO1xuXG4gICAgICBpZiAoc3VibWl0KSB7XG4gICAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCduYW1lJywgZWRpdF9ib3hfbmFtZS50ZXh0KTtcbiAgICAgICAgLy8gZG8gY3JlYXRpb24gYW5kIGxvZyBpbiFcbiAgICAgICAgbmV0LnN1YnMudXNlckNyZWF0ZSh7XG4gICAgICAgICAgdXNlcl9pZDogZWRpdF9ib3hfbmFtZS50ZXh0LFxuICAgICAgICAgIGVtYWlsOiBlZGl0X2JveF9lbWFpbC50ZXh0LFxuICAgICAgICAgIHBhc3N3b3JkOiBlZGl0X2JveF9wYXNzd29yZC50ZXh0LFxuICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm06IGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0udGV4dCxcbiAgICAgICAgICBkaXNwbGF5X25hbWU6IGVkaXRfYm94X2Rpc3BsYXlfbmFtZS50ZXh0LFxuICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdWkubW9kYWxEaWFsb2coe1xuICAgICAgICAgICAgICB0aXRsZTogJ0xvZ2luIEVycm9yJyxcbiAgICAgICAgICAgICAgdGV4dDogZXJyLFxuICAgICAgICAgICAgICBidXR0b25zOiB7XG4gICAgICAgICAgICAgICAgJ09LJzogbnVsbCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0aW9uX21vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0uc2V0VGV4dCgnJyk7XG4gICAgICAgICAgICBlZGl0X2JveF9lbWFpbC5zZXRUZXh0KCcnKTtcbiAgICAgICAgICAgIGVkaXRfYm94X2Rpc3BsYXlfbmFtZS5zZXRUZXh0KCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgc2hvd1RPUyhmYWxzZSk7XG5cbiAgICAgIHN1Ym1pdCA9IHVpLmJ1dHRvblRleHQoe1xuICAgICAgICB4OiB4LCB5LCB3OiBidXR0b25fd2lkdGgsIGg6IGJ1dHRvbl9oZWlnaHQsXG4gICAgICAgIGZvbnRfaGVpZ2h0LFxuICAgICAgICB0ZXh0OiAnTG9nIGluJyxcbiAgICAgIH0pIHx8IHN1Ym1pdDtcbiAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgeSArPSBidXR0b25faGVpZ2h0ICsgcGFkO1xuICAgICAgfVxuICAgICAgaWYgKHVpLmJ1dHRvblRleHQoe1xuICAgICAgICB4OiBjZW50ZXIgPyB4IDogeCArIGJ1dHRvbl93aWR0aCArIHBhZCwgeSwgdzogYnV0dG9uX3dpZHRoLCBoOiBidXR0b25faGVpZ2h0LFxuICAgICAgICBmb250X2hlaWdodCxcbiAgICAgICAgdGV4dDogJ05ldyBVc2VyJyxcbiAgICAgIH0pKSB7XG4gICAgICAgIHRoaXMuY3JlYXRpb25fbW9kZSA9IHRydWU7XG4gICAgICAgIGVkaXRfYm94X2Rpc3BsYXlfbmFtZS5zZXRUZXh0KGVkaXRfYm94X25hbWUudGV4dCk7XG4gICAgICAgIGlmIChlZGl0X2JveF9uYW1lLnRleHQgJiYgZWRpdF9ib3hfcGFzc3dvcmQudGV4dCkge1xuICAgICAgICAgIGVkaXRfYm94X3Bhc3N3b3JkX2NvbmZpcm0uaW5pdGlhbF9mb2N1cyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWRpdF9ib3hfcGFzc3dvcmRfY29uZmlybS5pbml0aWFsX2ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgZWRpdF9ib3hfbmFtZS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB5ICs9IGJ1dHRvbl9oZWlnaHQgKyBwYWQ7XG5cbiAgICAgIGlmIChzdWJtaXQpIHtcbiAgICAgICAgbG9jYWxfc3RvcmFnZS5zZXQoJ25hbWUnLCBlZGl0X2JveF9uYW1lLnRleHQpO1xuICAgICAgICAvLyBkbyBsb2cgaW4hXG4gICAgICAgIG5ldC5zdWJzLmxvZ2luKGVkaXRfYm94X25hbWUudGV4dCwgZWRpdF9ib3hfcGFzc3dvcmQudGV4dCwgKGVycikgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHVpLm1vZGFsRGlhbG9nKHtcbiAgICAgICAgICAgICAgdGl0bGU6ICdMb2dpbiBFcnJvcicsXG4gICAgICAgICAgICAgIHRleHQ6IGVycixcbiAgICAgICAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgICAgICdPSyc6IG51bGwsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBGQiBVc2VycyBjYW4ndCBsb2dvdXRcbiAgICBsZXQgc2hvd19sb2dvdXQgPSAhd2luZG93LkZCSW5zdGFudDtcbiAgICBsZXQgdXNlcl9pZCA9IG5ldC5zdWJzLmxvZ2dlZEluKCk7XG4gICAgbGV0IHVzZXJfY2hhbm5lbCA9IG5ldC5zdWJzLmdldENoYW5uZWwoYHVzZXIuJHt1c2VyX2lkfWApO1xuICAgIGxldCBkaXNwbGF5X25hbWUgPSB1c2VyX2NoYW5uZWwuZ2V0Q2hhbm5lbERhdGEoJ3B1YmxpYy5kaXNwbGF5X25hbWUnKSB8fCB1c2VyX2lkO1xuICAgIGxldCBuYW1lID0gZm9ybWF0VXNlcklEKHVzZXJfaWQsIGRpc3BsYXlfbmFtZSk7XG5cbiAgICBpZiAoc2hvd19sb2dvdXQpIHtcbiAgICAgIGxldCBsb2dnZWRfaW5fZm9udF9oZWlnaHQgPSBmb250X2hlaWdodCAqIDAuNzU7XG4gICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgY2VudGVyID8geCAtIHRleHRfdyAvIDIgOiB4ICsgYnV0dG9uX3dpZHRoICsgOCwgeSxcbiAgICAgICAgICBaLlVJLCBsb2dnZWRfaW5fZm9udF9oZWlnaHQsXG4gICAgICAgICAgKGNlbnRlciA/IGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSIDogY2FsaWduKSB8IGdsb3ZfZm9udC5BTElHTi5IRklULFxuICAgICAgICAgIHRleHRfdywgYnV0dG9uX2hlaWdodCxcbiAgICAgICAgICBgTG9nZ2VkIGluIGFzOiAke25hbWV9YCk7XG4gICAgICAgIHkgKz0gbG9nZ2VkX2luX2ZvbnRfaGVpZ2h0ICsgODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCArIGJ1dHRvbl93aWR0aCArIDgsXG4gICAgICAgICAgeSArIGxvZ2dlZF9pbl9mb250X2hlaWdodCAqIC0wLjI1LFxuICAgICAgICAgIFouVUksIGxvZ2dlZF9pbl9mb250X2hlaWdodCwgY2FsaWduIHwgZ2xvdl9mb250LkFMSUdOLlZDRU5URVIgfCBnbG92X2ZvbnQuQUxJR04uSEZJVCwgdGV4dF93LCBidXR0b25faGVpZ2h0LFxuICAgICAgICAgICdMb2dnZWQgaW4gYXM6Jyk7XG4gICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeCArIGJ1dHRvbl93aWR0aCArIDgsXG4gICAgICAgICAgeSArIGxvZ2dlZF9pbl9mb250X2hlaWdodCAqIDAuNzUsXG4gICAgICAgICAgWi5VSSwgbG9nZ2VkX2luX2ZvbnRfaGVpZ2h0LCBjYWxpZ24gfCBnbG92X2ZvbnQuQUxJR04uVkNFTlRFUiB8IGdsb3ZfZm9udC5BTElHTi5IRklULCB0ZXh0X3csIGJ1dHRvbl9oZWlnaHQsXG4gICAgICAgICAgbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh1aS5idXR0b25UZXh0KHtcbiAgICAgICAgeDogY2VudGVyID8geCAtIGJ1dHRvbl93aWR0aCAvIDIgOiB4LFxuICAgICAgICB5LCB3OiBidXR0b25fd2lkdGgsIGg6IGJ1dHRvbl9oZWlnaHQsXG4gICAgICAgIGZvbnRfaGVpZ2h0LFxuICAgICAgICB0ZXh0OiAnTG9nIG91dCcsXG4gICAgICB9KSkge1xuICAgICAgICBlZGl0X2JveF9wYXNzd29yZC5zZXRUZXh0KCcnKTtcbiAgICAgICAgaWYgKHByZWxvZ291dCkge1xuICAgICAgICAgIHByZWxvZ291dCgpO1xuICAgICAgICB9XG4gICAgICAgIG5ldC5zdWJzLmxvZ291dCgpO1xuICAgICAgfVxuICAgICAgeSArPSBidXR0b25faGVpZ2h0ICsgODtcbiAgICB9IGVsc2Uge1xuICAgICAgdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCBjZW50ZXIgPyB4IC0gdGV4dF93IC8gMiA6IHggKyBidXR0b25fd2lkdGggKyA4LCB5LFxuICAgICAgICBaLlVJLCBmb250X2hlaWdodCxcbiAgICAgICAgKGNlbnRlciA/IGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSIDogY2FsaWduKSB8IGdsb3ZfZm9udC5BTElHTi5WQ0VOVEVSIHwgZ2xvdl9mb250LkFMSUdOLkhGSVQsXG4gICAgICAgIHRleHRfdywgYnV0dG9uX2hlaWdodCxcbiAgICAgICAgYExvZ2dlZCBpbiBhczogJHtuYW1lfWApO1xuICAgIH1cbiAgfVxuICBpZiAobG9naW5fbWVzc2FnZSkge1xuICAgIGxldCB3ID0gdWkuZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCBjZW50ZXIgPyB4IC0gNDAwIDogeCwgeSwgWi5VSSwgZm9udF9oZWlnaHQgKiAxLjUsXG4gICAgICBnbG92X2ZvbnQuQUxJR04uSFZDRU5URVJGSVQsXG4gICAgICBjZW50ZXIgPyA4MDAgOiA0MDAsIG1pbl9oLCBsb2dpbl9tZXNzYWdlKTtcbiAgICB3ICs9IDEwMDtcbiAgICB1aS5kcmF3UmVjdCh4IC0gKGNlbnRlciA/IHcgLyAyIDogNTApLCB5LCB4ICsgKGNlbnRlciA/IHcgLyAyIDogdyAtIDUwKSwgeSArIG1pbl9oLCBaLlVJIC0gMC41LCB2ZWM0KDAsMCwwLDAuMjUpKTtcbiAgICB5ICs9IG1pbl9oO1xuICB9XG4gIHJldHVybiB5O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgcmV0dXJuIG5ldyBBY2NvdW50VUkoKTtcbn1cbiIsIi8qIGVzbGludCBnbG9iYWwtcmVxdWlyZTpvZmYgKi9cblxuLy8gU3RhcnR1cCBjb2RlLlxuXG5sZXQgY2FsbGVkX29uY2UgPSBmYWxzZTtcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChjYWxsZWRfb25jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjYWxsZWRfb25jZSA9IHRydWU7XG4gIC8vIHJlcXVpcmUoJy4vZ2xvdi93b3JrZXJfY29tbS5qcycpLnN0YXJ0dXAoKTsgLy8gRmlyc3QsIHNvIGl0IGdldHMgbG9hZGluZyBxdWlja2x5IChpZiB3b3JrZXJzIHJlcXVpcmVkKVxuICByZXF1aXJlKCcuL2dsb3YvYm9vdHN0cmFwLmpzJyk7XG4gIGlmICh3aW5kb3cuZ2xvdl9lbnYgPT09ICdtdWx0aXBsYXllcicpIHtcbiAgICByZXF1aXJlKCcuL211bHRpcGxheWVyLmpzJykubWFpbigpO1xuICB9IGVsc2Uge1xuICAgIHJlcXVpcmUoJy4vbWFpbi5qcycpLm1haW4oKTtcbiAgfVxufTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbi8vIFRoaW5ncyB0aGF0IHNob3VsZCBiZSBkb25lIGJlZm9yZSByZXF1aXJpbmcgb3IgcnVubmluZyBhbnkgdXNlci1sZXZlbCBjb2RlIG9yIG90aGVyIGVuZ2luZSBjb2RlXG5cbnJlcXVpcmUoJy4vcG9seWZpbGwuanMnKTtcblxubGV0IGRlYnVnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlYnVnJyk7XG53aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uIChlLCBmaWxlLCBsaW5lLCBjb2wsIGVycm9yb2JqKSB7XG4gIGxldCBtc2cgPSBgJHtlfVxcbiAgYXQgJHtmaWxlfSgke2xpbmV9OiR7Y29sfSlgO1xuICBpZiAoZXJyb3JvYmogJiYgZXJyb3JvYmouc3RhY2spIHtcbiAgICBtc2cgPSBgJHtlcnJvcm9iai5zdGFja31gO1xuICAgIGlmIChlcnJvcm9iai5tZXNzYWdlKSB7XG4gICAgICBpZiAobXNnLmluZGV4T2YoZXJyb3JvYmoubWVzc2FnZSkgPT09IC0xKSB7XG4gICAgICAgIG1zZyA9IGAke2Vycm9yb2JqLm1lc3NhZ2V9XFxuJHttc2d9YDtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG9yaWdpbiA9IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbiB8fCAnJztcbiAgICBpZiAob3JpZ2luKSB7XG4gICAgICBpZiAob3JpZ2luLnNsaWNlKC0xKSAhPT0gJy8nKSB7XG4gICAgICAgIG9yaWdpbiArPSAnLyc7XG4gICAgICB9XG4gICAgICBtc2cgPSBtc2cuc3BsaXQob3JpZ2luKS5qb2luKCcnKTsgLy8gcmVwbGFjZVxuICAgIH1cbiAgICAvLyBmaXh1cCB3ZWlyZCBGaXJlZm94IHdlaXJkbmVzc1xuICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9cXFtcXGQrXFxdPC9nLCAnJykgLy8gcmVtb3ZlIGZ1bm55IFsxMjNdIGF0IHN0YXJ0IG9mIHN0YWNrIGxpbmVzXG4gICAgICAucmVwbGFjZSgvPD9cXC88Py9nLCAnLycpIC8vIHJlbW92ZSBmdW5ueSA8cywgdGhleSBtZXNzIHVwIHBlb3BsZSdzIGNvcHkgYW5kIHBhc3RlXG4gICAgICAucmVwbGFjZSgvXFxuKFteIF0pL2csICdcXG4gICQxJyk7IC8vIGFkZCBpbmRlbnRhdGlvbiBpZiBtaXNzaW5nXG4gIH1cbiAgbGV0IHNob3cgPSB0cnVlO1xuICBpZiAod2luZG93Lmdsb3ZfZXJyb3JfcmVwb3J0KSB7XG4gICAgc2hvdyA9IHdpbmRvdy5nbG92X2Vycm9yX3JlcG9ydChtc2csIGZpbGUsIGxpbmUsIGNvbCk7XG4gIH1cbiAgaWYgKHNob3cpIHtcbiAgICBkZWJ1Zy5pbm5lclRleHQgPSBgJHttc2d9XFxuXFxuUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yIHRvIHRoZSBkZXZlbG9wZXIsIGFuZCB0aGVuIHJlbG9hZCB0aGlzIHBhZ2UuYDtcbiAgfVxufTtcbndpbmRvdy5kZWJ1Z21zZyA9IGZ1bmN0aW9uIChtc2csIGNsZWFyKSB7XG4gIGlmIChjbGVhcikge1xuICAgIGRlYnVnLmlubmVyVGV4dCA9IG1zZztcbiAgfSBlbHNlIHtcbiAgICBkZWJ1Zy5pbm5lclRleHQgKz0gYCR7bXNnfVxcbmA7XG4gIH1cbn07XG4iLCJsZXQgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbmV4cG9ydCBsZXQgaXNfaW9zID0gIXdpbmRvdy5NU1N0cmVhbSAmJiB1YS5tYXRjaCgvaVBhZHxpUGhvbmV8aVBvZC8pO1xuZXhwb3J0IGxldCBpc193aW5kb3dzX3Bob25lID0gdWEubWF0Y2goL3dpbmRvd3MgcGhvbmUvaSk7XG5leHBvcnQgbGV0IGlzX2FuZHJvaWQgPSAhaXNfd2luZG93c19waG9uZSAmJiB1YS5tYXRjaCgvYW5kcm9pZC9pKTtcbmV4cG9ydCBsZXQgaXNfd2Via2l0ID0gdWEubWF0Y2goL1dlYktpdC9pKTtcbmV4cG9ydCBsZXQgaXNfaW9zX3NhZmFyaSA9IGlzX2lvcyAmJiBpc193ZWJraXQgJiYgIXVhLm1hdGNoKC9DcmlPUy9pKTtcblxuZXhwb3J0IGxldCBpc19kaXNjcmV0ZV9ncHUgPSBmYWxzZTtcblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXMud2lkdGggPSA0O1xuICBjYW52YXMuaGVpZ2h0ID0gNDtcbiAgbGV0IGdsdGVzdCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpO1xuICBsZXQgZGVidWdfaW5mbyA9IGdsdGVzdC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKTtcbiAgaWYgKGRlYnVnX2luZm8pIHtcbiAgICBsZXQgcmVuZGVyZXJfdW5tYXNrZWQgPSBnbHRlc3QuZ2V0UGFyYW1ldGVyKGRlYnVnX2luZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpO1xuICAgIGlzX2Rpc2NyZXRlX2dwdSA9IEJvb2xlYW4ocmVuZGVyZXJfdW5tYXNrZWQgJiYgcmVuZGVyZXJfdW5tYXNrZWQubWF0Y2goL252aWRpYXxyYWRlb24vaSkpO1xuICB9XG59XG5pbml0KCk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLXNoYWRvdzpvZmYgKi9cblxuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcblxuY29uc3QgeyBtYXgsIHJvdW5kIH0gPSBNYXRoO1xuXG5jb25zdCBzYWZlYXJlYV9wYWQgPSBuZXcgRmxvYXQzMkFycmF5KDQpOyAvLyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b21cbi8vIDA6IHgwX3JlYWxcbi8vIDE6IHkwX3JlYWxcbi8vIDI6IHgxX3JlYWxcbi8vIDM6IHkxX3JlYWxcbi8vIDQ6IHhfc2NhbGVcbi8vIDU6IHlfc2NhbGVcbi8vIDY6IGRvbV90b19jYW52YXNfcmF0aW9cbi8vIDc6IGludmVyc2Ugdmlld3BvcnQgeF9zY2FsZVxuLy8gODogaW52ZXJzZSB2aWV3cG9ydCB5X3NjYWxlXG4vLyA5OiB4MFxuLy8gMTA6IHkwXG4vLyAxMTogeDFcbi8vIDEyOiB5MVxuZXhwb3J0IGNvbnN0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEzKTtcblxubGV0IHNjcmVlbl93aWR0aDtcbmxldCBzY3JlZW5faGVpZ2h0O1xuLy8gTm90ZTogcmVuZGVyXyogbm90IHVzZWQgYnkgRlJWUiBhdCB0aGlzIHRpbWVcbmxldCByZW5kZXJfd2lkdGg7XG5sZXQgcmVuZGVyX2hlaWdodDtcbmV4cG9ydCBsZXQgcmVuZGVyX3ZpZXdwb3J0X3c7XG5leHBvcnQgbGV0IHJlbmRlcl92aWV3cG9ydF9oO1xuZXhwb3J0IGxldCByZW5kZXJfb2Zmc2V0X3g7XG5sZXQgcmVuZGVyX29mZnNldF95X3RvcDtcbmV4cG9ydCBsZXQgcmVuZGVyX29mZnNldF95X2JvdHRvbTtcblxuZnVuY3Rpb24gcmVhcHBseSgpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGRhdGFbNF0gPSByZW5kZXJfd2lkdGggLyAoZGF0YVsyXSAtIGRhdGFbMF0pO1xuICAgIGRhdGFbNV0gPSByZW5kZXJfaGVpZ2h0IC8gKGRhdGFbM10gLSBkYXRhWzFdKTtcbiAgICBkYXRhWzddID0gKGRhdGFbMl0gLSBkYXRhWzBdKSAvIHJlbmRlcl92aWV3cG9ydF93O1xuICAgIGRhdGFbOF0gPSAoZGF0YVszXSAtIGRhdGFbMV0pIC8gcmVuZGVyX3ZpZXdwb3J0X2g7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVs0XSA9IHNjcmVlbl93aWR0aCAvIChkYXRhWzJdIC0gZGF0YVswXSk7XG4gICAgZGF0YVs1XSA9IHNjcmVlbl9oZWlnaHQgLyAoZGF0YVszXSAtIGRhdGFbMV0pO1xuICB9XG59XG5cbi8vIFRvIGdldCB0byBjb29yZGluYXRlcyB1c2VkIGJ5IE9wZW5HTCAvIGNhbnZhc1xuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxUb0NhbnZhcyhkc3QsIHNyYykge1xuICBkc3RbMF0gPSAoc3JjWzBdIC0gZGF0YVswXSkgKiBkYXRhWzRdO1xuICBkc3RbMV0gPSAoc3JjWzFdIC0gZGF0YVsxXSkgKiBkYXRhWzVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FudmFzVG9WaXJ0dWFsKGRzdCwgc3JjKSB7XG4gIGRzdFswXSA9IHNyY1swXSAvIGRhdGFbNF0gKyBkYXRhWzBdO1xuICBkc3RbMV0gPSBzcmNbMV0gLyBkYXRhWzVdICsgZGF0YVsxXTtcbn1cblxuZnVuY3Rpb24gc2FmZVNjcmVlbldpZHRoKCkge1xuICByZXR1cm4gbWF4KDEsIHNjcmVlbl93aWR0aCAtIHNhZmVhcmVhX3BhZFswXSAtIHNhZmVhcmVhX3BhZFsxXSk7XG59XG5cbmZ1bmN0aW9uIHNhZmVTY3JlZW5IZWlnaHQoKSB7XG4gIHJldHVybiBtYXgoMSwgc2NyZWVuX2hlaWdodCAtIHNhZmVhcmVhX3BhZFsyXSAtIHNhZmVhcmVhX3BhZFszXSk7XG59XG5cbi8vIFNldHMgdGhlIDJEIFwiY2FtZXJhXCIgdXNlZCB0byB0cmFuc2xhdGUgc3ByaXRlIHBvc2l0aW9ucyB0byBzY3JlZW4gc3BhY2UuICBBZmZlY3RzIHNwcml0ZXMgcXVldWVkXG4vLyAgYWZ0ZXIgdGhpcyBjYWxsXG5leHBvcnQgZnVuY3Rpb24gc2V0KHgwLCB5MCwgeDEsIHkxLCBpZ25vcmVfc2FmZV9hcmVhKSB7XG4gIGlmIChpZ25vcmVfc2FmZV9hcmVhIHx8IHJlbmRlcl93aWR0aCkge1xuICAgIGRhdGFbOV0gPSBkYXRhWzBdID0geDA7XG4gICAgZGF0YVsxMF0gPSBkYXRhWzFdID0geTA7XG4gICAgZGF0YVsxMV0gPSBkYXRhWzJdID0geDE7XG4gICAgZGF0YVsxMl0gPSBkYXRhWzNdID0geTE7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVs5XSA9IHgwO1xuICAgIGRhdGFbMTBdID0geTA7XG4gICAgZGF0YVsxMV0gPSB4MTtcbiAgICBkYXRhWzEyXSA9IHkxO1xuICAgIGxldCB3c2NhbGUgPSAoeDEgLSB4MCkgLyBzYWZlU2NyZWVuV2lkdGgoKTtcbiAgICBsZXQgaHNjYWxlID0gKHkxIC0geTApIC8gc2FmZVNjcmVlbkhlaWdodCgpO1xuICAgIGRhdGFbMF0gPSB4MCAtIHNhZmVhcmVhX3BhZFswXSAqIHdzY2FsZTtcbiAgICBkYXRhWzFdID0geTAgLSBzYWZlYXJlYV9wYWRbMl0gKiBoc2NhbGU7XG4gICAgZGF0YVsyXSA9IHgxICsgc2FmZWFyZWFfcGFkWzFdICogd3NjYWxlO1xuICAgIGRhdGFbM10gPSB5MSArIHNhZmVhcmVhX3BhZFszXSAqIGhzY2FsZTtcbiAgfVxuXG4gIHJlYXBwbHkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNhZmVBcmVhUGFkZGluZyhsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pIHtcbiAgc2FmZWFyZWFfcGFkWzBdID0gcm91bmQobGVmdCk7XG4gIHNhZmVhcmVhX3BhZFsxXSA9IHJvdW5kKHJpZ2h0KTtcbiAgc2FmZWFyZWFfcGFkWzJdID0gcm91bmQodG9wKTtcbiAgc2FmZWFyZWFfcGFkWzNdID0gcm91bmQoYm90dG9tKTtcbiAgLy8gQ2FsbGVkIHdoaWxlIHVwZGF0aW5nIHNjcmVlbiB3aWR0aC9oZWlnaHQsIHJlYXBwbHkoKSBzaG91bGQgZ2V0IGNhbGxlZCBsYXRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZUFyZWFQYWRkaW5nKCkge1xuICByZXR1cm4gc2FmZWFyZWFfcGFkO1xufVxuXG5jb25zdCBzdGFjayA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2goKSB7XG4gIHN0YWNrLnB1c2goZGF0YS5zbGljZSgwKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wKCkge1xuICBsZXQgb2xkID0gc3RhY2sucG9wKCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBvbGQubGVuZ3RoOyArK2lpKSB7XG4gICAgZGF0YVtpaV0gPSBvbGRbaWldO1xuICB9XG4gIHJlYXBwbHkoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvbVRvQ2FudmFzUmF0aW8oKSB7XG4gIHJldHVybiBkYXRhWzZdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NyZWVuQXNwZWN0KCkge1xuICByZXR1cm4gc2FmZVNjcmVlbldpZHRoKCkgL1xuICAgIHNhZmVTY3JlZW5IZWlnaHQoKTtcbn1cblxuLy8gRHJhd2luZyBhcmVhIDAsMC13LGhcbi8vIEJ1dCBrZWVwIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhvc2UgdGhpbmdzIGRyYXduIHRvIGJlIGNvcnJlY3Rcbi8vIFRoaXMgbWF5IGNyZWF0ZSBhIHBhZGRpbmcgb3IgbWFyZ2luIG9uIGVpdGhlciB0b3AgYW5kIGJvdHRvbSBvciBzaWRlcyBvZiB0aGUgc2NyZWVuXG4vLyBVc2VyIHVzZXJzIGNvbnN0YW50IHZhbHVlcyBpbiB0aGlzIHJhbmdlIGZvciBjb25zaXN0ZW50IFVJIG9uIGFsbCBkZXZpY2VzXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNwZWN0Rml4ZWQodywgaCkge1xuICBsZXQgcGEgPSByZW5kZXJfd2lkdGggPyAxIDogZW5naW5lLnBpeGVsX2FzcGVjdDtcbiAgbGV0IGludl9hc3BlY3QgPSBoIC8gcGEgLyB3O1xuICBsZXQgaW52X2Rlc2lyZWRfYXNwZWN0O1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgaW52X2Rlc2lyZWRfYXNwZWN0ID0gcmVuZGVyX2hlaWdodCAvIHJlbmRlcl93aWR0aDtcbiAgfSBlbHNlIHtcbiAgICBpbnZfZGVzaXJlZF9hc3BlY3QgPSAxIC8gc2NyZWVuQXNwZWN0KCk7XG4gIH1cbiAgaWYgKGludl9hc3BlY3QgPiBpbnZfZGVzaXJlZF9hc3BlY3QpIHtcbiAgICBsZXQgbWFyZ2luID0gKGggLyBwYSAvIGludl9kZXNpcmVkX2FzcGVjdCAtIHcpIC8gMjtcbiAgICBzZXQoLW1hcmdpbiwgMCwgdyArIG1hcmdpbiwgaCwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGxldCBtYXJnaW4gPSAodyAqIHBhICogaW52X2Rlc2lyZWRfYXNwZWN0IC0gaCkgLyAyO1xuICAgIHNldCgwLCAtbWFyZ2luLCB3LCBoICsgbWFyZ2luLCBmYWxzZSk7XG4gIH1cbn1cblxuLy8gUHJpbWFyeSBkcmF3aW5nIGFyZWEgYXQgbGVhc3QgVyB4IEhcbi8vIEJ1dCBrZWVwIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhvc2UgdGhpbmdzIGRyYXduIHRvIGJlIGNvcnJlY3Rcbi8vIFNpbWlsYXIgdG8gc2V0QXNwZWN0Rml4ZWQoKSBidXQga2VlcHMgKDAsMCkgaW4gdGhlIHVwcGVyIGxlZnQgKGFsbCBwYWRkaW5nXG4vLyAgIGlzIGFkZGVkIHRvIHJpZ2h0IGFuZCBib3R0b20pXG4vLyBSZXF1aXJlcyB1c2VycyB0byB1c2UgY2FtZXJhMmQudygpLyBhbmQgY2FtZXJhMmQuaCgpIHRvIGRldGVybWluZSByZWFzb25hYmxlXG4vLyAgIFVJIHBvc2l0aW9uaW5nXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNwZWN0Rml4ZWQyKHcsIGgpIHtcbiAgbGV0IHBhID0gcmVuZGVyX3dpZHRoID8gMSA6IGVuZ2luZS5waXhlbF9hc3BlY3Q7XG4gIGxldCBpbnZfYXNwZWN0ID0gaCAvIHBhIC8gdztcbiAgbGV0IGludl9kZXNpcmVkX2FzcGVjdDtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGludl9kZXNpcmVkX2FzcGVjdCA9IHJlbmRlcl9oZWlnaHQgLyByZW5kZXJfd2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgaW52X2Rlc2lyZWRfYXNwZWN0ID0gMSAvIHNjcmVlbkFzcGVjdCgpO1xuICB9XG4gIGlmIChpbnZfYXNwZWN0ID4gaW52X2Rlc2lyZWRfYXNwZWN0KSB7XG4gICAgbGV0IG1hcmdpbiA9IChoIC8gcGEgLyBpbnZfZGVzaXJlZF9hc3BlY3QgLSB3KTtcbiAgICBzZXQoMCwgMCwgdyArIG1hcmdpbiwgaCwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGxldCBtYXJnaW4gPSAodyAqIHBhICogaW52X2Rlc2lyZWRfYXNwZWN0IC0gaCk7XG4gICAgc2V0KDAsIDAsIHcsIGggKyBtYXJnaW4sIGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gem9vbSh4LCB5LCBmYWN0b3IpIHtcbiAgbGV0IGludl9mYWN0b3IgPSAxLjAgLyBmYWN0b3I7XG4gIHNldChcbiAgICB4IC0gKHggLSBkYXRhWzBdKSAqIGludl9mYWN0b3IsXG4gICAgeSAtICh5IC0gZGF0YVsxXSkgKiBpbnZfZmFjdG9yLFxuICAgIHggKyAoZGF0YVsyXSAtIHgpICogaW52X2ZhY3RvcixcbiAgICB5ICsgKGRhdGFbM10gLSB5KSAqIGludl9mYWN0b3IsIHRydWUpO1xufVxuXG4vLyByZXR1cm5zIFt4MCx5MCx4MSx5MV0gdG8gdXNlIGFzIHBhcmFtZXRlcnMgc2V0KCkgc3VjaCB0aGF0IHNyY19yZWN0IGluIHRoZVxuLy8gY3VycmVudCB2aWV3IGlzIG5vdyBhZGRyZXNzYWJsZSBieSBkZXN0X3JlY3QgKHByZXN1bWFibHkgc29tZXRoaW5nIGxpa2Vcbi8vIFswLDAsdncsdmhdKVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGNNYXAob3V0LCBzcmNfcmVjdCwgZGVzdF9yZWN0KSB7XG4gIGxldCBjdXJfdyA9IGRhdGFbMTFdIC0gZGF0YVs5XTtcbiAgbGV0IGN1cl9oID0gZGF0YVsxMl0gLSBkYXRhWzEwXTtcbiAgbGV0IHZ4MCA9IHNyY19yZWN0WzBdIC8gY3VyX3c7XG4gIGxldCB2eTAgPSBzcmNfcmVjdFsxXSAvIGN1cl9oO1xuICBsZXQgdngxID0gc3JjX3JlY3RbMl0gLyBjdXJfdztcbiAgbGV0IHZ5MSA9IHNyY19yZWN0WzNdIC8gY3VyX2g7XG4gIGxldCB2dyA9IHZ4MSAtIHZ4MDtcbiAgbGV0IHZoID0gdnkxIC0gdnkwO1xuICBsZXQgZGVzdF92dyA9IGRlc3RfcmVjdFsyXSAtIGRlc3RfcmVjdFswXTtcbiAgbGV0IGRlc3RfdmggPSBkZXN0X3JlY3RbM10gLSBkZXN0X3JlY3RbMV07XG4gIG91dFswXSA9IGRlc3RfcmVjdFswXSAtIGRlc3RfdncgLyB2dyAqIHZ4MDtcbiAgb3V0WzFdID0gZGVzdF9yZWN0WzFdIC0gZGVzdF92aCAvIHZoICogdnkwO1xuICBvdXRbMl0gPSBkZXN0X3JlY3RbMl0gKyBkZXN0X3Z3IC8gdncgKiAoMSAtIHZ4MSk7XG4gIG91dFszXSA9IGRlc3RfcmVjdFszXSArIGRlc3RfdmggLyB2aCAqICgxIC0gdnkxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE5vcm1hbGl6ZWQoKSB7XG4gIHNldCgwLCAwLCAxLCAxLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHgwUmVhbCgpIHtcbiAgcmV0dXJuIGRhdGFbMF07XG59XG5leHBvcnQgZnVuY3Rpb24geTBSZWFsKCkge1xuICByZXR1cm4gZGF0YVsxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB4MVJlYWwoKSB7XG4gIHJldHVybiBkYXRhWzJdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHkxUmVhbCgpIHtcbiAgcmV0dXJuIGRhdGFbM107XG59XG5leHBvcnQgZnVuY3Rpb24gd1JlYWwoKSB7XG4gIHJldHVybiBkYXRhWzJdIC0gZGF0YVswXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoUmVhbCgpIHtcbiAgcmV0dXJuIGRhdGFbM10gLSBkYXRhWzFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHgwKCkge1xuICByZXR1cm4gZGF0YVs5XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB5MCgpIHtcbiAgcmV0dXJuIGRhdGFbMTBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHgxKCkge1xuICByZXR1cm4gZGF0YVsxMV07XG59XG5leHBvcnQgZnVuY3Rpb24geTEoKSB7XG4gIHJldHVybiBkYXRhWzEyXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3KCkge1xuICByZXR1cm4gZGF0YVsxMV0gLSBkYXRhWzldO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGgoKSB7XG4gIHJldHVybiBkYXRhWzEyXSAtIGRhdGFbMTBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHhTY2FsZSgpIHtcbiAgcmV0dXJuIGRhdGFbNF07XG59XG5leHBvcnQgZnVuY3Rpb24geVNjYWxlKCkge1xuICByZXR1cm4gZGF0YVs1XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh0bWxQb3MoeCwgeSkge1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIDEwMCAqICgoKHggLSBkYXRhWzBdKSAvIGRhdGFbN10gKyByZW5kZXJfb2Zmc2V0X3gpIC8gc2NyZWVuX3dpZHRoKSxcbiAgICAgIDEwMCAqICgoKHkgLSBkYXRhWzFdKSAvIGRhdGFbOF0gKyByZW5kZXJfb2Zmc2V0X3lfdG9wKSAvIHNjcmVlbl9oZWlnaHQpLFxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIDEwMCAqICh4IC0gZGF0YVswXSkgLyAoZGF0YVsyXSAtIGRhdGFbMF0pLFxuICAgICAgMTAwICogKHkgLSBkYXRhWzFdKSAvIChkYXRhWzNdIC0gZGF0YVsxXSksXG4gICAgXTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGh0bWxTaXplKHcsIGgpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIHJldHVybiBbXG4gICAgICAxMDAgKiB3IC8gZGF0YVs3XSAvIHNjcmVlbl93aWR0aCxcbiAgICAgIDEwMCAqIGggLyBkYXRhWzhdIC8gc2NyZWVuX2hlaWdodCxcbiAgICBdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbMTAwICogdyAvIChkYXRhWzJdIC0gZGF0YVswXSksIDEwMCAqIGggLyAoZGF0YVszXSAtIGRhdGFbMV0pXTtcbiAgfVxufVxuXG5sZXQgaW5wdXRfY2xpcHBpbmc7XG5leHBvcnQgZnVuY3Rpb24gc2V0SW5wdXRDbGlwcGluZyh4eXdoKSB7XG4gIGlucHV0X2NsaXBwaW5nID0geHl3aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvbVRvVmlydHVhbChkc3QsIHNyYykge1xuICBsZXQgcmV0ID0gdHJ1ZTtcbiAgaWYgKGlucHV0X2NsaXBwaW5nKSB7XG4gICAgaWYgKHNyY1swXSA8IGlucHV0X2NsaXBwaW5nWzBdIHx8IHNyY1swXSA+IGlucHV0X2NsaXBwaW5nWzBdICsgaW5wdXRfY2xpcHBpbmdbMl0gfHxcbiAgICAgIHNyY1sxXSA8IGlucHV0X2NsaXBwaW5nWzFdIHx8IHNyY1sxXSA+IGlucHV0X2NsaXBwaW5nWzFdICsgaW5wdXRfY2xpcHBpbmdbM11cbiAgICApIHtcbiAgICAgIHJldCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgZHN0WzBdID0gKHNyY1swXSAqIGRhdGFbNl0gLSByZW5kZXJfb2Zmc2V0X3gpICogZGF0YVs3XSArIGRhdGFbMF07XG4gICAgZHN0WzFdID0gKHNyY1sxXSAqIGRhdGFbNl0gLSByZW5kZXJfb2Zmc2V0X3lfdG9wKSAqIGRhdGFbOF0gKyBkYXRhWzFdO1xuICB9IGVsc2Uge1xuICAgIGRzdFswXSA9IHNyY1swXSAqIGRhdGFbNl0gLyBkYXRhWzRdICsgZGF0YVswXTtcbiAgICBkc3RbMV0gPSBzcmNbMV0gKiBkYXRhWzZdIC8gZGF0YVs1XSArIGRhdGFbMV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvbURlbHRhVG9WaXJ0dWFsKGRzdCwgc3JjKSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBkc3RbMF0gPSBzcmNbMF0gKiBkYXRhWzZdICogZGF0YVs3XTtcbiAgICBkc3RbMV0gPSBzcmNbMV0gKiBkYXRhWzZdICogZGF0YVs4XTtcbiAgfSBlbHNlIHtcbiAgICBkc3RbMF0gPSBzcmNbMF0gKiBkYXRhWzZdIC8gZGF0YVs0XTtcbiAgICBkc3RbMV0gPSBzcmNbMV0gKiBkYXRhWzZdIC8gZGF0YVs1XTtcbiAgfVxufVxuXG5sZXQgaW5wdXRfY2xpcHBpbmdfdmlydHVhbCA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5mdW5jdGlvbiB1cGRhdGVWaXJ0dWFsSW5wdXRDbGlwcGluZygpIHtcbiAgZG9tVG9WaXJ0dWFsKGlucHV0X2NsaXBwaW5nX3ZpcnR1YWwsIGlucHV0X2NsaXBwaW5nKTtcbiAgLy9kb21EZWx0YVRvVmlydHVhbChpbnB1dF9jbGlwcGluZ192aXJ0dWFsLnNsaWNlKDIpLCBpbnB1dF9jbGlwcGluZy5zbGljZSgyKSkgOlxuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgaW5wdXRfY2xpcHBpbmdfdmlydHVhbFsyXSA9IGlucHV0X2NsaXBwaW5nWzJdICogZGF0YVs2XSAqIGRhdGFbN107XG4gICAgaW5wdXRfY2xpcHBpbmdfdmlydHVhbFszXSA9IGlucHV0X2NsaXBwaW5nWzNdICogZGF0YVs2XSAqIGRhdGFbOF07XG4gIH0gZWxzZSB7XG4gICAgaW5wdXRfY2xpcHBpbmdfdmlydHVhbFsyXSA9IGlucHV0X2NsaXBwaW5nWzJdICogZGF0YVs2XSAvIGRhdGFbNF07XG4gICAgaW5wdXRfY2xpcHBpbmdfdmlydHVhbFszXSA9IGlucHV0X2NsaXBwaW5nWzNdICogZGF0YVs2XSAvIGRhdGFbNV07XG4gIH1cbn1cblxuXG4vLyBUbyBnZXQgdG8gY29vcmRpbmF0ZXMgdXNlZCBieSBtb3VzZSBldmVudHNcbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsVG9Eb20oZHN0LCBzcmMpIHtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIGRzdFswXSA9IChyZW5kZXJfb2Zmc2V0X3ggKyAoc3JjWzBdIC0gZGF0YVswXSkgLyBkYXRhWzddKSAvIGRhdGFbNl07XG4gICAgZHN0WzFdID0gKHJlbmRlcl9vZmZzZXRfeV90b3AgKyAoc3JjWzFdIC0gZGF0YVsxXSkgLyBkYXRhWzhdKSAvIGRhdGFbNl07XG4gIH0gZWxzZSB7XG4gICAgZHN0WzBdID0gKHNyY1swXSAtIGRhdGFbMF0pICogZGF0YVs0XSAvIGRhdGFbNl07XG4gICAgZHN0WzFdID0gKHNyY1sxXSAtIGRhdGFbMV0pICogZGF0YVs1XSAvIGRhdGFbNl07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxUb0ZvbnRTaXplKGhlaWdodCkge1xuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgcmV0dXJuIGhlaWdodCAvIChkYXRhWzZdICogZGF0YVs4XSkgKiAwLjg0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBoZWlnaHQgKiBkYXRhWzVdIC8gZGF0YVs2XSAqIDAuODQ7XG4gIH1cbn1cblxuLy8gZHN0L3NyYyBhcmUgeC95L3cvaCBvYmplY3RzIChlLmcuIGZyb20gaW5wdXQgc3lzdGVtKVxuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxUb0RvbVBvc1BhcmFtKGRzdCwgc3JjKSB7XG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBkc3QueCA9IChyZW5kZXJfb2Zmc2V0X3ggKyAoc3JjLnggLSBkYXRhWzBdKSAvIGRhdGFbN10pIC8gZGF0YVs2XTtcbiAgICBkc3QudyA9IHNyYy53IC8gZGF0YVs3XSAvIGRhdGFbNl07XG4gICAgZHN0LnkgPSAocmVuZGVyX29mZnNldF95X3RvcCArIChzcmMueSAtIGRhdGFbMV0pIC8gZGF0YVs4XSkgLyBkYXRhWzZdO1xuICAgIGRzdC5oID0gc3JjLmggLyBkYXRhWzhdIC8gZGF0YVs2XTtcbiAgfSBlbHNlIHtcbiAgICBkc3QueCA9IChzcmMueCAtIGRhdGFbMF0pICogZGF0YVs0XSAvIGRhdGFbNl07XG4gICAgZHN0LncgPSBzcmMudyAqIGRhdGFbNF0gLyBkYXRhWzZdO1xuICAgIGRzdC55ID0gKHNyYy55IC0gZGF0YVsxXSkgKiBkYXRhWzVdIC8gZGF0YVs2XTtcbiAgICBkc3QuaCA9IHNyYy5oICogZGF0YVs1XSAvIGRhdGFbNl07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaXBUZXN0UmVjdChyZWN0KSB7XG4gIGlmICghaW5wdXRfY2xpcHBpbmcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGVWaXJ0dWFsSW5wdXRDbGlwcGluZygpO1xuICBsZXQgaWN2ID0gaW5wdXRfY2xpcHBpbmdfdmlydHVhbDtcbiAgaWYgKHJlY3QueCA+IGljdlswXSArIGljdlsyXSB8fFxuICAgIHJlY3QueCArIHJlY3QudyA8IGljdlswXSB8fFxuICAgIHJlY3QueSA+IGljdlsxXSArIGljdlszXSB8fFxuICAgIHJlY3QueSArIHJlY3QuaCA8IGljdlsxXVxuICApIHtcbiAgICAvLyBmdWxseSBjbGlwcGVkXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChyZWN0LnggPCBpY3ZbMF0pIHtcbiAgICByZWN0LncgLT0gaWN2WzBdIC0gcmVjdC54O1xuICAgIHJlY3QueCA9IGljdlswXTtcbiAgfVxuICBpZiAocmVjdC55IDwgaWN2WzFdKSB7XG4gICAgcmVjdC5oIC09IGljdlsxXSAtIHJlY3QueTtcbiAgICByZWN0LnkgPSBpY3ZbMV07XG4gIH1cbiAgaWYgKHJlY3QueCArIHJlY3QudyA+IGljdlswXSArIGljdlsyXSkge1xuICAgIHJlY3QudyA9IGljdlswXSArIGljdlsyXSAtIHJlY3QueDtcbiAgfVxuICBpZiAocmVjdC55ICsgcmVjdC5oID4gaWN2WzFdICsgaWN2WzNdKSB7XG4gICAgcmVjdC5oID0gaWN2WzFdICsgaWN2WzNdIC0gcmVjdC55O1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGlja0NhbWVyYTJEKCkge1xuICBkYXRhWzZdID0gZW5naW5lLmRvbV90b19jYW52YXNfcmF0aW87IC8qIGRvbV90b19jYW52YXNfcmF0aW8gKi9cbiAgc2NyZWVuX3dpZHRoID0gZW5naW5lLndpZHRoO1xuICBzY3JlZW5faGVpZ2h0ID0gZW5naW5lLmhlaWdodDtcbiAgbGV0IHZpZXdwb3J0ID0gWzAsIDAsIHNjcmVlbl93aWR0aCwgc2NyZWVuX2hlaWdodF07XG4gIGlmIChlbmdpbmUucmVuZGVyX3dpZHRoKSB7IC8vIE5vdGU6IHJlbmRlcl8qIG5vdCB1c2VkIGJ5IEZSVlIgYXQgdGhpcyB0aW1lXG4gICAgcmVuZGVyX3dpZHRoID0gZW5naW5lLnJlbmRlcl93aWR0aDtcbiAgICByZW5kZXJfaGVpZ2h0ID0gZW5naW5lLnJlbmRlcl9oZWlnaHQ7XG4gICAgLy8gRmluZCBhbiBvZmZzZXQgc28gdGhpcyByZW5kZXJlZCB2aWV3cG9ydCBpcyBjZW50ZXJlZCB3aGlsZSBwcmVzZXJ2aW5nIGFzcGVjdCByYXRpbywganVzdCBsaWtlIHNldEFzcGVjdEZpeGVkXG4gICAgbGV0IHBhID0gZW5naW5lLnBpeGVsX2FzcGVjdDtcbiAgICBsZXQgaW52X2FzcGVjdCA9IHJlbmRlcl9oZWlnaHQgLyBwYSAvIHJlbmRlcl93aWR0aDtcbiAgICBsZXQgZWZmX3NjcmVlbl93aWR0aCA9IHNhZmVTY3JlZW5XaWR0aCgpO1xuICAgIGxldCBlZmZfc2NyZWVuX2hlaWdodCA9IHNhZmVTY3JlZW5IZWlnaHQoKTtcbiAgICBsZXQgaW52X2Rlc2lyZWRfYXNwZWN0ID0gZWZmX3NjcmVlbl9oZWlnaHQgLyBlZmZfc2NyZWVuX3dpZHRoO1xuICAgIGlmIChpbnZfYXNwZWN0ID4gaW52X2Rlc2lyZWRfYXNwZWN0KSB7XG4gICAgICBsZXQgbWFyZ2luID0gKHJlbmRlcl9oZWlnaHQgLyBpbnZfZGVzaXJlZF9hc3BlY3QgLSByZW5kZXJfd2lkdGggKiBwYSkgLyAyICpcbiAgICAgICAgZWZmX3NjcmVlbl9oZWlnaHQgLyByZW5kZXJfaGVpZ2h0O1xuICAgICAgcmVuZGVyX29mZnNldF94ID0gc2FmZWFyZWFfcGFkWzBdICsgcm91bmQobWFyZ2luKTtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeV90b3AgPSBzYWZlYXJlYV9wYWRbMl07XG4gICAgICByZW5kZXJfb2Zmc2V0X3lfYm90dG9tID0gc2FmZWFyZWFfcGFkWzNdO1xuICAgICAgcmVuZGVyX3ZpZXdwb3J0X3cgPSByb3VuZChlZmZfc2NyZWVuX3dpZHRoIC0gbWFyZ2luICogMik7XG4gICAgICByZW5kZXJfdmlld3BvcnRfaCA9IGVmZl9zY3JlZW5faGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWFyZ2luID0gKHJlbmRlcl93aWR0aCAqIGludl9kZXNpcmVkX2FzcGVjdCAtIHJlbmRlcl9oZWlnaHQgLyBwYSkgLyAyICpcbiAgICAgICAgZWZmX3NjcmVlbl93aWR0aCAvIHJlbmRlcl93aWR0aDtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeCA9IHNhZmVhcmVhX3BhZFswXTtcbiAgICAgIHJlbmRlcl9vZmZzZXRfeV90b3AgPSBzYWZlYXJlYV9wYWRbMl0gKyByb3VuZChtYXJnaW4pO1xuICAgICAgcmVuZGVyX29mZnNldF95X2JvdHRvbSA9IHNhZmVhcmVhX3BhZFszXSArIHJvdW5kKG1hcmdpbik7XG4gICAgICByZW5kZXJfdmlld3BvcnRfdyA9IGVmZl9zY3JlZW5fd2lkdGg7XG4gICAgICByZW5kZXJfdmlld3BvcnRfaCA9IHJvdW5kKGVmZl9zY3JlZW5faGVpZ2h0IC0gbWFyZ2luICogMik7XG4gICAgfVxuICAgIHZpZXdwb3J0WzJdID0gcmVuZGVyX3dpZHRoO1xuICAgIHZpZXdwb3J0WzNdID0gcmVuZGVyX2hlaWdodDtcbiAgfSBlbHNlIHtcbiAgICByZW5kZXJfd2lkdGggPSByZW5kZXJfaGVpZ2h0ID0gMDtcbiAgICByZW5kZXJfb2Zmc2V0X3ggPSAwO1xuICAgIHJlbmRlcl9vZmZzZXRfeV90b3AgPSAwO1xuICAgIHJlbmRlcl9vZmZzZXRfeV9ib3R0b20gPSAwO1xuICB9XG5cbiAgcmVhcHBseSgpO1xuXG4gIC8vIGxldCBzY3JlZW5fd2lkdGggPSBlbmdpbmUud2lkdGg7XG4gIC8vIGxldCBzY3JlZW5faGVpZ2h0ID0gZW5naW5lLmhlaWdodDtcbiAgLy8gbGV0IHNjcmVlbl9hc3BlY3QgPSBzY3JlZW5fd2lkdGggLyBzY3JlZW5faGVpZ2h0O1xuICAvLyBsZXQgdmlld19hc3BlY3QgPSBnYW1lX3dpZHRoIC8gZ2FtZV9oZWlnaHQ7XG4gIC8vIGlmIChzY3JlZW5fYXNwZWN0ID4gdmlld19hc3BlY3QpIHtcbiAgLy8gICBsZXQgdmlld3BvcnRfd2lkdGggPSBnYW1lX2hlaWdodCAqIHNjcmVlbl9hc3BlY3Q7XG4gIC8vICAgbGV0IGhhbGZfZGlmZiA9ICh2aWV3cG9ydF93aWR0aCAtIGdhbWVfd2lkdGgpIC8gMjtcbiAgLy8gICB2aWV3cG9ydFJlY3RhbmdsZSA9IFstaGFsZl9kaWZmLCAwLCBnYW1lX3dpZHRoICsgaGFsZl9kaWZmLCBnYW1lX2hlaWdodF07XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgbGV0IHZpZXdwb3J0X2hlaWdodCA9IGdhbWVfd2lkdGggLyBzY3JlZW5fYXNwZWN0O1xuICAvLyAgIGxldCBoYWxmX2RpZmYgPSAodmlld3BvcnRfaGVpZ2h0IC0gZ2FtZV9oZWlnaHQpIC8gMjtcbiAgLy8gICB2aWV3cG9ydFJlY3RhbmdsZSA9IFswLCAtaGFsZl9kaWZmLCBnYW1lX3dpZHRoLCBnYW1lX2hlaWdodCArIGhhbGZfZGlmZl07XG4gIC8vIH1cblxuICBlbmdpbmUuc2V0Vmlld3BvcnQodmlld3BvcnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgc2V0KDAsIDAsIGVuZ2luZS53aWR0aCwgZW5naW5lLmhlaWdodCk7XG4gIHRpY2tDYW1lcmEyRCgpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMjAgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBhc3luY1BhcmFsbGVsIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vYXN5bmMuanMnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGdsb3ZfZm9udCA9IHJlcXVpcmUoJy4vZm9udC5qcycpO1xuY29uc3QgeyBpc0ZyaWVuZCB9ID0gcmVxdWlyZSgnLi9mcmllbmRzLmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHsgbGluayB9ID0gcmVxdWlyZSgnLi9saW5rLmpzJyk7XG5jb25zdCBsb2NhbF9zdG9yYWdlID0gcmVxdWlyZSgnLi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5jb25zdCB7IGNlaWwsIGZsb29yLCBtYXgsIG1pbiB9ID0gTWF0aDtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJy4vbmV0LmpzJyk7XG5jb25zdCB7IHByb2Zhbml0eUZpbHRlciwgcHJvZmFuaXR5U3RhcnR1cCB9ID0gcmVxdWlyZSgnLi93b3Jkcy9wcm9mYW5pdHkuanMnKTtcbmNvbnN0IHsgc2Nyb2xsQXJlYUNyZWF0ZSB9ID0gcmVxdWlyZSgnLi9zY3JvbGxfYXJlYS5qcycpO1xuY29uc3Qgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzLmpzJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcbmNvbnN0IHsgY2xhbXAsIG1hdGNoQWxsIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyB2ZWM0LCB2M2NvcHkgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgRkFERV9TVEFSVF9USU1FID0gWzEwMDAwLCAxMDAwXTtcbmNvbnN0IEZBREVfVElNRSA9IFsxMDAwLCA1MDBdO1xuXG5jb25zdCBJTkRFTlQgPSA0MDtcblxuY29uc3QgRkxBR19FTU9URSA9IDE7XG5jb25zdCBGTEFHX1VTRVJDSEFUID0gMjtcblxuWi5DSEFUID0gWi5DSEFUIHx8IDUwMDtcblouQ0hBVF9GT0NVU0VEID0gWi5DSEFUX0ZPQ1VTRUQgfHwgWi5DSEFUO1xuXG5jb25zdCBjb2xvcl91c2VyX3JvbGxvdmVyID0gdmVjNCgxLDEsMSwwLjUpO1xuXG5jb25zdCBNQVhfUEVSX1NUWUxFID0ge1xuICBqb2luX2xlYXZlOiAzLFxufTtcblxuc2V0dGluZ3MucmVnaXN0ZXIoe1xuICBjaGF0X2F1dG9fdW5mb2N1czoge1xuICAgIGRlZmF1bHRfdmFsdWU6IDAsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBoZWxwOiAnQXV0b21hdGljYWxseSB1bmZvY3VzIGNoYXQgYWZ0ZXIgc2VuZGluZyBhIG1lc3NhZ2UnLFxuICB9LFxufSk7XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgcHJvZmFuaXR5X2ZpbHRlcjoge1xuICAgIGRlZmF1bHRfdmFsdWU6IDEsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBoZWxwOiAnRmlsdGVyIHByb2Zhbml0eSBpbiBjaGF0JyxcbiAgfSxcbn0pO1xuXG5mdW5jdGlvbiBDbWRIaXN0b3J5KCkge1xuICBhc3NlcnQobG9jYWxfc3RvcmFnZS5zdG9yYWdlX3ByZWZpeCAhPT0gJ2RlbW8nKTsgLy8gd3JvbmcgaW5pdGlhbGl6YXRpb24gb3JkZXJcbiAgdGhpcy5lbnRyaWVzID0gbmV3IEFycmF5KDUwKTtcbiAgdGhpcy5pZHggPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ2NvbnNvbGVfaWR4Jyk7IC8vIHdoZXJlIHdlIHdpbGwgbmV4dCBpbnNlcnRcbiAgaWYgKHR5cGVvZiB0aGlzLmlkeCAhPT0gJ251bWJlcicgfHwgdGhpcy5pZHggPCAwIHx8IHRoaXMuaWR4ID49IHRoaXMuZW50cmllcy5sZW5ndGgpIHtcbiAgICB0aGlzLmlkeCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZW50cmllcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHRoaXMuZW50cmllc1tpaV0gPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oYGNvbnNvbGVfZSR7aWl9YCk7XG4gICAgfVxuICB9XG4gIHRoaXMucmVzZXRQb3MoKTtcbn1cbkNtZEhpc3RvcnkucHJvdG90eXBlLnNldEhpc3QgPSBmdW5jdGlvbiAoaWR4LCB0ZXh0KSB7XG4gIHRoaXMuZW50cmllc1tpZHhdID0gdGV4dDtcbiAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKGBjb25zb2xlX2Uke2lkeH1gLCB0ZXh0KTtcbn07XG5DbWRIaXN0b3J5LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGV4dCkge1xuICBpZiAoIXRleHQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGlkeCA9IHRoaXMuZW50cmllcy5pbmRleE9mKHRleHQpO1xuICBpZiAoaWR4ICE9PSAtMSkge1xuICAgIC8vIGFscmVhZHkgaW4gdGhlcmUsIGp1c3QgcmUtb3JkZXJcbiAgICBsZXQgdGFyZ2V0ID0gKHRoaXMuaWR4IC0gMSArIHRoaXMuZW50cmllcy5sZW5ndGgpICUgdGhpcy5lbnRyaWVzLmxlbmd0aDtcbiAgICB3aGlsZSAoaWR4ICE9PSB0YXJnZXQpIHtcbiAgICAgIGxldCBuZXh0ID0gKGlkeCArIDEpICUgdGhpcy5lbnRyaWVzLmxlbmd0aDtcbiAgICAgIHRoaXMuc2V0SGlzdChpZHgsIHRoaXMuZW50cmllc1tuZXh0XSk7XG4gICAgICBpZHggPSBuZXh0O1xuICAgIH1cbiAgICB0aGlzLnNldEhpc3QodGFyZ2V0LCB0ZXh0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5zZXRIaXN0KHRoaXMuaWR4LCB0ZXh0KTtcbiAgdGhpcy5pZHggPSAodGhpcy5pZHggKyAxKSAlIHRoaXMuZW50cmllcy5sZW5ndGg7XG4gIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTignY29uc29sZV9pZHgnLCB0aGlzLmlkeCk7XG4gIHRoaXMucmVzZXRQb3MoKTtcbn07XG5DbWRIaXN0b3J5LnByb3RvdHlwZS51bmFkZCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gIC8vIHVwb24gZXJyb3IsIGRvIG5vdCBzdG9yZSB0aGlzIHN0cmluZyBpbiBvdXIgaGlzdG9yeVxuICBsZXQgaWR4ID0gKHRoaXMuaWR4IC0gMSArIHRoaXMuZW50cmllcy5sZW5ndGgpICUgdGhpcy5lbnRyaWVzLmxlbmd0aDtcbiAgaWYgKHRoaXMuZW50cmllc1tpZHhdICE9PSB0ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuaWR4ID0gaWR4O1xuICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ2NvbnNvbGVfaWR4JywgdGhpcy5pZHgpO1xuICB0aGlzLnJlc2V0UG9zKCk7XG59O1xuQ21kSGlzdG9yeS5wcm90b3R5cGUucmVzZXRQb3MgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGlzdF9pZHggPSB0aGlzLmlkeDtcbiAgdGhpcy5lZGl0X2xpbmUgPSAnJztcbn07XG5DbWRIaXN0b3J5LnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKGN1cl90ZXh0KSB7XG4gIGlmICh0aGlzLmhpc3RfaWR4ID09PSB0aGlzLmlkeCkge1xuICAgIC8vIGlmIGZpcnN0IHRpbWUgZ29pbmUgYmFja3dhcmRzLCBzdGFzaCB0aGUgY3VycmVudCBlZGl0IGxpbmVcbiAgICB0aGlzLmVkaXRfbGluZSA9IGN1cl90ZXh0O1xuICB9XG4gIGxldCBpZHggPSAodGhpcy5oaXN0X2lkeCAtIDEgKyB0aGlzLmVudHJpZXMubGVuZ3RoKSAlIHRoaXMuZW50cmllcy5sZW5ndGg7XG4gIGxldCB0ZXh0ID0gdGhpcy5lbnRyaWVzW2lkeF07XG4gIGlmIChpZHggPT09IHRoaXMuaWR4IHx8ICF0ZXh0KSB7XG4gICAgLy8gd3JhcHBlZCBhcm91bmQsIG9yIGdvdCB0byBlbXB0eVxuICAgIHJldHVybiB0aGlzLmVudHJpZXNbdGhpcy5oaXN0X2lkeF0gfHwgJyc7XG4gIH1cbiAgdGhpcy5oaXN0X2lkeCA9IGlkeDtcbiAgcmV0dXJuIHRleHQgfHwgJyc7XG59O1xuQ21kSGlzdG9yeS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChjdXJfdGV4dCkge1xuICBpZiAodGhpcy5oaXN0X2lkeCA9PT0gdGhpcy5pZHgpIHtcbiAgICByZXR1cm4gY3VyX3RleHQgfHwgJyc7XG4gIH1cbiAgbGV0IGlkeCA9ICh0aGlzLmhpc3RfaWR4ICsgMSkgJSB0aGlzLmVudHJpZXMubGVuZ3RoO1xuICB0aGlzLmhpc3RfaWR4ID0gaWR4O1xuICBpZiAodGhpcy5oaXN0X2lkeCA9PT0gdGhpcy5pZHgpIHtcbiAgICAvLyBqdXN0IGdvdCBiYWNrIHRvIGhlYWRcbiAgICBsZXQgcmV0ID0gdGhpcy5lZGl0X2xpbmU7XG4gICAgdGhpcy5lZGl0X2xpbmUgPSAnJztcbiAgICByZXR1cm4gcmV0IHx8ICcnO1xuICB9XG4gIHJldHVybiB0aGlzLmVudHJpZXNbaWR4XSB8fCAnJztcbn07XG5cbmZ1bmN0aW9uIENoYXRVSShwYXJhbXMpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBwYXJhbXMsICdvYmplY3QnKTtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBwYXJhbXMubWF4X2xlbiwgJ251bWJlcicpO1xuICB0aGlzLmVkaXRfdGV4dF9lbnRyeSA9IHVpLmNyZWF0ZUVkaXRCb3goe1xuICAgIHBsYWNlaG9sZGVyOiAnQ2hhdCcsXG4gICAgaW5pdGlhbF9mb2N1czogZmFsc2UsXG4gICAgYXV0b191bmZvY3VzOiB0cnVlLFxuICAgIG1heF9sZW46IHBhcmFtcy5tYXhfbGVuLFxuICAgIHRleHQ6ICcnLFxuICB9KTtcbiAgdGhpcy5jaGFubmVsID0gbnVsbDtcblxuICB0aGlzLm9uX2pvaW4gPSB0aGlzLm9uTXNnSm9pbi5iaW5kKHRoaXMpO1xuICB0aGlzLm9uX2xlYXZlID0gdGhpcy5vbk1zZ0xlYXZlLmJpbmQodGhpcyk7XG4gIHRoaXMub25fY2hhdCA9IHRoaXMub25Nc2dDaGF0LmJpbmQodGhpcyk7XG4gIHRoaXMuaGFuZGxlX2NtZF9wYXJzZSA9IHRoaXMuaGFuZGxlQ21kUGFyc2UuYmluZCh0aGlzKTtcbiAgdGhpcy5oYW5kbGVfY21kX3BhcnNlX2Vycm9yID0gdGhpcy5oYW5kbGVDbWRQYXJzZUVycm9yLmJpbmQodGhpcyk7XG4gIGNtZF9wYXJzZS5zZXREZWZhdWx0SGFuZGxlcih0aGlzLmhhbmRsZV9jbWRfcGFyc2VfZXJyb3IpO1xuICB0aGlzLmNsZWFyQ2hhdCgpO1xuICB0aGlzLm1heF9saW5lcyA9IHBhcmFtcy5tYXhfbGluZXMgfHwgODsgLy8gTWF4IHNob3duIHdoZW4gY2hhdCBub3QgYWN0aXZlXG4gIHRoaXMubWF4X21lc3NhZ2VzID0gcGFyYW1zLm1heF9tZXNzYWdlcyB8fCAxMDAwOyAvLyBTaXplIG9mIGhpc3Rvcnkga2VwdFxuICB0aGlzLm1heF9sZW4gPSBwYXJhbXMubWF4X2xlbjtcbiAgdGhpcy5mb250X2hlaWdodCA9IHBhcmFtcy5mb250X2hlaWdodCB8fCB1aS5mb250X2hlaWdodDtcbiAgdGhpcy5oaWRlX2Rpc2Nvbm5lY3RlZF9tZXNzYWdlID0gcGFyYW1zLmhpZGVfZGlzY29ubmVjdGVkX21lc3NhZ2UgfHwgZmFsc2U7XG4gIHRoaXMuc2Nyb2xsX2FyZWEgPSBzY3JvbGxBcmVhQ3JlYXRlKHtcbiAgICBiYWNrZ3JvdW5kX2NvbG9yOiBudWxsLFxuICAgIGF1dG9fc2Nyb2xsOiB0cnVlLFxuICB9KTtcbiAgdGhpcy53ID0gcGFyYW1zLncgfHwgZW5naW5lLmdhbWVfd2lkdGggLyAyO1xuICB0aGlzLmggPSBwYXJhbXMuaCB8fCBlbmdpbmUuZ2FtZV9oZWlnaHQgLyAyOyAvLyBleGNsdWRpbmcgdGV4dCBlbnRyeVxuICB0aGlzLnZvbHVtZV9qb2luX2xlYXZlID0gcGFyYW1zLnZvbHVtZV9qb2luX2xlYXZlIHx8IDE7XG4gIHRoaXMudm9sdW1lX2luID0gcGFyYW1zLnZvbHVtZV9pbiB8fCAxO1xuICB0aGlzLnZvbHVtZV9vdXQgPSBwYXJhbXMudm9sdW1lX291dCB8fCAxO1xuICB0aGlzLmhpc3RvcnkgPSBuZXcgQ21kSGlzdG9yeSgpO1xuICB0aGlzLmdldF9yb2xlcyA9IG51bGw7IC8vIHJldHVybnMgb2JqZWN0IGZvciB0ZXN0aW5nIGNtZCBhY2Nlc3MgcGVybWlzc2lvbnNcbiAgdGhpcy51cmxfbWF0Y2ggPSBwYXJhbXMudXJsX21hdGNoOyAvLyBydW5zIGAvdXJsIG1hdGNoWzFdYCBpZiBjbGlja2VkXG4gIHRoaXMudXJsX2luZm8gPSBwYXJhbXMudXJsX2luZm87IC8vIE9wdGlvbmFsIGZvciBncmFiYmluZyB0aGUgaW50ZXJlc3RpbmcgcG9ydGlvbiBvZiB0aGUgVVJMIGZvciB0b29sdGlwIGFuZCAvdXJsXG4gIHRoaXMudXNlcl9jb250ZXh0X2NiID0gcGFyYW1zLnVzZXJfY29udGV4dF9jYjsgLy8gQ2IgY2FsbGVkIHdpdGggeyB1c2VyX2lkIH0gb24gY2xpY2tcbiAgdGhpcy5zZXRBY3RpdmVTaXplKHRoaXMuZm9udF9oZWlnaHQsIHRoaXMudyk7XG5cbiAgdGhpcy5zdHlsZXMgPSB7XG4gICAgZGVmOiBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICAgICAgY29sb3I6IDB4RUVFRUVFZmYsXG4gICAgICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gICAgICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMGZmLFxuICAgIH0pLFxuICAgIHN5c3RlbTogZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICAgIGNvbG9yOiAweEFBQUFBQWZmLFxuICAgICAgb3V0bGluZV93aWR0aDogMS4wLFxuICAgICAgb3V0bGluZV9jb2xvcjogMHgwMDAwMDBmZixcbiAgICB9KSxcbiAgICBlcnJvcjogZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICAgIGNvbG9yOiAweEREMDAwMGZmLFxuICAgICAgb3V0bGluZV93aWR0aDogMS4wLFxuICAgICAgb3V0bGluZV9jb2xvcjogMHgwMDAwMDBmZixcbiAgICB9KSxcbiAgICBsaW5rOiBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICAgICAgY29sb3I6IDB4NTA0MEZGZmYsXG4gICAgICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gICAgICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMGZmLFxuICAgIH0pLFxuICAgIGxpbmtfaG92ZXI6IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICBjb2xvcjogMHgwMDAwRkZmZixcbiAgICAgIG91dGxpbmVfd2lkdGg6IDEuMCxcbiAgICAgIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwZmYsXG4gICAgfSksXG4gIH07XG4gIHRoaXMuc3R5bGVzLmpvaW5fbGVhdmUgPSB0aGlzLnN0eWxlcy5zeXN0ZW07XG5cbiAgbmV0LnN1YnMub24oJ2NoYXRfYnJvYWRjYXN0JywgdGhpcy5vbkNoYXRCcm9hZGNhc3QuYmluZCh0aGlzKSk7XG59XG5cbkNoYXRVSS5wcm90b3R5cGUuc2V0QWN0aXZlU2l6ZSA9IGZ1bmN0aW9uIChmb250X2hlaWdodCwgdykge1xuICBsZXQgd3JhcF93ID0gdyAtIHRoaXMuc2Nyb2xsX2FyZWEuYmFyV2lkdGgoKTtcbiAgaWYgKHRoaXMuYWN0aXZlX2ZvbnRfaGVpZ2h0ICE9PSBmb250X2hlaWdodCB8fCB0aGlzLndyYXBfdyAhPT0gd3JhcF93KSB7XG4gICAgdGhpcy5hY3RpdmVfZm9udF9oZWlnaHQgPSBmb250X2hlaWdodDtcbiAgICB0aGlzLndyYXBfdyA9IHdyYXBfdztcbiAgICAvLyByZWNhbGMgbnVtbGluZXNcbiAgICB0aGlzLnRvdGFsX2xpbmVzID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5tc2dzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGVsZW0gPSB0aGlzLm1zZ3NbaWldO1xuICAgICAgZWxlbS5udW1saW5lcyA9IHVpLmZvbnQubnVtTGluZXModGhpcy5zdHlsZXNbZWxlbS5zdHlsZV0gfHwgdGhpcy5zdHlsZXMuZGVmLFxuICAgICAgICB0aGlzLndyYXBfdywgSU5ERU5ULCB0aGlzLmFjdGl2ZV9mb250X2hlaWdodCwgZWxlbS5tc2dfdGV4dCk7XG4gICAgICB0aGlzLnRvdGFsX2xpbmVzICs9IGVsZW0ubnVtbGluZXM7XG4gICAgfVxuICB9XG59O1xuXG5DaGF0VUkucHJvdG90eXBlLmNsZWFyQ2hhdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5tc2dzID0gW107XG4gIHRoaXMudG90YWxfbGluZXMgPSAwO1xufTtcblxuZnVuY3Rpb24gbm90SGlkZGVuKG1zZykge1xuICByZXR1cm4gIW1zZy5oaWRkZW47XG59XG5cbkNoYXRVSS5wcm90b3R5cGUuYWRkTXNnSW50ZXJuYWwgPSBmdW5jdGlvbiAoZWxlbSkge1xuICBlbGVtLnRpbWVzdGFtcCA9IGVsZW0udGltZXN0YW1wIHx8IERhdGUubm93KCk7XG4gIGlmIChlbGVtLmZsYWdzICYgRkxBR19VU0VSQ0hBVCkge1xuICAgIGlmIChlbGVtLmZsYWdzICYgRkxBR19FTU9URSkge1xuICAgICAgZWxlbS5tc2dfdGV4dCA9IGAke2VsZW0uZGlzcGxheV9uYW1lfSAke2VsZW0ubXNnfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0ubXNnX3RleHQgPSBgWyR7ZWxlbS5kaXNwbGF5X25hbWV9XSAke2VsZW0ubXNnfWA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGVsZW0ubXNnX3RleHQgPSBlbGVtLm1zZztcbiAgfVxuICBlbGVtLm51bWxpbmVzID0gdWkuZm9udC5udW1MaW5lcyh0aGlzLnN0eWxlc1tlbGVtLnN0eWxlXSB8fCB0aGlzLnN0eWxlcy5kZWYsXG4gICAgdGhpcy53cmFwX3csIElOREVOVCwgdGhpcy5hY3RpdmVfZm9udF9oZWlnaHQsIGVsZW0ubXNnX3RleHQpO1xuICB0aGlzLnRvdGFsX2xpbmVzICs9IGVsZW0ubnVtbGluZXM7XG4gIHRoaXMubXNncy5wdXNoKGVsZW0pO1xuICBsZXQgbWF4X21zZ3MgPSBNQVhfUEVSX1NUWUxFW2VsZW0uc3R5bGVdO1xuICBpZiAobWF4X21zZ3MpIHtcbiAgICAvLyBSZW1vdmUgYW55IG1vcmUgdGhhbiBtYXhcbiAgICAvLyBBbHNvIHJlbW92ZSBhbnkgZm9yIHRoZSBzYW1lIElEICh3YW50IGZvciAnam9pbl9sZWF2ZScsIG1heWJlIG5vdCBvdGhlcnM/KVxuICAgIGZvciAobGV0IGlpID0gdGhpcy5tc2dzLmxlbmd0aCAtIDI7IGlpID49IDA7IC0taWkpIHtcbiAgICAgIGxldCBlbGVtMiA9IHRoaXMubXNnc1tpaV07XG4gICAgICBpZiAoZWxlbTIuc3R5bGUgPT09IGVsZW0uc3R5bGUgJiYgIWVsZW0yLmhpZGRlbikge1xuICAgICAgICBpZiAoZWxlbS5pZCAmJiBlbGVtMi5pZCA9PT0gZWxlbS5pZCkge1xuICAgICAgICAgIGVsZW0yLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgdGhpcy50b3RhbF9saW5lcyAtPSBlbGVtMi5udW1saW5lcztcbiAgICAgICAgICBlbGVtMi5udW1saW5lcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLS1tYXhfbXNncztcbiAgICAgICAgICBpZiAobWF4X21zZ3MgPD0gMCkge1xuICAgICAgICAgICAgZWxlbTIuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudG90YWxfbGluZXMgLT0gZWxlbTIubnVtbGluZXM7XG4gICAgICAgICAgICBlbGVtMi5udW1saW5lcyA9IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMubXNncy5sZW5ndGggPiB0aGlzLm1heF9tZXNzYWdlcyAqIDEuMjUpIHtcbiAgICB0aGlzLm1zZ3MgPSB0aGlzLm1zZ3MuZmlsdGVyKG5vdEhpZGRlbik7XG4gICAgaWYgKHRoaXMubXNncy5sZW5ndGggPiB0aGlzLm1heF9tZXNzYWdlcyAqIDEuMjUpIHtcbiAgICAgIHRoaXMubXNncy5zcGxpY2UoMCwgdGhpcy5tc2dzLmxlbmd0aCAtIHRoaXMubWF4X21lc3NhZ2VzKTtcbiAgICAgIHRoaXMudG90YWxfbGluZXMgPSAwO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubXNncy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgdGhpcy50b3RhbF9saW5lcyArPSB0aGlzLm1zZ3NbaWldLm51bWxpbmVzO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5hZGRDaGF0ID0gZnVuY3Rpb24gKG1zZywgc3R5bGUpIHtcbiAgY29uc29sZS5sb2cobXNnKTtcbiAgdGhpcy5hZGRNc2dJbnRlcm5hbCh7IG1zZywgc3R5bGUgfSk7XG59O1xuQ2hhdFVJLnByb3RvdHlwZS5hZGRDaGF0RmlsdGVyZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zb2xlLmxvZyhgQ2hhdCBmcm9tICR7ZGF0YS5pZH06ICR7ZGF0YS5tc2d9YCk7XG4gIGlmIChzZXR0aW5ncy5wcm9mYW5pdHlfZmlsdGVyKSB7XG4gICAgZGF0YS5tc2cgPSBwcm9mYW5pdHlGaWx0ZXIoZGF0YS5tc2cpO1xuICB9XG4gIHRoaXMuYWRkTXNnSW50ZXJuYWwoZGF0YSk7XG59O1xuQ2hhdFVJLnByb3RvdHlwZS5vbk1zZ0pvaW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICBpZiAoZGF0YS5jbGllbnRfaWQgIT09IG5ldC5jbGllbnQuaWQpIHtcbiAgICBpZiAodGhpcy52b2x1bWVfam9pbl9sZWF2ZSkge1xuICAgICAgdWkucGxheVVJU291bmQoJ3VzZXJfam9pbicsIHRoaXMudm9sdW1lX2pvaW5fbGVhdmUpO1xuICAgIH1cbiAgICB0aGlzLmFkZENoYXRGaWx0ZXJlZCh7XG4gICAgICBpZDogZGF0YS51c2VyX2lkIHx8IGRhdGEuY2xpZW50X2lkLFxuICAgICAgZGlzcGxheV9uYW1lOiBkYXRhLmRpc3BsYXlfbmFtZSB8fCBkYXRhLmNsaWVudF9pZCxcbiAgICAgIGZsYWdzOiBGTEFHX0VNT1RFfEZMQUdfVVNFUkNIQVQsXG4gICAgICBtc2c6ICdqb2luZWQgdGhlIGNoYW5uZWwnLFxuICAgICAgc3R5bGU6ICdqb2luX2xlYXZlJyxcbiAgICB9KTtcbiAgfVxufTtcbkNoYXRVSS5wcm90b3R5cGUub25Nc2dMZWF2ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGlmICh0aGlzLnZvbHVtZV9qb2luX2xlYXZlKSB7XG4gICAgdWkucGxheVVJU291bmQoJ3VzZXJfbGVhdmUnLCB0aGlzLnZvbHVtZV9qb2luX2xlYXZlKTtcbiAgfVxuICB0aGlzLmFkZENoYXRGaWx0ZXJlZCh7XG4gICAgaWQ6IGRhdGEudXNlcl9pZCB8fCBkYXRhLmNsaWVudF9pZCxcbiAgICBkaXNwbGF5X25hbWU6IGRhdGEuZGlzcGxheV9uYW1lIHx8IGRhdGEuY2xpZW50X2lkLFxuICAgIGZsYWdzOiBGTEFHX0VNT1RFfEZMQUdfVVNFUkNIQVQsXG4gICAgbXNnOiAnbGVmdCB0aGUgY2hhbm5lbCcsXG4gICAgc3R5bGU6ICdqb2luX2xlYXZlJyxcbiAgfSk7XG59O1xuQ2hhdFVJLnByb3RvdHlwZS5vbk1zZ0NoYXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBsZXQgeyBtc2csIGlkLCBjbGllbnRfaWQsIGRpc3BsYXlfbmFtZSwgZmxhZ3MsIHRzLCBxdWlldCB9ID0gZGF0YTtcbiAgaWYgKCFxdWlldCAmJiBjbGllbnRfaWQgIT09IG5ldC5jbGllbnQuaWQpIHtcbiAgICBpZiAodGhpcy52b2x1bWVfaW4pIHtcbiAgICAgIHVpLnBsYXlVSVNvdW5kKCdtc2dfaW4nLCB0aGlzLnZvbHVtZV9pbik7XG4gICAgfVxuICB9XG4gIGRpc3BsYXlfbmFtZSA9IGRpc3BsYXlfbmFtZSB8fCBpZDtcbiAgZmxhZ3MgPSAoZmxhZ3MgfHwgMCkgfCBGTEFHX1VTRVJDSEFUO1xuICB0aGlzLmFkZENoYXRGaWx0ZXJlZCh7XG4gICAgaWQsXG4gICAgZGlzcGxheV9uYW1lLFxuICAgIG1zZyxcbiAgICBmbGFncyxcbiAgICB0aW1lc3RhbXA6IHRzLFxuICAgIHF1aWV0LFxuICB9KTtcbn07XG5DaGF0VUkucHJvdG90eXBlLm9uQ2hhdEJyb2FkY2FzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGxldCB7IG1zZywgc3JjIH0gPSBkYXRhO1xuICB1aS5wbGF5VUlTb3VuZCgnbXNnX2VycicpO1xuICB0aGlzLmFkZENoYXRGaWx0ZXJlZCh7XG4gICAgbXNnOiBgWyR7c3JjfV0gJHttc2d9YCxcbiAgICBzdHlsZTogJ2Vycm9yJyxcbiAgfSk7XG59O1xuXG5DaGF0VUkucHJvdG90eXBlLnJ1bkxhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZGlkX3J1bl9sYXRlID0gdHJ1ZTtcbiAgaWYgKGlucHV0LmtleURvd25FZGdlKGlucHV0LktFWVMuUkVUVVJOKSkge1xuICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LmZvY3VzKCk7XG4gIH1cbiAgaWYgKGlucHV0LmtleURvd25FZGdlKGlucHV0LktFWVMuU0xBU0gpIHx8XG4gICAgaW5wdXQua2V5RG93bkVkZ2UoaW5wdXQuS0VZUy5OVU1QQURfRElWSURFKVxuICApIHtcbiAgICB0aGlzLmVkaXRfdGV4dF9lbnRyeS5mb2N1cygpO1xuICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQoJy8nKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZXJyU3RyKGVycikge1xuICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyKTtcbiAgfVxuICByZXR1cm4gZXJyO1xufVxuXG5DaGF0VUkucHJvdG90eXBlLmhhbmRsZUNtZFBhcnNlRXJyb3IgPSBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gIGlmIChlcnIpIHtcbiAgICB0aGlzLmFkZENoYXQoYFtlcnJvcl0gJHtlcnJTdHIoZXJyKX1gLCAnZXJyb3InKTtcbiAgfVxufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5oYW5kbGVDbWRQYXJzZSA9IGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgaWYgKGVycikge1xuICAgIHRoaXMuYWRkQ2hhdChgW2Vycm9yXSAke2VyclN0cihlcnIpfWAsICdlcnJvcicpO1xuICB9IGVsc2UgaWYgKHJlc3ApIHtcbiAgICB0aGlzLmFkZENoYXQoYFtzeXN0ZW1dICR7KHR5cGVvZiByZXNwID09PSAnc3RyaW5nJykgPyByZXNwIDogSlNPTi5zdHJpbmdpZnkocmVzcCl9YCwgJ3N5c3RlbScpO1xuICB9XG59O1xuXG5DaGF0VUkucHJvdG90eXBlLnNldEdldFJvbGVzID0gZnVuY3Rpb24gKGZuKSB7XG4gIHRoaXMuZ2V0X3JvbGVzID0gZm47XG59O1xuXG5sZXQgYWNjZXNzX2R1bW15ID0geyBhY2Nlc3M6IG51bGwgfTtcbkNoYXRVSS5wcm90b3R5cGUuZ2V0QWNjZXNzT2JqID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuZ2V0X3JvbGVzKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGFjY2Vzc19kdW1teS5hY2Nlc3MgPSB0aGlzLmdldF9yb2xlcygpO1xuICByZXR1cm4gYWNjZXNzX2R1bW15O1xufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5jbWRQYXJzZSA9IGZ1bmN0aW9uIChzdHIsIG9uX2Vycm9yKSB7XG4gIGxldCBoYW5kbGVSZXN1bHQgPSBvbl9lcnJvciA/XG4gICAgKGVyciwgcmVzcCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVfY21kX3BhcnNlKGVyciwgcmVzcCk7XG4gICAgICBpZiAob25fZXJyb3IgJiYgZXJyKSB7XG4gICAgICAgIG9uX2Vycm9yKGVycik7XG4gICAgICB9XG4gICAgfSA6XG4gICAgdGhpcy5oYW5kbGVfY21kX3BhcnNlO1xuICBjbWRfcGFyc2UuaGFuZGxlKHRoaXMuZ2V0QWNjZXNzT2JqKCksIHN0ciwgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmIChlcnIgJiYgY21kX3BhcnNlLndhc19ub3RfZm91bmQpIHtcbiAgICAgIC8vIGZvcndhcmQgdG8gc2VydmVyXG4gICAgICBuZXQuc3Vicy5zZW5kQ21kUGFyc2Uoc3RyLCBoYW5kbGVSZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVSZXN1bHQoZXJyLCByZXNwKTtcbiAgICB9XG4gIH0pO1xufTtcblxuQ2hhdFVJLnByb3RvdHlwZS5jbWRQYXJzZUludGVybmFsID0gZnVuY3Rpb24gKHN0cikge1xuICBjbWRfcGFyc2UuaGFuZGxlKHRoaXMuZ2V0QWNjZXNzT2JqKCksIHN0ciwgdGhpcy5oYW5kbGVfY21kX3BhcnNlX2Vycm9yKTtcbn07XG5cbmZ1bmN0aW9uIHBhZDIoc3RyKSB7XG4gIHJldHVybiBgMCR7c3RyfWAuc2xpY2UoLTIpO1xufVxuZnVuY3Rpb24gY29uY2lzZURhdGUoZHQpIHtcbiAgcmV0dXJuIGAke3BhZDIoZHQuZ2V0TW9udGgoKSArIDEpfS0ke3BhZDIoZHQuZ2V0RGF0ZSgpKX0gJHtwYWQyKGR0LmdldEhvdXJzKCkpXG4gIH06JHtwYWQyKGR0LmdldE1pbnV0ZXMoKSl9OiR7cGFkMihkdC5nZXRTZWNvbmRzKCkpfWA7XG59XG5sZXQgaGVscF9mb250X3N0eWxlID0gZ2xvdl9mb250LnN0eWxlQ29sb3JlZChudWxsLCAweDAwMDAwMGZmKTtcbmxldCBoZWxwX2ZvbnRfc3R5bGVfY21kID0gZ2xvdl9mb250LnN0eWxlKGhlbHBfZm9udF9zdHlsZSwge1xuICBvdXRsaW5lX3dpZHRoOiAwLjUsXG4gIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwRkYsXG59KTtcbmxldCBoZWxwX3JvbGxvdmVyX2NvbG9yID0gdmVjNCgwLCAwLCAwLCAwLjI1KTtcbmxldCBoZWxwX3JvbGxvdmVyX2NvbG9yMiA9IHZlYzQoMCwgMCwgMCwgMC4xMjUpO1xuY29uc3QgVE9PTFRJUF9NSU5fUEFHRV9TSVpFID0gMjA7XG5sZXQgdG9vbHRpcF9wYWdlID0gMDtcbmxldCB0b29sdGlwX2xhc3QgPSAnJztcbmxldCB0b29sdGlwX3BhbmVsX2NvbG9yID0gdmVjNCgpO1xuZnVuY3Rpb24gZHJhd0hlbHBUb29sdGlwKHBhcmFtKSB7XG4gIGFzc2VydChBcnJheS5pc0FycmF5KHBhcmFtLnRvb2x0aXApKTtcbiAgbGV0IHRvb2x0aXAgPSBwYXJhbS50b29sdGlwO1xuICBsZXQgbnVtX3BhZ2VzID0gMTtcbiAgbGV0IGggPSBwYXJhbS5mb250X2hlaWdodDtcbiAgbGV0IGVmZl90b29sdGlwX3BhZCA9IHVpLnRvb2x0aXBfcGFkICogMC41O1xuICBsZXQgbnVtX3Blcl9wYWdlID0gbWluKFRPT0xUSVBfTUlOX1BBR0VfU0laRSwgbWF4KDEsIGZsb29yKChwYXJhbS55IC0gY2FtZXJhMmQueTAoKSAtIGVmZl90b29sdGlwX3BhZCkgLyBoKSAtIDEpKTtcbiAgaWYgKHRvb2x0aXAubGVuZ3RoID4gMjApIHtcbiAgICBsZXQgdGV4dCA9IHRvb2x0aXAuam9pbignXFxuJyk7XG4gICAgaWYgKHRleHQgIT09IHRvb2x0aXBfbGFzdCkge1xuICAgICAgdG9vbHRpcF9wYWdlID0gMDtcbiAgICAgIHRvb2x0aXBfbGFzdCA9IHRleHQ7XG4gICAgfVxuICAgIG51bV9wYWdlcyA9IGNlaWwodG9vbHRpcC5sZW5ndGggLyBudW1fcGVyX3BhZ2UpO1xuICAgIHRvb2x0aXAgPSB0b29sdGlwLnNsaWNlKHRvb2x0aXBfcGFnZSAqIG51bV9wZXJfcGFnZSwgKHRvb2x0aXBfcGFnZSArIDEpICogbnVtX3Blcl9wYWdlKTtcbiAgfSBlbHNlIHtcbiAgICB0b29sdGlwX3BhZ2UgPSAwO1xuICAgIHRvb2x0aXBfbGFzdCA9ICcnO1xuICB9XG4gIGxldCB3ID0gcGFyYW0udG9vbHRpcF93aWR0aDtcbiAgbGV0IHggPSBwYXJhbS54O1xuICBsZXQgeiA9IHBhcmFtLnogfHwgKFouVE9PTFRJUCArIDUpO1xuICBsZXQgdGV4dF94ID0geCArIGVmZl90b29sdGlwX3BhZDtcbiAgbGV0IHRleHRfdyA9IHcgLSBlZmZfdG9vbHRpcF9wYWQgKiAyO1xuICBsZXQgdG9vbHRpcF95MSA9IHBhcmFtLnk7XG5cbiAgbGV0IGFscGhhID0gMTtcbiAgbGV0IHZpc19oID0gZWZmX3Rvb2x0aXBfcGFkICogMiArIGggKiB0b29sdGlwLmxlbmd0aDtcbiAgaWYgKCFwYXJhbS5kb19zZWxlY3Rpb24gJiYgbnVtX3BhZ2VzID09PSAxICYmIGlucHV0Lm1vdXNlT3Zlcih7XG4gICAgeCxcbiAgICB5OiB0b29sdGlwX3kxIC0gdmlzX2gsXG4gICAgdyxcbiAgICBoOiB2aXNfaCxcbiAgfSkpIHtcbiAgICBhbHBoYSA9IDAuMTU7XG4gIH1cbiAgbGV0IHN0eWxlID0gaGVscF9mb250X3N0eWxlO1xuICBpZiAoYWxwaGEgIT09IDEpIHtcbiAgICBzdHlsZSA9IGdsb3ZfZm9udC5zdHlsZUFscGhhKHN0eWxlLCBhbHBoYSk7XG4gIH1cblxuICBsZXQgeSA9IHRvb2x0aXBfeTEgLSBlZmZfdG9vbHRpcF9wYWQ7XG4gIGxldCByZXQgPSBudWxsO1xuICBpZiAobnVtX3BhZ2VzID4gMSkge1xuICAgIHkgLT0gaDtcbiAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQoaGVscF9mb250X3N0eWxlLFxuICAgICAgdGV4dF94LCB5LCB6KzEsIGgsIGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSLFxuICAgICAgdGV4dF93LCAwLFxuICAgICAgYFBhZ2UgJHt0b29sdGlwX3BhZ2UgKyAxfSAvICR7bnVtX3BhZ2VzfWApO1xuICAgIGxldCBwb3MgPSB7IHgsIHksIHcsIGggfTtcbiAgICBpZiAoaW5wdXQubW91c2VVcEVkZ2UocG9zKSkgeyAvLyB1cCBpbnN0ZWFkIG9mIGRvd24gdG8gcHJldmVudCBjYW52YXMgY2FwdHVyaW5nIGZvY3VzXG4gICAgICB0b29sdGlwX3BhZ2UgPSAodG9vbHRpcF9wYWdlICsgMSkgJSBudW1fcGFnZXM7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5tb3VzZU92ZXIocG9zKSkge1xuICAgICAgdWkuZHJhd1JlY3QoeCwgeSwgeCArIHcsIHkgKyBoLCB6ICsgMC41LCBoZWxwX3JvbGxvdmVyX2NvbG9yKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaWkgPSB0b29sdGlwLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICBsZXQgbGluZSA9IHRvb2x0aXBbaWldO1xuICAgIHkgLT0gaDtcbiAgICBsZXQgaWR4ID0gbGluZS5pbmRleE9mKCcgJyk7XG4gICAgaWYgKGxpbmVbMF0gPT09ICcvJyAmJiBpZHggIT09IC0xICYmIHBhcmFtLmRvX3NlbGVjdGlvbikge1xuICAgICAgLy8gaXMgYSBjb21tYW5kXG4gICAgICBsZXQgY21kID0gbGluZS5zbGljZSgwLCBpZHgpO1xuICAgICAgbGV0IGhlbHAgPSBsaW5lLnNsaWNlKGlkeCk7XG4gICAgICBsZXQgY21kX3cgPSB1aS5mb250LmRyYXdTaXplZChoZWxwX2ZvbnRfc3R5bGVfY21kLFxuICAgICAgICB0ZXh0X3gsIHksIHorMSwgaCwgY21kKTtcbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChoZWxwX2ZvbnRfc3R5bGUsXG4gICAgICAgIHRleHRfeCArIGNtZF93LCB5LCB6KzEsIGgsIGdsb3ZfZm9udC5BTElHTi5IRklULFxuICAgICAgICB0ZXh0X3cgLSBjbWRfdywgMCxcbiAgICAgICAgaGVscCk7XG4gICAgICBsZXQgcG9zID0geyB4LCB5LCB3LCBoIH07XG4gICAgICBpZiAoaW5wdXQubW91c2VVcEVkZ2UocG9zKSkgeyAvLyB1cCBpbnN0ZWFkIG9mIGRvd24gdG8gcHJldmVudCBjYW52YXMgY2FwdHVyaW5nIGZvY3VzXG4gICAgICAgIHJldCA9IGNtZC5zbGljZSgxKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5wdXQubW91c2VPdmVyKHBvcykpIHtcbiAgICAgICAgdWkuZHJhd1JlY3QoeCwgeSwgdGV4dF94ICsgY21kX3cgKyA0LCB5ICsgaCwgeiArIDAuNSwgaGVscF9yb2xsb3Zlcl9jb2xvcik7XG4gICAgICAgIHVpLmRyYXdSZWN0KHRleHRfeCArIGNtZF93ICsgNCwgeSwgeCArIHcsIHkgKyBoLCB6ICsgMC41LCBoZWxwX3JvbGxvdmVyX2NvbG9yMik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSxcbiAgICAgICAgdGV4dF94LCB5LCB6KzEsIGgsIGdsb3ZfZm9udC5BTElHTi5IRklULFxuICAgICAgICB0ZXh0X3csIDAsXG4gICAgICAgIGxpbmUpO1xuICAgIH1cbiAgfVxuICB5IC09IGVmZl90b29sdGlwX3BhZDtcbiAgbGV0IHBpeGVsX3NjYWxlID0gdWkudG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSAqIDAuNTtcblxuICB2M2NvcHkodG9vbHRpcF9wYW5lbF9jb2xvciwgdWkuY29sb3JfcGFuZWwpO1xuICB0b29sdGlwX3BhbmVsX2NvbG9yWzNdID0gYWxwaGE7XG4gIHVpLnBhbmVsKHtcbiAgICB4LCB5LCB6LCB3LFxuICAgIGg6IHRvb2x0aXBfeTEgLSB5LFxuICAgIHBpeGVsX3NjYWxlLFxuICAgIGNvbG9yOiB0b29sdGlwX3BhbmVsX2NvbG9yLFxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuQ2hhdFVJLnByb3RvdHlwZS5pc0ZvY3VzZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmVkaXRfdGV4dF9lbnRyeSAmJiB0aGlzLmVkaXRfdGV4dF9lbnRyeS5pc0ZvY3VzZWQoKSB8fFxuICAgIHRoaXMuc2Nyb2xsX2FyZWEgJiYgdGhpcy5zY3JvbGxfYXJlYS5pc0ZvY3VzZWQoKTtcbn07XG5cbkNoYXRVSS5wcm90b3R5cGUuc2VuZENoYXQgPSBmdW5jdGlvbiAoZmxhZ3MsIHRleHQpIHtcbiAgaWYgKCFuZXQuY2xpZW50LmNvbm5lY3RlZCkge1xuICAgIHRoaXMuYWRkQ2hhdCgnW2Vycm9yXSBDYW5ub3QgY2hhdDogRGlzY29ubmVjdGVkJywgJ2Vycm9yJyk7XG4gIH0gZWxzZSBpZiAoIXRoaXMuY2hhbm5lbCB8fCAhbmV0LnN1YnMubG9nZ2VkSW4oKSkge1xuICAgIHRoaXMuYWRkQ2hhdCgnW2Vycm9yXSBDYW5ub3QgY2hhdDogTXVzdCBiZSBsb2dnZWQgaW4nLCAnZXJyb3InKTtcbiAgfSBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA+IHRoaXMubWF4X2xlbikge1xuICAgIHRoaXMuYWRkQ2hhdCgnW2Vycm9yXSBDaGF0IG1lc3NhZ2UgdG9vIGxvbmcnLCAnZXJyb3InKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgcGFrID0gdGhpcy5jaGFubmVsLnBhaygnY2hhdCcpO1xuICAgIHBhay53cml0ZUludChmbGFncyk7XG4gICAgcGFrLndyaXRlU3RyaW5nKHRleHQpO1xuICAgIHBhay5zZW5kKChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdGhpcy5hZGRDaGF0KGBbZXJyb3JdICR7ZXJyU3RyKGVycil9YCwgJ2Vycm9yJyk7XG4gICAgICAgIC8vIGlmICghdGhpcy5lZGl0X3RleHRfZW50cnkuZ2V0VGV4dCgpKSB7XG4gICAgICAgIC8vICAgdGhpcy5lZGl0X3RleHRfZW50cnkuc2V0VGV4dCh0ZXh0KTtcbiAgICAgICAgLy8gfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5jb25zdCBTUEFDRV9BQk9WRV9FTlRSWSA9IDg7XG5DaGF0VUkucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBpZiAobmV0LmNsaWVudC5kaXNjb25uZWN0ZWQgJiYgIXRoaXMuaGlkZV9kaXNjb25uZWN0ZWRfbWVzc2FnZSkge1xuICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChcbiAgICAgIGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICAgIG91dGxpbmVfd2lkdGg6IDIsXG4gICAgICAgIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwZmYsXG4gICAgICAgIGNvbG9yOiAweEREMjAyMGZmXG4gICAgICB9KSxcbiAgICAgIGNhbWVyYTJkLngwKCksIGNhbWVyYTJkLnkwKCksIFouREVCVUcsXG4gICAgICB1aS5mb250X2hlaWdodCwgZ2xvdl9mb250LkFMSUdOLkhWQ0VOVEVSLCBjYW1lcmEyZC53KCksIGNhbWVyYTJkLmgoKSAqIDAuMjAsXG4gICAgICBgQ29ubmVjdGlvbiBsb3N0LCBhdHRlbXB0aW5nIHRvIHJlY29ubmVjdCAoJHsobmV0LmNsaWVudC50aW1lU2luY2VEaXNjb25uZWN0KCkvMTAwMCkudG9GaXhlZCgwKX0pLi4uYCk7XG4gIH1cblxuICBpZiAoIXRoaXMuZGlkX3J1bl9sYXRlKSB7XG4gICAgdGhpcy5ydW5MYXRlKCk7XG4gIH1cbiAgdGhpcy5kaWRfcnVuX2xhdGUgPSBmYWxzZTtcbiAgbGV0IHggPSBjYW1lcmEyZC54MCgpICsgMTA7XG4gIGxldCB5MCA9IGNhbWVyYTJkLnkxKCk7XG4gIGxldCB5ID0geTA7XG4gIGxldCB3ID0gdGhpcy53O1xuICBsZXQgd2FzX2ZvY3VzZWQgPSB0aGlzLmlzRm9jdXNlZCgpO1xuICBsZXQgeiA9IHdhc19mb2N1c2VkID8gWi5DSEFUX0ZPQ1VTRUQgOiBaLkNIQVQ7XG4gIGxldCBpc19mb2N1c2VkID0gZmFsc2U7XG4gIGxldCBmb250X2hlaWdodCA9IHRoaXMuZm9udF9oZWlnaHQ7XG4gIGxldCBhbnl0aGluZ192aXNpYmxlID0gZmFsc2U7XG4gIGxldCBoaWRlX2xpZ2h0ID0gKG9wdHMuaGlkZSB8fCBlbmdpbmUuZGVmaW5lcy5OT1VJIHx8ICFuZXQuc3Vicy5sb2dnZWRJbigpKSAmJlxuICAgICF3YXNfZm9jdXNlZCA/XG4gICAgMSA6IC8vIG11c3QgYmUgbnVtZXJpY2FsLCB1c2VkIHRvIGluZGV4IGZhZGUgdmFsdWVzXG4gICAgMDtcbiAgbGV0IGhpZGVfdGV4dF9pbnB1dCA9IHVpLm1vZGFsX2RpYWxvZyB8fCB1aS5tZW51X3VwIHx8IGhpZGVfbGlnaHQ7XG4gIGlmICghaGlkZV90ZXh0X2lucHV0ICYmIHdhc19mb2N1c2VkICYmIGlucHV0LnRvdWNoX21vZGUpIHtcbiAgICAvLyBleHBhbmQgY2hhdCB3aGVuIGZvY3VzZWQgb24gdG91Y2ggZGV2aWNlc1xuICAgIHcgPSBjYW1lcmEyZC54MSgpIC0geCAtIDI0O1xuICAgIGxldCBmb250X3NjYWxlID0gNDtcbiAgICBsZXQgYXNwZWN0ID0gY2FtZXJhMmQuc2NyZWVuQXNwZWN0KCk7XG4gICAgaWYgKGFzcGVjdCA+IDIpIHsgLy8gc2NhbGUgdXAgdG8gZm9udCBzY2FsZSBvZiA4XG4gICAgICBmb250X3NjYWxlID0gNCArIDQgKiBtaW4oKGFzcGVjdCAtIDIpIC8gOCwgMSk7XG4gICAgfVxuICAgIGZvbnRfaGVpZ2h0ICo9IGZvbnRfc2NhbGU7XG4gIH1cbiAgdGhpcy5zZXRBY3RpdmVTaXplKGZvbnRfaGVpZ2h0LCB3KTsgLy8gbWF5IHJlY2FsYyBudW1saW5lcyBvbiBlYWNoIGVsZW07IHVwZGF0ZXMgd3JhcF93XG4gIGlmICghaGlkZV90ZXh0X2lucHV0KSB7XG4gICAgYW55dGhpbmdfdmlzaWJsZSA9IHRydWU7XG4gICAgeSAtPSAxNiArIGZvbnRfaGVpZ2h0O1xuICAgIGlmICghd2FzX2ZvY3VzZWQgJiYgb3B0cy5wb2ludGVybG9jayAmJiBpbnB1dC5wb2ludGVyTG9ja2VkKCkpIHtcbiAgICAgIC8vIGRvIG5vdCBzaG93IGVkaXQgYm94XG4gICAgICB1aS5mb250LmRyYXdTaXplZEFsaWduZWQodGhpcy5zdHlsZXMuZGVmLCB4LCB5LCB6ICsgMSwgZm9udF9oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IRklULCB3LCAwLFxuICAgICAgICAnPFByZXNzIEVudGVyIHRvIGNoYXQ+Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3YXNfZm9jdXNlZCkge1xuICAgICAgICAvLyBEbyBhdXRvLWNvbXBsZXRlIGxvZ2ljICpiZWZvcmUqIGVkaXQgYm94LCBzbyB3ZSBjYW4gZWF0IFRBQiB3aXRob3V0IGNoYW5naW5nIGZvY3VzXG4gICAgICAgIC8vIEVhdCB0YWIgZXZlbiBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gY29tcGxldGUsIGZvciBjb25zaXN0ZW5jeVxuICAgICAgICBsZXQgcHJlc3NlZF90YWIgPSBpbnB1dC5rZXlEb3duRWRnZShpbnB1dC5LRVlTLlRBQik7XG4gICAgICAgIGlmIChwcmVzc2VkX3RhYikge1xuICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1cl90ZXh0ID0gdGhpcy5lZGl0X3RleHRfZW50cnkuZ2V0VGV4dCgpO1xuICAgICAgICBpZiAoY3VyX3RleHQpIHtcbiAgICAgICAgICBpZiAoY3VyX3RleHRbMF0gPT09ICcvJykge1xuICAgICAgICAgICAgLy8gZG8gYXV0by1jb21wbGV0ZVxuICAgICAgICAgICAgbGV0IGF1dG9jb21wbGV0ZSA9IGNtZF9wYXJzZS5hdXRvQ29tcGxldGUoY3VyX3RleHQuc2xpY2UoMSksIHRoaXMuZ2V0QWNjZXNzT2JqKCkuYWNjZXNzKTtcbiAgICAgICAgICAgIGlmIChhdXRvY29tcGxldGUgJiYgYXV0b2NvbXBsZXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsZXQgZmlyc3QgPSBhdXRvY29tcGxldGVbMF07XG4gICAgICAgICAgICAgIGxldCBhdXRvX3RleHQgPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGF1dG9jb21wbGV0ZS5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWxlbSA9IGF1dG9jb21wbGV0ZVtpaV07XG4gICAgICAgICAgICAgICAgYXV0b190ZXh0LnB1c2goYC8ke2VsZW0uY21kfSAtICR7ZWxlbS5oZWxwfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCBkb19zZWxlY3Rpb24gPSBmYWxzZTsgLy8gc2hvdWxkIHdlIGFsbG93IGNsaWNraW5nIGluIHRoZSB0b29sdGlwP1xuICAgICAgICAgICAgICBpZiAoYXV0b2NvbXBsZXRlLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIGZpcnN0LmNuYW1lICYmXG4gICAgICAgICAgICAgICAgY21kX3BhcnNlLmNhbm9uaWNhbChjdXJfdGV4dC5zbGljZSgxKSkuc2xpY2UoMCwgZmlyc3QuY25hbWUubGVuZ3RoKSA9PT0gZmlyc3QuY25hbWVcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UndmUgdHlwZWQgc29tZXRoaW5nIHRoYXQgbWF0Y2hlcyB0aGUgZmlyc3Qgb25lXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0LnVzYWdlKSB7XG4gICAgICAgICAgICAgICAgICBhdXRvX3RleHQgPSBmaXJzdC51c2FnZS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGF1dG9fdGV4dCA9IFtmaXJzdC5oZWxwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9fc2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgdG9vbHRpcF95ID0geTtcbiAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgbGFzdCBtZXNzYWdlIGlzIGFuIGVycm9yLCBpZiBzbywgdG9vbHRpcCBhYm92ZSB0aGF0LlxuICAgICAgICAgICAgICBsZXQgbGFzdF9tc2cgPSB0aGlzLm1zZ3NbdGhpcy5tc2dzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICBpZiAobGFzdF9tc2cpIHtcbiAgICAgICAgICAgICAgICBsZXQgbXNnID0gbGFzdF9tc2cubXNnO1xuICAgICAgICAgICAgICAgIGlmIChtc2cgJiYgIShtc2cuZmxhZ3MgJiBGTEFHX1VTRVJDSEFUKSAmJiBtc2cuc2xpY2UoMCwgNykgPT09ICdbZXJyb3JdJykge1xuICAgICAgICAgICAgICAgICAgbGV0IG51bWxpbmVzID0gbGFzdF9tc2cubnVtbGluZXM7XG4gICAgICAgICAgICAgICAgICB0b29sdGlwX3kgLT0gZm9udF9oZWlnaHQgKiBudW1saW5lcyArIFNQQUNFX0FCT1ZFX0VOVFJZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IGRyYXdIZWxwVG9vbHRpcCh7XG4gICAgICAgICAgICAgICAgeCwgeTogdG9vbHRpcF95LFxuICAgICAgICAgICAgICAgIHRvb2x0aXBfd2lkdGg6IG1heCh3LCBlbmdpbmUuZ2FtZV93aWR0aCAqIDAuOCksXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogYXV0b190ZXh0LFxuICAgICAgICAgICAgICAgIGRvX3NlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBmb250X2hlaWdodDogbWluKGZvbnRfaGVpZ2h0LCBjYW1lcmEyZC53KCkgLyAzMCksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoZG9fc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gYXV0by1jb21wbGV0ZXMgdG8gc29tZXRoaW5nIGRpZmZlcmVudCB0aGFuIHdlIGhhdmUgdHlwZWRcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgdXNlIEVOVEVSIGFzIHdlbGwsIGJlY2F1c2Ugc29tZXRpbWVzIGEgaGlkZGVuIGNvbW1hbmQgaXMgYSBzdWItc3RyaW5nIG9mIGEgc2hvd24gY29tbWFuZD9cbiAgICAgICAgICAgICAgICBpZiAocHJlc3NlZF90YWIgfHwgc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQoYC8ke3NlbGVjdGVkIHx8IGZpcnN0LmNtZH0gYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGlzdG9yeS5yZXNldFBvcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC5rZXlEb3duRWRnZShpbnB1dC5LRVlTLlVQKSkge1xuICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQodGhpcy5oaXN0b3J5LnByZXYoY3VyX3RleHQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQua2V5RG93bkVkZ2UoaW5wdXQuS0VZUy5ET1dOKSkge1xuICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQodGhpcy5oaXN0b3J5Lm5leHQoY3VyX3RleHQpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbF9hcmVhLmtleWJvYXJkU2Nyb2xsKCk7XG4gICAgICB9XG4gICAgICBsZXQgaW5wdXRfaGVpZ2h0ID0gZm9udF9oZWlnaHQ7XG4gICAgICBsZXQgaW5wdXRfd2lkdGggPSB3O1xuICAgICAgaWYgKGlucHV0LnRvdWNoX21vZGUgJiYgIXdhc19mb2N1c2VkKSB7XG4gICAgICAgIHkgLT0gZm9udF9oZWlnaHQgKiAyO1xuICAgICAgICBpbnB1dF9oZWlnaHQgPSBmb250X2hlaWdodCAqIDM7XG4gICAgICAgIGlucHV0X3dpZHRoID0gZm9udF9oZWlnaHQgKiA2O1xuICAgICAgfVxuICAgICAgbGV0IHJlcyA9IHRoaXMuZWRpdF90ZXh0X2VudHJ5LnJ1bih7XG4gICAgICAgIHgsIHksIHc6IGlucHV0X3dpZHRoLCBmb250X2hlaWdodDogaW5wdXRfaGVpZ2h0LCBwb2ludGVyX2xvY2s6IG9wdHMucG9pbnRlcmxvY2tcbiAgICAgIH0pO1xuICAgICAgaXNfZm9jdXNlZCA9IHRoaXMuaXNGb2N1c2VkKCk7XG4gICAgICBpZiAocmVzID09PSB0aGlzLmVkaXRfdGV4dF9lbnRyeS5TVUJNSVQpIHtcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLmVkaXRfdGV4dF9lbnRyeS5nZXRUZXh0KCkudHJpbSgpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQoJycpO1xuICAgICAgICAgIGlmICh0ZXh0WzBdID09PSAnLycpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0WzFdID09PSAnLycpIHsgLy8gY29tbW9uIGVycm9yIG9mIHN0YXJ0aW5nIHdpdGggLy9mb28gYmVjYXVzZSBjaGF0IHdhcyBhbHJlYWR5IGZvY3VzZWRcbiAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkuYWRkKHRleHQpO1xuICAgICAgICAgICAgdGhpcy5jbWRQYXJzZSh0ZXh0LnNsaWNlKDEpLCAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnZvbHVtZV9vdXQpIHtcbiAgICAgICAgICAgICAgICB1aS5wbGF5VUlTb3VuZCgnbXNnX291dF9lcnInLCB0aGlzLnZvbHVtZV9vdXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghdGhpcy5lZGl0X3RleHRfZW50cnkuZ2V0VGV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnVuYWRkKHRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LnNldFRleHQodGV4dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFpc19mb2N1c2VkKSB7IC8vIHdhcyBhdXRvLXVuZm9jdXNlZFxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdF90ZXh0X2VudHJ5LmZvY3VzKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRDaGF0KDAsIHRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy52b2x1bWVfb3V0KSB7XG4gICAgICAgICAgICB1aS5wbGF5VUlTb3VuZCgnbXNnX291dCcsIHRoaXMudm9sdW1lX291dCk7IC8vIGFmdGVyIGNtZFBhcnNlIG1heSBoYXZlIGFkanVzdCB2b2x1bWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmNoYXRfYXV0b191bmZvY3VzKSB7XG4gICAgICAgICAgICBpc19mb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB1aS5mb2N1c0NhbnZhcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc19mb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgdWkuZm9jdXNDYW52YXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB5IC09IFNQQUNFX0FCT1ZFX0VOVFJZO1xuXG4gIGxldCB7IHVybF9tYXRjaCwgdXJsX2luZm8sIHN0eWxlcywgd3JhcF93LCB1c2VyX2NvbnRleHRfY2IgfSA9IHRoaXM7XG4gIGxldCBzZWxmID0gdGhpcztcbiAgbGV0IGRvX3Njcm9sbF9hcmVhID0gaXNfZm9jdXNlZDtcbiAgbGV0IGJyYWNrZXRfd2lkdGggPSAwO1xuICBsZXQgbmFtZV93aWR0aCA9IHt9O1xuICAvLyBTbGlnaHRseSBoYWNreTogdXNlcyBgeGAgYW5kIGB5YCBmcm9tIHRoZSBoaWdoZXIgc2NvcGVcbiAgZnVuY3Rpb24gZHJhd0NoYXRMaW5lKG1zZywgYWxwaGEpIHtcbiAgICBpZiAobXNnLmhpZGRlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGluZSA9IG1zZy5tc2dfdGV4dDtcbiAgICBsZXQgbnVtbGluZXMgPSBtc2cubnVtbGluZXM7XG4gICAgbGV0IGlzX3VybCA9IGRvX3Njcm9sbF9hcmVhICYmIHVybF9tYXRjaCAmJiBtYXRjaEFsbChsaW5lLCB1cmxfbWF0Y2gpO1xuICAgIGlzX3VybCA9IGlzX3VybCAmJiBpc191cmwubGVuZ3RoID09PSAxICYmIGlzX3VybFswXTtcbiAgICBsZXQgdXJsX2xhYmVsID0gaXNfdXJsO1xuICAgIGlmIChpc191cmwgJiYgdXJsX2luZm8pIHtcbiAgICAgIGxldCBtID0gaXNfdXJsLm1hdGNoKHVybF9pbmZvKTtcbiAgICAgIGlmIChtKSB7XG4gICAgICAgIHVybF9sYWJlbCA9IG1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBoID0gZm9udF9oZWlnaHQgKiBudW1saW5lcztcbiAgICBsZXQgZG9fbW91c2VvdmVyID0gZG9fc2Nyb2xsX2FyZWEgJiYgIWlucHV0Lm1vdXNlUG9zSXNUb3VjaCgpICYmICghbXNnLnN0eWxlIHx8IG1zZy5zdHlsZSA9PT0gJ2RlZicgfHwgaXNfdXJsKTtcbiAgICBsZXQgdGV4dF93O1xuICAgIGxldCBtb3VzZW92ZXIgPSBmYWxzZTtcbiAgICBpZiAoZG9fbW91c2VvdmVyKSB7XG4gICAgICB0ZXh0X3cgPSB1aS5mb250LmdldFN0cmluZ1dpZHRoKHN0eWxlcy5kZWYsIGZvbnRfaGVpZ2h0LCBsaW5lKTtcbiAgICAgIC8vIG1vdXNlT3ZlciBwZWVrIGJlY2F1c2Ugd2UncmUgZG9pbmcgaXQgYmVmb3JlIGNoZWNraW5nIGZvciBjbGlja3NcbiAgICAgIG1vdXNlb3ZlciA9IGlucHV0Lm1vdXNlT3Zlcih7IHgsIHksIHc6IG1pbih0ZXh0X3csIHdyYXBfdyksIGgsIHBlZWs6IHRydWUgfSk7XG4gICAgfVxuICAgIGxldCB1c2VyX21vdXNlb3ZlciA9IGZhbHNlO1xuICAgIGxldCB1c2VyX2luZGVudCA9IDA7XG4gICAgbGV0IGRpZF91c2VyX2NvbnRleHQgPSBmYWxzZTtcbiAgICBpZiAoKG1zZy5mbGFncyAmIEZMQUdfVVNFUkNIQVQpICYmIHVzZXJfY29udGV4dF9jYiAmJiBtc2cuaWQgJiYgZG9fc2Nyb2xsX2FyZWEpIHtcbiAgICAgIGxldCBudyA9IG5hbWVfd2lkdGhbbXNnLmRpc3BsYXlfbmFtZV07XG4gICAgICBpZiAoIW53KSB7XG4gICAgICAgIG53ID0gbmFtZV93aWR0aFttc2cuZGlzcGxheV9uYW1lXSA9IHVpLmZvbnQuZ2V0U3RyaW5nV2lkdGgoc3R5bGVzLmRlZiwgZm9udF9oZWlnaHQsIG1zZy5kaXNwbGF5X25hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCEobXNnLmZsYWdzICYgRkxBR19FTU9URSkpIHtcbiAgICAgICAgaWYgKCFicmFja2V0X3dpZHRoKSB7XG4gICAgICAgICAgYnJhY2tldF93aWR0aCA9IHVpLmZvbnQuZ2V0U3RyaW5nV2lkdGgoc3R5bGVzLmRlZiwgZm9udF9oZWlnaHQsICdbXScpO1xuICAgICAgICB9XG4gICAgICAgIG53ICs9IGJyYWNrZXRfd2lkdGg7XG4gICAgICB9XG4gICAgICB1c2VyX2luZGVudCA9IG53O1xuICAgICAgbGV0IHBvc19wYXJhbSA9IHtcbiAgICAgICAgeCwgeSwgdzogbWluKG53LCB3cmFwX3cpLCBoOiBmb250X2hlaWdodCwgYnV0dG9uOiAwLCBwZWVrOiB0cnVlLFxuICAgICAgICB6OiB6ICsgMC41LFxuICAgICAgICBjb2xvcjogY29sb3JfdXNlcl9yb2xsb3ZlcixcbiAgICAgIH07XG4gICAgICBpZiAoaW5wdXQuY2xpY2socG9zX3BhcmFtKSkge1xuICAgICAgICBkaWRfdXNlcl9jb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgdXNlcl9jb250ZXh0X2NiKHtcbiAgICAgICAgICB1c2VyX2lkOiBtc2cuaWQsIC8vIE5lZWQgYW55IG90aGVyIG1zZy4gcGFyYW1zP1xuICAgICAgICAgIC8vIHg6IHBvc19wYXJhbS54ICsgcG9zX3BhcmFtLncsXG4gICAgICAgICAgLy8geTogcG9zX3BhcmFtLnksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9tb3VzZW92ZXIgPSBpbnB1dC5tb3VzZU92ZXIocG9zX3BhcmFtKTtcbiAgICAgICAgaWYgKHVzZXJfbW91c2VvdmVyKSB7XG4gICAgICAgICAgdWkuZHJhd1JlY3QyKHBvc19wYXJhbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNsaWNrO1xuICAgIGlmIChpc191cmwpIHtcbiAgICAgIGNsaWNrID0gbGluayh7IHg6IHggKyB1c2VyX2luZGVudCwgeSwgdzogd3JhcF93IC0gdXNlcl9pbmRlbnQsIGgsIHVybDogaXNfdXJsLCBpbnRlcm5hbDogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBsZXQgc3R5bGUgPSBzdHlsZXNbbXNnLnN0eWxlIHx8IChpc191cmwgPyBtb3VzZW92ZXIgJiYgIXVzZXJfbW91c2VvdmVyID8gJ2xpbmtfaG92ZXInIDogJ2xpbmsnIDogJ2RlZicpXTtcblxuICAgIC8vIERyYXcgdGhlIGFjdHVhbCB0ZXh0XG4gICAgdWkuZm9udC5kcmF3U2l6ZWRXcmFwcGVkKGdsb3ZfZm9udC5zdHlsZUFscGhhKHN0eWxlLCBhbHBoYSksIHgsIHksIHogKyAxLCB3cmFwX3csIElOREVOVCwgZm9udF9oZWlnaHQsIGxpbmUpO1xuXG4gICAgaWYgKG1vdXNlb3ZlciAmJiAoIWRvX3Njcm9sbF9hcmVhIHx8IHkgPiBzZWxmLnNjcm9sbF9hcmVhLnNjcm9sbF9wb3MgLSBmb250X2hlaWdodCkgJiZcbiAgICAgIC8vIE9ubHkgc2hvdyB0b29sdGlwIGZvciB1c2VyIG1lc3NhZ2VzIG9yIGxpbmtzXG4gICAgICAoIW1zZy5zdHlsZSB8fCBtc2cuc3R5bGUgPT09ICdkZWYnIHx8IGlzX3VybClcbiAgICApIHtcbiAgICAgIHVpLmRyYXdUb29sdGlwKHtcbiAgICAgICAgeCwgeSwgejogWi5UT09MVElQLFxuICAgICAgICB0b29sdGlwX2Fib3ZlOiB0cnVlLFxuICAgICAgICB0b29sdGlwX3dpZHRoOiA0NTAsXG4gICAgICAgIHRvb2x0aXBfcGFkOiB1aS50b29sdGlwX3BhZCAqIDAuNSxcbiAgICAgICAgdG9vbHRpcDogaXNfdXJsICYmICF1c2VyX21vdXNlb3ZlciA/XG4gICAgICAgICAgYENsaWNrIHRvIG9wZW4gJHt1cmxfbGFiZWx9YCA6XG4gICAgICAgICAgYFJlY2VpdmVkJHttc2cuaWQgPyBgIGZyb20gXCIke21zZy5pZH1cImAgOiAnJ30gYXQgJHtjb25jaXNlRGF0ZShuZXcgRGF0ZShtc2cudGltZXN0YW1wKSl9XFxuYCArXG4gICAgICAgICAgJ1JpZ2h0LWNsaWNrIHRvIGNvcHkgbWVzc2FnZScgK1xuICAgICAgICAgIGAkeyh1c2VyX21vdXNlb3ZlciA/ICdcXG5DbGljayB0byB2aWV3IHVzZXIgaW5mbycgOiAnJyl9YCxcbiAgICAgICAgcGl4ZWxfc2NhbGU6IHVpLnRvb2x0aXBfcGFuZWxfcGl4ZWxfc2NhbGUgKiAwLjUsXG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gUHJldmlvdXNseTogbW91c2VEb3duRWRnZSBiZWNhdXNlIGJ5IHRoZSB0aW1lIHRoZSBVcCBoYXBwZW5zLCB0aGUgY2hhdCB0ZXh0IG1pZ2h0IG5vdCBiZSBoZXJlIGFueW1vcmVcbiAgICBjbGljayA9IGNsaWNrIHx8IGlucHV0LmNsaWNrKHsgeCwgeSwgdzogd3JhcF93LCBoIH0pO1xuICAgIGlmIChkaWRfdXNlcl9jb250ZXh0KSB7XG4gICAgICBjbGljayA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjbGljaykge1xuICAgICAgaWYgKGNsaWNrLmJ1dHRvbiA9PT0gMikge1xuICAgICAgICB1aS5wcm92aWRlVXNlclN0cmluZygnQ2hhdCBUZXh0JywgaXNfdXJsID8gJ1VSTCcgOiAnVGV4dCcsIGlzX3VybCB8fCBsaW5lKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNfdXJsKSB7XG4gICAgICAgIHNlbGYuY21kUGFyc2VJbnRlcm5hbChgdXJsICR7dXJsX2xhYmVsfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBhbnl0aGluZ192aXNpYmxlID0gdHJ1ZTtcbiAgfVxuXG5cbiAgbGV0IGJvcmRlciA9IDg7XG4gIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICBpZiAoZG9fc2Nyb2xsX2FyZWEpIHtcbiAgICAvLyB3aXRoaW4gc2Nyb2xsIGFyZWEsIGp1c3QgZHJhdyB2aXNpYmxlIHBhcnRzXG4gICAgbGV0IHNjcm9sbF9pbnRlcm5hbF9oID0gdGhpcy50b3RhbF9saW5lcyAqIGZvbnRfaGVpZ2h0O1xuICAgIGxldCBzY3JvbGxfZXh0ZXJuYWxfaCA9IG1pbih0aGlzLmgsIHNjcm9sbF9pbnRlcm5hbF9oKTtcbiAgICB0aGlzLnNjcm9sbF9hcmVhLmJlZ2luKHtcbiAgICAgIHgsIHk6IHkgLSBzY3JvbGxfZXh0ZXJuYWxfaCwgeixcbiAgICAgIHc6IHcgKyA4LFxuICAgICAgaDogc2Nyb2xsX2V4dGVybmFsX2gsXG4gICAgICBmb2N1c2FibGVfZWxlbTogdGhpcy5lZGl0X3RleHRfZW50cnksXG4gICAgICBhdXRvX2hpZGU6IHRoaXMudG90YWxfbGluZXMgPD0gMixcbiAgICB9KTtcbiAgICBsZXQgeF9zYXZlID0geDtcbiAgICBsZXQgeV9zYXZlID0geTtcbiAgICB4ID0gMDtcbiAgICB5ID0gMDtcbiAgICBsZXQgeV9taW4gPSB0aGlzLnNjcm9sbF9hcmVhLnNjcm9sbF9wb3M7XG4gICAgbGV0IHlfbWF4ID0geV9taW4gKyBzY3JvbGxfZXh0ZXJuYWxfaDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5tc2dzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IG1zZyA9IHRoaXMubXNnc1tpaV07XG4gICAgICBsZXQgaCA9IGZvbnRfaGVpZ2h0ICogbXNnLm51bWxpbmVzO1xuICAgICAgaWYgKHkgPD0geV9tYXggJiYgeSArIGggPj0geV9taW4pIHtcbiAgICAgICAgZHJhd0NoYXRMaW5lKG1zZywgMSk7XG4gICAgICB9XG4gICAgICB5ICs9IGg7XG4gICAgfVxuICAgIHRoaXMuc2Nyb2xsX2FyZWEuZW5kKHNjcm9sbF9pbnRlcm5hbF9oKTtcbiAgICB4ID0geF9zYXZlO1xuICAgIHkgPSB5X3NhdmUgLSBzY3JvbGxfZXh0ZXJuYWxfaDtcbiAgICAvLyBFYXQgbW91c2UgZXZlbnRzIChub3QgaGFuZGxlZCBieSBhYm92ZSkgaW4gdGhlIHNjcm9sbCBhcmVhIHRvIHByZXZlbnQgdW5mb2N1c2luZ1xuICAgIGlucHV0Lm1vdXNlRG93bkVkZ2UoeyB4OiBjYW1lcmEyZC54MCgpLCB5OiB5IC0gYm9yZGVyLCB3OiB3ICsgYm9yZGVyICsgOCwgaDogeTAgLSB5ICsgYm9yZGVyIH0pO1xuICAgIC8vIEJ1dCBhIGNsaWNrIHNob3VsZCBkaXNtaXNzIGl0IChpbXBvcnRhbnQgb24gZnVsbHNjcmVlbiB0b3VjaCBVSSEpXG4gICAgaWYgKGlucHV0Lm1vdXNlVXBFZGdlKHsgeDogY2FtZXJhMmQueDAoKSwgeTogeSAtIGJvcmRlciwgdzogdyArIGJvcmRlciArIDgsIGg6IHkwIC0geSArIGJvcmRlcixcbiAgICAgIGluX2V2ZW50X2NiOiBvcHRzLnBvaW50ZXJsb2NrID8gaW5wdXQucG9pbnRlckxvY2tFbnRlciA6IG51bGwgfSlcbiAgICApIHtcbiAgICAgIHVpLmZvY3VzQ2FudmFzKCk7XG4gICAgICBpc19mb2N1c2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIEFsc28gcHJldmVudCBtb3VzZW92ZXIgZnJvbSBnb2luZyB0byBhbnl0aGluZyBiZW5lYXQgaXRcbiAgICBpbnB1dC5tb3VzZU92ZXIoeyB4OiBjYW1lcmEyZC54MCgpLCB5OiB5IC0gYm9yZGVyLCB3OiB3ICsgYm9yZGVyICsgOCwgaDogeTAgLSB5ICsgYm9yZGVyIH0pO1xuICAgIC8vIEFsc28gYSBtb3VzZSBkb3duIGFueXdoZXJlIG91dHNpZGUgb2YgdGhlIGNoYXQgVUkgc2hvdWxkIGRpc21pc3MgaXRcbiAgICBpZiAoaW5wdXQubW91c2VEb3duRWRnZSh7IHBlZWs6IHRydWUgfSkpIHtcbiAgICAgIC8vIE9uIHRvdWNoLCB0YXBwaW5nIGRvZXNuJ3QgYWx3YXlzIHJlbW92ZSBmb2N1cyBmcm9tIHRoZSBlZGl0IGJveCFcbiAgICAgIC8vIE1heWJlIHRoaXMgbG9naWMgc2hvdWxkIGJlIGluIHRoZSBlZGl0Ym94IGxvZ2ljP1xuICAgICAgdWkuZm9jdXNDYW52YXMoKTtcbiAgICAgIGlzX2ZvY3VzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSnVzdCByZWNlbnQgZW50cmllcywgZmFkZSB0aGVtIG91dCBvdmVyIHRpbWVcbiAgICBsZXQgeyBtYXhfbGluZXMgfSA9IHRoaXM7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubXNncy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBtc2cgPSB0aGlzLm1zZ3NbdGhpcy5tc2dzLmxlbmd0aCAtIGlpIC0gMV07XG4gICAgICBsZXQgYWdlID0gbm93IC0gbXNnLnRpbWVzdGFtcDtcbiAgICAgIGxldCBhbHBoYSA9IDEgLSBjbGFtcCgoYWdlIC0gRkFERV9TVEFSVF9USU1FW2hpZGVfbGlnaHRdKSAvIEZBREVfVElNRVtoaWRlX2xpZ2h0XSwgMCwgMSk7XG4gICAgICBpZiAoIWFscGhhIHx8IG1zZy5xdWlldCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxldCBudW1saW5lcyA9IG1zZy5udW1saW5lcztcbiAgICAgIGlmIChudW1saW5lcyA+IG1heF9saW5lcyAmJiBpaSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG1heF9saW5lcyAtPSBudW1saW5lcztcbiAgICAgIGxldCBoID0gZm9udF9oZWlnaHQgKiBudW1saW5lcztcbiAgICAgIHkgLT0gaDtcbiAgICAgIGRyYXdDaGF0TGluZShtc2csIGFscGhhKTtcbiAgICB9XG4gIH1cblxuICBpZiAob3B0cy5wb2ludGVybG9jayAmJiBpc19mb2N1c2VkICYmIGlucHV0LnBvaW50ZXJMb2NrZWQoKSkge1xuICAgIC8vIEdhaW5lZCBmb2N1cyB1bmRvIHBvaW50ZXJsb2NrXG4gICAgaW5wdXQucG9pbnRlckxvY2tFeGl0KCk7XG4gIH1cblxuICBpZiAoIWFueXRoaW5nX3Zpc2libGUgJiYgKHVpLm1vZGFsX2RpYWxvZyB8fCB1aS5tZW51X3VwIHx8IGhpZGVfbGlnaHQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHVpLmRyYXdSZWN0KGNhbWVyYTJkLngwKCksIHkgLSBib3JkZXIsIHggKyB3ICsgYm9yZGVyICsgOCwgeTAsIHosIFswLjMsMC4zLDAuMywwLjc1XSk7XG59O1xuXG5DaGF0VUkucHJvdG90eXBlLnNldENoYW5uZWwgPSBmdW5jdGlvbiAoY2hhbm5lbCkge1xuICBpZiAoY2hhbm5lbCA9PT0gdGhpcy5jaGFubmVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICBpZiAoIWNoYW5uZWwpIHtcbiAgICAgIHRoaXMuYWRkQ2hhdChgTGVmdCBjaGFubmVsICR7dGhpcy5jaGFubmVsLmNoYW5uZWxfaWR9YCk7XG4gICAgfVxuICAgIHRoaXMuY2hhbm5lbC5yZW1vdmVNc2dIYW5kbGVyKCdjaGF0JywgdGhpcy5vbl9jaGF0KTtcbiAgICB0aGlzLmNoYW5uZWwucmVtb3ZlTXNnSGFuZGxlcignam9pbicsIHRoaXMub25fam9pbik7XG4gICAgdGhpcy5jaGFubmVsLnJlbW92ZU1zZ0hhbmRsZXIoJ2xlYXZlJywgdGhpcy5vbl9sZWF2ZSk7XG4gIH1cbiAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgaWYgKCF0aGlzLmNoYW5uZWwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gam9pbmluZyBhIG5ldyBvbmUsIGNsZWFyIGZpcnN0XG4gIHRoaXMuY2xlYXJDaGF0KCk7XG4gIGNoYW5uZWwub25Nc2coJ2NoYXQnLCB0aGlzLm9uX2NoYXQpO1xuICBjaGFubmVsLm9uTXNnKCdqb2luJywgdGhpcy5vbl9qb2luKTtcbiAgY2hhbm5lbC5vbk1zZygnbGVhdmUnLCB0aGlzLm9uX2xlYXZlKTtcbiAgbGV0IGNoYXRfaGlzdG9yeTtcbiAgbGV0IGhlcmU7XG4gIGxldCBoZXJlX21hcCA9IHt9O1xuICBsZXQgZnJpZW5kcztcbiAgYXN5bmNQYXJhbGxlbChbXG4gICAgKG5leHQpID0+IHtcbiAgICAgIGNoYW5uZWwuc2VuZCgnY2hhdF9nZXQnLCBudWxsLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmICghZXJyICYmIGRhdGEgJiYgZGF0YS5tc2dzICYmIGRhdGEubXNncy5sZW5ndGgpIHtcbiAgICAgICAgICBjaGF0X2hpc3RvcnkgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKG5leHQpID0+IHtcbiAgICAgIGNoYW5uZWwub25jZVN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICBsZXQgY2xpZW50cyA9IGRhdGEgJiYgZGF0YS5wdWJsaWMgJiYgZGF0YS5wdWJsaWMuY2xpZW50cztcbiAgICAgICAgaWYgKGNsaWVudHMpIHtcbiAgICAgICAgICBoZXJlID0gW107XG4gICAgICAgICAgZnJpZW5kcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGNsaWVudF9pZCBpbiBjbGllbnRzKSB7XG4gICAgICAgICAgICBsZXQgY2xpZW50ID0gY2xpZW50c1tjbGllbnRfaWRdO1xuICAgICAgICAgICAgbGV0IHVzZXJfaWQgPSBjbGllbnQuaWRzICYmIGNsaWVudC5pZHMudXNlcl9pZDtcbiAgICAgICAgICAgIGxldCBhbHJlYWR5X2luX2xpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh1c2VyX2lkICYmIGNsaWVudC5pZHMuZGlzcGxheV9uYW1lKSB7XG4gICAgICAgICAgICAgIGlmIChoZXJlX21hcFt1c2VyX2lkXSkge1xuICAgICAgICAgICAgICAgIGFscmVhZHlfaW5fbGlzdCA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVyZV9tYXBbdXNlcl9pZF0gPSBjbGllbnQuaWRzLmRpc3BsYXlfbmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsaWVudF9pZCA9PT0gbmV0LmNsaWVudC5pZCB8fCBhbHJlYWR5X2luX2xpc3QpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2xpZW50Lmlkcykge1xuICAgICAgICAgICAgICBpZiAodXNlcl9pZCAmJiBpc0ZyaWVuZCh1c2VyX2lkKSkge1xuICAgICAgICAgICAgICAgIGZyaWVuZHMucHVzaChjbGllbnQuaWRzLmRpc3BsYXlfbmFtZSB8fCB1c2VyX2lkIHx8IGNsaWVudF9pZCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVyZS5wdXNoKGNsaWVudC5pZHMuZGlzcGxheV9uYW1lIHx8IHVzZXJfaWQgfHwgY2xpZW50X2lkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9LFxuICBdLCAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmNoYW5uZWwpIHtcbiAgICAgIC8vIGRpc2Nvbm5lY3RlZC9sZWZ0IGFscmVhZHlcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRmlyc3QgZGlzcGxheSBjaGF0IGhpc3RvcnlcbiAgICBpZiAoY2hhdF9oaXN0b3J5KSB7XG4gICAgICBsZXQgbWVzc2FnZXNfcHJlID0gdGhpcy5tc2dzLnNsaWNlKDApO1xuICAgICAgaWYgKG1lc3NhZ2VzX3ByZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5tc2dzID0gW107XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgY2hhdF9oaXN0b3J5Lm1zZ3MubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgIGxldCBpZHggPSAoY2hhdF9oaXN0b3J5LmlkeCArIGlpKSAlIGNoYXRfaGlzdG9yeS5tc2dzLmxlbmd0aDtcbiAgICAgICAgbGV0IGVsZW0gPSBjaGF0X2hpc3RvcnkubXNnc1tpZHhdO1xuICAgICAgICBpZiAoZWxlbSAmJiBlbGVtLm1zZykge1xuICAgICAgICAgIGVsZW0ucXVpZXQgPSB0cnVlO1xuICAgICAgICAgIGlmIChoZXJlX21hcFtlbGVtLmlkXSkge1xuICAgICAgICAgICAgZWxlbS5kaXNwbGF5X25hbWUgPSBoZXJlX21hcFtlbGVtLmlkXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5vbk1zZ0NoYXQoZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZXNzYWdlc19wcmUubGVuZ3RoKSB7XG4gICAgICAgIC8vIFNvcnQgdGhlIGhpc3Rvcnkgc28gaXQgaXMgYmVmb3JlIGFueSBvdGhlciBtZXNzYWdlcyByZWNlaXZlZCBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgdGhpcy5tc2dzID0gdGhpcy5tc2dzLmNvbmNhdChtZXNzYWdlc19wcmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoZW4gam9pbiBtZXNzYWdlXG4gICAgdGhpcy5hZGRDaGF0KGBKb2luZWQgY2hhbm5lbCAke3RoaXMuY2hhbm5lbC5jaGFubmVsX2lkfWAsICdqb2luX2xlYXZlJyk7XG4gICAgLy8gVGhlbiB3aG8ncyBoZXJlIG5vd1xuICAgIGlmIChoZXJlICYmIGhlcmUubGVuZ3RoIHx8IGZyaWVuZHMgJiYgZnJpZW5kcy5sZW5ndGgpIHtcbiAgICAgIGxldCBtc2cgPSBbXTtcbiAgICAgIGlmIChoZXJlLmxlbmd0aCkge1xuICAgICAgICBtc2cucHVzaChgT3RoZXIgdXNlcnMgYWxyZWFkeSBoZXJlOiAke2hlcmUuam9pbignLCAnKX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChmcmllbmRzLmxlbmd0aCkge1xuICAgICAgICBtc2cucHVzaChgRnJpZW5kcyBhbHJlYWR5IGhlcmU6ICR7ZnJpZW5kcy5qb2luKCcsICcpfWApO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRDaGF0RmlsdGVyZWQoe1xuICAgICAgICBtc2c6IG1zZy5qb2luKCdcXG4nKSxcbiAgICAgICAgc3R5bGU6ICdqb2luX2xlYXZlJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICBwcm9mYW5pdHlTdGFydHVwKCk7XG4gIGxldCBjaGF0X3VpID0gbmV3IENoYXRVSShwYXJhbXMpO1xuICBmdW5jdGlvbiBlbW90ZShzdHIsIHJlc3BfZnVuYykge1xuICAgIGlmICghc3RyKSB7XG4gICAgICByZXR1cm4gdm9pZCByZXNwX2Z1bmMobnVsbCwgJ1VzYWdlOiAvbWUgZG9lcyBzb21ldGhpbmcuJyk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5lbW90ZV9jYikge1xuICAgICAgcGFyYW1zLmVtb3RlX2NiKHN0cik7XG4gICAgfVxuXG4gICAgY2hhdF91aS5zZW5kQ2hhdChGTEFHX0VNT1RFLCBzdHIpO1xuICB9XG4gIGNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCd2b2x1bWVfY2hhdF9qb2lubGVhdmUnLCB7XG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfRkxPQVQsXG4gICAgbGFiZWw6ICdKb2luL0xlYXZlIGNoYXQgbWVzc2FnZSB2b2x1bWUnLFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBnZXQ6ICgpID0+IGNoYXRfdWkudm9sdW1lX2pvaW5fbGVhdmUsXG4gICAgc2V0OiAodikgPT4gKGNoYXRfdWkudm9sdW1lX2pvaW5fbGVhdmUgPSB2KSxcbiAgICBzdG9yZTogdHJ1ZSxcbiAgfSk7XG4gIGNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCd2b2x1bWVfY2hhdF9pbicsIHtcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgICBsYWJlbDogJ0luY29taW5nIGNoYXQgbWVzc2FnZSB2b2x1bWUnLFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBnZXQ6ICgpID0+IGNoYXRfdWkudm9sdW1lX2luLFxuICAgIHNldDogKHYpID0+IChjaGF0X3VpLnZvbHVtZV9pbiA9IHYpLFxuICAgIHN0b3JlOiB0cnVlLFxuICB9KTtcbiAgY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoJ3ZvbHVtZV9jaGF0X291dCcsIHtcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgICBsYWJlbDogJ091dGdvaW5nIGNoYXQgbWVzc2FnZSB2b2x1bWUnLFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBnZXQ6ICgpID0+IGNoYXRfdWkudm9sdW1lX291dCxcbiAgICBzZXQ6ICh2KSA9PiAoY2hhdF91aS52b2x1bWVfb3V0ID0gdiksXG4gICAgc3RvcmU6IHRydWUsXG4gIH0pO1xuICBjbWRfcGFyc2UucmVnaXN0ZXIoe1xuICAgIGNtZDogJ21lJyxcbiAgICBoZWxwOiAnRW1vdGUnLFxuICAgIHVzYWdlOiAnRW1vdGVcXG4gIEV4YW1wbGU6IC9tZSBqdW1wcyB1cCBhbmQgZG93biEnLFxuICAgIGZ1bmM6IGVtb3RlLFxuICB9KTtcbiAgLy8gQWxzbyBhbGlhcyAvZW1cbiAgY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgICBhY2Nlc3Nfc2hvdzogWydoaWRkZW4nXSxcbiAgICBjbWQ6ICdlbScsXG4gICAgZnVuYzogZW1vdGUsXG4gIH0pO1xuICBjbWRfcGFyc2UucmVnaXN0ZXIoe1xuICAgIGNtZDogJ2VjaG8nLFxuICAgIGhlbHA6ICdFY2hvIHRleHQgbG9jYWxseScsXG4gICAgZnVuYzogKHN0ciwgcmVzcF9mdW5jKSA9PiB7XG4gICAgICBjaGF0X3VpLmFkZENoYXRGaWx0ZXJlZCh7IG1zZzogc3RyIH0pO1xuICAgICAgcmVzcF9mdW5jKCk7XG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBjaGF0X3VpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgY21kX3BhcnNlX21vZCA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9jbWRfcGFyc2UuanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmV4cG9ydCBsZXQgY21kX3BhcnNlID0gY21kX3BhcnNlX21vZC5jcmVhdGUoeyBzdG9yYWdlOiBsb2NhbF9zdG9yYWdlIH0pO1xuXG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnLi9uZXQuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuXG53aW5kb3cuY21kID0gZnVuY3Rpb24gKHN0cikge1xuICBjbWRfcGFyc2UuaGFuZGxlKG51bGwsIHN0ciwgY21kX3BhcnNlX21vZC5kZWZhdWx0SGFuZGxlcik7XG59O1xuXG5mdW5jdGlvbiBieXRlRm9ybWF0KGJ5dGVzKSB7XG4gIGlmIChieXRlcyA+IDg1MDAwMCkge1xuICAgIHJldHVybiBgJHsoYnl0ZXMvKDEwMjQqMTAyNCkpLnRvRml4ZWQoMil9TUJgO1xuICB9XG4gIGlmIChieXRlcyA+IDg1MCkge1xuICAgIHJldHVybiBgJHsoYnl0ZXMvMTAyNCkudG9GaXhlZCgyKX1LQmA7XG4gIH1cbiAgcmV0dXJuIGAke2J5dGVzfUJgO1xufVxuXG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICd0ZXhtZW0nLFxuICBoZWxwOiAnRGlzcGxheXMgdGV4dHVyZSBtZW1vcnkgdXNhZ2UnLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKHRleHR1cmVzLnRleHR1cmVzKTtcbiAgICBrZXlzID0ga2V5cy5maWx0ZXIoKGEpID0+IHRleHR1cmVzLnRleHR1cmVzW2FdLmdwdV9tZW0gPiAxMDI0KTtcbiAgICBrZXlzLnNvcnQoKGEsIGIpID0+IHRleHR1cmVzLnRleHR1cmVzW2FdLmdwdV9tZW0gLSB0ZXh0dXJlcy50ZXh0dXJlc1tiXS5ncHVfbWVtKTtcbiAgICByZXNwX2Z1bmMobnVsbCwga2V5cy5tYXAoKGEpID0+IGAke2J5dGVGb3JtYXQodGV4dHVyZXMudGV4dHVyZXNbYV0uZ3B1X21lbSl9ICR7YX1gKS5qb2luKCdcXG4nKSk7XG4gIH1cbn0pO1xuXG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICdncHVtZW0nLFxuICBoZWxwOiAnRGlzcGxheXMgR1BVIG1lbW9yeSB1c2FnZSBzdW1tYXJ5JyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgbGV0IHsgZ3B1X21lbSB9ID0gZW5naW5lLnBlcmZfc3RhdGU7XG4gICAgcmVzcF9mdW5jKG51bGwsIGAke2J5dGVGb3JtYXQoZ3B1X21lbS5nZW9tKX0gR2VvXFxuJHtieXRlRm9ybWF0KGdwdV9tZW0udGV4KX0gVGV4XFxuJHtcbiAgICAgIGJ5dGVGb3JtYXQoZ3B1X21lbS5nZW9tICsgZ3B1X21lbS50ZXgpfSBUb3RhbGApO1xuICB9XG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZCcsXG4gIGhlbHA6ICdUb2dnbGVzIGEgZGVidWcgZGVmaW5lJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgc3RyID0gc3RyLnRvVXBwZXJDYXNlKCk7XG4gICAgZW5naW5lLmRlZmluZXNbc3RyXSA9ICFlbmdpbmUuZGVmaW5lc1tzdHJdO1xuICAgIHJlc3BfZnVuYyhudWxsLCBgRD0ke3N0cn0gbm93ICR7ZW5naW5lLmRlZmluZXNbc3RyXT8nU0VUJzondW5zZXQnfWApO1xuICAgIGVuZ2luZS5kZWZpbmVzQ2hhbmdlZCgpO1xuICB9XG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAncmVuZGVyZXInLFxuICBoZWxwOiAnRGlzcGxheXMgY3VycmVudCByZW5kZXJlcicsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIHJlc3BfZnVuYyhudWxsLCBgUmVuZGVyZXI9V2ViR0wke2VuZ2luZS53ZWJnbDI/MjoxfWApO1xuICB9XG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnY3NyJyxcbiAgYWNjZXNzX3J1bjogWydzeXNhZG1pbiddLFxuICBoZWxwOiAnKEFkbWluKSBSdW4gYSBjb21tYW5kIGFzIGFub3RoZXIgdXNlcicsXG4gIHVzYWdlOiAnL2NzciBVc2VySUQgY29tbWFuZFxcbicgK1xuICAgICdFeGFtcGxlOiAvY3NyIGppbWJseSBnZW1zIC0xMDAnLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgaWR4ID0gc3RyLmluZGV4T2YoJyAnKTtcbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKCdJbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMnKTtcbiAgICB9XG4gICAgbGV0IHVzZXJfaWQgPSBzdHIuc2xpY2UoMCwgaWR4KTtcbiAgICBsZXQgY21kID0gc3RyLnNsaWNlKGlkeCArIDEpO1xuICAgIGxldCBwYWsgPSBuZXQuc3Vicy5nZXRDaGFubmVsSW1tZWRpYXRlKGB1c2VyLiR7dXNlcl9pZH1gKS5wYWsoJ2Nzcl9hZG1pbl90b191c2VyJyk7XG4gICAgcGFrLndyaXRlU3RyaW5nKGNtZCk7XG4gICAgcGFrLnNlbmQocmVzcF9mdW5jKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGNtZERlc2MoY21kX2RhdGEpIHtcbiAgcmV0dXJuIGAvJHtjbWRfZGF0YS5jbWR9IC0gJHtjbWRfZGF0YS5oZWxwfWA7XG59XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2hlbHAnLFxuICBoZWxwOiAnU2VhcmNoZXMgY29tbWFuZHMnLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgbGlzdCA9IGNtZF9wYXJzZS5hdXRvQ29tcGxldGUoJycsIHRoaXMgJiYgdGhpcy5hY2Nlc3MpO1xuICAgIGlmIChzdHIpIHtcbiAgICAgIGxldCBzdHJfY25hbWUgPSBjbWRfcGFyc2UuY2Fub25pY2FsKHN0cik7XG4gICAgICBsZXQgc3RyX2xjID0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICBsaXN0ID0gbGlzdC5maWx0ZXIoKGNtZF9kYXRhKSA9PiBjbWRfZGF0YS5jbmFtZS5pbmRleE9mKHN0cl9jbmFtZSkgIT09IC0xIHx8XG4gICAgICAgICAgY21kX2RhdGEuaGVscC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc3RyX2xjKSAhPT0gLTEpO1xuICAgIH1cbiAgICBpZiAoIWxpc3QubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdm9pZCByZXNwX2Z1bmMobnVsbCwgYE5vIGNvbW1hbmRzIGZvdW5kIG1hdGNoaW5nIFwiJHtzdHJ9XCJgKTtcbiAgICB9XG4gICAgcmVzcF9mdW5jKG51bGwsIGxpc3QubWFwKGNtZERlc2MpLmpvaW4oJ1xcbicpKTtcbiAgfVxufSk7XG5cbmV4cG9ydCBsZXQgc2FmZWFyZWEgPSBbLTEsLTEsLTEsLTFdO1xuY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoJ3NhZmVfYXJlYScsIHtcbiAgbGFiZWw6ICdTYWZlIEFyZWEnLFxuICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9TVFJJTkcsXG4gIHVzYWdlOiAnU2FmZSBBcmVhIHZhbHVlOiBVc2UgLTEgZm9yIGF1dG8gYmFzZWQgb24gYnJvd3NlciBlbnZpcm9ubWVudCxcXG4nICtcbiAgICAnb3IgMC0yNSBmb3IgcGVyY2VudGFnZSBvZiBzY3JlZW4gc2l6ZVxcbicgK1xuICAgICcgIFVzYWdlOiAvc2FmZV9hcmVhIFt2YWx1ZV1cXG4nICtcbiAgICAnICBVc2FnZTogL3NhZmVfYXJlYSBob3Jpem9udGFsLHZlcnRpY2FsXFxuJyArXG4gICAgJyAgVXNhZ2U6IC9zYWZlX2FyZWEgbGVmdCxyaWdodCx0b3AsYm90dG9tJyxcbiAgZGVmYXVsdF92YWx1ZTogJy0xJyxcbiAgZ2V0OiAoKSA9PiAoc2FmZWFyZWFbMF0gPT09IC0xID8gJy0xIChhdXRvKScgOiBzYWZlYXJlYS5qb2luKCcsJykpLFxuICBzZXQ6ICh2KSA9PiB7XG4gICAgdiA9IFN0cmluZyh2KTtcbiAgICBsZXQga2V5cyA9IHYuc3BsaXQoJywnKTtcbiAgICBpZiAodiAmJiBrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgc2FmZWFyZWFbMF0gPSBzYWZlYXJlYVsxXSA9IHNhZmVhcmVhWzJdID0gc2FmZWFyZWFbM10gPSBOdW1iZXIodik7XG4gICAgfSBlbHNlIGlmIChrZXlzLmxlbmd0aCA9PT0gMikge1xuICAgICAgc2FmZWFyZWFbMF0gPSBzYWZlYXJlYVsxXSA9IE51bWJlcihrZXlzWzBdKTtcbiAgICAgIHNhZmVhcmVhWzJdID0gc2FmZWFyZWFbM10gPSBOdW1iZXIoa2V5c1sxXSk7XG4gICAgfSBlbHNlIGlmIChrZXlzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDQ7ICsraWkpIHtcbiAgICAgICAgc2FmZWFyZWFbaWldID0gTnVtYmVyKGtleXNbaWldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXJyb3IsIGlnbm9yZT9cbiAgICB9XG4gIH0sXG4gIHN0b3JlOiB0cnVlLFxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ3dlYmdsMl9hdXRvJyxcbiAgaGVscDogJ1Jlc2V0cyBXZWJHTDIgYXV0by1kZXRlY3Rpb24nLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBsZXQgZGlzYWJsZV9kYXRhID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKCd3ZWJnbDJfZGlzYWJsZScpO1xuICAgIGlmICghZGlzYWJsZV9kYXRhKSB7XG4gICAgICByZXR1cm4gcmVzcF9mdW5jKG51bGwsICdXZWJHTDIgaXMgYWxyZWFkeSBiZWluZyBhdXRvLWRldGVjdGVkJyk7XG4gICAgfVxuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTignd2ViZ2wyX2Rpc2FibGUnLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiByZXNwX2Z1bmMobnVsbCwgJ1dlYkdMMiB3YXMgZGlzYWJsZWQsIHdpbGwgYXR0ZW1wdCB0byB1c2UgaXQgYWdhaW4gb24gdGhlIG5leHQgbG9hZCcpO1xuICB9LFxufSk7XG5cbmNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCdwb3N0cHJvY2Vzc2luZycsIHtcbiAgbGFiZWw6ICdQb3N0cHJvY2Vzc2luZycsXG4gIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgaGVscDogJ0VuYWJsZXMvZGlzYWJsZXMgcG9zdHByb2Nlc3NpbmcnLFxuICBnZXQ6ICgpID0+IChlbmdpbmUucG9zdHByb2Nlc3NpbmcgPyAxIDogMCksXG4gIHNldDogKHYpID0+IGVuZ2luZS5wb3N0cHJvY2Vzc2luZ0FsbG93KHYpLFxufSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2lucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgZ2xvdl91aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcblxuY29uc3QgeyBmb2N1c2xvZyB9ID0gZ2xvdl91aTtcblxuY2xhc3MgR2xvdlVJRWRpdEJveCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgICB0aGlzLnogPSBaLlVJOyAvLyBhY3R1YWxseSBpbiBET00sIHNvIGFib3ZlIGV2ZXJ5dGhpbmchXG4gICAgdGhpcy53ID0gZ2xvdl91aS5idXR0b25fd2lkdGg7XG4gICAgdGhpcy50eXBlID0gJ3RleHQnO1xuICAgIHRoaXMuYWxsb3dfbW9kYWwgPSBmYWxzZTtcbiAgICAvLyB0aGlzLmggPSBnbG92X3VpLmJ1dHRvbl9oZWlnaHQ7XG4gICAgdGhpcy5mb250X2hlaWdodCA9IGdsb3ZfdWkuZm9udF9oZWlnaHQ7XG4gICAgdGhpcy50ZXh0ID0gJyc7XG4gICAgdGhpcy5wbGFjZWhvbGRlciA9ICcnO1xuICAgIHRoaXMubWF4X2xlbiA9IDA7XG4gICAgdGhpcy56aW5kZXggPSBudWxsO1xuICAgIHRoaXMuaW5pdGlhbF9mb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMub25ldGltZV9mb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuYXV0b191bmZvY3VzID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsX3NlbGVjdCA9IGZhbHNlO1xuICAgIHRoaXMuc3BlbGxjaGVjayA9IHRydWU7XG4gICAgdGhpcy5lc2NfY2xlYXJzID0gdHJ1ZTtcbiAgICB0aGlzLm11bHRpbGluZSA9IDA7XG4gICAgdGhpcy5hcHBseVBhcmFtcyhwYXJhbXMpO1xuXG4gICAgdGhpcy5pc19mb2N1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5lbGVtID0gbnVsbDtcbiAgICB0aGlzLmlucHV0ID0gbnVsbDtcbiAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgIHRoaXMucG9pbnRlcl9sb2NrID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0X2ZyYW1lID0gMDtcbiAgfVxuICBhcHBseVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBmIGluIHBhcmFtcykge1xuICAgICAgdGhpc1tmXSA9IHBhcmFtc1tmXTtcbiAgICB9XG4gIH1cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0O1xuICB9XG4gIHNldFRleHQobmV3X3RleHQpIHtcbiAgICBpZiAodGhpcy5pbnB1dCkge1xuICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IG5ld190ZXh0O1xuICAgIH1cbiAgICB0aGlzLnRleHQgPSBuZXdfdGV4dDtcbiAgfVxuICBmb2N1cygpIHtcbiAgICBpZiAodGhpcy5pbnB1dCkge1xuICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uZXRpbWVfZm9jdXMgPSB0cnVlO1xuICAgIH1cbiAgICBnbG92X3VpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgdGhpcy5pc19mb2N1c2VkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5wb2ludGVyX2xvY2sgJiYgZ2xvdl9pbnB1dC5wb2ludGVyTG9ja2VkKCkpIHtcbiAgICAgIGdsb3ZfaW5wdXQucG9pbnRlckxvY2tFeGl0KCk7XG4gICAgfVxuICB9XG4gIHVuZm9jdXMoKSB7XG4gICAgZ2xvdl91aS5mb2N1c05leHQodGhpcyk7XG4gIH1cbiAgaXNGb2N1c2VkKCkgeyAvLyBjYWxsIGFmdGVyIC5ydW4oKVxuICAgIHJldHVybiB0aGlzLmlzX2ZvY3VzZWQ7XG4gIH1cblxuICB1cGRhdGVGb2N1cygpIHtcbiAgICBsZXQgd2FzX2dsb3ZfZm9jdXNlZCA9IHRoaXMuaXNfZm9jdXNlZDtcbiAgICBsZXQgZ2xvdl9mb2N1c2VkID0gZ2xvdl91aS5mb2N1c0NoZWNrKHRoaXMpO1xuICAgIGxldCBkb21fZm9jdXNlZCA9IHRoaXMuaW5wdXQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5pbnB1dDtcbiAgICBpZiAod2FzX2dsb3ZfZm9jdXNlZCAhPT0gZ2xvdl9mb2N1c2VkKSB7XG4gICAgICAvLyBzb21ldGhpbmcgZXh0ZXJuYWwgKGZyb20gY2xpY2tzL2tleXMgaW4gR0xPVikgY2hhbmdlZCwgYXBwbHkgaXQgaWYgaXQgZG9lc24ndCBtYXRjaFxuICAgICAgaWYgKGdsb3ZfZm9jdXNlZCAmJiAhZG9tX2ZvY3VzZWQgJiYgdGhpcy5pbnB1dCkge1xuICAgICAgICBmb2N1c2xvZygnR0xPViBmb2N1c2VkLCBET00gbm90LCBmb2N1c2luZycsIHRoaXMpO1xuICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBpZiAoIWdsb3ZfZm9jdXNlZCAmJiBkb21fZm9jdXNlZCkge1xuICAgICAgICBmb2N1c2xvZygnRE9NIGZvY3VzZWQsIEdMT1Ygbm90LCBhbmQgY2hhbmdlZCwgYmx1cnJpbmcnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dC5ibHVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkb21fZm9jdXNlZCAmJiAhZ2xvdl9mb2N1c2VkKSB7XG4gICAgICBmb2N1c2xvZygnRE9NIGZvY3VzZWQsIEdMT1Ygbm90LCBzdGVhbGluZycsIHRoaXMpO1xuICAgICAgZ2xvdl91aS5mb2N1c1N0ZWFsKHRoaXMpO1xuICAgICAgZ2xvdl9mb2N1c2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFkb21fZm9jdXNlZCAmJiBnbG92X2ZvY3VzZWQpIHtcbiAgICAgIC8vIExlYXZlIGl0IGFsb25lLCBpdCBtYXkgYmUgYSBicm93c2VyIHBvcC11cCBzdWNoIGFzIGZvciBwYXNzd29yZHNcbiAgICB9XG4gICAgbGV0IGZvY3VzZWQgPSBnbG92X2ZvY3VzZWQ7XG5cbiAgICBpZiAoZm9jdXNlZCkge1xuICAgICAgbGV0IGtleV9vcHQgPSAodGhpcy5wb2ludGVyX2xvY2sgJiYgIXRoaXMudGV4dCkgPyB7IGluX2V2ZW50X2NiOiBnbG92X2lucHV0LnBvaW50ZXJMb2NrRW50ZXIgfSA6IG51bGw7XG4gICAgICBpZiAoZ2xvdl9pbnB1dC5rZXlVcEVkZ2UoZ2xvdl9pbnB1dC5LRVlTLkVTQywga2V5X29wdCkpIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dCAmJiB0aGlzLmVzY19jbGVhcnMpIHtcbiAgICAgICAgICB0aGlzLnNldFRleHQoJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdsb3ZfdWkuZm9jdXNDYW52YXMoKTtcbiAgICAgICAgICBpZiAodGhpcy5pbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5ibHVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzX2ZvY3VzZWQgPSBmb2N1c2VkO1xuICAgIHJldHVybiBmb2N1c2VkO1xuICB9XG5cbiAgcnVuKHBhcmFtcykge1xuICAgIHRoaXMuYXBwbHlQYXJhbXMocGFyYW1zKTtcblxuICAgIGlmICh0aGlzLmxhc3RfZnJhbWUgIT09IGVuZ2luZS5mcmFtZV9pbmRleCAtIDEpIHtcbiAgICAgIC8vIGl0J3MgYmVlbiBtb3JlIHRoYW4gYSBmcmFtZSwgd2UgbXVzdCBoYXZlIG5vdCBiZWVuIHJ1bm5pbmcsIGRpc2NhcmQgYXN5bmMgZXZlbnRzXG4gICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmxhc3RfZnJhbWUgPSBlbmdpbmUuZnJhbWVfaW5kZXg7XG5cbiAgICB0aGlzLmNhbmNlbGVkID0gZmFsc2U7XG4gICAgbGV0IGZvY3VzZWQgPSB0aGlzLnVwZGF0ZUZvY3VzKCk7XG5cbiAgICBnbG92X3VpLnRoaXNfZnJhbWVfZWRpdF9ib3hlcy5wdXNoKHRoaXMpO1xuICAgIGxldCBlbGVtID0gZ2xvdl91aS5nZXRFbGVtKHRoaXMuYWxsb3dfbW9kYWwsIHRoaXMuZWxlbSk7XG4gICAgaWYgKGVsZW0gIT09IHRoaXMuZWxlbSkge1xuICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgLy8gbmV3IERPTSBlbGVtZW50LCBpbml0aWFsaXplXG4gICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5tdWx0aWxpbmUgPyAndGV4dGFyZWEnIDogJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgYGF1dG9fb2ZmXyR7TWF0aC5yYW5kb20oKX1gKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgdGhpcy50eXBlKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIHRoaXMucGxhY2Vob2xkZXIpO1xuICAgICAgICBpZiAodGhpcy5tYXhfbGVuKSB7XG4gICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdtYXhMZW5ndGgnLCB0aGlzLm1heF9sZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm11bHRpbGluZSkge1xuICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncm93cycsIHRoaXMubXVsdGlsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMik7XG4gICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2KSA9PiB7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgICBpZiAodGhpcy5wb2ludGVyX2xvY2sgJiYgIXRoaXMudGV4dCkge1xuICAgICAgICAgICAgZ2xvdl9pbnB1dC5wb2ludGVyTG9ja0VudGVyKCdlZGl0X2JveF9zdWJtaXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDMpO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMudGV4dDtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsX2ZvY3VzIHx8IHRoaXMub25ldGltZV9mb2N1cykge1xuICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgdGhpcy5vbmV0aW1lX2ZvY3VzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbF9zZWxlY3QpIHtcbiAgICAgICAgICBpbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgIGxldCBwb3MgPSBjYW1lcmEyZC5odG1sUG9zKHRoaXMueCwgdGhpcy55KTtcbiAgICAgIGlmICghdGhpcy5zcGVsbGNoZWNrKSB7XG4gICAgICAgIGVsZW0uc3BlbGxjaGVjayA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7cG9zWzBdfSVgO1xuICAgICAgZWxlbS5zdHlsZS50b3AgPSBgJHtwb3NbMV19JWA7XG4gICAgICBsZXQgc2l6ZSA9IGNhbWVyYTJkLmh0bWxTaXplKHRoaXMudywgMCk7XG4gICAgICBlbGVtLnN0eWxlLndpZHRoID0gYCR7c2l6ZVswXX0lYDtcbiAgICAgIGxldCBvbGRfZm9udHNpemUgPSBlbGVtLnN0eWxlLmZvbnRTaXplIHx8ICc/cHgnO1xuICAgICAgbGV0IG5ld19mb250c2l6ZSA9IGAke2NhbWVyYTJkLnZpcnR1YWxUb0ZvbnRTaXplKHRoaXMuZm9udF9oZWlnaHQpLnRvRml4ZWQoMCl9cHhgO1xuICAgICAgaWYgKG5ld19mb250c2l6ZSAhPT0gb2xkX2ZvbnRzaXplKSB7XG4gICAgICAgIGVsZW0uc3R5bGUuZm9udFNpemUgPSBuZXdfZm9udHNpemU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy56aW5kZXgpIHtcbiAgICAgICAgZWxlbS5zdHlsZVsnei1pbmRleCddID0gdGhpcy56aW5kZXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgIGlmICh0aGlzLmF1dG9fdW5mb2N1cykge1xuICAgICAgICBpZiAoZ2xvdl9pbnB1dC5jbGljayh7IHBlZWs6IHRydWUgfSkpIHtcbiAgICAgICAgICBnbG92X3VpLmZvY3VzU3RlYWwoJ2NhbnZhcycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBrZXlib2FyZCBpbnB1dCBpcyBoYW5kbGVkIGJ5IHRoZSBJTlBVVCBlbGVtZW50LCBidXQgYWxsb3cgbW91c2UgZXZlbnRzIHRvIHRyaWNrbGVcbiAgICAgIGdsb3ZfaW5wdXQuZWF0QWxsS2V5Ym9hcmRJbnB1dCgpO1xuICAgIH1cbiAgICAvLyBFYXQgbW91c2UgZXZlbnRzIGdvaW5nIHRvIHRoZSBlZGl0IGJveFxuICAgIGdsb3ZfaW5wdXQubW91c2VDb25zdW1lQ2xpY2tzKHsgeDogdGhpcy54LCB5OiB0aGlzLnksIHc6IHRoaXMudywgaDogdGhpcy5mb250X2hlaWdodCB9KTtcblxuICAgIGlmICh0aGlzLnN1Ym1pdHRlZCkge1xuICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzLlNVQk1JVDtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FuY2VsZWQpIHtcbiAgICAgIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzLkNBTkNFTDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdW5ydW4oKSB7XG4gICAgLy8gcmVtb3ZlIGZyb20gRE9NIG9yIGhpZGVcbiAgICB0aGlzLmVsZW0gPSBudWxsO1xuICAgIHRoaXMuaW5wdXQgPSBudWxsO1xuICB9XG59XG5HbG92VUlFZGl0Qm94LnByb3RvdHlwZS5TVUJNSVQgPSAnc3VibWl0Jztcbkdsb3ZVSUVkaXRCb3gucHJvdG90eXBlLkNBTkNFTCA9ICdjYW5jZWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IEdsb3ZVSUVkaXRCb3gocGFyYW1zKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBTb21lIGNvZGUgZnJvbSBUdXJidWxlbno6IENvcHlyaWdodCAoYykgMjAxMi0yMDEzIFR1cmJ1bGVueiBMaW1pdGVkXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgeyByZW5kZXJXaWR0aCwgcmVuZGVySGVpZ2h0IH0gPSBlbmdpbmU7XG5jb25zdCB7IGZyYW1lYnVmZmVyRW5kLCBmcmFtZWJ1ZmZlclN0YXJ0LCBmcmFtZWJ1ZmZlclRvcE9mRnJhbWUgfSA9IHJlcXVpcmUoJy4vZnJhbWVidWZmZXIuanMnKTtcbmNvbnN0IGdlb20gPSByZXF1aXJlKCcuL2dlb20uanMnKTtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL3NoYWRlcnMuanMnKTtcbmNvbnN0IHNwcml0ZXMgPSByZXF1aXJlKCcuL3Nwcml0ZXMuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyB2ZWMyLCB2ZWMzLCB2ZWM0LCB2NHNldCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuXG5jb25zdCBzaGFkZXJfZGF0YSA9IHtcbiAgdnBfY29weToge1xuICAgIHZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfY29weS52cCcsXG4gIH0sXG4gIGNvcHk6IHtcbiAgICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2NvcHkuZnAnLFxuICB9LFxuICBwaXhlbHlfZXhwYW5kOiB7XG4gICAgZnA6ICdnbG92L3NoYWRlcnMvcGl4ZWx5X2V4cGFuZC5mcCcsXG4gIH0sXG4gIGdhdXNzaWFuX2JsdXI6IHtcbiAgICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2dhdXNzaWFuX2JsdXIuZnAnLFxuICB9LFxuICAvLyBibG9vbV9tZXJnZToge1xuICAvLyAgIGZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfYmxvb21fbWVyZ2UuZnAnLFxuICAvLyB9LFxuICAvLyBibG9vbV90aHJlc2hvbGQ6IHtcbiAgLy8gICBmcDogJ2dsb3Yvc2hhZGVycy9lZmZlY3RzX2Jsb29tX3RocmVzaG9sZC5mcCcsXG4gIC8vIH0sXG4gIGNvbG9yX21hdHJpeDoge1xuICAgIGZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfY29sb3JfbWF0cml4LmZwJyxcbiAgfSxcbiAgLy8gZGlzdG9ydDoge1xuICAvLyAgIGZwOiAnZ2xvdi9zaGFkZXJzL2VmZmVjdHNfZGlzdG9ydC5mcCcsXG4gIC8vIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTaGFkZXIoa2V5LCBvYmopIHtcbiAgc2hhZGVyX2RhdGFba2V5XSA9IG9iajtcbn1cblxuZnVuY3Rpb24gZ2V0U2hhZGVyKGtleSkge1xuICBsZXQgZWxlbSA9IHNoYWRlcl9kYXRhW2tleV07XG4gIGlmICghZWxlbS5zaGFkZXIpIHtcbiAgICBpZiAoZWxlbS5mcCkge1xuICAgICAgZWxlbS5zaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZShlbGVtLmZwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZShlbGVtLnZwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZW0uc2hhZGVyO1xufVxuXG5cbmxldCBpbml0ZWQgPSBmYWxzZTtcbmxldCBjbGlwX3NwYWNlID0gdmVjNCgyLCAyLCAtMSwgLTEpO1xubGV0IGNvcHlfdXZfc2NhbGUgPSB2ZWMyKDEsIDEpO1xubGV0IHNoYWRlcl9wYXJhbXNfZGVmYXVsdCA9IHtcbiAgY2xpcF9zcGFjZSxcbiAgY29weV91dl9zY2FsZSxcbn07XG4vLyBsZXQgc2hhZGVyX3BhcmFtc19kaXN0b3J0O1xubGV0IHNoYWRlcl9wYXJhbXNfY29sb3JfbWF0cml4O1xuLy8gbGV0IHNoYWRlcl9wYXJhbXNfYmxvb207XG4vLyBsZXQgc2hhZGVyX3BhcmFtc19ibG9vbV9tZXJnZTtcbmxldCBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXI7XG5sZXQgc2hhZGVyX3BhcmFtc19waXhlbHlfZXhwYW5kO1xubGV0IHF1YWRfZ2VvbTtcbmZ1bmN0aW9uIHN0YXJ0dXAoKSB7XG4gIGluaXRlZCA9IHRydWU7XG5cbiAgcXVhZF9nZW9tID0gZ2VvbS5jcmVhdGUoXG4gICAgW1tzaGFkZXJzLnNlbWFudGljLlBPU0lUSU9OLCBnbC5GTE9BVCwgMiwgZmFsc2VdXSxcbiAgICBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgIDAsIDAsXG4gICAgICAxLCAwLFxuICAgICAgMSwgMSxcbiAgICAgIDAsIDEsXG4gICAgXSksIG51bGwsIGdlb20uUVVBRFMpOyAvLyBUT0RPOiB1c2UgZ2wuVFJJQU5HTEVfU1RSSVAgaW5zdGVhZCwgc2F2ZSBpbmRleCBidWZmZXIgYmluZGluZ1xuXG4gIC8vIHNoYWRlcl9wYXJhbXNfZGlzdG9ydCA9IHtcbiAgLy8gICBjbGlwX3NwYWNlLFxuICAvLyAgIGNvcHlfdXZfc2NhbGUsXG4gIC8vICAgc3RyZW5ndGg6IHZlYzIoMCwgMCksXG4gIC8vICAgdHJhbnNmb3JtOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAwLCAwLCAwXSksXG4gIC8vICAgaW52VHJhbnNmb3JtOiB2ZWM0KDAsIDAsIDAsIDApLFxuICAvLyB9O1xuXG4gIHNoYWRlcl9wYXJhbXNfY29sb3JfbWF0cml4ID0ge1xuICAgIGNsaXBfc3BhY2UsXG4gICAgY29weV91dl9zY2FsZSxcbiAgICBjb2xvck1hdHJpeDogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pLFxuICB9O1xuXG4gIC8vIHNoYWRlcl9wYXJhbXNfYmxvb20gPSB7XG4gIC8vICAgY2xpcF9zcGFjZSxcbiAgLy8gICBjb3B5X3V2X3NjYWxlLFxuICAvLyAgIGJsb29tVGhyZXNob2xkOiAwLFxuICAvLyAgIHRocmVzaG9sZEN1dHRvZmY6IDAsXG4gIC8vIH07XG5cbiAgLy8gc2hhZGVyX3BhcmFtc19ibG9vbV9tZXJnZSA9IHtcbiAgLy8gICBjbGlwX3NwYWNlLFxuICAvLyAgIGNvcHlfdXZfc2NhbGUsXG4gIC8vICAgYmxvb21JbnRlbnNpdHk6IDAsXG4gIC8vICAgYmxvb21TYXR1cmF0aW9uOiAwLFxuICAvLyAgIG9yaWdpbmFsSW50ZW5zaXR5OiAwLFxuICAvLyAgIG9yaWdpbmFsU2F0dXJhdGlvbjogMCxcbiAgLy8gfTtcblxuICAvLyBHYXVzc2lhbiBCbHVyIGVmZmVjdCAoYWxzbyB1c2VkIGJ5IGJsb29tKVxuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIgPSB7XG4gICAgY2xpcF9zcGFjZSxcbiAgICBjb3B5X3V2X3NjYWxlLFxuICAgIHNhbXBsZVJhZGl1czogdmVjMygxLCAxLCAxKSxcbiAgICBHYXVzczogbmV3IEZsb2F0MzJBcnJheShbMC45MywgMC44LCAwLjcsIDAuNiwgMC41LCAwLjQsIDAuMywgMC4yLCAwLjFdKSxcbiAgfTtcblxuICBzaGFkZXJfcGFyYW1zX3BpeGVseV9leHBhbmQgPSB7XG4gICAgY2xpcF9zcGFjZSxcbiAgICBjb3B5X3V2X3NjYWxlLFxuICAgIG9yaWdfcGl4ZWxfc2l6ZTogdmVjNCgpLFxuICB9O1xufVxuXG5sZXQgbnVtX3Bhc3NlcyA9IDA7XG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0c1Bhc3NBZGQoKSB7XG4gICsrbnVtX3Bhc3Nlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RzUGFzc0NvbnN1bWUoKSB7XG4gIC0tbnVtX3Bhc3Nlcztcbn1cblxuZnVuY3Rpb24gZG9FZmZlY3QoZm4pIHtcbiAgZWZmZWN0c1Bhc3NDb25zdW1lKCk7XG4gIGZuKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RzUXVldWUoeiwgZm4pIHtcbiAgZWZmZWN0c1Bhc3NBZGQoKTtcbiAgc3ByaXRlcy5xdWV1ZWZuKHosIGRvRWZmZWN0LmJpbmQobnVsbCwgZm4pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdHNUb3BPZkZyYW1lKCkge1xuICAvLyBJbiBjYXNlIG9mIGNyYXNoIG9uIHByZXZpb3VzIGZyYW1lXG4gIG51bV9wYXNzZXMgPSAwO1xuICBmcmFtZWJ1ZmZlclRvcE9mRnJhbWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdHNSZXNldCgpIHtcbiAgYXNzZXJ0LmVxdWFsKG51bV9wYXNzZXMsIDApOyAvLyBvdGhlcndpc2UgcHJvYmFibHkgc3RpbGwgaGF2ZSBhIGZyYW1lYnVmZmVyIGJvdW5kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RzSXNGaW5hbCgpIHtcbiAgcmV0dXJuICFudW1fcGFzc2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ3JheVNjYWxlTWF0cml4KGRzdCkge1xuICBkc3RbMF0gPSAwLjIxMjY7XG4gIGRzdFsxXSA9IDAuMjEyNjtcbiAgZHN0WzJdID0gMC4yMTI2O1xuICBkc3RbM10gPSAwLjcxNTI7XG4gIGRzdFs0XSA9IDAuNzE1MjtcbiAgZHN0WzVdID0gMC43MTUyO1xuICBkc3RbNl0gPSAwLjA3MjI7XG4gIGRzdFs3XSA9IDAuMDcyMjtcbiAgZHN0WzhdID0gMC4wNzIyO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXBpYU1hdHJpeChkc3QpIHtcbiAgZHN0WzBdID0gMC4zOTM7XG4gIGRzdFsxXSA9IDAuMzQ5O1xuICBkc3RbMl0gPSAwLjI3MjtcbiAgZHN0WzNdID0gMC43Njk7XG4gIGRzdFs0XSA9IDAuNjg2O1xuICBkc3RbNV0gPSAwLjUzNDtcbiAgZHN0WzZdID0gMC4xODk7XG4gIGRzdFs3XSA9IDAuMTY4O1xuICBkc3RbOF0gPSAwLjEzMTtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRpdmVNYXRyaXgoZHN0KSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IC0xO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXR1cmF0aW9uTWF0cml4KGRzdCwgc2F0dXJhdGlvblNjYWxlKSB7XG4gIGxldCBpcyA9ICgxIC0gc2F0dXJhdGlvblNjYWxlKTtcbiAgZHN0WzBdID0gKGlzICogMC4yMTI2KSArIHNhdHVyYXRpb25TY2FsZTtcbiAgZHN0WzFdID0gKGlzICogMC4yMTI2KTtcbiAgZHN0WzJdID0gKGlzICogMC4yMTI2KTtcbiAgZHN0WzNdID0gKGlzICogMC43MTUyKTtcbiAgZHN0WzRdID0gKGlzICogMC43MTUyKSArIHNhdHVyYXRpb25TY2FsZTtcbiAgZHN0WzVdID0gKGlzICogMC43MTUyKTtcbiAgZHN0WzZdID0gKGlzICogMC4wNzIyKTtcbiAgZHN0WzddID0gKGlzICogMC4wNzIyKTtcbiAgZHN0WzhdID0gKGlzICogMC4wNzIyKSArIHNhdHVyYXRpb25TY2FsZTtcbiAgZHN0WzldID0gZHN0WzEwXSA9IGRzdFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHVlTWF0cml4KGRzdCwgYW5nbGUpIHtcbiAgLy8vL1xuICAvLy8vIFVuY29tbWVudCB0byBjYWxjdWxhdGUgbmV3IGNvZWZmZWNpZW50cyBzaG91bGQgbHVtaW5hbmNlXG4gIC8vLy8gdmFsdWVzIDAuMjEyNiAwLjcxNTIgMC4wNzIyIGNoYW5nZS5cbiAgLy9sZXQgbHVtUiA9IDAuMjEyNjtcbiAgLy9sZXQgbHVtRyA9IDAuNzE1MjtcbiAgLy9sZXQgbHVtQiA9IDAuMDcyMjtcbiAgLy8vL1xuICAvL2xldCByMjMgPSBNYXRoLnNxcnQoMiAvIDMpO1xuICAvL2xldCByMTIgPSAxIC8gTWF0aC5zcXJ0KDIpO1xuICAvL2xldCByMTMgPSAxIC8gTWF0aC5zcXJ0KDMpO1xuICAvL2xldCByMTYgPSAxIC8gTWF0aC5zcXJ0KDYpO1xuICAvL2xldCBNID0gW3IyMywgMCwgcjEzLCAtcjE2LCByMTIsIHIxMywgLXIxNiwgLXIxMiwgcjEzLCAwLCAwLCAwXTtcbiAgLy9sZXQgenggPSAocjIzICogbHVtUikgLSAocjE2ICogbHVtRykgLSAocjE2ICogbHVtQik7XG4gIC8vbGV0IHp5ID0gICAgICAgICAgICAgICAgKHIxMiAqIGx1bUcpIC0gKHIxMiAqIGx1bUIpO1xuICAvL2xldCB6eiA9IChyMTMgKiBsdW1SKSArIChyMTMgKiBsdW1HKSArIChyMTMgKiBsdW1CKTtcbiAgLy9sZXQgeCA9IHp4IC8geno7XG4gIC8vbGV0IHkgPSB6eSAvIHp6O1xuICAvL2xldCBDID0gWzEsIDAsIHgsIDAsIDEsIHksIDAsIDAsIDEsIDAsIDAsIDBdO1xuICAvL200M211bChNLCBNLCBDKTtcbiAgLy9jb25zb2xlLmxvZyhcIlByZSB0cmFuc2Zvcm0gPSBcIiwgTSk7XG4gIC8vbGV0IEUgPSBbMSwgMCwgLXgsIDAsIDEsIC15LCAwLCAwLCAxLCAwLCAwLCAwXTtcbiAgLy9sZXQgTiA9IFtyMjMsIC1yMTYsIC1yMTYsIDAsIHIxMiwgLXIxMiwgcjEzLCByMTMsIHIxMywgMCwgMCwgMF07XG4gIC8vbTQzbXVsKE4sIEUsIE4pO1xuICAvL2NvbnNvbGUubG9nKFwiUG9zdCB0cmFuc2Zvcm0gPSBcIiwgTik7XG4gIC8vLy9cbiAgLy8vLyBGaW5hbCBtYXRyaXggaXMgdGhlbjogbTQzTXVsKFByZSwgW2MsIHMsIDAsIC1zLCBjLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCBdLCBQb3N0KTtcbiAgLy8vLyBmb3IgYyA9IGNvcyhhbmdsZSksIHMgPSBzaW4oYW5nbGUpXG4gIC8vLy9cbiAgLy9sZXQgb3V0ID0gXCJcIjtcbiAgLy9vdXQgKz0gXCJsZXQgYyA9IE1hdGguY29zKGFuZ2xlKTtcXG5cIjtcbiAgLy9vdXQgKz0gXCJsZXQgcyA9IE1hdGguc2luKGFuZ2xlKTtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbMF0gPSAoXCIgKyAoTlswXSpNWzBdK05bM10qTVsxXSkgKyBcIiAqIGMpICsgKFwiICsgKE5bM10qTVswXS1OWzBdKk1bMV0pICsgXCIgKiBzKSArIFwiICsgbHVtUitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbMV0gPSAoXCIgKyAoLWx1bVIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNF0qTVswXS1OWzFdKk1bMV0pICsgXCIgKiBzKSArIFwiICsgbHVtUitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbMl0gPSAoXCIgKyAoLWx1bVIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNV0qTVswXS1OWzJdKk1bMV0pICsgXCIgKiBzKSArIFwiICsgbHVtUitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbM10gPSAoXCIgKyAoLWx1bUcpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bM10qTVszXS1OWzBdKk1bNF0pICsgXCIgKiBzKSArIFwiICsgbHVtRytcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbNF0gPSAoXCIgKyAoTlsxXSpNWzNdK05bNF0qTVs0XSkgKyBcIiAqIGMpICsgKFwiICsgKE5bNF0qTVszXS1OWzFdKk1bNF0pICsgXCIgKiBzKSArIFwiICsgbHVtRytcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbNV0gPSAoXCIgKyAoLWx1bUcpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNV0qTVszXS1OWzJdKk1bNF0pICsgXCIgKiBzKSArIFwiICsgbHVtRytcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbNl0gPSAoXCIgKyAoLWx1bUIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bM10qTVs2XS1OWzBdKk1bN10pICsgXCIgKiBzKSArIFwiICsgbHVtQitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbN10gPSAoXCIgKyAoLWx1bUIpICAgICAgICAgICAgICAgKyBcIiAqIGMpICsgKFwiICsgKE5bNF0qTVs2XS1OWzFdKk1bN10pICsgXCIgKiBzKSArIFwiICsgbHVtQitcIjtcXG5cIjtcbiAgLy9vdXQgKz0gXCJkc3RbOF0gPSAoXCIgKyAoTlsyXSpNWzZdK05bNV0qTVs3XSkgKyBcIiAqIGMpICsgKFwiICsgKE5bNV0qTVs2XS1OWzJdKk1bN10pICsgXCIgKiBzKSArIFwiICsgbHVtQitcIjtcXG5cIjtcbiAgLy9jb25zb2xlLmxvZyhvdXQpO1xuICBsZXQgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgbGV0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gIGRzdFswXSA9ICgwLjc4NzQgKiBjKSArICgtMC4zNzEyMzYyMjMwODg5MjkzICogcykgKyAwLjIxMjY7XG4gIGRzdFsxXSA9ICgtMC4yMTI2ICogYykgKyAoMC4yMDYxMTQwNDYxMDA2OTY0MiAqIHMpICsgMC4yMTI2O1xuICBkc3RbMl0gPSAoLTAuMjEyNiAqIGMpICsgKC0wLjk0ODU4NjQ5MjI3ODU1NTEgKiBzKSArIDAuMjEyNjtcbiAgZHN0WzNdID0gKC0wLjcxNTIgKiBjKSArICgtMC40OTYyOTAyOTEzOTU0MDIzICogcykgKyAwLjcxNTI7XG4gIGRzdFs0XSA9ICgwLjI4NDggKiBjKSArICgwLjA4MTA1OTk3Nzc5NDIyMzQxICogcykgKyAwLjcxNTI7XG4gIGRzdFs1XSA9ICgtMC43MTUyICogYykgKyAoMC42NTg0MTAyNDY5ODM4NDkyICogcykgKyAwLjcxNTI7XG4gIGRzdFs2XSA9ICgtMC4wNzIyICogYykgKyAoMC44Njc1MjY1MTQ0ODQzMzE2ICogcykgKyAwLjA3MjI7XG4gIGRzdFs3XSA9ICgtMC4wNzIyICogYykgKyAoLTAuMjg3MTc0MDIzODk0OTE5ODYgKiBzKSArIDAuMDcyMjtcbiAgZHN0WzhdID0gKDAuOTI3OCAqIGMpICsgKDAuMjkwMTc2MjQ1Mjk0NzA2ICogcykgKyAwLjA3MjI7XG4gIGRzdFs5XSA9IGRzdFsxMF0gPSBkc3RbMTFdID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyaWdodG5lc3NBZGRNYXRyaXgoZHN0LCBicmlnaHRuZXNzT2Zmc2V0KSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IDE7XG4gIGRzdFsxXSA9IGRzdFsyXSA9IGRzdFszXSA9IGRzdFs1XSA9IGRzdFs2XSA9IGRzdFs3XSA9IDA7XG4gIGRzdFs5XSA9IGRzdFsxMF0gPSBkc3RbMTFdID0gYnJpZ2h0bmVzc09mZnNldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyaWdodG5lc3NTY2FsZU1hdHJpeChkc3QsIHNjYWxlKSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IHNjYWxlO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRpdGl2ZU1hdHJpeChkc3QsIGFkZGl0aXZlUkdCKSB7XG4gIGRzdFswXSA9IGRzdFs0XSA9IGRzdFs4XSA9IDE7XG4gIGRzdFsxXSA9IGRzdFsyXSA9IGRzdFszXSA9IGRzdFs1XSA9IGRzdFs2XSA9IGRzdFs3XSA9IDA7XG4gIGRzdFs5XSA9IGFkZGl0aXZlUkdCWzBdO1xuICBkc3RbMTBdID0gYWRkaXRpdmVSR0JbMV07XG4gIGRzdFsxMV0gPSBhZGRpdGl2ZVJHQlsyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyYXN0TWF0cml4KGRzdCwgY29udHJhc3RTY2FsZSkge1xuICBkc3RbMF0gPSBkc3RbNF0gPSBkc3RbOF0gPSBjb250cmFzdFNjYWxlO1xuICBkc3RbMV0gPSBkc3RbMl0gPSBkc3RbM10gPSBkc3RbNV0gPSBkc3RbNl0gPSBkc3RbN10gPSAwO1xuICBkc3RbOV0gPSBkc3RbMTBdID0gZHN0WzExXSA9IDAuNSAqICgxIC0gY29udHJhc3RTY2FsZSk7XG59XG5cbi8vIGVmZmVjdDogeyBzaGFkZXIsIHBhcmFtcywgdGV4cywgZmluYWwgfVxuZnVuY3Rpb24gYXBwbHlFZmZlY3QoZWZmZWN0LCB2aWV3X3csIHZpZXdfaCkge1xuICBsZXQgZmluYWwgPSBlZmZlY3QuZmluYWwgIT09IGZhbHNlICYmIGVmZmVjdHNJc0ZpbmFsKCkgfHwgZWZmZWN0LmZpbmFsO1xuICBpZiAoZWZmZWN0Lm5vX2ZyYW1lYnVmZmVyKSB7XG4gICAgLy8gbmVpdGhlciBzdGFydGluZyBub3IgZW5kaW5nIGEgZnJhbWVidWZmZXIsIHByZXN1bWFibHkgc29tZXRoaW5nIGVmZmVjdGl2ZWx5IGFkZGl0aXZlXG4gICAgbGV0IHZpZXdwb3J0ID0gZW5naW5lLnZpZXdwb3J0O1xuICAgIGxldCB0YXJnZXRfdyA9IHZpZXdwb3J0WzJdO1xuICAgIGxldCB0YXJnZXRfaCA9IHZpZXdwb3J0WzNdO1xuICAgIHZpZXdfdyA9IHZpZXdfdyB8fCB0YXJnZXRfdztcbiAgICB2aWV3X2ggPSB2aWV3X2ggfHwgdGFyZ2V0X2g7XG4gICAgY2xpcF9zcGFjZVswXSA9IDIuMCAqIHZpZXdfdyAvIHRhcmdldF93O1xuICAgIGNsaXBfc3BhY2VbMV0gPSAyLjAgKiB2aWV3X2ggLyB0YXJnZXRfaDtcbiAgfSBlbHNlIGlmIChlZmZlY3Qudmlld3BvcnQpIHtcbiAgICBhc3NlcnQoZmluYWwpO1xuICAgIGxldCB7IHZpZXdwb3J0IH0gPSBlZmZlY3Q7XG4gICAgbGV0IHRhcmdldF93ID0gdmlld3BvcnRbMl07XG4gICAgbGV0IHRhcmdldF9oID0gdmlld3BvcnRbM107XG4gICAgdmlld193ID0gdmlld193IHx8IHRhcmdldF93O1xuICAgIHZpZXdfaCA9IHZpZXdfaCB8fCB0YXJnZXRfaDtcblxuICAgIGNsaXBfc3BhY2VbMF0gPSAyLjAgKiB2aWV3X3cgLyB0YXJnZXRfdztcbiAgICBjbGlwX3NwYWNlWzFdID0gMi4wICogdmlld19oIC8gdGFyZ2V0X2g7XG5cbiAgICBmcmFtZWJ1ZmZlclN0YXJ0KHtcbiAgICAgIGNsZWFyOiBlZmZlY3QuY2xlYXIsXG4gICAgICBjbGVhcl9hbGw6IGVmZmVjdC5jbGVhcl9hbGwsXG4gICAgICBjbGVhcl9jb2xvcjogZWZmZWN0LmNsZWFyX2NvbG9yLFxuICAgICAgdmlld3BvcnQsXG4gICAgICBmaW5hbCxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjbGlwX3NwYWNlWzBdID0gMi4wO1xuICAgIGNsaXBfc3BhY2VbMV0gPSAyLjA7XG4gICAgdmlld193ID0gdmlld193IHx8IHJlbmRlcldpZHRoKCk7XG4gICAgdmlld19oID0gdmlld19oIHx8IHJlbmRlckhlaWdodCgpO1xuXG4gICAgZnJhbWVidWZmZXJTdGFydCh7XG4gICAgICB3aWR0aDogdmlld193LCBoZWlnaHQ6IHZpZXdfaCxcbiAgICAgIGZpbmFsLFxuICAgIH0pO1xuICB9XG4gIC8vIGNsaXBfc3BhY2VbMl0gPSAtMS4wO1xuICAvLyBjbGlwX3NwYWNlWzNdID0gLTEuMDtcbiAgLy8gY29weV91dl9zY2FsZVswXSA9IHRhcmdldF93IC8gZWZmZWN0LmNvb3JkX3NvdXJjZS53aWR0aDtcbiAgLy8gY29weV91dl9zY2FsZVsxXSA9IHRhcmdldF9oIC8gZWZmZWN0LmNvb3JkX3NvdXJjZS5oZWlnaHQ7XG5cbiAgc2hhZGVycy5iaW5kKGdldFNoYWRlcigndnBfY29weScpLCBnZXRTaGFkZXIoZWZmZWN0LnNoYWRlciksIGVmZmVjdC5wYXJhbXMpO1xuICB0ZXh0dXJlcy5iaW5kQXJyYXkoZWZmZWN0LnRleHMpO1xuICBxdWFkX2dlb20uZHJhdygpO1xufVxuXG4vLyAvLyBUT0RPOiBVcGRhdGUgZm9yIFJUQkJDVFQgYW5kIHBvcnQgdG8gbmV3IEdMT1YuanNcbi8vIGZ1bmN0aW9uIGFwcGx5Qmxvb21UT0RPKHBhcmFtcykge1xuLy8gICBsZXQgc291cmNlID0gcGFyYW1zLnNvdXJjZTtcbi8vICAgbGV0IGJsdXIxID0gcGFyYW1zLmJsdXJUYXJnZXQxO1xuLy8gICBsZXQgYmx1cjIgPSBwYXJhbXMuYmx1clRhcmdldDI7XG4vLyAgIGxldCBkZXN0ID0gcGFyYW1zLmRlc3RpbmF0aW9uO1xuLy8gICBpZiAoIXNvdXJjZSB8fCAhZGVzdCB8fCAhYmx1cjEgfHwgIWJsdXIyIHx8ICFibHVyMS5jb2xvclRleHR1cmUwIHx8XG4vLyAgICAgIWJsdXIyLmNvbG9yVGV4dHVyZTAgfHwgYmx1cjEgPT09IGJsdXIyIHx8IGJsdXIxID09PSBkZXN0IHx8XG4vLyAgICAgc291cmNlID09PSBibHVyMS5jb2xvclRleHR1cmUwIHx8IHNvdXJjZSA9PT0gZGVzdC5jb2xvclRleHR1cmUwKSB7XG4vLyAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICB9XG4vL1xuLy8gICBsZXQgZWZmZWN0UGFyYW1zID0gdGhpcy5lZmZlY3RQYXJhbXM7XG4vLyAgIGxldCB0ZWNocGFyYW1zO1xuLy9cbi8vICAgLy8gVGhyZXNob2xkIGNvcHkuXG4vLyAgIHRlY2hwYXJhbXMgPSB0aGlzLmJsb29tVGhyZXNob2xkUGFyYW1ldGVycztcbi8vICAgZWZmZWN0UGFyYW1zLnRlY2huaXF1ZSA9IHRoaXMuYmxvb21UaHJlc2hvbGRUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgdGVjaHBhcmFtcy5ibG9vbVRocmVzaG9sZCA9IChwYXJhbXMuYmxvb21UaHJlc2hvbGQgIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMuYmxvb21UaHJlc2hvbGQgOiAwLjY1O1xuLy8gICB0ZWNocGFyYW1zLnRocmVzaG9sZEN1dG9mZiA9IE1hdGguZXhwKChwYXJhbXMudGhyZXNob2xkQ3V0b2ZmICE9PSB1bmRlZmluZWQpID8gcGFyYW1zLnRocmVzaG9sZEN1dG9mZiA6IDMpO1xuLy8gICB0ZWNocGFyYW1zLmlucHV0VGV4dHVyZTAgPSBzb3VyY2U7XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGJsdXIxO1xuLy8gICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdFBhcmFtcyk7XG4vL1xuLy8gICAvLyBHYXVzc2lhbiBibHVyLlxuLy8gICB0ZWNocGFyYW1zID0gdGhpcy5nYXVzc2lhbkJsdXJQYXJhbWV0ZXJzO1xuLy8gICBlZmZlY3RQYXJhbXMudGVjaG5pcXVlID0gdGhpcy5nYXVzc2lhbkJsdXJUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgbGV0IHNhbXBsZVJhZGl1cyA9IChwYXJhbXMuYmx1clJhZGl1cyB8fCAyMCk7XG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzBdID0gc2FtcGxlUmFkaXVzIC8gc291cmNlLndpZHRoO1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1sxXSA9IDA7XG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzJdID0gMTtcbi8vICAgdGVjaHBhcmFtcy5pbnB1dFRleHR1cmUwID0gYmx1cjEuY29sb3JUZXh0dXJlMDtcbi8vICAgZWZmZWN0UGFyYW1zLmRlc3RpbmF0aW9uID0gYmx1cjI7XG4vLyAgIHRoaXMuYXBwbHlFZmZlY3QoZWZmZWN0UGFyYW1zKTtcbi8vXG4vLyAgIHRlY2hwYXJhbXMuc2FtcGxlUmFkaXVzWzBdID0gMDtcbi8vICAgdGVjaHBhcmFtcy5zYW1wbGVSYWRpdXNbMV0gPSBzYW1wbGVSYWRpdXMgLyBzb3VyY2UuaGVpZ2h0O1xuLy8gICB0ZWNocGFyYW1zLnNhbXBsZVJhZGl1c1syXSA9IDE7XG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMCA9IGJsdXIyLmNvbG9yVGV4dHVyZTA7XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGJsdXIxO1xuLy8gICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdFBhcmFtcyk7XG4vL1xuLy8gICAvLyBNZXJnZS5cbi8vICAgdGVjaHBhcmFtcyA9IHRoaXMuYmxvb21NZXJnZVBhcmFtZXRlcnM7XG4vLyAgIGVmZmVjdFBhcmFtcy50ZWNobmlxdWUgPSB0aGlzLmJsb29tTWVyZ2VUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgdGVjaHBhcmFtcy5ibG9vbUludGVuc2l0eSA9IChwYXJhbXMuYmxvb21JbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMuYmxvb21JbnRlbnNpdHkgOiAxLjI7XG4vLyAgIHRlY2hwYXJhbXMuYmxvb21TYXR1cmF0aW9uID0gKHBhcmFtcy5ibG9vbVNhdHVyYXRpb24gIT09IHVuZGVmaW5lZCkgPyBwYXJhbXMuYmxvb21TYXR1cmF0aW9uIDogMS4yO1xuLy8gICB0ZWNocGFyYW1zLm9yaWdpbmFsSW50ZW5zaXR5ID0gKHBhcmFtcy5vcmlnaW5hbEludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSA/IHBhcmFtcy5vcmlnaW5hbEludGVuc2l0eSA6IDEuMDtcbi8vICAgdGVjaHBhcmFtcy5vcmlnaW5hbFNhdHVyYXRpb24gPSAocGFyYW1zLm9yaWdpbmFsU2F0dXJhdGlvbiAhPT0gdW5kZWZpbmVkKSA/IHBhcmFtcy5vcmlnaW5hbFNhdHVyYXRpb24gOiAxLjA7XG4vLyAgIHRlY2hwYXJhbXMuaW5wdXRUZXh0dXJlMCA9IHNvdXJjZTtcbi8vICAgdGVjaHBhcmFtcy5pbnB1dFRleHR1cmUxID0gYmx1cjEuY29sb3JUZXh0dXJlMDtcbi8vICAgZWZmZWN0UGFyYW1zLmRlc3RpbmF0aW9uID0gZGVzdDtcbi8vICAgdGhpcy5hcHBseUVmZmVjdChlZmZlY3RQYXJhbXMpO1xuLy9cbi8vICAgcmV0dXJuIHRydWU7XG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNvcHkocGFyYW1zKSB7XG4gIGlmICghaW5pdGVkKSB7XG4gICAgc3RhcnR1cCgpO1xuICB9XG4gIGxldCBzb3VyY2UgPSBwYXJhbXMuc291cmNlO1xuICBpZiAoIXNvdXJjZSkge1xuICAgIHNvdXJjZSA9IGZyYW1lYnVmZmVyRW5kKHsgZmlsdGVyX2xpbmVhcjogcGFyYW1zLmZpbHRlcl9saW5lYXIgfSk7XG4gIH1cbiAgcGFyYW1zLnNoYWRlciA9IHBhcmFtcy5zaGFkZXIgfHwgJ2NvcHknO1xuICBwYXJhbXMucGFyYW1zID0gc2hhZGVyX3BhcmFtc19kZWZhdWx0O1xuICBwYXJhbXMudGV4cyA9IFtzb3VyY2VdO1xuICBhcHBseUVmZmVjdChwYXJhbXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQaXhlbHlFeHBhbmQocGFyYW1zKSB7XG4gIGlmICghaW5pdGVkKSB7XG4gICAgc3RhcnR1cCgpO1xuICB9XG4gIGxldCBzb3VyY2UgPSBwYXJhbXMuc291cmNlO1xuICBhc3NlcnQoIXNvdXJjZSk7IC8vIHdvdWxkIG5lZWQgbGluZWFyL25vbi13cmFwIHNhbXBsZXIgc3RhdGUgc2V0XG4gIGlmICghc291cmNlKSB7XG4gICAgc291cmNlID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuICB9XG5cbiAgLy8gZG8gaG9yaXpvbnRhbCBibHVyIGZvciBwcmltYXJ5IGxpbmVzXG4gIGxldCByZXN4ID0gc291cmNlLndpZHRoO1xuICBsZXQgcmVzeSA9IHNvdXJjZS5oZWlnaHQ7XG4gIGxldCBzYW1wbGVSYWRpdXMgPSAocGFyYW1zLmhibHVyIHx8IDAuMjUpIC8gcmVzeDtcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1swXSA9IHNhbXBsZVJhZGl1cztcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1sxXSA9IDA7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMl0gPSAxO1xuICBhcHBseUVmZmVjdCh7XG4gICAgc2hhZGVyOiAnZ2F1c3NpYW5fYmx1cicsXG4gICAgcGFyYW1zOiBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIsXG4gICAgdGV4czogW3NvdXJjZV0sXG4gICAgZmluYWw6IGZhbHNlLFxuICB9LCByZXN4LCByZXN5KTtcbiAgbGV0IGhibHVyID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuXG4gIC8vIGRvIHNlcGVyYWJsZSBnYXVzc2lhbiBibHVyIGZvciBzY2FubGluZXMgKHVzaW5nIGhvcml6b250YWwgYmx1ciBmcm9tIGFib3ZlKVxuICBzYW1wbGVSYWRpdXMgPSAocGFyYW1zLnZibHVyIHx8IDAuNzUpIC8gcmVzeTtcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1swXSA9IDA7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMV0gPSBzYW1wbGVSYWRpdXM7XG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMl0gPSAxO1xuICBhcHBseUVmZmVjdCh7XG4gICAgc2hhZGVyOiAnZ2F1c3NpYW5fYmx1cicsXG4gICAgcGFyYW1zOiBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIsXG4gICAgdGV4czogW2hibHVyXSxcbiAgICBmaW5hbDogZmFsc2UsXG4gIH0sIHJlc3gsIHJlc3kpO1xuICBsZXQgdmJsdXIgPSBmcmFtZWJ1ZmZlckVuZCh7IGZpbHRlcl9saW5lYXI6IHRydWUgfSk7XG5cbiAgLy8gY29tYmluZSBhdCBmdWxsIHJlc1xuICB2NHNldChzaGFkZXJfcGFyYW1zX3BpeGVseV9leHBhbmQub3JpZ19waXhlbF9zaXplLFxuICAgIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwgMS9zb3VyY2Uud2lkdGgsIDEvc291cmNlLmhlaWdodCk7XG5cbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ3BpeGVseV9leHBhbmQnLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19waXhlbHlfZXhwYW5kLFxuICAgIHRleHM6IFtzb3VyY2UsIGhibHVyLCB2Ymx1cl0sXG5cbiAgICBjbGVhcjogcGFyYW1zLmNsZWFyLFxuICAgIGNsZWFyX2FsbDogcGFyYW1zLmNsZWFyX2FsbCxcbiAgICBjbGVhcl9jb2xvcjogcGFyYW1zLmNsZWFyX2NvbG9yLFxuICAgIHZpZXdwb3J0OiBwYXJhbXMudmlld3BvcnQsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlHYXVzc2lhbkJsdXIocGFyYW1zKSB7XG4gIGlmICghaW5pdGVkKSB7XG4gICAgc3RhcnR1cCgpO1xuICB9XG4gIGxldCBzb3VyY2UgPSBmcmFtZWJ1ZmZlckVuZCh7IGZpbHRlcl9saW5lYXI6IHRydWUgfSk7XG4gIGxldCBtYXhfc2l6ZSA9IHBhcmFtcy5tYXhfc2l6ZSB8fCA1MTI7XG4gIGxldCBtaW5fc2l6ZSA9IHBhcmFtcy5taW5fc2l6ZSB8fCAxMjg7XG5cbiAgLy8gUXVpY2sgc2hyaW5rIGRvd24gdG8gNTEyLT4yNTYtPjEyOCAob3Igb3RoZXIgc3BlY2lmaWVkIG1pbi9tYXggc2l6ZSlcbiAgbGV0IGlucHV0VGV4dHVyZTAgPSBzb3VyY2U7XG5cbiAgbGV0IHZpZXdwb3J0ID0gZW5naW5lLnZpZXdwb3J0O1xuICBsZXQgcmVzID0gbWF4X3NpemU7XG4gIHdoaWxlIChyZXMgPiB2aWV3cG9ydFsyXSB8fCByZXMgPiB2aWV3cG9ydFszXSkge1xuICAgIHJlcyAvPSAyO1xuICB9XG5cbiAgd2hpbGUgKHJlcyA+IG1pbl9zaXplKSB7XG4gICAgYXBwbHlFZmZlY3Qoe1xuICAgICAgc2hhZGVyOiBwYXJhbXMuc2hhZGVyX2NvcHkgfHwgJ2NvcHknLFxuICAgICAgcGFyYW1zOiBzaGFkZXJfcGFyYW1zX2RlZmF1bHQsXG4gICAgICB0ZXhzOiBbaW5wdXRUZXh0dXJlMF0sXG4gICAgICBmaW5hbDogZmFsc2UsXG4gICAgfSwgcmVzLCByZXMpO1xuICAgIGlucHV0VGV4dHVyZTAgPSBmcmFtZWJ1ZmZlckVuZCh7IGZpbHRlcl9saW5lYXI6IHRydWUgfSk7XG4gICAgcmVzIC89IDI7XG4gIH1cblxuICAvLyBEbyBzZXBlcmFibGUgYmx1clxuICBsZXQgc2FtcGxlUmFkaXVzID0gKHBhcmFtcy5ibHVyIHx8IDEpIC8gcmVzO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzBdID0gc2FtcGxlUmFkaXVzO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzFdID0gMDtcbiAgc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLnNhbXBsZVJhZGl1c1syXSA9IHBhcmFtcy5nbG93IHx8IDE7XG4gIGFwcGx5RWZmZWN0KHtcbiAgICBzaGFkZXI6ICdnYXVzc2lhbl9ibHVyJyxcbiAgICBwYXJhbXM6IHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1cixcbiAgICB0ZXhzOiBbaW5wdXRUZXh0dXJlMF0sXG4gICAgZmluYWw6IGZhbHNlLFxuICB9LCByZXMsIHJlcyk7XG4gIGxldCBibHVyID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuXG4gIHNoYWRlcl9wYXJhbXNfZ2F1c3NpYW5fYmx1ci5zYW1wbGVSYWRpdXNbMF0gPSAwO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzFdID0gc2FtcGxlUmFkaXVzO1xuICBzaGFkZXJfcGFyYW1zX2dhdXNzaWFuX2JsdXIuc2FtcGxlUmFkaXVzWzJdID0gcGFyYW1zLmdsb3cgfHwgMTtcbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ2dhdXNzaWFuX2JsdXInLFxuICAgIHBhcmFtczogc2hhZGVyX3BhcmFtc19nYXVzc2lhbl9ibHVyLFxuICAgIHRleHM6IFtibHVyXSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNvbG9yTWF0cml4KHBhcmFtcykge1xuICBpZiAoIWluaXRlZCkge1xuICAgIHN0YXJ0dXAoKTtcbiAgfVxuICBsZXQgc291cmNlID0gZnJhbWVidWZmZXJFbmQoeyBmaWx0ZXJfbGluZWFyOiB0cnVlIH0pO1xuXG4gIGxldCBtYXRyaXggPSBwYXJhbXMuY29sb3JNYXRyaXg7XG4gIGxldCBtb3V0ID0gc2hhZGVyX3BhcmFtc19jb2xvcl9tYXRyaXguY29sb3JNYXRyaXg7XG5cbiAgbW91dFswXSA9IG1hdHJpeFswXTtcbiAgbW91dFsxXSA9IG1hdHJpeFszXTtcbiAgbW91dFsyXSA9IG1hdHJpeFs2XTtcbiAgbW91dFszXSA9IG1hdHJpeFs5XTtcbiAgbW91dFs0XSA9IG1hdHJpeFsxXTtcbiAgbW91dFs1XSA9IG1hdHJpeFs0XTtcbiAgbW91dFs2XSA9IG1hdHJpeFs3XTtcbiAgbW91dFs3XSA9IG1hdHJpeFsxMF07XG4gIG1vdXRbOF0gPSBtYXRyaXhbMl07XG4gIG1vdXRbOV0gPSBtYXRyaXhbNV07XG4gIG1vdXRbMTBdID0gbWF0cml4WzhdO1xuICBtb3V0WzExXSA9IG1hdHJpeFsxMV07XG5cbiAgYXBwbHlFZmZlY3Qoe1xuICAgIHNoYWRlcjogJ2NvbG9yX21hdHJpeCcsXG4gICAgcGFyYW1zOiBzaGFkZXJfcGFyYW1zX2NvbG9yX21hdHJpeCxcbiAgICB0ZXhzOiBbc291cmNlXSxcbiAgfSk7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIC8vIFRPRE86IFVwZGF0ZSBmb3IgUlRCQkNUVCBhbmQgcG9ydCB0byBuZXcgR0xPVi5qc1xuLy8gZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RGlzdG9ydFRPRE8ocGFyYW1zKSB7XG4vLyAgIGxldCBzb3VyY2UgPSBwYXJhbXMuc291cmNlO1xuLy8gICBsZXQgZGVzdCA9IHBhcmFtcy5kZXN0aW5hdGlvbjtcbi8vICAgbGV0IGRpc3RvcnQgPSBwYXJhbXMuZGlzdG9ydGlvbjtcbi8vICAgaWYgKCFzb3VyY2UgfHwgIWRlc3QgfHwgIWRpc3RvcnQgfHwgIWRlc3QuY29sb3JUZXh0dXJlMCB8fFxuLy8gICAgIHNvdXJjZSA9PT0gZGVzdC5jb2xvclRleHR1cmUwIHx8IGRpc3RvcnQgPT09IGRlc3QuY29sb3JUZXh0dXJlMCkge1xuLy8gICAgIHJldHVybiBmYWxzZTtcbi8vICAgfVxuLy9cbi8vICAgLy8gaW5wdXQgdHJhbnNmb3JtLlxuLy8gICAvLyAgYSBiIHR4XG4vLyAgIC8vICBjIGQgdHlcbi8vICAgbGV0IGE7XG4vLyAgIGxldCBiO1xuLy8gICBsZXQgYztcbi8vICAgbGV0IGQ7XG4vLyAgIGxldCB0eDtcbi8vICAgbGV0IHR5O1xuLy9cbi8vICAgbGV0IHRyYW5zZm9ybSA9IHBhcmFtcy50cmFuc2Zvcm07XG4vLyAgIGlmICh0cmFuc2Zvcm0pIHtcbi8vICAgICAvLyB0cmFuc2Zvcm0gY29sLW1ham9yLlxuLy8gICAgIGEgPSB0cmFuc2Zvcm1bMF07XG4vLyAgICAgYiA9IHRyYW5zZm9ybVsyXTtcbi8vICAgICB0eCA9IHRyYW5zZm9ybVs0XTtcbi8vICAgICBjID0gdHJhbnNmb3JtWzFdO1xuLy8gICAgIGQgPSB0cmFuc2Zvcm1bM107XG4vLyAgICAgdHkgPSB0cmFuc2Zvcm1bNV07XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgYSA9IGQgPSAxO1xuLy8gICAgIGIgPSBjID0gMDtcbi8vICAgICB0eCA9IHR5ID0gMDtcbi8vICAgfVxuLy9cbi8vICAgbGV0IGVmZmVjdFBhcmFtcyA9IHRoaXMuZWZmZWN0UGFyYW1zO1xuLy8gICBsZXQgdGVjaHBhcmFtcyA9IHRoaXMuZGlzdG9ydFBhcmFtZXRlcnM7XG4vLyAgIGVmZmVjdFBhcmFtcy50ZWNobmlxdWUgPSB0aGlzLmRpc3RvcnRUZWNobmlxdWU7XG4vLyAgIGVmZmVjdFBhcmFtcy5wYXJhbXMgPSB0ZWNocGFyYW1zO1xuLy9cbi8vICAgLy8gVE9ETzogQ2FjaGUgJ3RyYW5zZm9ybScsICdpbnZUcmFuc2Zvcm0nLCBldGMgaW4gdGhlIGNvZGUgYmVsb3dcbi8vICAgdGVjaHBhcmFtcy50cmFuc2Zvcm1bMF0gPSBhO1xuLy8gICB0ZWNocGFyYW1zLnRyYW5zZm9ybVsxXSA9IGI7XG4vLyAgIHRlY2hwYXJhbXMudHJhbnNmb3JtWzJdID0gdHg7XG4vLyAgIHRlY2hwYXJhbXMudHJhbnNmb3JtWzNdID0gYztcbi8vICAgdGVjaHBhcmFtcy50cmFuc2Zvcm1bNF0gPSBkO1xuLy8gICB0ZWNocGFyYW1zLnRyYW5zZm9ybVs1XSA9IHR5O1xuLy9cbi8vICAgLy8gQ29tcHV0ZSBpbnZlcnNlIHRyYW5zZm9ybSB0byB1c2UgaW4gZGlzdG9ydCB0ZXh0dXJlIGRpc3BsYWNlbWVudC4uXG4vLyAgIGxldCBpZGV0ID0gMSAvIChhICogZCAtIGIgKiBjKTtcbi8vICAgbGV0IGlhID0gdGVjaHBhcmFtcy5pbnZUcmFuc2Zvcm1bMF0gPSAoaWRldCAqIGQpO1xuLy8gICBsZXQgaWIgPSB0ZWNocGFyYW1zLmludlRyYW5zZm9ybVsxXSA9IChpZGV0ICogLWIpO1xuLy8gICBsZXQgaWMgPSB0ZWNocGFyYW1zLmludlRyYW5zZm9ybVsyXSA9IChpZGV0ICogLWMpO1xuLy8gICBsZXQgaWQgPSB0ZWNocGFyYW1zLmludlRyYW5zZm9ybVszXSA9IChpZGV0ICogYSk7XG4vL1xuLy8gICAvLyBDb21wdXRlIG1heCBwaXhlbCBvZmZzZXQgYWZ0ZXIgdHJhbnNmb3JtIGZvciBub3JtYWxpc2F0aW9uLlxuLy8gICBsZXQgeDEgPSAoKGlhICsgaWIpICogKGlhICsgaWIpKSArICgoaWMgKyBpZCkgKiAoaWMgKyBpZCkpO1xuLy8gICBsZXQgeDIgPSAoKGlhIC0gaWIpICogKGlhIC0gaWIpKSArICgoaWMgLSBpZCkgKiAoaWMgLSBpZCkpO1xuLy8gICBsZXQgeDMgPSAoKC1pYSArIGliKSAqICgtaWEgKyBpYikpICsgKCgtaWMgKyBpZCkgKiAoLWljICsgaWQpKTtcbi8vICAgbGV0IHg0ID0gKCgtaWEgLSBpYikgKiAoLWlhIC0gaWIpKSArICgoLWljIC0gaWQpICogKC1pYyAtIGlkKSk7XG4vLyAgIGxldCB4bWF4ID0gMC41ICogTWF0aC5zcXJ0KE1hdGgubWF4KHgxLCB4MiwgeDMsIHg0KSk7XG4vL1xuLy8gICBsZXQgc3RyZW5ndGggPSAocGFyYW1zLnN0cmVuZ3RoIHx8IDEwKTtcbi8vICAgdGVjaHBhcmFtcy5zdHJlbmd0aFswXSA9IHN0cmVuZ3RoIC8gKHNvdXJjZS53aWR0aCAqIHhtYXgpO1xuLy8gICB0ZWNocGFyYW1zLnN0cmVuZ3RoWzFdID0gc3RyZW5ndGggLyAoc291cmNlLmhlaWdodCAqIHhtYXgpO1xuLy9cbi8vICAgdGVjaHBhcmFtcy5pbnB1dFRleHR1cmUwID0gc291cmNlO1xuLy8gICB0ZWNocGFyYW1zLmRpc3RvcnRUZXh0dXJlID0gZGlzdG9ydDsgLy8gbGluZWFyIC8gcmVwZWF0XG4vLyAgIGVmZmVjdFBhcmFtcy5kZXN0aW5hdGlvbiA9IGRlc3Q7XG4vLyAgIHRoaXMuYXBwbHlFZmZlY3QoZWZmZWN0UGFyYW1zKTtcbi8vXG4vLyAgIHJldHVybiB0cnVlO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBbHBoYSgpIHtcbiAgbGV0IG9sZF9kdCA9IGdsLmdldFBhcmFtZXRlcihnbC5ERVBUSF9URVNUKTtcbiAgaWYgKG9sZF9kdCkge1xuICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gIH1cbiAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICBhcHBseUNvcHkoeyBzb3VyY2U6IHRleHR1cmVzLnRleHR1cmVzLndoaXRlLCBub19mcmFtZWJ1ZmZlcjogdHJ1ZSB9KTtcbiAgZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICBpZiAob2xkX2R0KSB7XG4gICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbnJlcXVpcmUoJy4vYm9vdHN0cmFwLmpzJyk7IC8vIEp1c3QgaW4gY2FzZSBpdCdzIG5vdCBpbiBhcHAuanNcblxuZXhwb3J0IGxldCBERUJVRyA9IFN0cmluZyhkb2N1bWVudC5sb2NhdGlvbikubWF0Y2goL15odHRwcz86XFwvXFwvbG9jYWxob3N0Lyk7XG5cbnJlcXVpcmUoJ25vdF93b3JrZXInKTsgLy8gVGhpcyBtb2R1bGUgY2Fubm90IGJlIHJlcXVpcmVkIGZyb20gYSB3b3JrZXIgYnVuZGxlXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBpc19pb3Nfc2FmYXJpIH0gPSByZXF1aXJlKCcuL2Jyb3dzZXIuanMnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgY21kcyA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgZWZmZWN0cyA9IHJlcXVpcmUoJy4vZWZmZWN0cy5qcycpO1xuY29uc3QgeyBlZmZlY3RzUmVzZXQsIGVmZmVjdHNUb3BPZkZyYW1lLCBlZmZlY3RzSXNGaW5hbCwgZWZmZWN0c1Bhc3NBZGQsIGVmZmVjdHNQYXNzQ29uc3VtZSB9ID0gZWZmZWN0cztcbmNvbnN0IHsgZXJyb3JSZXBvcnREaXNhYmxlLCBlcnJvclJlcG9ydFNldFBhdGgsIGdsb3ZFcnJvclJlcG9ydCB9ID0gcmVxdWlyZSgnLi9lcnJvcl9yZXBvcnQuanMnKTtcbmNvbnN0IGdsb3ZfZm9udCA9IHJlcXVpcmUoJy4vZm9udC5qcycpO1xuY29uc3QgeyBmcmFtZWJ1ZmZlclN0YXJ0LCBmcmFtZWJ1ZmZlckVuZE9mRnJhbWUgfSA9IHJlcXVpcmUoJy4vZnJhbWVidWZmZXIuanMnKTtcbmNvbnN0IGdlb20gPSByZXF1aXJlKCcuL2dlb20uanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vbG9jYWxfc3RvcmFnZS5qcycpO1xuY29uc3QgbWF0M0Zyb21NYXQ0ID0gcmVxdWlyZSgnZ2wtbWF0My9mcm9tTWF0NCcpO1xuY29uc3QgbWF0NENvcHkgPSByZXF1aXJlKCdnbC1tYXQ0L2NvcHknKTtcbmNvbnN0IG1hdDRJbnZlcnQgPSByZXF1aXJlKCdnbC1tYXQ0L2ludmVydCcpO1xuY29uc3QgbWF0NE11bCA9IHJlcXVpcmUoJ2dsLW1hdDQvbXVsdGlwbHknKTtcbmNvbnN0IG1hdDRUcmFuc3Bvc2UgPSByZXF1aXJlKCdnbC1tYXQ0L3RyYW5zcG9zZScpO1xuY29uc3QgbWF0NFBlcnNwZWN0aXZlID0gcmVxdWlyZSgnZ2wtbWF0NC9wZXJzcGVjdGl2ZScpO1xuY29uc3QgeyBhc2luLCBjb3MsIGZsb29yLCBtaW4sIG1heCwgUEksIHJvdW5kLCBzaW4sIHNxcnQgfSA9IE1hdGg7XG5jb25zdCBtb2RlbHMgPSByZXF1aXJlKCcuL21vZGVscy5qcycpO1xuY29uc3QgcGVyZiA9IHJlcXVpcmUoJy4vcGVyZi5qcycpO1xuY29uc3Qgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCB7IHNvdW5kTG9hZGluZywgc291bmRTdGFydHVwLCBzb3VuZFRpY2sgfSA9IHJlcXVpcmUoJy4vc291bmQuanMnKTtcbmNvbnN0IHNwcml0ZXMgPSByZXF1aXJlKCcuL3Nwcml0ZXMuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyB0ZXh0dXJlc1RpY2sgfSA9IHRleHR1cmVzO1xuY29uc3QgZ2xvdl90cmFuc2l0aW9uID0gcmVxdWlyZSgnLi90cmFuc2l0aW9uLmpzJyk7XG5jb25zdCBnbG92X3VpID0gcmVxdWlyZSgnLi91aS5qcycpO1xuY29uc3QgdXJsaGFzaCA9IHJlcXVpcmUoJy4vdXJsaGFzaC5qcycpO1xuY29uc3QgeyBjbGFtcCwgZGVmYXVsdHMsIG5lYXJTYW1lLCByaWR4IH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyBtYXQzLCBtYXQ0LCB2ZWMzLCB2ZWM0LCB2M211bE1hdDQsIHYzaU5vcm1hbGl6ZSwgdjRjb3B5LCB2NHNhbWUsIHY0c2V0IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmV4cG9ydCBsZXQgY2FudmFzO1xuZXhwb3J0IGxldCB3ZWJnbDI7XG5leHBvcnQgbGV0IGdsb3ZfcGFydGljbGVzO1xuXG5leHBvcnQgbGV0IHdpZHRoO1xuZXhwb3J0IGxldCBoZWlnaHQ7XG5sZXQgd2lkdGhfM2Q7XG5sZXQgaGVpZ2h0XzNkO1xuZXhwb3J0IGxldCBwaXhlbF9hc3BlY3QgPSAxO1xuZXhwb3J0IGxldCBkb21fdG9fY2FudmFzX3JhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbmV4cG9ydCBsZXQgYW50aWFsaWFzO1xuZXhwb3J0IGxldCBhbnRpYWxpYXNfdW5hdmFpbGFibGU7XG5cbmV4cG9ydCBsZXQgZ2FtZV93aWR0aDtcbmV4cG9ydCBsZXQgZ2FtZV9oZWlnaHQ7XG5sZXQgZ2FtZV9hc3BlY3Q7XG5cbmV4cG9ydCBsZXQgcmVuZGVyX3dpZHRoO1xuZXhwb3J0IGxldCByZW5kZXJfaGVpZ2h0O1xuXG4vL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuZXhwb3J0IGxldCBkZWZpbmVzID0gdXJsaGFzaC5yZWdpc3Rlcih7IGtleTogJ0QnLCB0eXBlOiB1cmxoYXNoLlRZUEVfU0VULCBjaGFuZ2U6IGRlZmluZXNDaGFuZ2VkIH0pO1xuXG5leHBvcnQgbGV0IFpGQVI7XG5leHBvcnQgbGV0IFpORUFSO1xuZXhwb3J0IGxldCBmb3ZfeSA9IDE7XG5leHBvcnQgbGV0IGZvdl94ID0gMTtcblxuZXhwb3J0IGxldCBtYXRfcHJvamVjdGlvbiA9IG1hdDQoKTtcbmV4cG9ydCBsZXQgbWF0X3ZpZXcgPSBtYXQ0KCk7XG5sZXQgbWF0X20gPSBtYXQ0KCk7XG5leHBvcnQgbGV0IG1hdF92cCA9IG1hdDQoKTtcbmxldCBtYXRfbXYgPSBtYXQ0KCk7XG5sZXQgbWF0X212X25vX3NrZXcgPSBtYXQ0KCk7XG5sZXQgbWF0X212cCA9IG1hdDQoKTtcbmxldCBtYXRfbXZfaW52X3RyYW5zZm9ybSA9IG1hdDMoKTtcbmxldCBtYXRfaW52X3ZpZXcgPSBtYXQzKCk7XG5sZXQgcHJvamVjdGlvbl9pbnZlcnNlID0gdmVjNCgpO1xuXG5leHBvcnQgbGV0IGxpZ2h0X2RpZmZ1c2UgPSB2ZWMzKDAuNzUsIDAuNzUsIDAuNzUpO1xubGV0IGxpZ2h0X2Rpcl92cyA9IHZlYzMoMCwgMCwgMCk7XG5leHBvcnQgbGV0IGxpZ2h0X2FtYmllbnQgPSB2ZWMzKDAuMjUsIDAuMjUsIDAuMjUpO1xuZXhwb3J0IGxldCBsaWdodF9kaXJfd3MgPSB2ZWMzKC0xLCAtMiwgLTMpO1xuXG5leHBvcnQgbGV0IGZvbnQ7XG5leHBvcnQgbGV0IGFwcF9zdGF0ZSA9IG51bGw7XG5leHBvcnQgY29uc3QgYm9yZGVyX2NvbG9yID0gdmVjNCgwLCAwLCAwLCAxKTtcblxubGV0IG5vX3JlbmRlciA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVJlbmRlcihuZXdfdmFsdWUpIHtcbiAgbm9fcmVuZGVyID0gbmV3X3ZhbHVlO1xuICBpZiAobm9fcmVuZGVyKSB7XG4gICAgZ2xvdl91aS5jbGVhbnVwRE9NRWxlbXMoKTtcbiAgfVxufVxuXG5sZXQgbWF0X3RlbXAgPSBtYXQ0KCk7XG5leHBvcnQgZnVuY3Rpb24gc2V0R2xvYmFsTWF0cmljZXMoX21hdF92aWV3KSB7XG4gIG1hdDRDb3B5KG1hdF92aWV3LCBfbWF0X3ZpZXcpO1xuICBtYXQ0TXVsKG1hdF92cCwgbWF0X3Byb2plY3Rpb24sIG1hdF92aWV3KTtcbiAgdjNpTm9ybWFsaXplKGxpZ2h0X2Rpcl93cyk7XG4gIHYzbXVsTWF0NChsaWdodF9kaXJfdnMsIGxpZ2h0X2Rpcl93cywgbWF0X3ZpZXcpO1xuICBtYXQ0SW52ZXJ0KG1hdF90ZW1wLCBtYXRfdmlldyk7XG4gIG1hdDNGcm9tTWF0NChtYXRfaW52X3ZpZXcsIG1hdF90ZW1wKTtcbn1cblxuLy8gSnVzdCBzZXQgdXAgbWF0X3ZwIGFuZCBtYXRfcHJvamVjdGlvblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdFZQKF9tYXRfdmlldykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgc2V0dXBQcm9qZWN0aW9uKGZvdl95LCB3aWR0aCwgaGVpZ2h0LCBaTkVBUiwgWkZBUik7XG4gIG1hdDRDb3B5KG1hdF92aWV3LCBfbWF0X3ZpZXcpO1xuICBtYXQ0TXVsKG1hdF92cCwgbWF0X3Byb2plY3Rpb24sIG1hdF92aWV3KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEZPVihmb3ZfbWluKSB7XG4gIGxldCB3ID0gcmVuZGVyX3dpZHRoIHx8IHdpZHRoO1xuICBsZXQgaCA9IHJlbmRlcl9oZWlnaHQgfHwgaGVpZ2h0O1xuICBsZXQgYXNwZWN0ID0gdyAvIGg7XG4gIGlmIChhc3BlY3QgPiBnYW1lX2FzcGVjdCkge1xuICAgIGZvdl95ID0gZm92X21pbjtcbiAgICBsZXQgcmlzZSA9IHNpbihmb3ZfeSAvIDIpIC8gY29zKGZvdl95IC8gMikgKiBhc3BlY3Q7XG4gICAgZm92X3ggPSAyICogYXNpbihyaXNlIC8gc3FydChyaXNlICogcmlzZSArIDEpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDYWxjdWxhdGUgd2hhdCBmb3ZfeCB3b3VsZCBiZSBpZiB0aGUgc2NyZWVuIHdhcyBnYW1lX2FzcGVjdCwgdGhlbiBkZXJpdmUgZm92X3kgZnJvbSB0aGF0XG4gICAgbGV0IHJpc2UgPSBzaW4oZm92X21pbiAvIDIpIC8gY29zKGZvdl9taW4gLyAyKSAqIGdhbWVfYXNwZWN0O1xuICAgIGZvdl94ID0gMiAqIGFzaW4ocmlzZSAvIHNxcnQocmlzZSAqIHJpc2UgKyAxKSk7XG4gICAgLy8gT2xkIG1ldGhvZCwganVzdCBhcHBseSBmb3YgdG8geCAoaXQncyB0aGUgc2FtZSB0aGluZywgaWYgZ2FtZV9hc3BlY3QgaXMgMS4wKVxuICAgIC8vIGZvdl94ID0gZm92X21pbjtcbiAgICBsZXQgcmlzZTIgPSBzaW4oZm92X3ggLyAyKSAvIGNvcyhmb3ZfeCAvIDIpIC8gYXNwZWN0O1xuICAgIGZvdl95ID0gMiAqIGFzaW4ocmlzZTIgLyBzcXJ0KHJpc2UyICogcmlzZTIgKyAxKSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEdhbWVEaW1zKHcsIGgpIHtcbiAgZ2FtZV93aWR0aCA9IHc7XG4gIGdhbWVfaGVpZ2h0ID0gaDtcbiAgZ2FtZV9hc3BlY3QgPSBnYW1lX3dpZHRoIC8gZ2FtZV9oZWlnaHQ7XG59XG5cbi8vIERpZG4ndCBuZWVkIHRoaXMgZm9yIGEgd2hpbGUsIGJ1dCBnb3Qgc2xvdyBvbiBpT1MgcmVjZW50bHkgOihcbi8vIEJldHRlciB3aGVuIHVzaW5nIEZCT3MgZm9yIHBvc3Rwcm9jZXNzaW5nIG5vdywgdGhvdWdoIVxuY29uc3QgcG9zdHByb2Nlc3NpbmdfcmVzZXRfdmVyc2lvbiA9ICc1JztcbmV4cG9ydCBsZXQgcG9zdHByb2Nlc3NpbmcgPSBsb2NhbF9zdG9yYWdlLmdldCgnZ2xvdl9ub19wb3N0cHJvY2Vzc2luZycpICE9PSBwb3N0cHJvY2Vzc2luZ19yZXNldF92ZXJzaW9uO1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3Rwcm9jZXNzaW5nQWxsb3coYWxsb3cpIHtcbiAgbG9jYWxfc3RvcmFnZS5zZXQoJ2dsb3Zfbm9fcG9zdHByb2Nlc3NpbmcnLCBhbGxvdyA/IHVuZGVmaW5lZCA6IHBvc3Rwcm9jZXNzaW5nX3Jlc2V0X3ZlcnNpb24pO1xuICBwb3N0cHJvY2Vzc2luZyA9IGFsbG93O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2xDaGVja0Vycm9yKCkge1xuICBsZXQgZ2xfZXJyID0gZ2wuZ2V0RXJyb3IoKTtcbiAgaWYgKGdsX2Vycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZ2xfZXJyKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZ2xfZXJyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZUNhbnZhcygpIHtcbiAgdHJ5IHtcbiAgICBpZiAoZ2wpIHtcbiAgICAgIGxldCBleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuICAgICAgaWYgKGV4dCkge1xuICAgICAgICBleHQubG9zZUNvbnRleHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAvLyBub3RoaW5nLCBpdCdzIGZpbmVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsb2FkU2FmZSgpIHtcbiAgLy8gRG8gbm90IHJlcG9ydCBhbnkgZXJyb3JzIGFmdGVyIHRoaXMgcG9pbnRcbiAgZXJyb3JSZXBvcnREaXNhYmxlKCk7XG4gIC8vIFJlbGVhc2UgY2FudmFzIHRvIG5vdCBsZWFrIG1lbW9yeSBvbiBGaXJlZm94XG4gIHJlbGVhc2VDYW52YXMoKTtcbiAgaWYgKHdpbmRvdy5GQkluc3RhbnQpIHtcbiAgICB0cnkge1xuICAgICAgd2luZG93LnRvcC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBOb3QgZ29vZCwgYnV0IGJldHRlciB0aGFuIHRoZSBhbHRlcm5hdGl2ZXMsIEkgZ3Vlc3NcbiAgICAgIHdpbmRvdy5GQkluc3RhbnQucXVpdCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfVxufVxud2luZG93LnJlbG9hZFNhZmUgPSByZWxvYWRTYWZlO1xuXG5sZXQgcmVsb2FkaW5nX2RlZmluZXMgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVDYXVzZXNSZWxvYWQoZGVmaW5lKSB7XG4gIHJlbG9hZGluZ19kZWZpbmVzW2RlZmluZV0gPSBkZWZpbmVzW2RlZmluZV07XG59XG5kZWZpbmVDYXVzZXNSZWxvYWQoJ0ZPUkNFV0VCR0wyJyk7XG5kZWZpbmVDYXVzZXNSZWxvYWQoJ05PV0VCR0wyJyk7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lc0NoYW5nZWQoKSB7XG4gIGZvciAobGV0IGtleSBpbiByZWxvYWRpbmdfZGVmaW5lcykge1xuICAgIGlmIChkZWZpbmVzW2tleV0gIT09IHJlbG9hZGluZ19kZWZpbmVzW2tleV0pIHtcbiAgICAgIHVybGhhc2gub25VUkxDaGFuZ2UocmVsb2FkU2FmZSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc2hhZGVycy5oYW5kbGVEZWZpbmVzQ2hhbmdlZCgpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVSb3cobSwgaWR4KSB7XG4gIGxldCBsZW4gPSBtW2lkeF0qbVtpZHhdICsgbVtpZHgrMV0qbVtpZHgrMV0gKyBtW2lkeCsyXSptW2lkeCsyXTtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gc3FydChsZW4pO1xuICAgIG1baWR4XSAqPSBsZW47XG4gICAgbVtpZHgrMV0gKj0gbGVuO1xuICAgIG1baWR4KzJdICo9IGxlbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWF0cmljZXMobWF0X21vZGVsKSB7XG4gIC8vIFBFUkZUT0RPOiBkZXBlbmRpbmcgb24gcmVuZGVyaW5nIHBhdGgsIG9ubHkgc29tZSBvZiB0aGVzZSBhcmUgbmVlZGVkIChtICsgdnAgb3IganVzdCBtdnApXG4gIG1hdDRDb3B5KG1hdF9tLCBtYXRfbW9kZWwpO1xuXG4gIG1hdDRNdWwobWF0X212LCBtYXRfdmlldywgbWF0X21vZGVsKTtcbiAgbWF0NE11bChtYXRfbXZwLCBtYXRfcHJvamVjdGlvbiwgbWF0X212KTtcbiAgLy8gVE9ETzogQ2FuIGV4cGFuZCBhbmQgc2ltcGxpZnkgYWxsIG9mIHRoaXMsIGVzcGVjaWFsbHkgYmVsb3dcbiAgLy8gQ29tcHV0ZSB0aGUgaW52ZXJzZSB0cmFuc2Zvcm0gb2YgdGhlZSBtb2RlbF92aWV3IG1hdHJpeCwgZGlzY2FyZGluZyBzY2FsZSxcbiAgLy8gdG8gYmUgdXNlZCBmb3IgZ2V0dGluZyBub3JtYWxzIGludG8gdmlldyBzcGFjZVxuICBtYXQ0Q29weShtYXRfdGVtcCwgbWF0X21vZGVsKTtcbiAgbm9ybWFsaXplUm93KG1hdF90ZW1wLCAwKTtcbiAgbm9ybWFsaXplUm93KG1hdF90ZW1wLCA0KTtcbiAgbm9ybWFsaXplUm93KG1hdF90ZW1wLCA4KTtcbiAgbWF0NE11bChtYXRfbXZfbm9fc2tldywgbWF0X3ZpZXcsIG1hdF90ZW1wKTtcbiAgbWF0NEludmVydChtYXRfdGVtcCwgbWF0X212X25vX3NrZXcpO1xuICBtYXQ0VHJhbnNwb3NlKG1hdF90ZW1wLCBtYXRfdGVtcCk7XG4gIG1hdDNGcm9tTWF0NChtYXRfbXZfaW52X3RyYW5zZm9ybSwgbWF0X3RlbXApO1xufVxuZXhwb3J0IGxldCBmcmFtZV90aW1lc3RhbXAgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYW1lVGltZXN0YW1wKCkge1xuICByZXR1cm4gZnJhbWVfdGltZXN0YW1wO1xufVxuXG5leHBvcnQgbGV0IGZyYW1lX2luZGV4ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRGcmFtZUluZGV4KCkge1xuICByZXR1cm4gZnJhbWVfaW5kZXg7XG59XG5cbmV4cG9ydCBsZXQgZnJhbWVfZHQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYW1lRHQoKSB7XG4gIHJldHVybiBmcmFtZV9kdDtcbn1cblxuZXhwb3J0IGxldCBocnRpbWUgPSAwO1xuXG4vLyBXYWxsIHRpbWUsIG1heSBjb250YWluIGxhcmdlIGp1bXBzLCBtYXkgYmUgMCBvciBuZWdhdGl2ZVxubGV0IHRoaXNfZnJhbWVfdGltZV9hY3R1YWwgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyYW1lRHRBY3R1YWwoKSB7XG4gIHJldHVybiB0aGlzX2ZyYW1lX3RpbWVfYWN0dWFsO1xufVxuXG5sZXQgYWZ0ZXJfbG9hZGluZ19zdGF0ZSA9IG51bGw7XG5leHBvcnQgbGV0IGlzX2xvYWRpbmcgPSB0cnVlO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN0YXRlKG5ld19zdGF0ZSkge1xuICBpZiAoaXNfbG9hZGluZykge1xuICAgIGFmdGVyX2xvYWRpbmdfc3RhdGUgPSBuZXdfc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgYXBwX3N0YXRlID0gbmV3X3N0YXRlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZUFjdGl2ZSh0ZXN0X3N0YXRlKSB7XG4gIGlmIChpc19sb2FkaW5nKSB7XG4gICAgcmV0dXJuIGFmdGVyX2xvYWRpbmdfc3RhdGUgPT09IHRlc3Rfc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFwcF9zdGF0ZSA9PT0gdGVzdF9zdGF0ZTtcbiAgfVxufVxuXG5sZXQgbXNwZiA9IDEwMDA7XG5sZXQgbXNwZl91cGRhdGVfdGltZSA9IDA7XG5sZXQgbXNwZl9mcmFtZV9jb3VudCA9IDA7XG5sZXQgbGFzdF90aWNrX2NwdSA9IDA7XG5sZXQgbXNwZl90aWNrID0gMTAwMDtcbi8vIGxldCBuZXRfdGltZSA9IDEwMDA7XG5sZXQgbXNwZl90aWNrX2FjY3VtID0gMDtcbi8vIGxldCBuZXRfdGltZV9hY2N1bSA9IDA7XG5leHBvcnQgY29uc3QgUEVSRl9ISVNUT1JZX1NJWkUgPSAxMjg7XG5leHBvcnQgbGV0IHBlcmZfc3RhdGUgPSB3aW5kb3cuZ2xvdl9wZXJmX3N0YXRlID0ge1xuICBmcHNncmFwaDoge1xuICAgIGluZGV4OiAwLFxuICAgIGhpc3Rvcnk6IG5ldyBGbG9hdDMyQXJyYXkoUEVSRl9ISVNUT1JZX1NJWkUgKiAyKSxcbiAgfSxcbiAgZ3B1X21lbToge1xuICAgIHRleDogMCxcbiAgICBnZW9tOiAwLFxuICB9LFxufTtcbmxldCBmcHNncmFwaCA9IHBlcmZfc3RhdGUuZnBzZ3JhcGg7XG5cbnBlcmYuYWRkTWV0cmljKHtcbiAgbmFtZTogJ2ZwcycsXG4gIHNob3dfc3RhdDogJ3Nob3dfZnBzJywgLy8gYWx3YXlzLCBpZiB3ZSdyZSBzaG93aW5nIGFueSBtZXRyaWNzXG4gIHNob3dfZ3JhcGg6ICdmcHNfZ3JhcGgnLFxuICBsYWJlbHM6IHtcbiAgICAnZnBzOiAnOiAoKSA9PiAoMTAwMCAvIG1zcGYpLnRvRml4ZWQoMSksXG4gICAgJ21zL2Y6ICc6ICgpID0+IG1zcGYudG9GaXhlZCgwKSxcbiAgICAnY3B1OiAnOiAoKSA9PiBtc3BmX3RpY2sudG9GaXhlZCgwKSxcbiAgICAvLyAnbmV0OiAnOiAoKSA9PiBuZXRfdGltZS50b0ZpeGVkKDApLFxuICB9LFxuICBkYXRhOiBmcHNncmFwaCwgLy8gY29udGFpbiAuaW5kZXggYW5kIC5oaXN0b3J5IChzdHJpZGUgb2YgY29sb3JzLmxlbmd0aClcbiAgbGluZV9zY2FsZV90b3A6IDUwLFxuICBjb2xvcnM6IFtcbiAgICAvLyB2ZWM0KDAuMTYxLCAwLjY3OCwgMSwgMSksIC8vIG5ldCB0aW1lXG4gICAgdmVjNCgxLCAwLjkyNSwgMC4xNTMsIDEpLCAvLyBjcHUvdGljayB0aW1lXG4gICAgdmVjNCgwLCAwLjg5NCwgMC4yMTIsIDEpLCAvLyB0b3RhbCB0aW1lIChHUFUpXG4gIF0sXG59KTtcblxubGV0IGRvX2JvcmRlcnMgPSB0cnVlO1xubGV0IGRvX3ZpZXdwb3J0X3Bvc3Rwcm9jZXNzID0gZmFsc2U7XG5sZXQgbmVlZF9yZXBvcyA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemluZygpIHtcbiAgcmV0dXJuIG5lZWRfcmVwb3M7XG59XG5cbmxldCBhcHBfdGlja19mdW5jdGlvbnMgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBhZGRUaWNrRnVuYyhjYikge1xuICBhcHBfdGlja19mdW5jdGlvbnMucHVzaChjYik7XG59XG5cbmxldCBwb3N0X3RpY2sgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBwb3N0VGljayhvcHRzKSB7XG4gIG9wdHMudGlja3MgPSBvcHRzLnRpY2tzIHx8IDE7IC8vIHJ1biBpbiBob3cgbWFueSB0aWNrcz9cbiAgb3B0cy5pbmFjdGl2ZSA9IG9wdHMuaW5hY3RpdmUgfHwgZmFsc2U7IC8vIHJ1biBldmVuIGlmIGluYWN0aXZlP1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIG9wdHMuZm4sICdmdW5jdGlvbicpO1xuICBwb3N0X3RpY2sucHVzaChvcHRzKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRFZmZlY3RzKCkge1xuICBlZmZlY3RzUmVzZXQoKTtcbiAgZnJhbWVidWZmZXJFbmRPZkZyYW1lKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJXaWR0aCgpIHtcbiAgcmV0dXJuIHJlbmRlcl93aWR0aCB8fCB3aWR0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJIZWlnaHQoKSB7XG4gIHJldHVybiByZW5kZXJfaGVpZ2h0IHx8IGhlaWdodDtcbn1cblxuY29uc3QgU0FGQVJJX0ZVTExTQ1JFRU5fQVNQRUNUID0gKGZ1bmN0aW9uICgpIHtcbiAgbGV0IHNjcmVlbiA9IHdpbmRvdy5zY3JlZW47XG4gIGlmICghaXNfaW9zX3NhZmFyaSB8fCAhc2NyZWVuKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgU0FGQVJJX0RJTVMgPSB7IC8vIHd4aCA6IFtmdWxsc2NyZWVuIGFzcGVjdF1cbiAgICAvLyBpUGhvbmUgWFJcbiAgICAvLyBpUGhvbmUgMTEgUHJvIE1heFxuICAgIC8vIGlQaG9uZSBYUyBNYXhcbiAgICAvLyBpUGhvbmUgMTFcbiAgICAnODk2LDQxNCc6IDg5Ni80MTQsXG4gICAgLy8gaVBob25lIDExIFByb1xuICAgIC8vIGlQaG9uZSBYIChwcm9iYWJseSlcbiAgICAnODEyLDM3NSc6IDgxMi8zNzUsXG4gICAgLy8gaVBob25lIDggUGx1c1xuICAgICc3MzYsNDE0JzogNzM2LzQxNCxcbiAgICAvLyBpUGhvbmUgNnMrXG4gICAgLy8gaVBob25lIDYrXG4gICAgJzcxNiw0MTQnOiA3MzYvNDE0LCAvLyAoc2NyZWVuLmF2YWlsV2lkdGggcmVwb3J0cyAyMCBsZXNzKVxuICAgIC8vIGlQaG9uZSA4XG4gICAgLy8gaVBob25lIDcgKDEwLjEpXG4gICAgLy8gaVBob25lIDcgKDExLjQpXG4gICAgJzY2NywzNzUnOiA2NjcvMzc1LFxuICAgIC8vIGlQaG9uZSA2c1xuICAgIC8vIGlQaG9uZSA2XG4gICAgJzY0NywzNzUnOiA2NjcvMzc1LCAvLyAoc2NyZWVuLmF2YWlsV2lkdGggcmVwb3J0cyAyMCBsZXNzKVxuICAgIC8vIGlQaG9uZSA1c1xuICAgICc1NDgsMzIwJzogNTY4LzMyMCwgLy8gKHNjcmVlbi5hdmFpbFdpZHRoIHJlcG9ydHMgMjAgbGVzcylcbiAgfTtcbiAgbGV0IGtleSA9IGAke21heChzY3JlZW4uYXZhaWxXaWR0aCwgc2NyZWVuLmF2YWlsSGVpZ2h0KX0sJHttaW4oc2NyZWVuLmF2YWlsV2lkdGgsIHNjcmVlbi5hdmFpbEhlaWdodCl9YDtcbiAgcmV0dXJuIFNBRkFSSV9ESU1TW2tleV0gfHwgMDtcbn0oKSk7XG5mdW5jdGlvbiBzYWZhcmlUb3BTYWZlQXJlYSh2aWV3X3csIHZpZXdfaCkge1xuICAvLyBEZXRlY3QgaWYgdGhlIFVSTCBiYXIgaXMgaGlkZGVuLCBidXQgc2hvdWxkIGJlIGEgc2FmZSBhcmVhXG4gIGlmIChTQUZBUklfRlVMTFNDUkVFTl9BU1BFQ1QgJiYgbmVhclNhbWUodmlld193L3ZpZXdfaCwgU0FGQVJJX0ZVTExTQ1JFRU5fQVNQRUNULCAwLjAwMSkpIHtcbiAgICAvLyBOb3RlOiBpZiB1c2VyIGhhcyBzY2FsaW5nIGVuYWJsZWQsIHRoZSBwYWRkaW5nIHJlcXVpcmVkIG1pZ2h0IGJlIGRpZmZlcmVudFxuICAgIC8vICAgYnV0IHRoZSBzYW1lIGhvbGRzIHRydWUgZm9yIHRoZSBzYWZlIGFyZWEgcGFkZGluZyBkZXRlY3RlZCB2aWEgQ1NTIVxuICAgIHJldHVybiA1MCAqICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTsgLy8gc2VlbXMgdG8gYmUgNTBwdHMgb24gYWxsIGRldmljZXNcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuXG5sZXQgbGFzdF9jYW52YXNfd2lkdGg7XG5sZXQgbGFzdF9jYW52YXNfaGVpZ2h0O1xubGV0IGxhc3RfYm9keV9oZWlnaHQ7XG5sZXQgc2FmZWFyZWFfZWxlbTtcbmxldCBzYWZlYXJlYV9pZ25vcmVfYm90dG9tID0gZmFsc2U7XG5sZXQgc2FmZWFyZWFfdmFsdWVzID0gWzAsMCwwLDBdO1xubGV0IGxhc3Rfc2FmZWFyZWFfdmFsdWVzID0gWzAsMCwwLDBdO1xuZnVuY3Rpb24gY2hlY2tSZXNpemUoKSB7XG4gIC8vIHVzZSBWaXN1YWxWaWV3cG9ydCBvbiBhdCBsZWFzdCBpT1MgU2FmYXJpIC0gZGVhbCB3aXRoIHRhYnMgYW5kIGtleWJvYXJkXG4gIC8vICAgc2hyaW5raW5nIHRoZSB2aWV3cG9ydCB3aXRob3V0IGNoYW5naW5nIHRoZSB3aW5kb3cgaGVpZ2h0XG4gIGxldCB2diA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCB8fCB7fTtcbiAgZG9tX3RvX2NhbnZhc19yYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIGRvbV90b19jYW52YXNfcmF0aW8gKj0gc2V0dGluZ3MucmVuZGVyX3NjYWxlX2FsbDtcbiAgbGV0IHZpZXdfdyA9ICh2di53aWR0aCB8fCB3aW5kb3cuaW5uZXJXaWR0aCk7XG4gIGxldCB2aWV3X2ggPSAodnYuaGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIGlmICh2aWV3X2ggIT09IGxhc3RfYm9keV9oZWlnaHQpIHtcbiAgICAvLyBzZXQgdGhpcyAqYmVmb3JlKiBnZXR0aW5nIGNhbnZhcyBhbmQgc2FmZWFyZWFfZWxlbSBkaW1zIGJlbG93XG4gICAgbGFzdF9ib2R5X2hlaWdodCA9IHZpZXdfaDtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGAke3ZpZXdfaH1weGA7XG4gIH1cbiAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGxldCBuZXdfd2lkdGggPSByb3VuZChyZWN0LndpZHRoICogZG9tX3RvX2NhbnZhc19yYXRpbykgfHwgMTtcbiAgbGV0IG5ld19oZWlnaHQgPSByb3VuZChyZWN0LmhlaWdodCAqIGRvbV90b19jYW52YXNfcmF0aW8pIHx8IDE7XG5cbiAgaWYgKGNtZHMuc2FmZWFyZWFbMF0gPT09IC0xKSB7XG4gICAgaWYgKHNhZmVhcmVhX2VsZW0pIHtcbiAgICAgIGxldCBzYV93aWR0aCA9IHNhZmVhcmVhX2VsZW0ub2Zmc2V0V2lkdGg7XG4gICAgICBsZXQgc2FfaGVpZ2h0ID0gc2FmZWFyZWFfZWxlbS5vZmZzZXRIZWlnaHQ7XG4gICAgICBpZiAoc2Ffd2lkdGggJiYgc2FfaGVpZ2h0KSB7XG4gICAgICAgIHY0c2V0KHNhZmVhcmVhX3ZhbHVlcyxcbiAgICAgICAgICBzYWZlYXJlYV9lbGVtLm9mZnNldExlZnQgKiBkb21fdG9fY2FudmFzX3JhdGlvLFxuICAgICAgICAgIG5ld193aWR0aCAtIChzYV93aWR0aCArIHNhZmVhcmVhX2VsZW0ub2Zmc2V0TGVmdCkgKiBkb21fdG9fY2FudmFzX3JhdGlvLFxuICAgICAgICAgIG1heChzYWZlYXJlYV9lbGVtLm9mZnNldFRvcCAqIGRvbV90b19jYW52YXNfcmF0aW8sXG4gICAgICAgICAgICBzYWZhcmlUb3BTYWZlQXJlYSh2aWV3X3csIHZpZXdfaCkgKiBzZXR0aW5ncy5yZW5kZXJfc2NhbGVfYWxsKSxcbiAgICAgICAgICAvLyBOb3RlOiBQb3NzaWJseSBpZ25vcmluZyBib3R0b20gc2FmZSBhcmVhLCBpdCBzZWVtcyBub3QgdXNlZnVsIG9uIGlQaG9uZXMgKGRvZXMgbm90XG4gICAgICAgICAgLy8gIGFkanVzdCB3aGVuIGtleWJvYXJkIGlzIHVwLCBvbmx5IG9ic2N1cmVkIGluIHRoZSBtaWRkbGUsIGlmIG9iZXlpbmcgbGVmdC9yaWdodCBzYWZlIGFyZWEpXG4gICAgICAgICAgc2FmZWFyZWFfaWdub3JlX2JvdHRvbSA/IDAgOiBuZXdfaGVpZ2h0IC0gKHNhX2hlaWdodCArIHNhZmVhcmVhX2VsZW0ub2Zmc2V0VG9wKSAqIGRvbV90b19jYW52YXNfcmF0aW8pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2NHNldChzYWZlYXJlYV92YWx1ZXMsXG4gICAgICBuZXdfd2lkdGggKiBjbGFtcChjbWRzLnNhZmVhcmVhWzBdLCAwLCAyNSkvMTAwLFxuICAgICAgbmV3X3dpZHRoICogY2xhbXAoY21kcy5zYWZlYXJlYVsxXSwgMCwgMjUpLzEwMCxcbiAgICAgIG5ld19oZWlnaHQgKiBjbGFtcChjbWRzLnNhZmVhcmVhWzJdLCAwLCAyNSkvMTAwLFxuICAgICAgbmV3X2hlaWdodCAqIGNsYW1wKGNtZHMuc2FmZWFyZWFbM10sIDAsIDI1KS8xMDApO1xuICB9XG4gIGlmICghdjRzYW1lKHNhZmVhcmVhX3ZhbHVlcywgbGFzdF9zYWZlYXJlYV92YWx1ZXMpKSB7XG4gICAgdjRjb3B5KGxhc3Rfc2FmZWFyZWFfdmFsdWVzLCBzYWZlYXJlYV92YWx1ZXMpO1xuICAgIGNhbWVyYTJkLnNldFNhZmVBcmVhUGFkZGluZyhzYWZlYXJlYV92YWx1ZXNbMF0sIHNhZmVhcmVhX3ZhbHVlc1sxXSwgc2FmZWFyZWFfdmFsdWVzWzJdLCBzYWZlYXJlYV92YWx1ZXNbM10pO1xuICAgIG5lZWRfcmVwb3MgPSBtYXgobmVlZF9yZXBvcywgMSk7XG4gIH1cblxuICBpZiAobmV3X3dpZHRoICE9PSBsYXN0X2NhbnZhc193aWR0aCB8fCBuZXdfaGVpZ2h0ICE9PSBsYXN0X2NhbnZhc19oZWlnaHQpIHtcbiAgICB3aW5kb3cucGl4ZWxfc2NhbGUgPSBkb21fdG9fY2FudmFzX3JhdGlvOyAvLyBmb3IgZGVidWdcbiAgICBsYXN0X2NhbnZhc193aWR0aCA9IGNhbnZhcy53aWR0aCA9IG5ld193aWR0aCB8fCAxO1xuICAgIGxhc3RfY2FudmFzX2hlaWdodCA9IGNhbnZhcy5oZWlnaHQgPSBuZXdfaGVpZ2h0IHx8IDE7XG5cbiAgICB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIHNldEZPVihzZXR0aW5ncy5mb3YgKiBQSSAvIDE4MCk7XG5cbiAgICAvLyBGb3IgdGhlIG5leHQgMTAgZnJhbWVzLCBtYWtlIHN1cmUgZm9udCBzaXplIGlzIGNvcnJlY3RcbiAgICBuZWVkX3JlcG9zID0gMTA7XG4gIH1cbiAgaWYgKGlzX2lvc19zYWZhcmkgJiYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCB8fCBuZWVkX3JlcG9zKSkge1xuICAgIC8vIHdlIGhhdmUgYWNjdXJhdGUgdmlldyBpbmZvcm1hdGlvbiwgb3Igc2NyZWVuIHdhcyBqdXN0IHJvdGF0ZWQgLyByZXNpemVkXG4gICAgLy8gZm9yY2Ugc2Nyb2xsIHRvIHRvcFxuICAgIHdpbmRvdy5zY3JvbGwoMCwwKTtcbiAgfVxufVxuXG5leHBvcnQgbGV0IHZpZXdwb3J0ID0gdmVjNCgwLDAsMSwxKTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRWaWV3cG9ydCh4eXdoKSB7XG4gIHY0Y29weSh2aWV3cG9ydCwgeHl3aCk7XG4gIGdsLnZpZXdwb3J0KHh5d2hbMF0sIHh5d2hbMV0sIHh5d2hbMl0sIHh5d2hbM10pO1xufVxuXG5sZXQgZnJhbWVfcmVxdWVzdGVkID0gZmFsc2U7XG5mdW5jdGlvbiByZXF1ZXN0RnJhbWUoKSB7XG4gIGlmIChmcmFtZV9yZXF1ZXN0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZnJhbWVfcmVxdWVzdGVkID0gdHJ1ZTtcbiAgbGV0IG1heF9mcHMgPSBzZXR0aW5ncy5tYXhfZnBzO1xuICBpZiAoZGVmaW5lcy5TTE9XTE9BRCAmJiBpc19sb2FkaW5nKSB7XG4gICAgLy8gU2FmYXJpIG9uIENyb3NzQnJvd3NlclRlc3RpbmcgbmVlZHMgdGhpcyBpbiBvcmRlciB0byBoYXZlIHNvbWUgdGltZSB0byBsb2FkL2RlY29kZSBhdWRpbyBkYXRhXG4gICAgLy8gVE9ETzogSW5zdGVhZCwgZ2VuZXJhbGx5LCBpZiBsb2FkaW5nLCBjb21wYXJlIGxhc3RfdGlja19jcHUgdnMgZHQsIGFuZCBpZlxuICAgIC8vICAgd2UncmUgbm90IGlkbGUgZm9yIGF0IGxlYXN0IGhhbGYgb2YgdGhlIHRpbWUgYW5kIHdlIGhhdmUgKmludGVybmFsKlxuICAgIC8vICAgbG9hZHMgKHRleHR1cmVzLCBzb3VuZHMsIG1vZGVscywgTk9UIHVzZXIgY29kZSksIGRlbGF5IHNvIHRoYXQgd2UgYXJlLlxuICAgIG1heF9mcHMgPSAyO1xuICB9XG4gIGlmIChtYXhfZnBzKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc2V0VGltZW91dCh0aWNrLCByb3VuZCgxMDAwIC8gbWF4X2ZwcykpO1xuICB9IGVsc2Uge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgfVxufVxuXG5sZXQgbWF0X3Byb2plY3Rpb25fMTA7XG5leHBvcnQgbGV0IGhhZF8zZF90aGlzX2ZyYW1lO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBQcm9qZWN0aW9uKHVzZV9mb3ZfeSwgdXNlX3dpZHRoLCB1c2VfaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICBtYXQ0UGVyc3BlY3RpdmUobWF0X3Byb2plY3Rpb24sIHVzZV9mb3ZfeSwgdXNlX3dpZHRoL3VzZV9oZWlnaHQsIHpuZWFyLCB6ZmFyKTtcbiAgbWF0X3Byb2plY3Rpb25fMTAgPSBtYXRfcHJvamVjdGlvblsxMF07XG4gIHY0c2V0KHByb2plY3Rpb25faW52ZXJzZSxcbiAgICAyIC8gKHVzZV93aWR0aCAqIG1hdF9wcm9qZWN0aW9uWzBdKSwgLy8gcHJvamVjdGlvbl9tYXRyaXgubTAwKSxcbiAgICAyIC8gKHVzZV9oZWlnaHQgKiBtYXRfcHJvamVjdGlvbls1XSksIC8vIHByb2plY3Rpb25fbWF0cml4Lm0xMSksXG4gICAgLSgxICsgbWF0X3Byb2plY3Rpb25bOF0pIC8gbWF0X3Byb2plY3Rpb25bMF0sIC8vIHByb2plY3Rpb25fbWF0cml4Lm0yMCkgLyBwcm9qZWN0aW9uX21hdHJpeC5tMDAsXG4gICAgLSgxICsgbWF0X3Byb2plY3Rpb25bOV0pIC8gbWF0X3Byb2plY3Rpb25bNV0gLy8gcHJvamVjdGlvbl9tYXRyaXgubTIxKSAvIHByb2plY3Rpb25fbWF0cml4Lm0xMVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0WlJhbmdlKHpuZWFyLCB6ZmFyKSB7XG4gIFpORUFSID0gem5lYXI7XG4gIFpGQVIgPSB6ZmFyO1xuICBpZiAoaGFkXzNkX3RoaXNfZnJhbWUpIHtcbiAgICBzZXR1cFByb2plY3Rpb24oZm92X3ksIHdpZHRoLCBoZWlnaHQsIFpORUFSLCBaRkFSKTtcbiAgfVxufVxuXG5sZXQgcmVuZGVyX3NjYWxlXzNkX3RoaXNfZnJhbWU7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnQzRFJlbmRlcmluZygpIHtcbiAgaGFkXzNkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICBpZiAocmVuZGVyX3NjYWxlXzNkX3RoaXNfZnJhbWUgJiYgIWRlZmluZXMuTk9DT1BZKSB7XG4gICAgZWZmZWN0c1Bhc3NBZGQoKTtcbiAgfVxuICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICBnbC5kZXB0aE1hc2sodHJ1ZSk7XG4gIGZyYW1lYnVmZmVyU3RhcnQoe1xuICAgIHdpZHRoOiB3aWR0aF8zZCxcbiAgICBoZWlnaHQ6IGhlaWdodF8zZCxcbiAgICBmaW5hbDogZWZmZWN0c0lzRmluYWwoKSxcbiAgICBuZWVkX2RlcHRoOiB0cnVlLFxuICAgIGNsZWFyOiB0cnVlLFxuICAgIGNsZWFyX2FsbDogc2V0dGluZ3MucmVuZGVyX3NjYWxlX2NsZWFyLFxuICB9KTtcblxuICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgc2V0dXBQcm9qZWN0aW9uKGZvdl95LCByZW5kZXJfd2lkdGgsIHJlbmRlcl9oZWlnaHQsIFpORUFSLCBaRkFSKTtcbiAgfSBlbHNlIHtcbiAgICBzZXR1cFByb2plY3Rpb24oZm92X3ksIHdpZHRoLCBoZWlnaHQsIFpORUFSLCBaRkFSKTtcbiAgfVxuXG4gIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTY2FsZUZpbmlzaCgpIHtcbiAgaWYgKGRlZmluZXMuTk9DT1BZKSB7XG4gICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIHY0c2V0KHZpZXdwb3J0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBnbC52aWV3cG9ydCh2aWV3cG9ydFswXSwgdmlld3BvcnRbMV0sIHZpZXdwb3J0WzJdLCB2aWV3cG9ydFszXSk7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0c1Bhc3NDb25zdW1lKCk7XG4gICAgaWYgKHNldHRpbmdzLnJlbmRlcl9zY2FsZV9tb2RlID09PSAyKSB7XG4gICAgICBlZmZlY3RzLmFwcGx5UGl4ZWx5RXhwYW5kKHsgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCksIGNsZWFyOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0cy5hcHBseUNvcHkoeyBmaWx0ZXJfbGluZWFyOiBzZXR0aW5ncy5yZW5kZXJfc2NhbGVfbW9kZSA9PT0gMCB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U3ByaXRlUmVuZGVyaW5nKCkge1xuICBnbC5kaXNhYmxlKGdsLkNVTExfRkFDRSk7XG4gIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICBnbC5kZXB0aE1hc2soZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdGlvblpCaWFzKGRpc3QsIGF0X3opIHtcbiAgaWYgKCFkaXN0KSB7XG4gICAgbWF0X3Byb2plY3Rpb25bMTBdID0gbWF0X3Byb2plY3Rpb25fMTA7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vbGV0IGUgPSAyICogWkZBUiAqIFpORUFSIC8gKFpGQVIgLSBaTkVBUikgKiAoZGlzdCAvIChhdF96ICogKGF0X3ogKyBkaXN0KSkpO1xuICBsZXQgZSA9IDAuMiAqIChkaXN0IC8gKGF0X3ogKiAoYXRfeiArIGRpc3QpKSk7XG4gIGUgPSBtYXgoZSwgMmUtNyk7XG4gIG1hdF9wcm9qZWN0aW9uWzEwXSA9IG1hdF9wcm9qZWN0aW9uXzEwICsgZTtcbn1cblxuZnVuY3Rpb24gZml4TmF0aXZlcyhpc19zdGFydHVwKSB7XG4gIC8vIElmIGFueSBicm93c2VyIGV4dGVuc2lvbnMgaGF2ZSBhZGRlZCB0aGluZ3MgdG8gdGhlIEFycmF5IHByb3RvdHlwZSwgcmVtb3ZlIHRoZW0hXG4gIGxldCBiID0gW107XG4gIGZvciAobGV0IGEgaW4gYikge1xuICAgIGNvbnNvbGVbaXNfc3RhcnR1cCA/ICdsb2cnIDogJ2Vycm9yJ10oYEZvdW5kIGludmFzaXZlIGVudW1lcmFibGUgcHJvcGVydHkgXCIke2F9XCIgb24gQXJyYXkucHJvdG90eXBlLCByZW1vdmluZy4uLmApO1xuICAgIGxldCBvbGRfdmFsID0gYlthXTtcbiAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlW2FdO1xuICAgIC8vIElmIHRoaXMgZmFpbHMgdG8gd29yaywgcGVyaGFwcyB0cnkgdXNpbmcgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKEFycmF5LnByb3RvdHlwZSkgaW4gYW4gaW5saW5lIGhlYWRlciBzY3JpcHQ/XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dGVuZC1uYXRpdmVcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBhLCB7IHZhbHVlOiBvbGRfdmFsLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbiAgfVxuICBmb3IgKGxldCBhIGluIGIpIHtcbiAgICAvLyBGYWlsZWQ6IGNvZGUgdGhhdCBpdGVyYXRlcyBhcnJheXMgd2lsbCBmYWlsXG4gICAgYXNzZXJ0KGZhbHNlLCBgQXJyYXkucHJvdG90eXBlIGhhcyB1bnJlbW92YWJsZSBtZW1iZXIgJHthfWApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc2V0U3RhdGUoKSB7XG4gIC8vIE9ubHkgZ2VvbS5nZW9tUmVzZXRTdGF0ZSBhcHBlYXJzIHRvIGhhdmUgYmVlbiBzdHJpY3RseSBuZWVkZWQgdG8gd29yayBhcm91bmRcbiAgLy8gIGEgYnVnIG9uIENocm9tZSA3MSwgYnV0IGRvaW5nIHRoZSByZXN0IG9mIHRoaXMgdG8gYmUgc2FmZS5cbiAgdGV4dHVyZXMudGV4dHVyZXNSZXNldFN0YXRlKCk7XG4gIHNoYWRlcnMuc2hhZGVyc1Jlc2V0U3RhdGUoKTtcbiAgZ2VvbS5nZW9tUmVzZXRTdGF0ZSgpO1xuXG4gIC8vIFRoZXNlIHNob3VsZCBhbHJlYWR5IGJlIHRydWU6XG4gIC8vIGdsLmJsZW5kRnVuYyhnbC5PTkUsIGdsLk9ORSk7XG4gIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAvLyBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcbiAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgLy8gZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAvLyBnbC5kZXB0aE1hc2soZmFsc2UpO1xuICBnbC5kZXB0aE1hc2sodHJ1ZSk7XG4gIC8vIGdsLmRpc2FibGUoZ2wuQ1VMTF9GQUNFKTtcbiAgZ2wuZW5hYmxlKGdsLkNVTExfRkFDRSk7XG4gIC8vIGdsLmRlcHRoRnVuYyhnbC5HRVFVQUwpO1xuICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcbiAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgLy8gZ2wuY3VsbEZhY2UoZ2wuRlJPTlQpO1xuICBnbC5jdWxsRmFjZShnbC5CQUNLKTtcbiAgZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG59XG5cbmV4cG9ydCBjb25zdCBocm5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZSA/IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UpIDogRGF0ZS5ub3cuYmluZChEYXRlKTtcblxubGV0IGxhc3RfdGljayA9IDA7XG5mdW5jdGlvbiB0aWNrKHRpbWVzdGFtcCkge1xuICBmcmFtZV9yZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgLy8gaWYgKHRpbWVzdGFtcCA8IDFlMTIpIHsgLy8gaGlnaCByZXNvbHV0aW9uIHRpbWVyXG4gIC8vICAgdGhpcyBlbmRzIHVwIGJlaW5nIGEgdmFsdWUgd2F5IGJhY2sgaW4gdGltZSwgcmVsYXRpdmUgdG8gd2hhdCBocm5vdygpIHJldHVybnMsXG4gIC8vICAgYW5kIGV2ZW4gYmFjayBpbiB0aW1lIHJlbGF0aXZlIHRvIGlucHV0IGV2ZW50cyBhbHJlYWR5IGRpc3BhdGNoZWQsXG4gIC8vICAgY2F1c2luZyB0aW1pbmcgY29uZnVzaW9uLCBzbyBpZ25vcmUgaXQsIGp1c3QgY2FsbCBocm5vdygpXG4gIC8vICAgaHJ0aW1lID0gdGltZXN0YW1wO1xuICAvLyB9IGVsc2UgeyAvLyBwcm9iYWJseSBpbnRlZ2VyIG1pbGxpc2Vjb25kcyBzaW5jZSBlcG9jaCwgb3Igbm90aGluZ1xuICBocnRpbWUgPSBocm5vdygpO1xuICAvLyB9XG4gIGxldCBub3cgPSByb3VuZChocnRpbWUpOyAvLyBDb2RlIGFzc3VtZXMgaW50ZWdlciBtaWxsaXNlY29uZHNcbiAgaWYgKCFsYXN0X3RpY2spIHtcbiAgICBsYXN0X3RpY2sgPSBub3c7XG4gIH1cbiAgdGhpc19mcmFtZV90aW1lX2FjdHVhbCA9IG5vdyAtIGxhc3RfdGljaztcbiAgbGV0IGR0ID0gbWluKG1heCh0aGlzX2ZyYW1lX3RpbWVfYWN0dWFsLCAxKSwgMjUwKTtcbiAgZnJhbWVfZHQgPSBkdDtcbiAgbGFzdF90aWNrID0gbm93O1xuICBmcmFtZV90aW1lc3RhbXAgKz0gZHQ7XG4gICsrZnJhbWVfaW5kZXg7XG5cbiAgZml4TmF0aXZlcyhmYWxzZSk7XG5cbiAgLy8gbGV0IHRoaXNfbmV0X3RpbWUgPSB3c2NsaWVudC5nZXROZXRUaW1lKCk7XG4gIC8vIGZwc2dyYXBoLmhpc3RvcnlbKGZwc2dyYXBoLmluZGV4ICUgUEVSRl9ISVNUT1JZX1NJWkUpICogMyArIDBdID0gdGhpc19uZXRfdGltZTtcbiAgZnBzZ3JhcGguaGlzdG9yeVsoZnBzZ3JhcGguaW5kZXggJSBQRVJGX0hJU1RPUllfU0laRSkgKiAyICsgMV0gPSB0aGlzX2ZyYW1lX3RpbWVfYWN0dWFsO1xuICBmcHNncmFwaC5pbmRleCsrO1xuICBmcHNncmFwaC5oaXN0b3J5WyhmcHNncmFwaC5pbmRleCAlIFBFUkZfSElTVE9SWV9TSVpFKSAqIDIgKyAwXSA9IDA7XG5cbiAgKyttc3BmX2ZyYW1lX2NvdW50O1xuICBtc3BmX3RpY2tfYWNjdW0gKz0gbGFzdF90aWNrX2NwdTtcbiAgLy8gbmV0X3RpbWVfYWNjdW0gKz0gdGhpc19uZXRfdGltZTtcbiAgaWYgKG5vdyAtIG1zcGZfdXBkYXRlX3RpbWUgPiBzZXR0aW5ncy5mcHNfd2luZG93ICogMTAwMCkge1xuICAgIGlmICghbXNwZl91cGRhdGVfdGltZSkge1xuICAgICAgbXNwZl91cGRhdGVfdGltZSA9IG5vdztcbiAgICB9IGVsc2Uge1xuICAgICAgbXNwZiA9IChub3cgLSBtc3BmX3VwZGF0ZV90aW1lKSAvIG1zcGZfZnJhbWVfY291bnQ7XG4gICAgICBtc3BmX3RpY2sgPSBtc3BmX3RpY2tfYWNjdW0gLyBtc3BmX2ZyYW1lX2NvdW50O1xuICAgICAgbXNwZl90aWNrX2FjY3VtID0gMDtcbiAgICAgIC8vIG5ldF90aW1lID0gbmV0X3RpbWVfYWNjdW0gLyBtc3BmX2ZyYW1lX2NvdW50O1xuICAgICAgLy8gbmV0X3RpbWVfYWNjdW0gPSAwO1xuICAgICAgbXNwZl9mcmFtZV9jb3VudCA9IDA7XG4gICAgICBtc3BmX3VwZGF0ZV90aW1lID0gbm93O1xuICAgIH1cbiAgfVxuXG4gIGVmZmVjdHNUb3BPZkZyYW1lKCk7XG5cbiAgaWYgKGRvY3VtZW50LmhpZGRlbiB8fCBkb2N1bWVudC53ZWJraXRIaWRkZW4gfHwgbm9fcmVuZGVyKSB7XG4gICAgcmVzZXRFZmZlY3RzKCk7XG4gICAgaW5wdXQudGlja0lucHV0SW5hY3RpdmUoKTtcbiAgICBsYXN0X3RpY2tfY3B1ID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IHBvc3RfdGljay5sZW5ndGggLSAxOyBpaSA+PSAwOyAtLWlpKSB7XG4gICAgICBpZiAocG9zdF90aWNrW2lpXS5pbmFjdGl2ZSAmJiAhLS1wb3N0X3RpY2tbaWldLnRpY2tzKSB7XG4gICAgICAgIHBvc3RfdGlja1tpaV0uZm4oKTtcbiAgICAgICAgcmlkeChwb3N0X3RpY2ssIGlpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVxdWVzdEZyYW1lKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2hlY2tSZXNpemUoKTtcbiAgaGFkXzNkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgcmVuZGVyX3NjYWxlXzNkX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgaWYgKHJlbmRlcl93aWR0aCkge1xuICAgIC8vIHJlbmRlcl9zY2FsZSBub3Qgc3VwcG9ydGVkIHdpdGggcmVuZGVyX3dpZHRoLCBkb2Vzbid0IG1ha2UgbXVjaCBzZW5zZSwganVzdCB1c2UgcmVuZGVyX3dpZHRoXG4gICAgd2lkdGhfM2QgPSByZW5kZXJfd2lkdGg7XG4gICAgaGVpZ2h0XzNkID0gcmVuZGVyX2hlaWdodDtcbiAgICBlZmZlY3RzUGFzc0FkZCgpO1xuICB9IGVsc2Uge1xuICAgIHdpZHRoXzNkID0gcm91bmQod2lkdGggKiBzZXR0aW5ncy5yZW5kZXJfc2NhbGUpO1xuICAgIGhlaWdodF8zZCA9IHJvdW5kKGhlaWdodCAqIHNldHRpbmdzLnJlbmRlcl9zY2FsZSk7XG4gICAgaWYgKHdpZHRoXzNkICE9PSB3aWR0aCkge1xuICAgICAgcmVuZGVyX3NjYWxlXzNkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0U3RhdGUoKTtcblxuICB0ZXh0dXJlcy5iaW5kKDAsIHRleHR1cmVzLnRleHR1cmVzLmVycm9yKTtcblxuICBjYW1lcmEyZC50aWNrQ2FtZXJhMkQoKTtcbiAgZ2xvdl90cmFuc2l0aW9uLnJlbmRlcihkdCk7XG4gIGNhbWVyYTJkLnNldEFzcGVjdEZpeGVkKGdhbWVfd2lkdGgsIGdhbWVfaGVpZ2h0KTtcblxuICBzb3VuZFRpY2soZHQpO1xuICBpbnB1dC50aWNrSW5wdXQoKTtcbiAgZ2xvdl91aS50aWNrVUkoZHQpO1xuXG4gIGlmIChuZWVkX3JlcG9zKSB7XG4gICAgLS1uZWVkX3JlcG9zO1xuICAgIGxldCB1bCA9IFtdO1xuICAgIGNhbWVyYTJkLnZpcnR1YWxUb0RvbSh1bCwgWzAsMF0pO1xuICAgIGxldCBsciA9IFtdO1xuICAgIGNhbWVyYTJkLnZpcnR1YWxUb0RvbShsciwgW2dhbWVfd2lkdGgtMSxnYW1lX2hlaWdodC0xXSk7XG4gICAgbGV0IHZpZXdwb3J0MiA9IFt1bFswXSwgdWxbMV0sIGxyWzBdLCBsclsxXV07XG4gICAgbGV0IHZpZXdfaGVpZ2h0ID0gdmlld3BvcnQyWzNdIC0gdmlld3BvcnQyWzFdO1xuICAgIC8vIGRlZmF1bHQgZm9udCBzaXplIG9mIDE2IHdoZW4gYXQgaGVpZ2h0IG9mIGdhbWVfaGVpZ2h0XG4gICAgbGV0IGZvbnRfc2l6ZSA9IG1pbigyNTYsIG1heCgyLCBmbG9vcih2aWV3X2hlaWdodC84MDAgKiAxNikpKTtcbiAgICBsZXQgZWxlbV9mdWxsc2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bGxzY3JlZW4nKTtcbiAgICBpZiAoZWxlbV9mdWxsc2NyZWVuKSB7XG4gICAgICBlbGVtX2Z1bGxzY3JlZW4uc3R5bGVbJ2ZvbnQtc2l6ZSddID0gYCR7Zm9udF9zaXplfXB4YDtcbiAgICB9XG4gIH1cblxuICBpZiAoZG9fYm9yZGVycykge1xuICAgIC8vIEJvcmRlcnNcbiAgICBnbG92X3VpLmRyYXdSZWN0KGNhbWVyYTJkLngwUmVhbCgpLCBjYW1lcmEyZC55MFJlYWwoKSwgY2FtZXJhMmQueDFSZWFsKCksIDAsIFouQk9SREVSUywgYm9yZGVyX2NvbG9yKTtcbiAgICBnbG92X3VpLmRyYXdSZWN0KGNhbWVyYTJkLngwUmVhbCgpLCBnYW1lX2hlaWdodCwgY2FtZXJhMmQueDFSZWFsKCksIGNhbWVyYTJkLnkxUmVhbCgpLCBaLkJPUkRFUlMsIGJvcmRlcl9jb2xvcik7XG4gICAgZ2xvdl91aS5kcmF3UmVjdChjYW1lcmEyZC54MFJlYWwoKSwgMCwgMCwgZ2FtZV9oZWlnaHQsIFouQk9SREVSUywgYm9yZGVyX2NvbG9yKTtcbiAgICBnbG92X3VpLmRyYXdSZWN0KGdhbWVfd2lkdGgsIDAsIGNhbWVyYTJkLngxUmVhbCgpLCBnYW1lX2hlaWdodCwgWi5CT1JERVJTLCBib3JkZXJfY29sb3IpO1xuICB9XG5cbiAgaWYgKHNldHRpbmdzLnNob3dfbWV0cmljcykge1xuICAgIHBlcmYuZHJhdygpO1xuICB9XG5cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFwcF90aWNrX2Z1bmN0aW9ucy5sZW5ndGg7ICsraWkpIHtcbiAgICBhcHBfdGlja19mdW5jdGlvbnNbaWldKGR0KTtcbiAgfVxuICBpZiAoYXBwX3N0YXRlKSB7XG4gICAgYXBwX3N0YXRlKGR0KTtcbiAgfVxuXG4gIGdsb3ZfcGFydGljbGVzLnRpY2soZHQpOyAvLyAqYWZ0ZXIqIGFwcF90aWNrLCBzbyBuZXdseSBhZGRlZC9raWxsZWQgcGFydGljbGVzIGNhbiBiZSBxdWV1ZWQgaW50byB0aGUgZHJhdyBsaXN0XG5cbiAgaWYgKGhhZF8zZF90aGlzX2ZyYW1lKSB7XG4gICAgaWYgKHJlbmRlcl9zY2FsZV8zZF90aGlzX2ZyYW1lKSB7XG4gICAgICByZW5kZXJTY2FsZUZpbmlzaCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkZWxheWVkIGNsZWFyIChhbmQgZ2VuZXJhbCBHTCBpbml0KSB1bnRpbCBhZnRlciBhcHBfc3RhdGUsIGFwcCBtaWdodCBjaGFuZ2UgY2xlYXIgY29sb3JcbiAgICBpZiAocmVuZGVyX3dpZHRoKSB7XG4gICAgICAvLyBhc3NlcnQoIWVmZmVjdHNJc0ZpbmFsKCkpO1xuICAgICAgZnJhbWVidWZmZXJTdGFydCh7XG4gICAgICAgIHdpZHRoOiByZW5kZXJfd2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVuZGVyX2hlaWdodCxcbiAgICAgICAgY2xlYXI6IHRydWUsXG4gICAgICAgIGNsZWFyX2FsbDogc2V0dGluZ3MucmVuZGVyX3NjYWxlX2NsZWFyLCAvLyBOb3Qgc3VyZSBpZiB0aGlzIGlzIGV2ZXIgZmFzdGVyIGluIHRoaXMgY2FzZT9cbiAgICAgICAgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCksXG4gICAgICAgIG5lZWRfZGVwdGg6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lYnVmZmVyU3RhcnQoe1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBjbGVhcjogdHJ1ZSxcbiAgICAgICAgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCksXG4gICAgICAgIG5lZWRfZGVwdGg6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRTcHJpdGVSZW5kZXJpbmcoKTtcbiAgc3ByaXRlcy5kcmF3KCk7XG5cbiAgZ2xvdl91aS5lbmRGcmFtZSgpO1xuXG4gIGlmIChyZW5kZXJfd2lkdGgpIHtcbiAgICBlZmZlY3RzUGFzc0NvbnN1bWUoKTtcbiAgICBsZXQgY2xlYXJfY29sb3IgPSBbMCwgMCwgMCwgMV07XG4gICAgbGV0IGZpbmFsX3ZpZXdwb3J0ID0gW1xuICAgICAgY2FtZXJhMmQucmVuZGVyX29mZnNldF94LCBjYW1lcmEyZC5yZW5kZXJfb2Zmc2V0X3lfYm90dG9tLFxuICAgICAgY2FtZXJhMmQucmVuZGVyX3ZpZXdwb3J0X3csIGNhbWVyYTJkLnJlbmRlcl92aWV3cG9ydF9oXG4gICAgXTtcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgY2xlYXI6IHRydWUsXG4gICAgICBjbGVhcl9hbGw6IHRydWUsXG4gICAgICBjbGVhcl9jb2xvcjogY2xlYXJfY29sb3IsXG4gICAgICB2aWV3cG9ydDogZmluYWxfdmlld3BvcnQsXG4gICAgfTtcbiAgICBpZiAoZG9fdmlld3BvcnRfcG9zdHByb2Nlc3MpIHtcbiAgICAgIGVmZmVjdHMuYXBwbHlQaXhlbHlFeHBhbmQocGFyYW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0cy5hcHBseUNvcHkocGFyYW1zKTtcbiAgICB9XG4gIH1cblxuICBpbnB1dC5lbmRGcmFtZSgpO1xuICByZXNldEVmZmVjdHMoKTtcbiAgdGV4dHVyZXNUaWNrKCk7XG5cbiAgZm9yIChsZXQgaWkgPSBwb3N0X3RpY2subGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgIGlmICghLS1wb3N0X3RpY2tbaWldLnRpY2tzKSB7XG4gICAgICBwb3N0X3RpY2tbaWldLmZuKCk7XG4gICAgICByaWR4KHBvc3RfdGljaywgaWkpO1xuICAgIH1cbiAgfVxuXG4gIGxhc3RfdGlja19jcHUgPSBocm5vdygpIC0gbm93O1xuICBmcHNncmFwaC5oaXN0b3J5WyhmcHNncmFwaC5pbmRleCAlIFBFUkZfSElTVE9SWV9TSVpFKSAqIDIgKyAwXSA9IGxhc3RfdGlja19jcHU7XG4gIHJlcXVlc3RGcmFtZSgpO1xufVxuXG5mdW5jdGlvbiBwZXJpb2RpY2x5UmVxdWVzdEZyYW1lKCkge1xuICByZXF1ZXN0RnJhbWUoKTtcbiAgc2V0VGltZW91dChwZXJpb2RpY2x5UmVxdWVzdEZyYW1lLCA1MDAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAocGFyYW1zKSB7XG4gIGZpeE5hdGl2ZXModHJ1ZSk7XG5cbiAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICBzYWZlYXJlYV9lbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhZmVhcmVhJyk7XG5cbiAgaWYgKHBhcmFtcy5lcnJvcl9yZXBvcnQgIT09IGZhbHNlKSB7XG4gICAgZXJyb3JSZXBvcnRTZXRQYXRoKHVybGhhc2guZ2V0QVBJUGF0aCgpKTtcbiAgICB3aW5kb3cuZ2xvdl9lcnJvcl9yZXBvcnQgPSAobXNnLCBmaWxlLCBsaW5lLCBjb2wpID0+IHtcbiAgICAgIHNldFRpbWVvdXQocmVxdWVzdEZyYW1lLCAxKTtcbiAgICAgIHJldHVybiBnbG92RXJyb3JSZXBvcnQodHJ1ZSwgbXNnLCBmaWxlLCBsaW5lLCBjb2wpO1xuICAgIH07XG4gIH1cblxuICBzYWZlYXJlYV9pZ25vcmVfYm90dG9tID0gcGFyYW1zLnNhZmVhcmVhX2lnbm9yZV9ib3R0b20gfHwgZmFsc2U7XG5cbiAgLy8gcmVzaXplIHRoZSBjYW52YXMgdG8gZmlsbCBicm93c2VyIHdpbmRvdyBkeW5hbWljYWxseVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2hlY2tSZXNpemUsIGZhbHNlKTtcbiAgY2hlY2tSZXNpemUoKTtcblxuICBsZXQgaXNfcGl4ZWx5ID0gcGFyYW1zLnBpeGVseSAmJiBwYXJhbXMucGl4ZWx5ICE9PSAnb2ZmJztcbiAgYW50aWFsaWFzID0gcGFyYW1zLmFudGlhbGlhcyB8fCAhaXNfcGl4ZWx5ICYmIHBhcmFtcy5hbnRpYWxpYXMgIT09IGZhbHNlO1xuICBsZXQgcG93ZXJQcmVmZXJlbmNlID0gcGFyYW1zLmhpZ2ggPyAnaGlnaC1wZXJmb3JtYW5jZScgOiAnZGVmYXVsdCc7XG4gIGxldCBjb250ZXh0X25hbWVzID0gWyd3ZWJnbDInLCAnd2ViZ2wnLCAnZXhwZXJpbWVudGFsLXdlYmdsJ107XG4gIGxldCBmb3JjZV93ZWJnbDEgPSBkZWZpbmVzLk5PV0VCR0wyO1xuICBsZXQgZGlzYWJsZV9kYXRhID0gbG9jYWxfc3RvcmFnZS5nZXRKU09OKCd3ZWJnbDJfZGlzYWJsZScpO1xuICAvLyBDaGVjayBpZiBhIHByZXZpb3VzLCByZWNlbnQgcnVuIGhhZCBhbiBlcnJvciB0aGF0IGhpbnRlZCB3ZSBzaG91bGQgZGlzYWJsZSBXZWJHTDJcbiAgaWYgKGRpc2FibGVfZGF0YSAmJiBkaXNhYmxlX2RhdGEudWEgPT09IG5hdmlnYXRvci51c2VyQWdlbnQgJiYgZGlzYWJsZV9kYXRhLnRzID4gRGF0ZS5ub3coKSAtIDcqMjQqNjAqNjAqMTAwMCkge1xuICAgIGNvbnNvbGUubG9nKCdEaXNhYmxpbmcgV2ViR0wyIGJlY2F1c2UgYSBwcmV2aW91cyBydW4gZW5jb3VudGVyZWQgYSByZWxhdGVkIGVycm9yJyk7XG4gICAgZm9yY2Vfd2ViZ2wxID0gdHJ1ZTtcbiAgfVxuICBpZiAoREVCVUcgJiYgIWRlZmluZXMuRk9SQ0VXRUJHTDIpIHtcbiAgICBsZXQgcmMgPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ3J1bl9jb3VudCcsIDApICsgMTtcbiAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3J1bl9jb3VudCcsIHJjKTtcbiAgICBpZiAocmMgJSAyKSB7XG4gICAgICBmb3JjZV93ZWJnbDEgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoZm9yY2Vfd2ViZ2wxKSB7XG4gICAgY29udGV4dF9uYW1lcy5zcGxpY2UoMCwgMSk7XG4gIH1cbiAgbGV0IGNvbnRleHRfb3B0cyA9IFtcbiAgICB7IGFudGlhbGlhcywgcG93ZXJQcmVmZXJlbmNlLCBhbHBoYTogZmFsc2UgfSxcbiAgICB7IHBvd2VyUHJlZmVyZW5jZSwgYWxwaGE6IGZhbHNlIH0sXG4gICAgeyBhbnRpYWxpYXMsIGFscGhhOiBmYWxzZSB9LFxuICAgIHsgYWxwaGE6IGZhbHNlIH0sXG4gICAge30sXG4gIF07XG4gIGxldCBnb29kID0gZmFsc2U7XG4gIHdlYmdsMiA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMDsgIWdvb2QgJiYgaSA8IGNvbnRleHRfbmFtZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBmb3IgKGxldCBqaiA9IDA7ICFnb29kICYmIGpqIDwgY29udGV4dF9vcHRzLmxlbmd0aDsgKytqaikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmdsID0gY2FudmFzLmdldENvbnRleHQoY29udGV4dF9uYW1lc1tpXSwgY29udGV4dF9vcHRzW2pqXSk7XG4gICAgICAgIGlmICh3aW5kb3cuZ2wpIHtcbiAgICAgICAgICBpZiAoY29udGV4dF9uYW1lc1tpXSA9PT0gJ3dlYmdsMicpIHtcbiAgICAgICAgICAgIHdlYmdsMiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhbnRpYWxpYXMgJiYgIWNvbnRleHRfb3B0c1tqal0uYW50aWFsaWFzKSB7XG4gICAgICAgICAgICBhbnRpYWxpYXNfdW5hdmFpbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgYW50aWFsaWFzID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdvb2QgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIWdvb2QpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcbiAgICB3aW5kb3cuYWxlcnQoJ1NvcnJ5LCBidXQgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wgb3IgZG9lcyBub3QgaGF2ZSBpdCBlbmFibGVkLicpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3dlYmdsJykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc29sZS5sb2coYFVzaW5nIFdlYkdMJHt3ZWJnbDI/MjoxfWApO1xuXG4gIGFzc2VydChnbCk7XG4gIGNhbnZhcy5mb2N1cygpO1xuICBzZXRHYW1lRGltcyhwYXJhbXMuZ2FtZV93aWR0aCB8fCAxMjgwLCBwYXJhbXMuZ2FtZV9oZWlnaHQgfHwgOTYwKTtcbiAgWk5FQVIgPSBwYXJhbXMuem5lYXIgfHwgMC43O1xuICBaRkFSID0gcGFyYW1zLnpmYXIgfHwgMTAwMDA7XG4gIGlmIChwYXJhbXMucGl4ZWx5ID09PSAnc3RyaWN0Jykge1xuICAgIHJlbmRlcl93aWR0aCA9IGdhbWVfd2lkdGg7XG4gICAgcmVuZGVyX2hlaWdodCA9IGdhbWVfaGVpZ2h0O1xuICAgIGlmIChwYXJhbXMudmlld3BvcnRfcG9zdHByb2Nlc3MpIHtcbiAgICAgIGRvX3ZpZXdwb3J0X3Bvc3Rwcm9jZXNzID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyX3dpZHRoID0gdW5kZWZpbmVkO1xuICAgIHJlbmRlcl9oZWlnaHQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgcGl4ZWxfYXNwZWN0ID0gcGFyYW1zLnBpeGVsX2FzcGVjdCB8fCAxO1xuICBzZXRGT1Yoc2V0dGluZ3MuZm92ICogUEkgLyAxODApO1xuXG4gIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xuICAvLyBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgZ2wuY3VsbEZhY2UoZ2wuQkFDSyk7XG4gIGdsLmNsZWFyQ29sb3IoMCwgMC4xLCAwLjIsIDEpO1xuICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfQUxJR05NRU5ULCAxKTsgLy8gQWxsb3cgUkdCIHRleHR1cmUgZGF0YSB3aXRoIG5vbi1tdWx0LTQgd2lkdGhzXG5cbiAgdGV4dHVyZXMuc3RhcnR1cCgpO1xuICBnZW9tLnN0YXJ0dXAoKTtcbiAgc2hhZGVycy5zdGFydHVwKHtcbiAgICBsaWdodF9kaWZmdXNlLFxuICAgIGxpZ2h0X2Rpcl92cyxcbiAgICBhbWJpZW50OiBsaWdodF9hbWJpZW50LFxuICAgIG1hdF9tOiBtYXRfbSxcbiAgICBtYXRfbXY6IG1hdF9tdixcbiAgICBtYXRfdnA6IG1hdF92cCxcbiAgICBtdnA6IG1hdF9tdnAsXG4gICAgbXZfaW52X3RyYW5zOiBtYXRfbXZfaW52X3RyYW5zZm9ybSxcbiAgICBtYXRfaW52X3ZpZXc6IG1hdF9pbnZfdmlldyxcbiAgICB2aWV3OiBtYXRfdmlldyxcbiAgICBwcm9qZWN0aW9uOiBtYXRfcHJvamVjdGlvbixcbiAgICBwcm9qZWN0aW9uX2ludmVyc2UsXG4gIH0pO1xuICBjYW1lcmEyZC5zdGFydHVwKCk7XG4gIHNwcml0ZXMuc3RhcnR1cCgpO1xuICBpbnB1dC5zdGFydHVwKGNhbnZhcywgcGFyYW1zKTtcbiAgbW9kZWxzLnN0YXJ0dXAoKTtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBnbG9iYWwtcmVxdWlyZSAqL1xuICBnbG92X3BhcnRpY2xlcyA9IHJlcXVpcmUoJy4vcGFydGljbGVzLmpzJykuY3JlYXRlKCk7XG5cbiAgaWYgKGlzX3BpeGVseSkge1xuICAgIHRleHR1cmVzLmRlZmF1bHRGaWx0ZXJzKGdsLk5FQVJFU1QsIGdsLk5FQVJFU1QpO1xuICAgIHNldHRpbmdzLnJ1blRpbWVEZWZhdWx0KCdyZW5kZXJfc2NhbGVfbW9kZScsIDEpO1xuICB9IGVsc2Uge1xuICAgIHRleHR1cmVzLmRlZmF1bHRGaWx0ZXJzKGdsLkxJTkVBUl9NSVBNQVBfTElORUFSLCBnbC5MSU5FQVIpO1xuICB9XG5cbiAgYXNzZXJ0KHBhcmFtcy5mb250KTtcbiAgLy8gSWYgbm90LCBzb21ldGhpbmcgbGlrZTpcbiAgLy8gY29uc3QgZm9udF9pbmZvXzA0YjAzeDIgPSByZXF1aXJlKCcuLi9pbWcvZm9udC8wNGIwM184eDIuanNvbicpO1xuICAvLyBjb25zdCBmb250X2luZm9fMDRiMDN4MSA9IHJlcXVpcmUoJy4uL2ltZy9mb250LzA0YjAzXzh4MS5qc29uJyk7XG4gIC8vIGNvbnN0IGZvbnRfaW5mb19wYWxhbnF1aW4zMiA9IHJlcXVpcmUoJy4uL2ltZy9mb250L3BhbGFucXVpbjMyLmpzb24nKTtcbiAgLy8gaWYgKHBhcmFtcy5waXhlbHkgPT09ICdzdHJpY3QnKSB7XG4gIC8vICAgZm9udCA9IGdsb3ZfZm9udC5jcmVhdGUoZm9udF9pbmZvXzA0YjAzeDEsICdmb250LzA0YjAzXzh4MScpO1xuICAvLyB9IGVsc2UgaWYgKGlzX3BpeGVseSkge1xuICAvLyAgIGZvbnQgPSBnbG92X2ZvbnQuY3JlYXRlKGZvbnRfaW5mb18wNGIwM3gyLCAnZm9udC8wNGIwM184eDInKTtcbiAgLy8gfSBlbHNlIHtcbiAgLy8gICBmb250ID0gZ2xvdl9mb250LmNyZWF0ZShmb250X2luZm9fcGFsYW5xdWluMzIsICdmb250L3BhbGFucXVpbjMyJyk7XG4gIC8vIH1cbiAgcGFyYW1zLmZvbnQgPSBmb250ID0gZ2xvdl9mb250LmNyZWF0ZShwYXJhbXMuZm9udC5pbmZvLCBwYXJhbXMuZm9udC50ZXh0dXJlKTtcbiAgaWYgKHBhcmFtcy50aXRsZV9mb250KSB7XG4gICAgcGFyYW1zLnRpdGxlX2ZvbnQgPSBnbG92X2ZvbnQuY3JlYXRlKHBhcmFtcy50aXRsZV9mb250LmluZm8sIHBhcmFtcy50aXRsZV9mb250LnRleHR1cmUpO1xuICB9XG4gIGdsb3ZfdWkuc3RhcnR1cChwYXJhbXMpO1xuXG4gIHNvdW5kU3RhcnR1cChwYXJhbXMuc291bmQpO1xuICBnbG92X3VpLmJpbmRTb3VuZHMoZGVmYXVsdHMocGFyYW1zLnVpX3NvdW5kcyB8fCB7fSwge1xuICAgIGJ1dHRvbl9jbGljazogJ2J1dHRvbl9jbGljaycsXG4gICAgcm9sbG92ZXI6ICdyb2xsb3ZlcicsXG4gIH0pKTtcblxuICBjYW1lcmEyZC5zZXRBc3BlY3RGaXhlZChnYW1lX3dpZHRoLCBnYW1lX2hlaWdodCk7XG5cbiAgaWYgKHBhcmFtcy5zdGF0ZSkge1xuICAgIHNldFN0YXRlKHBhcmFtcy5zdGF0ZSk7XG4gIH1cbiAgaWYgKHBhcmFtcy5kb19ib3JkZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICBkb19ib3JkZXJzID0gcGFyYW1zLmRvX2JvcmRlcnM7XG4gIH1cbiAgaWYgKHBhcmFtcy5zaG93X2ZwcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc2V0dGluZ3Muc2hvd19mcHMgPSBwYXJhbXMuc2hvd19mcHM7XG4gIH1cblxuICBwZXJpb2RpY2x5UmVxdWVzdEZyYW1lKCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZHNQZW5kaW5nKCkge1xuICByZXR1cm4gdGV4dHVyZXMubG9hZF9jb3VudCArIHNvdW5kTG9hZGluZygpICsgbW9kZWxzLmxvYWRfY291bnQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRpbmcoKSB7XG4gIGxldCBsb2FkX2NvdW50ID0gbG9hZHNQZW5kaW5nKCk7XG4gIGxldCBlbGVtX2xvYWRpbmdfdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nX3RleHQnKTtcbiAgaWYgKGVsZW1fbG9hZGluZ190ZXh0KSB7XG4gICAgZWxlbV9sb2FkaW5nX3RleHQuaW5uZXJUZXh0ID0gYExvYWRpbmcgKCR7bG9hZF9jb3VudH0pLi4uYDtcbiAgfVxuICBpZiAoIWxvYWRfY291bnQpIHtcbiAgICBpc19sb2FkaW5nID0gZmFsc2U7XG4gICAgYXBwX3N0YXRlID0gYWZ0ZXJfbG9hZGluZ19zdGF0ZTtcbiAgICAvLyBDbGVhciBhZnRlciBuZXh0IGZyYW1lLCBzbyBzb21ldGhpbmcgaXMgcmVuZGVyZWQgdG8gdGhlIGNhbnZhc1xuICAgIHBvc3RUaWNrKHtcbiAgICAgIHRpY2tzOiAyLFxuICAgICAgZm46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGxvYWRpbmdfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJyk7XG4gICAgICAgIGlmIChsb2FkaW5nX2VsZW0pIHtcbiAgICAgICAgICBsb2FkaW5nX2VsZW0uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmFwcF9zdGF0ZSA9IGxvYWRpbmc7XG5cbndpbmRvdy5nbG92X2VuZ2luZSA9IGV4cG9ydHM7XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxubGV0IGVycm9yX3JlcG9ydF9kaXNhYmxlZCA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JSZXBvcnREaXNhYmxlKCkge1xuICBlcnJvcl9yZXBvcnRfZGlzYWJsZWQgPSB0cnVlO1xufVxuXG5sZXQgYXBpX3BhdGggPSAnLyc7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JSZXBvcnRTZXRQYXRoKHBhdGgpIHtcbiAgYXBpX3BhdGggPSBwYXRoO1xufVxuXG5sZXQgZXJyb3JfcmVwb3J0X2RldGFpbHMgPSB7fTtcbmxldCBlcnJvcl9yZXBvcnRfZGV0YWlsc19zdHIgPSAnJztcbmV4cG9ydCBmdW5jdGlvbiBlcnJvclJlcG9ydFNldERldGFpbHMoa2V5LCB2YWx1ZSkge1xuICBpZiAodmFsdWUpIHtcbiAgICBlcnJvcl9yZXBvcnRfZGV0YWlsc1trZXldID0gZXNjYXBlKFN0cmluZyh2YWx1ZSkpO1xuICB9IGVsc2Uge1xuICAgIGRlbGV0ZSBlcnJvcl9yZXBvcnRfZGV0YWlsc1trZXldO1xuICB9XG4gIGVycm9yX3JlcG9ydF9kZXRhaWxzX3N0ciA9IGAmJHtPYmplY3Qua2V5cyhlcnJvcl9yZXBvcnRfZGV0YWlscylcbiAgICAubWFwKChrKSA9PiBgJHtrfT0ke2Vycm9yX3JlcG9ydF9kZXRhaWxzW2tdfWApXG4gICAgLmpvaW4oJyYnKX1gO1xufVxuZXJyb3JSZXBvcnRTZXREZXRhaWxzKCd2ZXInLCBCVUlMRF9USU1FU1RBTVApO1xuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JSZXBvcnRHZXREZXRhaWxzKCkge1xuICByZXR1cm4gZXJyb3JfcmVwb3J0X2RldGFpbHM7XG59XG5cbmxldCBsYXN0X2Vycm9yX3RpbWUgPSAwO1xubGV0IGNyYXNoX2lkeCA9IDA7XG4vLyBFcnJvcnMgZnJvbSBwbHVnaW5zIHRoYXQgd2UgZG9uJ3Qgd2FudCB0byBnZXQgcmVwb3J0ZWQgdG8gdXMsIG9yIHNob3cgdGhlIHVzZXIhXG4vLyBUaGUgZXhhY3QgcGhyYXNlIFwiU2NyaXB0IGVycm9yLlxcbiAgYXQgKDA6MClcIiBjb21lcyBmcm9tIG91ciBib290c3RhcC5qcyB3aGVuIHdlXG4vLyAgIHJlY2VpdmUgdGhlIG1lc3NhZ2UgJ1NjcmlwdCBFcnJvci4nIGFuZCBubyBzdGFjay4gIFRoaXMgaGFwcGVucyBvbiB0aGUgTWkgQnJvd3NlciBvbiBSZWRtaSBwaG9uZXNcbi8vICAgYW5kIGRvZXNuJ3Qgc2VlbSB0byBiZSBpbmRpY2F0aXZlIG9mIGFueSBhY3R1YWwgcHJvYmxlbS5cbi8vIElnbm9yaW5nIG51bGwgYXQgbnVsbCBmb3Igc2ltaWxhciByZWFzb25zIGFuZCBiZWNhdXNlIHdlIGdldCBub3RoaW5nIHVzZWZ1bCBmcm9tIHRoZSByZXBvcnRzLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZ2V4LXNwYWNlc1xubGV0IGZpbHRlcmVkX2Vycm9ycyA9IC9hdmFzdF9zdWJtaXR8dmNfcmVxdWVzdF9hY3Rpb258XlNjcmlwdCBlcnJvclxcLlxcbiAgYXQgXFwoMDowXFwpJHxebnVsbFxcbiAgYXQgbnVsbChudWxsOm51bGwpJC87XG5leHBvcnQgZnVuY3Rpb24gZ2xvdkVycm9yUmVwb3J0KGlzX2ZhdGFsLCBtc2csIGZpbGUsIGxpbmUsIGNvbCkge1xuICBjb25zb2xlLmVycm9yKG1zZyk7XG4gIGlmIChpc19mYXRhbCkge1xuICAgIC8vIE9ubHkgZG9pbmcgZmlsdGVyaW5nIGFuZCBzdWNoIG9uIGZhdGFsIGVycm9ycywgYXMgbm9uLWZhdGFsIGVycm9ycyBhcmVcbiAgICAvLyBqdXN0IGxvZ2dlZCBhbmQgc2hvdWxkIG5vdCBjb3JydXB0IHN0YXRlLlxuICAgICsrY3Jhc2hfaWR4O1xuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGxldCBkdCA9IG5vdyAtIGxhc3RfZXJyb3JfdGltZTtcbiAgICBsYXN0X2Vycm9yX3RpbWUgPSBub3c7XG4gICAgaWYgKGVycm9yX3JlcG9ydF9kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZHQgPCAzMCoxMDAwKSB7XG4gICAgICAvLyBMZXNzIHRoYW4gMzAgc2Vjb25kcyBzaW5jZSB0aGUgbGFzdCBlcnJvciwgZWl0aGVyIHdlJ3JlIGVycm9yaW5nIGV2ZXJ5XG4gICAgICAvLyBmcmFtZSwgb3IgdGhpcyBpcyBhIHNlY29uZGFyeSBlcnJvciBjYXVzZWQgYnkgdGhlIGZpcnN0LCBkbyBub3QgcmVwb3J0IGl0LlxuICAgICAgLy8gQ291bGQgbWF5YmUgaGFzaCB0aGUgZXJyb3IgbWVzc2FnZSBhbmQganVzdCByZXBvcnQgZWFjaCBtZXNzYWdlIG9uY2UsIGFuZFxuICAgICAgLy8gZmxhZyBlcnJvcnMgYXMgcHJpbWFyeSBvciBzZWNvbmRhcnkuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChtc2cubWF0Y2goZmlsdGVyZWRfZXJyb3JzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBQb3N0IHRvIGFuIGVycm9yIHJlcG9ydGluZyBlbmRwb2ludCB0aGF0IChwcm9iYWJseSkgZG9lc24ndCBleGlzdCAtIGl0J2xsIGdldCBpbiB0aGUgbG9ncyBhbnl3YXkhXG4gIGxldCB1cmwgPSBhcGlfcGF0aDsgLy8gYmFzZSBsaWtlIGh0dHA6Ly9mb28uY29tL2Jhci8gKHdpdGhvdXQgaW5kZXguaHRtbClcbiAgdXJsICs9IGAke2lzX2ZhdGFsID8gJ2Vycm9yUmVwb3J0JyA6ICdlcnJvckxvZyd9P2NpZHg9JHtjcmFzaF9pZHh9JmZpbGU9JHtlc2NhcGUoZmlsZSl9YCArXG4gICAgYCZsaW5lPSR7bGluZXx8MH0mY29sPSR7Y29sfHwwfSZ1cmw9JHtlc2NhcGUobG9jYXRpb24uaHJlZil9YCArXG4gICAgYCZtc2c9JHtlc2NhcGUobXNnKX0ke2Vycm9yX3JlcG9ydF9kZXRhaWxzX3N0cn1gO1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcbiAgeGhyLnNlbmQobnVsbCk7XG4gIHJldHVybiB0cnVlO1xufVxuIiwiLyogZ2xvYmFscyBGQkluc3RhbnQgKi9cbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IGxvY2FsX3N0b3JhZ2UgPSByZXF1aXJlKCcuL2xvY2FsX3N0b3JhZ2UuanMnKTtcbmNvbnN0IHsgc291bmRQYXVzZSB9ID0gcmVxdWlyZSgnLi9zb3VuZC5qcycpO1xuXG5leHBvcnQgbGV0IHJlYWR5ID0gZmFsc2U7XG5sZXQgb25yZWFkeWNhbGxiYWNrcyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIG9ucmVhZHkoY2FsbGJhY2spIHtcbiAgaWYgKHJlYWR5KSB7XG4gICAgcmV0dXJuIHZvaWQgY2FsbGJhY2soKTtcbiAgfVxuICBvbnJlYWR5Y2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xufVxuXG5sZXQgaGFzU3Vic2NyaWJlZEFscmVhZHkgPSBmYWxzZTtcbmZ1bmN0aW9uIGluaXRTdWJzY3JpYmUoY2FsbGJhY2ssIHNraXBTaG9ydGN1dCkge1xuXG4gIHNraXBTaG9ydGN1dCA9IHNraXBTaG9ydGN1dHx8ZmFsc2U7XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3Vic2NyaWJlVG9Cb3RDb21wbGV0ZSgpIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vUHJldmVudHMgdGhlIGhhbmRsZVN1YnNjcmliZVRvQm90Q29tcGxldGUgcHJvbWlzZSBmcm9tIGVhdGluZyB1bmZyZWV6ZSBldmVudCBlcnJvcnNcbiAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssMSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3Vic2NyaWJlVG9Cb3RGYWlsdXJlKGUpIHtcbiAgICBpZiAoZSAmJiBlLmNvZGUgIT09ICdVU0VSX0lOUFVUJykge1xuICAgICAgY29uc29sZS5lcnJvcignaGFuZGxlU3Vic2NyaWJlVG9Cb3RGYWlsdXJlJywgZSk7XG4gICAgfVxuICAgIEZCSW5zdGFudC5sb2dFdmVudChcbiAgICAgICdib3Rfc3Vic2NyaWJlX2ZhaWx1cmUnXG4gICAgKTtcbiAgICBoYW5kbGVTdWJzY3JpYmVUb0JvdENvbXBsZXRlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJzY3JpYmVUb0JvdCgpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dpbmRvdyBzb2NpYWwgdHJ5aW5nIHRvIGJvdCBzdWJzY3JpYmUnKTtcbiAgICBpZiAoRkJJbnN0YW50LmdldFN1cHBvcnRlZEFQSXMoKS5pbmRleE9mKCdwbGF5ZXIuY2FuU3Vic2NyaWJlQm90QXN5bmMnKSAhPT0gLTEpIHtcbiAgICAgIEZCSW5zdGFudC5wbGF5ZXIuY2FuU3Vic2NyaWJlQm90QXN5bmMoKS50aGVuKGZ1bmN0aW9uIChjYW5TdWJzY3JpYmUpIHtcbiAgICAgICAgaWYgKGNhblN1YnNjcmliZSkge1xuICAgICAgICAgIEZCSW5zdGFudC5sb2dFdmVudChcbiAgICAgICAgICAgICdib3Rfc3Vic2NyaWJlX3Nob3cnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBGQkluc3RhbnQucGxheWVyLnN1YnNjcmliZUJvdEFzeW5jKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBGQkluc3RhbnQubG9nRXZlbnQoXG4gICAgICAgICAgICAgICdib3Rfc3Vic2NyaWJlX3N1Y2Nlc3MnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaGFuZGxlU3Vic2NyaWJlVG9Cb3RDb21wbGV0ZSgpO1xuICAgICAgICAgIH0saGFuZGxlU3Vic2NyaWJlVG9Cb3RGYWlsdXJlKS5jYXRjaChoYW5kbGVTdWJzY3JpYmVUb0JvdEZhaWx1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZVN1YnNjcmliZVRvQm90Q29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goaGFuZGxlU3Vic2NyaWJlVG9Cb3RGYWlsdXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU3Vic2NyaWJlVG9Cb3RDb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUhvbWVzY3JlZW5Db21wbGV0ZSgpIHtcbiAgICBzdWJzY3JpYmVUb0JvdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlU2hvcnRjdXRGYWlsdXJlKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKCdoYW5kbGVDcmVhdGVTaG9ydGN1dEZhaWx1cmUnLCBlKTtcbiAgICBGQkluc3RhbnQubG9nRXZlbnQoXG4gICAgICAnaG9tZXNjcmVlbl9pbnN0YWxsX2ZhaWx1cmUnXG4gICAgKTtcbiAgICBoYW5kbGVIb21lc2NyZWVuQ29tcGxldGUoKTtcbiAgfVxuXG4gIGxldCBoYXNBZGRlZFRvSG9tZXNjcmVlbiA9IGxvY2FsX3N0b3JhZ2UuZ2V0KCdpbnN0YW50Lmhhc0luc3RhbGxlZFNob3J0Y3V0LnYyJyk7XG4gIGZ1bmN0aW9uIGNyZWF0ZVNob3J0Y3V0KCkge1xuICAgIGNvbnNvbGUud2FybignV2luZG93IHNvY2lhbCB0cnlpbmcgdG8gY3JlYXRlIHNob3J0Y3V0Jyk7XG4gICAgaWYgKEZCSW5zdGFudC5nZXRTdXBwb3J0ZWRBUElzKCkuaW5kZXhPZignY2FuQ3JlYXRlU2hvcnRjdXRBc3luYycpICE9PSAtMSAmJlxuICAgICAgIWhhc0FkZGVkVG9Ib21lc2NyZWVuICYmXG4gICAgICAhaGFzU3Vic2NyaWJlZEFscmVhZHlcbiAgICApIHtcbiAgICAgIGhhc1N1YnNjcmliZWRBbHJlYWR5ID0gdHJ1ZTtcbiAgICAgIEZCSW5zdGFudC5jYW5DcmVhdGVTaG9ydGN1dEFzeW5jKCkudGhlbihmdW5jdGlvbiAoY2FuQ3JlYXRlU2hvcnRjdXQpIHtcbiAgICAgICAgaWYgKGNhbkNyZWF0ZVNob3J0Y3V0KSB7XG4gICAgICAgICAgRkJJbnN0YW50LmxvZ0V2ZW50KFxuICAgICAgICAgICAgJ2hvbWVzY3JlZW5faW5zdGFsbF9zaG93J1xuICAgICAgICAgICk7XG4gICAgICAgICAgRkJJbnN0YW50LmNyZWF0ZVNob3J0Y3V0QXN5bmMoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCdpbnN0YW50Lmhhc0luc3RhbGxlZFNob3J0Y3V0LnYyJyx0cnVlKTtcbiAgICAgICAgICAgIEZCSW5zdGFudC5sb2dFdmVudChcbiAgICAgICAgICAgICAgJ2hvbWVzY3JlZW5faW5zdGFsbF9zdWNjZXNzJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGhhbmRsZUhvbWVzY3JlZW5Db21wbGV0ZSgpO1xuICAgICAgICAgIH0sZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgRkJJbnN0YW50LmxvZ0V2ZW50KFxuICAgICAgICAgICAgICAnaG9tZXNjcmVlbl9pbnN0YWxsX3VzZXJhYm9ydGVkJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGhhbmRsZUhvbWVzY3JlZW5Db21wbGV0ZSgpO1xuICAgICAgICAgIH0pLmNhdGNoKGhhbmRsZUNyZWF0ZVNob3J0Y3V0RmFpbHVyZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlSG9tZXNjcmVlbkNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGhhbmRsZUNyZWF0ZVNob3J0Y3V0RmFpbHVyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUhvbWVzY3JlZW5Db21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChza2lwU2hvcnRjdXQpIHtcbiAgICBzdWJzY3JpYmVUb0JvdCgpO1xuICB9IGVsc2Uge1xuICAgIGNyZWF0ZVNob3J0Y3V0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gIGlmICghd2luZG93LkZCSW5zdGFudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBsZWZ0ID0gMTtcbiAgbGV0IGZha2VfbG9hZF9pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBsZWZ0ICo9IDAuOTtcbiAgICBGQkluc3RhbnQuc2V0TG9hZGluZ1Byb2dyZXNzKDEwMC0obGVmdCoxMDApPj4wKTtcbiAgfSwxMDApO1xuXG4gIEZCSW5zdGFudC5pbml0aWFsaXplQXN5bmMoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZW50cnlQb2ludERhdGEgPSBGQkluc3RhbnQuZ2V0RW50cnlQb2ludERhdGEoKXx8e307XG4gICAgLy8gbGV0IGVudHJ5UG9pbnREYXRhID0geyBxdWVyeXN0cmluZzogeyB3OiAnNDY3NScsIHdnOiAnMScgfSB9OyAvLyBGUlZSXG4gICAgLy8gbGV0IGVudHJ5UG9pbnREYXRhID0geyBxdWVyeXN0cmluZzogeyBibHVlcHJpbnQ6ICdSS1dWQUUyNlhTMjRaJyB9IH07IC8vIEZSVlJcbiAgICBsZXQgcXVlcnlzdHJpbmcgPSBlbnRyeVBvaW50RGF0YS5xdWVyeXN0cmluZ3x8e307XG4gICAgZm9yIChsZXQgeCBpbiBxdWVyeXN0cmluZykge1xuICAgICAgdXJsaGFzaC5zZXQoeCwgcXVlcnlzdHJpbmdbeF0pO1xuICAgIH1cblxuICAgIGNsZWFySW50ZXJ2YWwoZmFrZV9sb2FkX2ludGVydmFsKTtcbiAgICByZWFkeSA9IHRydWU7XG4gICAgRkJJbnN0YW50LnN0YXJ0R2FtZUFzeW5jKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBvbnJlYWR5Y2FsbGJhY2tzLmZvckVhY2goKGUpID0+IGUoKSk7XG4gICAgICBvbnJlYWR5Y2FsbGJhY2tzID0gW107XG5cbiAgICAgIGNvbnNvbGUud2Fybignb3V0c2lkZSBpbml0IGZiJyk7XG4gICAgICBpbml0U3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBbGwgZG9uZSBpbml0aW5nIEZCJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ2luaXRpYWxpemVBc3luYyBmYWlsZWQnLCBlKTtcbiAgfSk7XG5cbiAgRkJJbnN0YW50Lm9uUGF1c2UoKCkgPT4ge1xuICAgIHNvdW5kUGF1c2UoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmYkdldExvZ2luSW5mbyhjYikge1xuICBvbnJlYWR5KCgpID0+IHtcbiAgICB3aW5kb3cuRkJJbnN0YW50LnBsYXllci5nZXRTaWduZWRQbGF5ZXJJbmZvQXN5bmMoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYihudWxsLCB7XG4gICAgICAgICAgc2lnbmF0dXJlOiByZXN1bHQuZ2V0U2lnbmF0dXJlKCksXG4gICAgICAgICAgZGlzcGxheV9uYW1lOiB3aW5kb3cuRkJJbnN0YW50LnBsYXllci5nZXROYW1lKCksXG4gICAgICAgIH0pO1xuICAgICAgICBjYiA9IG51bGw7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIGNiKGVycik7XG4gICAgICAgIGNiID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmxldCBmYl9mcmllbmRzID0ge307XG4vLyBSZXR1cm5zIGEgZGlzcGxheSBuYW1lIGlmIHRoZSB1c2VyX2lkIGlzIGEgRmFjZWJvb2sgZnJpZW5kXG5leHBvcnQgZnVuY3Rpb24gZmJGcmllbmROYW1lKHVzZXJfaWQpIHtcbiAgcmV0dXJuIGZiX2ZyaWVuZHNbdXNlcl9pZF07XG59XG5cbi8vIEV4cGVjdHMgYW4gYXJyYXkgb2YgdmFsaWQgdXNlciBJRHM6XG4vLyBjYihudWxsLCBbJ2ZiJDEyMzQnLCAnZmIkNDU2NyddKTtcbmV4cG9ydCBmdW5jdGlvbiBmYkdldEZyaWVuZHMoY2IpIHtcbiAgb25yZWFkeSgoKSA9PiB7XG4gICAgd2luZG93LkZCSW5zdGFudC5wbGF5ZXIuZ2V0Q29ubmVjdGVkUGxheWVyc0FzeW5jKCkudGhlbigocGxheWVycykgPT4ge1xuICAgICAgbGV0IGxpc3QgPSBwbGF5ZXJzLm1hcCgocGxheWVyKSA9PiB7XG4gICAgICAgIGxldCB1c2VyX2lkID0gYGZiJCR7cGxheWVyLmdldElEKCl9YDtcbiAgICAgICAgZmJfZnJpZW5kc1t1c2VyX2lkXSA9IHBsYXllci5nZXROYW1lKCk7XG4gICAgICAgIHJldHVybiB1c2VyX2lkO1xuICAgICAgfSk7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgY2IobnVsbCwgbGlzdCk7XG4gICAgICAgIGNiID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgY2IgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG5sZXQgYnlfZXh0ID0ge307XG5sZXQgYnlfbWF0Y2ggPSBbXTtcblxuLy8gY2IoZmlsZW5hbWUpXG5leHBvcnQgZnVuY3Rpb24gZmlsZXdhdGNoT24oZXh0X29yX3NlYXJjaCwgY2IpIHtcbiAgaWYgKGV4dF9vcl9zZWFyY2hbMF0gPT09ICcuJykge1xuICAgIGFzc2VydCghYnlfZXh0W2V4dF9vcl9zZWFyY2hdKTtcbiAgICBieV9leHRbZXh0X29yX3NlYXJjaF0gPSBjYjtcbiAgfSBlbHNlIHtcbiAgICBieV9tYXRjaC5wdXNoKFtleHRfb3Jfc2VhcmNoLCBjYl0pO1xuICB9XG59XG5cbmxldCBtZXNzYWdlX2NiO1xuLy8gY2IobWVzc2FnZSlcbmV4cG9ydCBmdW5jdGlvbiBmaWxld2F0Y2hNZXNzYWdlSGFuZGxlcihjYikge1xuICBtZXNzYWdlX2NiID0gY2I7XG59XG5cbmZ1bmN0aW9uIG9uRmlsZUNoYW5nZShmaWxlbmFtZSkge1xuICBjb25zb2xlLmxvZyhgRmlsZVdhdGNoIGNoYW5nZTogJHtmaWxlbmFtZX1gKTtcbiAgbGV0IGV4dF9pZHggPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpO1xuICBsZXQgZGlkX3JlbG9hZCA9IGZhbHNlO1xuICBpZiAoZXh0X2lkeCAhPT0gLTEpIHtcbiAgICBsZXQgZXh0ID0gZmlsZW5hbWUuc2xpY2UoZXh0X2lkeCk7XG4gICAgaWYgKGJ5X2V4dFtleHRdKSB7XG4gICAgICBpZiAoYnlfZXh0W2V4dF0oZmlsZW5hbWUpICE9PSBmYWxzZSkge1xuICAgICAgICBkaWRfcmVsb2FkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGJ5X21hdGNoLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChmaWxlbmFtZS5tYXRjaChieV9tYXRjaFtpaV1bMF0pKSB7XG4gICAgICBpZiAoYnlfbWF0Y2hbaWldWzFdKGZpbGVuYW1lKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgZGlkX3JlbG9hZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChtZXNzYWdlX2NiICYmIGRpZF9yZWxvYWQpIHtcbiAgICBtZXNzYWdlX2NiKGBSZWxvYWRpbmc6ICR7ZmlsZW5hbWV9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGV3YXRjaFRyaWdnZXJDaGFuZ2UoZmlsZW5hbWUpIHtcbiAgb25GaWxlQ2hhbmdlKGZpbGVuYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGV3YXRjaFN0YXJ0dXAoY2xpZW50KSB7XG4gIGNsaWVudC5vbk1zZygnZmlsZXdhdGNoJywgb25GaWxlQ2hhbmdlKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYsIGNvbXBsZXhpdHk6b2ZmLCBuby1zaGFkb3c6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCB7IGZsb29yLCBtYXgsIHJvdW5kIH0gPSBNYXRoO1xuLy8gY29uc3Qgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgY2xhbXAgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHZlYzQsIHY0Y2xvbmUsIHY0c2NhbGUgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuLypcblxuZm9udF9zdHlsZSA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweEZGRkZGRmZmLFxuICBvdXRsaW5lX3dpZHRoOiAwLFxuICBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMDAwLFxuICBnbG93X3hvZmZzOiAwLFxuICBnbG93X3lvZmZzOiAwLFxuICBnbG93X2lubmVyOiAwLFxuICBnbG93X291dGVyOiAwLFxuICBnbG93X2NvbG9yOiAweDAwMDAwMGZmLFxufSk7XG5cbiAqL1xuXG4vLyB0eXBlZGVmIHN0cnVjdCBGb250Q2hhckluZm8ge1xuLy8gICBpbnQgYztcbi8vICAgZmxvYXQgeDA7XG4vLyAgIGZsb2F0IHkwO1xuLy8gICBpbnQgdztcbi8vICAgaW50IGg7XG4vLyAgIGludCBpbWdJZHg7XG4vLyB9IEZvbnRDaGFySW5mbztcblxuLy8gdHlwZWRlZiBzdHJ1Y3QgRm9udEluZm8ge1xuLy8gICBBU19OQU1FKENoYXJJbmZvKSBGb250Q2hhckluZm8gKipjaGFyX2luZm9zO1xuLy8gICBpbnQgZm9udF9zaXplO1xuLy8gICBmbG9hdCB4MDtcbi8vICAgZmxvYXQgeTA7XG4vLyAgIGludCBpbWFnZVc7XG4vLyAgIGludCBpbWFnZUg7XG4vLyAgIGludCBzcHJlYWQ7XG4vLyB9IEZvbnRJbmZvO1xuXG5leHBvcnQgY29uc3QgQ09MT1JfTU9ERSA9IHtcbiAgU0lOR0xFOiAwLFxuICBHUkFESUVOVDogMSxcbn07XG5cbmV4cG9ydCBjb25zdCBBTElHTiA9IHtcbiAgSExFRlQ6IDAsXG4gIEhDRU5URVI6IDEsXG4gIEhSSUdIVDogMixcbiAgSE1BU0s6IDMsXG5cbiAgVlRPUDogMCA8PCAyLFxuICBWQ0VOVEVSOiAxIDw8IDIsXG4gIFZCT1RUT006IDIgPDwgMixcbiAgVk1BU0s6IDMgPDwgMixcblxuICBIRklUOiAxIDw8IDQsXG4gIEhXUkFQOiAxIDw8IDUsIC8vIG9ubHkgZm9yIGdsb3ZNYXJrdXAqLCBub3QgZHJhd1NpemVkQWxpZ25lZCBiZWxvdywgdXNlIGRyYXdTaXplZFdyYXBwZWQgYmVsb3cgaW5zdGVhZFxuXG4gIEhDRU5URVJGSVQ6IDEgfCAoMSA8PCA0KSxcbiAgSFZDRU5URVI6IDEgfCAoMSA8PCAyKSwgLy8gdG8gYXZvaWQgZG9pbmcgYml0d2lzZSBvcHMgZWxzZXdoZXJlXG4gIEhWQ0VOVEVSRklUOiAxIHwgKDEgPDwgMikgfCAoMSA8PCA0KSwgLy8gdG8gYXZvaWQgZG9pbmcgYml0d2lzZSBvcHMgZWxzZXdoZXJlXG59O1xuXG5cbi8vIHR5cGVkZWYgc3RydWN0IEdsb3ZGb250U3R5bGVcbi8vIHtcbi8vICAgLy8gVGhlc2UgbWVtYmVycyB3aWxsIG5ldmVyIGJlIGNoYW5nZWQgKHNhZmUgdG8gaW5pdGlhbGl6ZSB3aXRoIEdsb3ZGb250U3R5bGUgZm9vID0gezEuMCwgMHhmZmYsIGV0Y307XG4vLyAgIGZsb2F0IG91dGxpbmVfd2lkdGg7XG4vLyAgIFUzMiBvdXRsaW5lX2NvbG9yO1xuLy8gICAvLyBHbG93OiBjYW4gYmUgdXNlZCBmb3IgYSBkcm9wc2hhZG93IGFzIHdlbGxcbi8vICAgLy8gICBpbm5lciBjYW4gYmUgbmVnYXRpdmUgdG8gaGF2ZSB0aGUgZ2xvdyBiZSBsZXNzIG9wYXF1ZSAoY2FuIGFsc28ganVzdCBjaGFuZ2UgdGhlIGFscGhhIG9mIHRoZSBnbG93IGNvbG9yKVxuLy8gICAvLyAgIGEgZ2xvdyB3b3VsZCBiZSBlLmcuICgwLCAwLCAtMSwgNSlcbi8vICAgLy8gICBhIGRyb3BzaGFkb3cgd291bGQgYmUgZS5nLiAoMy4yNSwgMy4yNSwgLTIuNSwgNSlcbi8vICAgZmxvYXQgZ2xvd194b2Zmcztcbi8vICAgZmxvYXQgZ2xvd195b2Zmcztcbi8vICAgZmxvYXQgZ2xvd19pbm5lcjtcbi8vICAgZmxvYXQgZ2xvd19vdXRlcjtcbi8vICAgVTMyIGdsb3dfY29sb3I7XG4vLyAgIFUzMiBjb2xvcjsgLy8gdXBwZXIgbGVmdCwgb3Igc2luZ2xlIGNvbG9yXG4vLyAgIFUzMiBjb2xvclVSOyAvLyB1cHBlciByaWdodFxuLy8gICBVMzIgY29sb3JMUjsgLy8gbG93ZXIgcmlnaHRcbi8vICAgVTMyIGNvbG9yTEw7IC8vIGxvd2VyIGxlZnRcbi8vICAgR2xvdkZvbnRDb2xvck1vZGUgY29sb3JfbW9kZTtcbi8vIH0gR2xvdkZvbnRTdHlsZTtcblxuLyogRGVmYXVsdCBHbG92Rm9udFN0eWxlOlxuICBmb250X3N0eWxlID0ge1xuICAgIG91dGxpbmVfd2lkdGg6IDAsIG91dGxpbmVfY29sb3I6IDB4MDAwMDAwMDAsXG4gICAgZ2xvd194b2ZmczogMCwgZ2xvd195b2ZmczogMCwgZ2xvd19pbm5lcjogMCwgZ2xvd19vdXRlcjogMCwgZ2xvd19jb2xvcjogMHgwMDAwMDAwMCxcbiAgICBjb2xvcjogMHhGRkZGRkZmZlxuICB9O1xuXG4gIGZvbnRfc3R5bGUgPSB7XG4gICAgb3V0bGluZV93aWR0aDogMCwgb3V0bGluZV9jb2xvcjogMHgwMDAwMDAwMCxcbiAgICBnbG93X3hvZmZzOiAwLCBnbG93X3lvZmZzOiAwLCBnbG93X2lubmVyOiAwLCBnbG93X291dGVyOiAwLCBnbG93X2NvbG9yOiAweDAwMDAwMDAwLFxuICAgIC8vIENvbG9yIGdyYWRpZW50OiBVTCwgVVIsIExSLCBMTFxuICAgIGNvbG9yOiAweEZGRkZGRmZmLCBjb2xvclVSOiAweEZGRkZGRmZmLCBjb2xvckxSOiAweDAwMDAwMGZmLCBjb2xvckxMOiAweDAwMDAwMGZmLFxuICAgIGNvbG9yX21vZGU6IGdsb3ZfZm9udC5DT0xPUl9NT0RFLkdSQURJRU5ULFxuICB9O1xuKi9cblxuZnVuY3Rpb24gR2xvdkZvbnRTdHlsZSgpIHtcbiAgdGhpcy5jb2xvcl92ZWM0ID0gdmVjNCgxLDEsMSwxKTsgLy8gTWF0Y2hlcyBHbG92Rm9udFN0eWxlLnByb3RvdHlwZS5jb2xvciBiZWxvd1xufVxuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUub3V0bGluZV93aWR0aCA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5vdXRsaW5lX2NvbG9yID0gMHgwMDAwMDAwMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmdsb3dfeG9mZnMgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuZ2xvd195b2ZmcyA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5nbG93X2lubmVyID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmdsb3dfb3V0ZXIgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuZ2xvd19jb2xvciA9IDB4MDAwMDAwMDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5jb2xvciA9IDB4RkZGRkZGZmY7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5jb2xvclVSID0gMDtcbkdsb3ZGb250U3R5bGUucHJvdG90eXBlLmNvbG9yTFIgPSAwO1xuR2xvdkZvbnRTdHlsZS5wcm90b3R5cGUuY29sb3JMTCA9IDA7XG5HbG92Rm9udFN0eWxlLnByb3RvdHlwZS5jb2xvcl9tb2RlID0gQ09MT1JfTU9ERS5TSU5HTEU7XG5cbmV4cG9ydCBjb25zdCBmb250X3NoYWRlcnMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGludENvbG9yRnJvbVZlYzRDb2xvcih2KSB7XG4gIHJldHVybiAoKHZbMF0gKiAyNTUgfCAwKSA8PCAyNCkgfFxuICAgICgodlsxXSAqIDI1NSB8IDApIDw8IDE2KSB8XG4gICAgKCh2WzJdICogMjU1IHwgMCkgPDwgOCkgfFxuICAgICgodlszXSAqIDI1NSB8IDApKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlYzRDb2xvckZyb21JbnRDb2xvcih2LCBjKSB7XG4gIHZbMF0gPSAoKGMgPj4gMjQpICYgMHhGRikgLyAyNTU7XG4gIHZbMV0gPSAoKGMgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gIHZbMl0gPSAoKGMgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgdlszXSA9IChjICYgMHhGRikgLyAyNTU7XG59XG5cbmV4cG9ydCBjb25zdCBnbG92X2ZvbnRfZGVmYXVsdF9zdHlsZSA9IG5ldyBHbG92Rm9udFN0eWxlKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZShmb250X3N0eWxlLCBmaWVsZHMpIHtcbiAgbGV0IHJldCA9IG5ldyBHbG92Rm9udFN0eWxlKCk7XG4gIGxldCB7IGNvbG9yX3ZlYzQgfSA9IHJldDtcbiAgaWYgKGZvbnRfc3R5bGUpIHtcbiAgICBmb3IgKGxldCBmIGluIGZvbnRfc3R5bGUpIHtcbiAgICAgIHJldFtmXSA9IGZvbnRfc3R5bGVbZl07XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGYgaW4gZmllbGRzKSB7XG4gICAgcmV0W2ZdID0gZmllbGRzW2ZdO1xuICB9XG4gIHJldC5jb2xvcl92ZWM0ID0gY29sb3JfdmVjNDsgLy8gUmVzdG9yZVxuICB2ZWM0Q29sb3JGcm9tSW50Q29sb3IocmV0LmNvbG9yX3ZlYzQsIHJldC5jb2xvcik7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUNvbG9yZWQoZm9udF9zdHlsZSwgY29sb3IpIHtcbiAgcmV0dXJuIHN0eWxlKGZvbnRfc3R5bGUsIHtcbiAgICBjb2xvclxuICB9KTtcbn1cblxuZnVuY3Rpb24gY29sb3JBbHBoYShjb2xvciwgYWxwaGEpIHtcbiAgYWxwaGEgPSBjbGFtcChyb3VuZCgoY29sb3IgJiAweEZGKSAqIGFscGhhKSwgMCwgMjU1KTtcbiAgcmV0dXJuIGNvbG9yICYgMHhGRkZGRkYwMCB8IGFscGhhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVBbHBoYShmb250X3N0eWxlLCBhbHBoYSkge1xuICByZXR1cm4gc3R5bGUoZm9udF9zdHlsZSwge1xuICAgIGNvbG9yOiBjb2xvckFscGhhKChmb250X3N0eWxlIHx8IGdsb3ZfZm9udF9kZWZhdWx0X3N0eWxlKS5jb2xvciwgYWxwaGEpLFxuICAgIG91dGxpbmVfY29sb3I6IGNvbG9yQWxwaGEoKGZvbnRfc3R5bGUgfHwgZ2xvdl9mb250X2RlZmF1bHRfc3R5bGUpLm91dGxpbmVfY29sb3IsIGFscGhhKSxcbiAgICBnbG93X2NvbG9yOiBjb2xvckFscGhhKChmb250X3N0eWxlIHx8IGdsb3ZfZm9udF9kZWZhdWx0X3N0eWxlKS5nbG93X2NvbG9yLCBhbHBoYSksXG4gIH0pO1xufVxuXG5sZXQgdGVjaF9wYXJhbXMgPSBudWxsO1xubGV0IHRlY2hfcGFyYW1zX2RpcnR5ID0gZmFsc2U7XG5sZXQgdGVtcF9jb2xvciA9IG51bGw7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRlY2huaXF1ZVBhcmFtZXRlcnMoKSB7XG4gIGlmICh0ZWNoX3BhcmFtcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRlY2hfcGFyYW1zID0ge1xuICAgIHBhcmFtMDogdmVjNCgpLFxuICAgIG91dGxpbmVDb2xvcjogdmVjNCgpLFxuICAgIGdsb3dDb2xvcjogdmVjNCgpLFxuICAgIGdsb3dQYXJhbXM6IHZlYzQoKSxcbiAgICB0ZXgwOiBudWxsXG4gIH07XG4gIGlmICghdGVtcF9jb2xvcikge1xuICAgIHRlbXBfY29sb3IgPSB2ZWM0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVjaFBhcmFtc1NldChwYXJhbSwgdmFsdWUpIHtcbiAgbGV0IHRwdiA9IHRlY2hfcGFyYW1zW3BhcmFtXTtcbiAgLy8gbm90IGRpcnR5LCBpZiBhbnl0aGluZyBjaGFuZ2VzLCB3ZSBuZWVkIGEgbmV3IG9iamVjdCFcbiAgaWYgKCF0ZWNoX3BhcmFtc19kaXJ0eSkge1xuICAgIGlmICh0cHZbMF0gIT09IHZhbHVlWzBdIHx8IHRwdlsxXSAhPT0gdmFsdWVbMV0gfHwgdHB2WzJdICE9PSB2YWx1ZVsyXSB8fCB0cHZbM10gIT09IHZhbHVlWzNdKSB7XG4gICAgICAvLyBjbG9uZVxuICAgICAgdGVjaF9wYXJhbXMgPSB7XG4gICAgICAgIHBhcmFtMDogdjRjbG9uZSh0ZWNoX3BhcmFtcy5wYXJhbTApLFxuICAgICAgICBvdXRsaW5lQ29sb3I6IHY0Y2xvbmUodGVjaF9wYXJhbXMub3V0bGluZUNvbG9yKSxcbiAgICAgICAgZ2xvd0NvbG9yOiB2NGNsb25lKHRlY2hfcGFyYW1zLmdsb3dDb2xvciksXG4gICAgICAgIGdsb3dQYXJhbXM6IHY0Y2xvbmUodGVjaF9wYXJhbXMuZ2xvd1BhcmFtcyksXG4gICAgICB9O1xuICAgICAgdGVjaF9wYXJhbXNfZGlydHkgPSB0cnVlO1xuICAgICAgdHB2ID0gdGVjaF9wYXJhbXNbcGFyYW1dO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZGVudGljYWwsIGRvIG5vdGhpbmdcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKHRlY2hfcGFyYW1zX2RpcnR5KSB7XG4gICAgLy8ganVzdCBzZXRcbiAgICB0cHZbMF0gPSB2YWx1ZVswXTtcbiAgICB0cHZbMV0gPSB2YWx1ZVsxXTtcbiAgICB0cHZbMl0gPSB2YWx1ZVsyXTtcbiAgICB0cHZbM10gPSB2YWx1ZVszXTtcbiAgICAvLyByZXR1cm47XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVjaFBhcmFtc0dldCgpIHtcbiAgdGVjaF9wYXJhbXNfZGlydHkgPSBmYWxzZTtcbiAgcmV0dXJuIHRlY2hfcGFyYW1zO1xufVxuXG5mdW5jdGlvbiBHbG92Rm9udChmb250X2luZm8sIHRleHR1cmVfbmFtZSkge1xuICBhc3NlcnQoZm9udF9pbmZvLmZvbnRfc2l6ZSAhPT0gMCk7IC8vIEdvdCBsb3N0IHNvbWV3aGVyZVxuXG4gIHRoaXMudGV4dHVyZSA9IHRleHR1cmVzLmxvYWQoe1xuICAgIHVybDogYGltZy8ke3RleHR1cmVfbmFtZX0ucG5nYCxcbiAgICBmaWx0ZXJfbWluOiBmb250X2luZm8ubm9GaWx0ZXIgPyBnbC5ORUFSRVNUIDogZ2wuTElORUFSLFxuICAgIGZpbHRlcl9tYWc6IGZvbnRfaW5mby5ub0ZpbHRlciA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVIsXG4gICAgd3JhcF9zOiBnbC5DTEFNUF9UT19FREdFLFxuICAgIHdyYXBfdDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgfSk7XG4gIHRoaXMudGV4dHVyZXMgPSBbdGhpcy50ZXh0dXJlXTtcblxuICB0aGlzLmZvbnRfaW5mbyA9IGZvbnRfaW5mbztcbiAgdGhpcy5zaGFkZXIgPSBmb250X3NoYWRlcnMuZm9udF9hYTtcbiAgdGhpcy50ZXhfdyA9IGZvbnRfaW5mby5pbWFnZVc7XG4gIHRoaXMudGV4X2ggPSBmb250X2luZm8uaW1hZ2VIO1xuXG4gIC8vIENhbGN1bGF0ZSBpbnZlcnNlIHNjYWxlLCBmaXh1cCAwc1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZm9udF9pbmZvLmNoYXJfaW5mb3MubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGNoYXJfaW5mbyA9IGZvbnRfaW5mby5jaGFyX2luZm9zW2lpXTtcbiAgICBjaGFyX2luZm8uc2NhbGUgPSAxIC8gKGNoYXJfaW5mby5zYyB8fCAxKTtcbiAgICBjaGFyX2luZm8udyA9IGNoYXJfaW5mby53IHx8IDA7XG4gIH1cblxuICAvLyBidWlsZCBsb29rdXBcbiAgdGhpcy5jaGFyX2luZm9zID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBmb250X2luZm8uY2hhcl9pbmZvcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgY2hhcl9pbmZvID0gZm9udF9pbmZvLmNoYXJfaW5mb3NbaWldO1xuICAgIHRoaXMuY2hhcl9pbmZvc1tmb250X2luZm8uY2hhcl9pbmZvc1tpaV0uY10gPSBjaGFyX2luZm87XG4gICAgY2hhcl9pbmZvLnhwYWQgPSBjaGFyX2luZm8ueHBhZCB8fCAwO1xuICAgIGNoYXJfaW5mby55b2ZmcyA9IGNoYXJfaW5mby55b2ZmcyB8fCAwO1xuICB9XG4gIHRoaXMucmVwbGFjZW1lbnRfY2hhcmFjdGVyID0gdGhpcy5pbmZvRnJvbUNoYXIoMHhGRkZEKTtcbiAgaWYgKCF0aGlzLnJlcGxhY2VtZW50X2NoYXJhY3Rlcikge1xuICAgIHRoaXMucmVwbGFjZW1lbnRfY2hhcmFjdGVyID0gdGhpcy5pbmZvRnJvbUNoYXIoNjMpOyAvLyAnPydcbiAgfVxuXG4gIHRoaXMuZGVmYXVsdF9zdHlsZSA9IG5ldyBHbG92Rm9udFN0eWxlKCk7XG4gIHRoaXMuYXBwbGllZF9zdHlsZSA9IG5ldyBHbG92Rm9udFN0eWxlKCk7XG5cbiAgY3JlYXRlVGVjaG5pcXVlUGFyYW1ldGVycygpO1xufVxuXG4vLyBHZW5lcmFsIGRyYXcgZnVuY3Rpb25zIHJldHVybiB3aWR0aFxuLy8gUGFzcyBOVUxMIGZvciBzdHlsZSB0byB1c2UgZGVmYXVsdCBzdHlsZVxuLy8gSWYgdGhlIGZ1bmN0aW9uIHRha2VzIGEgY29sb3IsIHRoaXMgb3ZlcnJpZGVzIHRoZSBjb2xvciBvbiB0aGUgc3R5bGVcbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2l6ZWRDb2xvciA9IGZ1bmN0aW9uIChzdHlsZSwgeCwgeSwgeiwgc2l6ZSwgY29sb3IsIHRleHQpIHtcbiAgcmV0dXJuIHRoaXMuZHJhd1NpemVkKHN0eWxlQ29sb3JlZChzdHlsZSwgY29sb3IpLCB4LCB5LCB6LCBzaXplLCB0ZXh0KTtcbn07XG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NpemVkID0gZnVuY3Rpb24gKHN0eWxlLCB4LCB5LCB6LCBzaXplLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmRyYXdTY2FsZWQoc3R5bGUsIHgsIHksIHosIHNpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHNpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHRleHQpO1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTaXplZEFsaWduZWQgPSBmdW5jdGlvbiAoc3R5bGUsIF94LCBfeSwgeiwgc2l6ZSwgYWxpZ24sIHcsIGgsIHRleHQpIHtcbiAgbGV0IHhfc2l6ZSA9IHNpemU7XG4gIGxldCB5X3NpemUgPSBzaXplO1xuICBsZXQgd2lkdGggPSB0aGlzLmdldFN0cmluZ1dpZHRoKHN0eWxlLCB4X3NpemUsIHRleHQpO1xuICBpZiAoKGFsaWduICYgQUxJR04uSEZJVCkgJiYgd2lkdGggPiB3KSB7XG4gICAgbGV0IHNjYWxlID0gdyAvIHdpZHRoO1xuICAgIHhfc2l6ZSAqPSBzY2FsZTtcbiAgICB3aWR0aCA9IHc7XG4gICAgLy8gQWRkaXRpb25hbGx5LCBpZiB3ZSdyZSByZWFsbHkgc3F1aXNoaW5nIHRoaW5ncyBob3Jpem9udGFsbHksIHNocmluayB0aGUgZm9udCBzaXplXG4gICAgLy8gYW5kIG9mZnNldCB0byBiZSBjZW50ZXJlZC5cbiAgICBpZiAoc2NhbGUgPCAwLjUpIHtcbiAgICAgIGlmICgoYWxpZ24gJiBBTElHTi5WTUFTSykgIT09IEFMSUdOLlZDRU5URVIgJiYgKGFsaWduICYgQUxJR04uVk1BU0spICE9PSBBTElHTi5WQk9UVE9NKSB7XG4gICAgICAgIC8vIE9mZnNldCB0byBiZSByb3VnaGx5IGNlbnRlcmVkIGluIHRoZSBvcmlnaW5hbCBsaW5lIGJvdW5kc1xuICAgICAgICBfeSArPSAoeV9zaXplIC0gKHlfc2l6ZSAqIHNjYWxlICogMikpIC8gMjtcbiAgICAgIH1cbiAgICAgIHlfc2l6ZSAqPSBzY2FsZSAqIDI7XG4gICAgfVxuICB9XG4gIGxldCBoZWlnaHQgPSB5X3NpemU7XG4gIGxldCB4O1xuICBsZXQgeTtcbiAgc3dpdGNoIChhbGlnbiAmIEFMSUdOLkhNQVNLKSB7XG4gICAgY2FzZSBBTElHTi5IQ0VOVEVSOlxuICAgICAgeCA9IF94ICsgKHcgLSB3aWR0aCkgLyAyO1xuICAgICAgaWYgKHRoaXMuZm9udF9pbmZvLm5vRmlsdGVyKSB7XG4gICAgICAgIHggfD0gMDsgLy8gZW5zdXJlIGludGVncmFsXG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFMSUdOLkhSSUdIVDpcbiAgICAgIHggPSBfeCArIHcgLSB3aWR0aDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUxJR04uSExFRlQ6XG4gICAgICB4ID0gX3g7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgeCA9IF94O1xuICB9XG4gIHN3aXRjaCAoYWxpZ24gJiBBTElHTi5WTUFTSykge1xuICAgIGNhc2UgQUxJR04uVkNFTlRFUjpcbiAgICAgIHkgPSBfeSArIChoIC0gaGVpZ2h0KSAvIDI7XG4gICAgICBpZiAodGhpcy5mb250X2luZm8ubm9GaWx0ZXIpIHtcbiAgICAgICAgeSB8PSAwOyAvLyBlbnN1cmUgaW50ZWdyYWxcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUxJR04uVkJPVFRPTTpcbiAgICAgIHkgPSBfeSArIGggLSBoZWlnaHQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFMSUdOLlZUT1A6XG4gICAgICB5ID0gX3k7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgeSA9IF95O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZHJhd1NjYWxlZChzdHlsZSwgeCwgeSwgeiwgeF9zaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB5X3NpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemUsIHRleHQpO1xufTtcblxuLy8gcmV0dXJucyBoZWlnaHRcbkdsb3ZGb250LnByb3RvdHlwZS5kcmF3U2l6ZWRDb2xvcldyYXBwZWQgPSBmdW5jdGlvbiAoc3R5bGUsIHgsIHksIHosIHcsIGluZGVudCwgc2l6ZSwgY29sb3IsIHRleHQpIHtcbiAgcmV0dXJuIHRoaXMuZHJhd1NjYWxlZFdyYXBwZWQoc3R5bGVDb2xvcmVkKHN0eWxlLCBjb2xvciksIHgsIHksIHosIHcsXG4gICAgaW5kZW50LCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB0ZXh0KTtcbn07XG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NpemVkV3JhcHBlZCA9IGZ1bmN0aW9uIChzdHlsZSwgeCwgeSwgeiwgdywgaW5kZW50LCBzaXplLCB0ZXh0KSB7XG4gIHJldHVybiB0aGlzLmRyYXdTY2FsZWRXcmFwcGVkKHN0eWxlLCB4LCB5LCB6LCB3LFxuICAgIGluZGVudCwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSwgdGV4dCk7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUud3JhcExpbmVzID0gZnVuY3Rpb24gKHcsIGluZGVudCwgc2l6ZSwgdGV4dCwgd29yZF9jYiAvKih4LCBpbnQgbGluZW51bSwgY29uc3QgY2hhciAqd29yZCkqLykge1xuICByZXR1cm4gdGhpcy53cmFwTGluZXNTY2FsZWQodywgaW5kZW50LCBzaXplIC8gdGhpcy5mb250X2luZm8uZm9udF9zaXplLCB0ZXh0LCB3b3JkX2NiKTtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5udW1MaW5lcyA9IGZ1bmN0aW9uIChzdHlsZSwgdywgaW5kZW50LCBzaXplLCB0ZXh0KSB7XG4gIHRoaXMuYXBwbHlTdHlsZShzdHlsZSk7XG4gIGxldCBudW1saW5lcyA9IDA7XG4gIGZ1bmN0aW9uIHdvcmRDYWxsYmFjayhpZ25vcmVkLCBsaW5lbnVtLCB3b3JkKSB7XG4gICAgbnVtbGluZXMgPSBtYXgobnVtbGluZXMsIGxpbmVudW0pO1xuICB9XG4gIHRoaXMud3JhcExpbmVzKHcsIGluZGVudCwgc2l6ZSwgdGV4dCwgd29yZENhbGxiYWNrKTtcbiAgcmV0dXJuIG51bWxpbmVzICsgMTtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5pbmZvRnJvbUNoYXIgPSBmdW5jdGlvbiAoYykge1xuICBsZXQgcmV0ID0gdGhpcy5jaGFyX2luZm9zW2NdO1xuICBpZiAocmV0KSB7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBpZiAoYyA+IDEyNykge1xuICAgIC8vIG5vIGNoYXIgaW5mbywgYW5kIG5vbi1hc2NpaSwgbm9uLWNvbnRyb2wgY29kZVxuICAgIHJldHVybiB0aGlzLnJlcGxhY2VtZW50X2NoYXJhY3RlcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5nZXRDaGFyYWN0ZXJXaWR0aCA9IGZ1bmN0aW9uIChzdHlsZSwgeF9zaXplLCBjKSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgYywgJ251bWJlcicpO1xuICB0aGlzLmFwcGx5U3R5bGUoc3R5bGUpO1xuICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gIGxldCB4c2MgPSB4X3NpemUgLyB0aGlzLmZvbnRfaW5mby5mb250X3NpemU7XG4gIGxldCB4X2FkdmFuY2UgPSB0aGlzLmNhbGNYQWR2YW5jZSh4c2MpO1xuICBpZiAoY2hhcl9pbmZvKSB7XG4gICAgcmV0dXJuIChjaGFyX2luZm8udyArIGNoYXJfaW5mby54cGFkKSAqIHhzYyAqIGNoYXJfaW5mby5zY2FsZSArIHhfYWR2YW5jZTtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbkdsb3ZGb250LnByb3RvdHlwZS5nZXRTdHJpbmdXaWR0aCA9IGZ1bmN0aW9uIChzdHlsZSwgeF9zaXplLCB0ZXh0KSB7XG4gIHRoaXMuYXBwbHlTdHlsZShzdHlsZSk7XG4gIGxldCByZXQ9MDtcbiAgbGV0IHhzYyA9IHhfc2l6ZSAvIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZTtcbiAgbGV0IHhfYWR2YW5jZSA9IHRoaXMuY2FsY1hBZHZhbmNlKHhzYyk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXh0Lmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBjID0gdGV4dC5jaGFyQ29kZUF0KGlpKTtcbiAgICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gICAgaWYgKCFjaGFyX2luZm8pIHtcbiAgICAgIGNoYXJfaW5mbyA9IHRoaXMuaW5mb0Zyb21DaGFyKDEzKTtcbiAgICB9XG4gICAgaWYgKGNoYXJfaW5mbykge1xuICAgICAgcmV0ICs9IChjaGFyX2luZm8udyArIGNoYXJfaW5mby54cGFkKSAqIHhzYyAqIGNoYXJfaW5mby5zY2FsZSArIHhfYWR2YW5jZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbi8vIHdvcmRfY2IoeCwgaW50IGxpbmVudW0sIGNvbnN0IGNoYXIgKndvcmQpXG5HbG92Rm9udC5wcm90b3R5cGUud3JhcExpbmVzU2NhbGVkID0gZnVuY3Rpb24gKHcsIGluZGVudCwgeHNjLCB0ZXh0LCB3b3JkX2NiKSB7XG4gIGxldCBsZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgbGV0IHMgPSAwO1xuICBsZXQgd29yZF9zdGFydCA9IDA7XG4gIGxldCB3b3JkX3gwID0gMDtcbiAgbGV0IHggPSB3b3JkX3gwO1xuICBsZXQgbGluZW51bSA9IDA7XG4gIGxldCBzcGFjZV9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoMzIpOyAvLyAnICdcbiAgbGV0IHNwYWNlX3NpemUgPSAoc3BhY2VfaW5mbyA/IHNwYWNlX2luZm8udyArIHNwYWNlX2luZm8ueHBhZCA6IHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSkgKiB4c2M7XG4gIGxldCBoYXJkX3dyYXAgPSBmYWxzZTtcbiAgbGV0IHhfYWR2YW5jZSA9IHRoaXMuY2FsY1hBZHZhbmNlKHhzYyk7XG5cbiAgZG8ge1xuICAgIGxldCBjID0gcyA8IGxlbiA/IHRleHQuY2hhckNvZGVBdChzKSB8fCAweEZGRkQgOiAwO1xuICAgIGxldCBuZXd4ID0geDtcbiAgICBsZXQgY2hhcl93O1xuICAgIGxldCBjaGFyX2luZm8gPSB0aGlzLmluZm9Gcm9tQ2hhcihjKTtcbiAgICBpZiAoIWNoYXJfaW5mbykge1xuICAgICAgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoMTApO1xuICAgIH1cbiAgICBpZiAoY2hhcl9pbmZvKSB7XG4gICAgICBjaGFyX3cgPSAoY2hhcl9pbmZvLncgKyBjaGFyX2luZm8ueHBhZCkgKiB4c2MgKiBjaGFyX2luZm8uc2NhbGUgKyB4X2FkdmFuY2U7XG4gICAgICBuZXd4ID0geCArIGNoYXJfdztcbiAgICB9XG4gICAgaWYgKG5ld3ggPj0gdyAmJiBoYXJkX3dyYXApIHtcbiAgICAgIC8vIGZsdXNoIHRoZSB3b3JkIHNvIGZhciFcbiAgICAgIGlmICh3b3JkX2NiKSB7XG4gICAgICAgIHdvcmRfY2Iod29yZF94MCwgbGluZW51bSwgdGV4dC5zbGljZSh3b3JkX3N0YXJ0LCBzKSk7XG4gICAgICB9XG4gICAgICB3b3JkX3N0YXJ0ID0gcztcbiAgICAgIHdvcmRfeDAgPSBpbmRlbnQ7XG4gICAgICB4ID0gd29yZF94MCArIGNoYXJfdztcbiAgICAgIGxpbmVudW0rKztcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IG5ld3g7XG4gICAgfVxuICAgIGlmICghKGMgPT09IDMyIC8qJyAnKi8gfHwgYyA9PT0gMCB8fCBjID09PSAxMCAvKidcXG4nKi8gfHwgYyA9PT0gOSkpIHtcbiAgICAgIHMrKztcbiAgICAgIGMgPSBzIDwgbGVuID8gdGV4dC5jaGFyQ29kZUF0KHMpIHx8IDB4RkZGRCA6IDA7XG4gICAgfVxuICAgIGlmIChjID09PSAzMiAvKicgJyovIHx8IGMgPT09IDAgfHwgYyA9PT0gMTAgLyonXFxuJyovIHx8IGMgPT09IDkpIHtcbiAgICAgIGhhcmRfd3JhcCA9IGZhbHNlO1xuICAgICAgLy8gZHJhdyB3b3JkIHVudGlsIHNcbiAgICAgIGlmICh4ID4gdykge1xuICAgICAgICAvLyBtYXliZSB3cmFwXG4gICAgICAgIGxldCB3b3JkX3dpZHRoID0geCAtIHdvcmRfeDA7XG4gICAgICAgIGlmICh3b3JkX3dpZHRoID4gdyAtIGluZGVudCkge1xuICAgICAgICAgIC8vIG5vdCBnb2luZyB0byBmaXQsIHNwbGl0IGl0IHVwIVxuICAgICAgICAgIGhhcmRfd3JhcCA9IHRydWU7XG4gICAgICAgICAgLy8gcmVjb3ZlciBhbmQgcmVzdGFydCBhdCB3b3JkIHN0YXJ0XG4gICAgICAgICAgcyA9IHdvcmRfc3RhcnQ7XG4gICAgICAgICAgeCA9IHdvcmRfeDA7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd29yZF94MCA9IGluZGVudDtcbiAgICAgICAgICB4ID0gd29yZF94MCArIHdvcmRfd2lkdGg7XG4gICAgICAgICAgbGluZW51bSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAod29yZF9jYikge1xuICAgICAgICB3b3JkX2NiKHdvcmRfeDAsIGxpbmVudW0sIHRleHQuc2xpY2Uod29yZF9zdGFydCwgcykpO1xuICAgICAgfVxuICAgICAgd29yZF9zdGFydCA9IHMrMTtcbiAgICAgIGlmIChjID09PSAxMCAvKidcXG4nKi8pIHtcbiAgICAgICAgeCA9IGluZGVudDtcbiAgICAgICAgbGluZW51bSsrO1xuICAgICAgfSBlbHNlIGlmIChjID09PSA5IC8qJ1xcdCcqLykge1xuICAgICAgICBsZXQgdGFic2l6ZSA9IHhzYyAqIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSAqIDI7XG4gICAgICAgIHggPSAoZmxvb3IoeCAvIHRhYnNpemUpICsgMSkgKiB0YWJzaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCArPSBzcGFjZV9zaXplO1xuICAgICAgfVxuICAgICAgd29yZF94MCA9IHg7XG4gICAgICBpZiAoYyA9PT0gMzIgLyonICcqLyB8fCBjID09PSAxMCAvKidcXG4nKi8gfHwgYyA9PT0gOSkge1xuICAgICAgICBzKys7IC8vIGFkdmFuY2UgcGFzdCBzcGFjZVxuICAgICAgfVxuICAgIH1cbiAgfSB3aGlsZSAocyA8IGxlbik7XG4gICsrbGluZW51bTtcbiAgcmV0dXJuIGxpbmVudW07XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUuZHJhd1NjYWxlZFdyYXBwZWQgPSBmdW5jdGlvbiAoc3R5bGUsIHgsIHksIHosIHcsIGluZGVudCwgeHNjLCB5c2MsIHRleHQpIHtcbiAgaWYgKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGV4dCA9ICcobnVsbCknO1xuICB9XG4gIHRoaXMuYXBwbHlTdHlsZShzdHlsZSk7XG4gIHRoaXMubGFzdF93aWR0aCA9IDA7XG4gIGxldCBudW1fbGluZXMgPSB0aGlzLndyYXBMaW5lc1NjYWxlZCh3LCBpbmRlbnQsIHhzYywgdGV4dCwgKHhvZmZzLCBsaW5lbnVtLCB3b3JkKSA9PiB7XG4gICAgbGV0IHkyID0geSArIHRoaXMuZm9udF9pbmZvLmZvbnRfc2l6ZSAqIHlzYyAqIGxpbmVudW07XG4gICAgbGV0IHgyID0geCArIHhvZmZzO1xuICAgIGxldCB3b3JkX3cgPSB0aGlzLmRyYXdTY2FsZWQoc3R5bGUsIHgyLCB5MiwgeiwgeHNjLCB5c2MsIHdvcmQpO1xuICAgIHRoaXMubGFzdF93aWR0aCA9IG1heCh0aGlzLmxhc3Rfd2lkdGgsIHhvZmZzICsgd29yZF93KTtcbiAgfSk7XG4gIHJldHVybiBudW1fbGluZXMgKiB0aGlzLmZvbnRfaW5mby5mb250X3NpemUgKiB5c2M7XG59O1xuXG5HbG92Rm9udC5wcm90b3R5cGUuY2FsY1hBZHZhbmNlID0gZnVuY3Rpb24gKHhzYykge1xuICAvLyBBc3N1bWUgY2FsbGVkOiBhcHBseVN0eWxlKHN0eWxlKTtcblxuICAvLyBzY2FsZSBhbGwgc3VwcGxpZWQgdmFsdWVzIGJ5IHRoaXMgc28gdGhhdCBpZiB3ZSBzd2FwIGluIGEgZm9udCB3aXRoIHR3aWNlIHRoZSByZXNvbHV0aW9uIChhbmQgdHdpY2UgdGhlIHNwcmVhZClcbiAgLy8gICB0aGluZ3MgbG9vayBhbG1vc3QgaWRlbnRpY2FsLCBqdXN0IGNyaXNwZXJcbiAgbGV0IGZvbnRfdGV4ZWxfc2NhbGUgPSB0aGlzLmZvbnRfaW5mby5mb250X3NpemUgLyAzMjtcbiAgLy8gQXMgYSBjb21wcm9taXNlLCAtMiBiaWFzIGhlcmUgc2VlbXMgdG8gd29yayB3ZWxsXG4gIGxldCB4X2FkdmFuY2UgPSB4c2MgKiBmb250X3RleGVsX3NjYWxlICogbWF4KHRoaXMuYXBwbGllZF9zdHlsZS5vdXRsaW5lX3dpZHRoIC0gMiwgMCk7XG4gIC8vIEFzIGEgY29tcHJvbWlzZSwgdGhlcmUncyBhIC0zIGJpYXMgaW4gdGhlcmUsIHNvIGl0IG9ubHkga2lja3MgaW4gdW5kZXIgZXh0cmVtZSBjaXJjdW1zdGFuY2VzXG4gIHhfYWR2YW5jZSA9IG1heCh4X2FkdmFuY2UsIHhzYyAqIGZvbnRfdGV4ZWxfc2NhbGUgKlxuICAgIG1heCh0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciAtIHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X3hvZmZzIC0gMywgMCkpO1xuICByZXR1cm4geF9hZHZhbmNlO1xufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE1haW4gaW1wbGVtZW50YXRpb25cblxuR2xvdkZvbnQucHJvdG90eXBlLmRyYXdTY2FsZWQgPSBmdW5jdGlvbiAoc3R5bGUsIF94LCB5LCB6LCB4c2MsIHlzYywgdGV4dCkge1xuICBsZXQgeCA9IF94O1xuICBhc3NlcnQoaXNGaW5pdGUoeCkpO1xuICBhc3NlcnQoaXNGaW5pdGUoeSkpO1xuICBhc3NlcnQoaXNGaW5pdGUoeikpO1xuICBsZXQgZm9udF9pbmZvID0gdGhpcy5mb250X2luZm87XG4gIC8vIERlYnVnOiBzaG93IGV4cGVjdCBhcmVhIG9mIGdseXBoc1xuICAvLyByZXF1aXJlKCcuL3VpLmpzJykuZHJhd1JlY3QoX3gsIHksXG4gIC8vICAgX3ggKyB4c2MgKiBmb250X2luZm8uZm9udF9zaXplICogMjAsIHkgKyB5c2MgKiBmb250X2luZm8uZm9udF9zaXplLFxuICAvLyAgIDEwMDAsIFsxLCAwLCAxLCAwLjVdKTtcbiAgeSArPSAoZm9udF9pbmZvLnlfb2Zmc2V0IHx8IDApICogeXNjO1xuICBsZXQgdGV4cyA9IHRoaXMudGV4dHVyZXM7XG4gIGlmICh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRleHQgPSAnKG51bGwpJztcbiAgfVxuICBjb25zdCBsZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgaWYgKHhzYyA9PT0gMCB8fCB5c2MgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHRoaXMuYXBwbHlTdHlsZShzdHlsZSk7XG5cbiAgY29uc3QgYXZnX3NjYWxlX2ZvbnQgPSAoeHNjICsgeXNjKSAqIDAuNTtcbiAgY29uc3QgY2FtZXJhX3hzY2FsZSA9IGNhbWVyYTJkLmRhdGFbNF07XG4gIGNvbnN0IGNhbWVyYV95c2NhbGUgPSBjYW1lcmEyZC5kYXRhWzVdO1xuICBsZXQgYXZnX3NjYWxlX2NvbWJpbmVkID0gKHhzYyAqIGNhbWVyYV94c2NhbGUgKyB5c2MgKiBjYW1lcmFfeXNjYWxlKSAqIDAuNTtcbiAgLy8gTm90IGRvaW5nIHRoaXMgaGVyZSwgYmVjYXVzZSByZW5kZXJfc2NhbGVfYWxsIGlzIG5vdCBjdXJyZW50bHkgcmVmbGVjdGVkIGluIGNhbWVyYV94L3lzY2FsZVxuICAvLyBhdmdfc2NhbGVfY29tYmluZWQgKj0gc2V0dGluZ3MucmVuZGVyX3NjYWxlX2FsbDtcblxuICAvLyBzY2FsZSBhbGwgc3VwcGxpZWQgdmFsdWVzIGJ5IHRoaXMgc28gdGhhdCBpZiB3ZSBzd2FwIGluIGEgZm9udCB3aXRoIHR3aWNlIHRoZSByZXNvbHV0aW9uIChhbmQgdHdpY2UgdGhlIHNwcmVhZClcbiAgLy8gICB0aGluZ3MgbG9vayBhbG1vc3QgaWRlbnRpY2FsLCBqdXN0IGNyaXNwZXJcbiAgbGV0IHhfYWR2YW5jZSA9IHRoaXMuY2FsY1hBZHZhbmNlKHhzYyk7XG4gIGxldCBmb250X3RleGVsX3NjYWxlID0gZm9udF9pbmZvLmZvbnRfc2l6ZSAvIDMyO1xuICBsZXQgdGlsZV9zdGF0ZSA9IDA7XG5cbiAgbGV0IGFwcGxpZWRfc3R5bGUgPSB0aGlzLmFwcGxpZWRfc3R5bGU7XG5cbiAgLy8gQ2FsY3VsYXRlIGFudGktYWxpYXNpbmcgdmFsdWVzXG4gIGxldCBkZWx0YV9wZXJfc291cmNlX3BpeGVsID0gMC41IC8gZm9udF9pbmZvLnNwcmVhZDtcbiAgbGV0IGRlbHRhX3Blcl9kZXN0X3BpeGVsID0gZGVsdGFfcGVyX3NvdXJjZV9waXhlbCAvIGF2Z19zY2FsZV9jb21iaW5lZDtcbiAgbGV0IHZhbHVlID0gdmVjNChcbiAgICAxIC8gZGVsdGFfcGVyX2Rlc3RfcGl4ZWwsIC8vIEFBIE11bHQgYW5kIE91dGxpbmUgTXVsdFxuICAgIC0wLjUgLyBkZWx0YV9wZXJfZGVzdF9waXhlbCArIDAuNSwgLy8gQUEgQWRkXG4gICAgLy8gT3V0bGluZSBBZGRcbiAgICAtMC41IC8gZGVsdGFfcGVyX2Rlc3RfcGl4ZWwgKyAwLjUgKyBhcHBsaWVkX3N0eWxlLm91dGxpbmVfd2lkdGgqZm9udF90ZXhlbF9zY2FsZSphdmdfc2NhbGVfY29tYmluZWQsXG4gICAgMCwgLy8gVW51c2VkXG4gICk7XG4gIGlmICh2YWx1ZVsyXSA+IDApIHtcbiAgICB2YWx1ZVsyXSA9IDA7XG4gIH1cbiAgbGV0IHBhZGRpbmcxID0gbWF4KDAsIGFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCpmb250X3RleGVsX3NjYWxlKmF2Z19zY2FsZV9mb250KTtcbiAgbGV0IHBhZGRpbmc0ID0gdmVjNCgpO1xuICBjb25zdCBvdXRlcl9zY2FsZWQgPSBhcHBsaWVkX3N0eWxlLmdsb3dfb3V0ZXIqZm9udF90ZXhlbF9zY2FsZTtcbiAgcGFkZGluZzRbMF0gPSBtYXgob3V0ZXJfc2NhbGVkKnhzYyAtIGFwcGxpZWRfc3R5bGUuZ2xvd194b2Zmcypmb250X3RleGVsX3NjYWxlKnhzYywgcGFkZGluZzEpO1xuICBwYWRkaW5nNFsyXSA9IG1heChvdXRlcl9zY2FsZWQqeHNjICsgYXBwbGllZF9zdHlsZS5nbG93X3hvZmZzKmZvbnRfdGV4ZWxfc2NhbGUqeHNjLCBwYWRkaW5nMSk7XG4gIHBhZGRpbmc0WzFdID0gbWF4KG91dGVyX3NjYWxlZCp5c2MgLSBhcHBsaWVkX3N0eWxlLmdsb3dfeW9mZnMqZm9udF90ZXhlbF9zY2FsZSp5c2MsIHBhZGRpbmcxKTtcbiAgcGFkZGluZzRbM10gPSBtYXgob3V0ZXJfc2NhbGVkKnlzYyArIGFwcGxpZWRfc3R5bGUuZ2xvd195b2Zmcypmb250X3RleGVsX3NjYWxlKnlzYywgcGFkZGluZzEpO1xuXG4gIHRlY2hQYXJhbXNTZXQoJ3BhcmFtMCcsIHZhbHVlKTtcbiAgbGV0IHZhbHVlMiA9IHZlYzQoXG4gICAgMCwgLy8gZmlsbGVkIGxhdGVyXG4gICAgMCwgLy8gZmlsbGVkIGxhdGVyXG4gICAgLy8gR2xvdyBtdWx0XG4gICAgMSAvICgoYXBwbGllZF9zdHlsZS5nbG93X291dGVyIC0gYXBwbGllZF9zdHlsZS5nbG93X2lubmVyKSAqIGRlbHRhX3Blcl9zb3VyY2VfcGl4ZWwgKiBmb250X3RleGVsX3NjYWxlKSxcbiAgICAtKDAuNSAtIGFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciAqIGRlbHRhX3Blcl9zb3VyY2VfcGl4ZWwgKiBmb250X3RleGVsX3NjYWxlKSAvICgoYXBwbGllZF9zdHlsZS5nbG93X291dGVyIC1cbiAgICAgIGFwcGxpZWRfc3R5bGUuZ2xvd19pbm5lcikgKiBkZWx0YV9wZXJfc291cmNlX3BpeGVsICogZm9udF90ZXhlbF9zY2FsZSlcbiAgKTtcbiAgaWYgKHZhbHVlMlszXSA+IDApIHtcbiAgICB2YWx1ZTJbM10gPSAwO1xuICB9XG5cbiAgbGV0IHBhZGRpbmdfaW5fZm9udF9zcGFjZSA9IHZlYzQoKTtcbiAgdjRzY2FsZShwYWRkaW5nX2luX2ZvbnRfc3BhY2UsIHBhZGRpbmc0LCAxIC8gYXZnX3NjYWxlX2ZvbnQpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgNDsgKytpaSkge1xuICAgIGlmIChwYWRkaW5nX2luX2ZvbnRfc3BhY2VbaWldID4gZm9udF9pbmZvLnNwcmVhZCkge1xuICAgICAgLy8gTm90IGVub3VnaCBidWZmZXJcbiAgICAgIGxldCBzYyA9IGZvbnRfaW5mby5zcHJlYWQgLyBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbaWldO1xuICAgICAgcGFkZGluZzRbaWldICo9IHNjO1xuICAgICAgcGFkZGluZ19pbl9mb250X3NwYWNlW2lpXSAqPSBzYztcbiAgICB9XG4gIH1cblxuICAvLyBDaG9vc2UgYXBwcm9wcmlhdGUgeiBhZHZhbmNlIHNvIHRoYXQgY2hhcmFjdGVyIGFyZSBkcmF3biBsZWZ0IHRvIHJpZ2h0IChvciBSVEwgaWYgdGhlIGdsb3cgaXMgb24gdGhlIG90aGVyIHNpZGUpXG4gIGNvbnN0IHpfYWR2YW5jZSA9IGFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyA8IDAgPyAtMC4wMDAxIDogMC4wMDAxO1xuXG5cbiAgLy8gRm9yIG5vbi0xOjEgYXNwZWN0IHJhdGlvbiByZW5kZXJpbmcsIG5lZWQgdG8gc2NhbGUgb3VyIGNvb3JkaW5hdGVzJyBwYWRkaW5nIGRpZmZlcmVudGx5IGluIGVhY2ggYXhpc1xuICBsZXQgcmVsX3hfc2NhbGUgPSB4c2MgLyBhdmdfc2NhbGVfZm9udDtcbiAgbGV0IHJlbF95X3NjYWxlID0geXNjIC8gYXZnX3NjYWxlX2ZvbnQ7XG5cbiAgZm9yIChsZXQgaT0wOyBpPGxlbjsgaSsrKSB7XG4gICAgY29uc3QgYyA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoYyA9PT0gOSkgeyAvLyAnXFx0Jy5jaGFyQ29kZUF0KDApKSB7XG4gICAgICBsZXQgdGFic2l6ZSA9IHhzYyAqIGZvbnRfaW5mby5mb250X3NpemUgKiA0O1xuICAgICAgeCA9ICgoKCh4IC0gX3gpIC8gdGFic2l6ZSkgfCAwKSArIDEpICogdGFic2l6ZSArIF94O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY2hhcl9pbmZvID0gdGhpcy5pbmZvRnJvbUNoYXIoYyk7XG4gICAgICBpZiAoIWNoYXJfaW5mbykge1xuICAgICAgICBjaGFyX2luZm8gPSB0aGlzLmluZm9Gcm9tQ2hhcigxMyk7XG4gICAgICB9XG4gICAgICBpZiAoY2hhcl9pbmZvKSB7XG4gICAgICAgIGxldCBjaGFyX3NjYWxlID0gY2hhcl9pbmZvLnNjYWxlO1xuICAgICAgICBsZXQgeHNjMiA9IHhzYyAqIGNoYXJfc2NhbGU7XG4gICAgICAgIGlmIChjaGFyX2luZm8udykge1xuICAgICAgICAgIGxldCB5c2MyID0geXNjICogY2hhcl9zY2FsZTtcbiAgICAgICAgICBsZXQgcGFkX3NjYWxlID0gMSAvIGNoYXJfc2NhbGU7XG4gICAgICAgICAgbGV0IHRpbGVfd2lkdGggPSB0aGlzLnRleF93O1xuICAgICAgICAgIGxldCB0aWxlX2hlaWdodCA9IHRoaXMudGV4X2g7XG4gICAgICAgICAgLy8gTGF6eSB1cGRhdGUgcGFyYW1zIGhlcmVcbiAgICAgICAgICBpZiAoY2hhcl9zY2FsZSAhPT0gdGlsZV9zdGF0ZSkge1xuICAgICAgICAgICAgdmFsdWUyWzBdID0gLWFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyAqIGZvbnRfdGV4ZWxfc2NhbGUgKiBwYWRfc2NhbGUgLyB0aWxlX3dpZHRoO1xuICAgICAgICAgICAgdmFsdWUyWzFdID0gLWFwcGxpZWRfc3R5bGUuZ2xvd195b2ZmcyAqIGZvbnRfdGV4ZWxfc2NhbGUgKiBwYWRfc2NhbGUgLyB0aWxlX2hlaWdodDtcbiAgICAgICAgICAgIHRlY2hQYXJhbXNTZXQoJ2dsb3dQYXJhbXMnLCB2YWx1ZTIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCB1MCA9IChjaGFyX2luZm8ueDAgLSBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbMF0gKiBwYWRfc2NhbGUpIC8gdGlsZV93aWR0aDtcbiAgICAgICAgICBsZXQgdTEgPSAoY2hhcl9pbmZvLngwICsgY2hhcl9pbmZvLncgKyBwYWRkaW5nX2luX2ZvbnRfc3BhY2VbMl0gKiBwYWRfc2NhbGUpIC8gdGlsZV93aWR0aDtcbiAgICAgICAgICBsZXQgdjAgPSAoY2hhcl9pbmZvLnkwIC0gcGFkZGluZ19pbl9mb250X3NwYWNlWzFdICogcGFkX3NjYWxlKSAvIHRpbGVfaGVpZ2h0O1xuICAgICAgICAgIGxldCB2MSA9IChjaGFyX2luZm8ueTAgKyBjaGFyX2luZm8uaCArIHBhZGRpbmdfaW5fZm9udF9zcGFjZVszXSAqIHBhZF9zY2FsZSkgLyB0aWxlX2hlaWdodDtcblxuICAgICAgICAgIGxldCB3ID0gY2hhcl9pbmZvLncgKiB4c2MyICsgKHBhZGRpbmc0WzBdICsgcGFkZGluZzRbMl0pICogcmVsX3hfc2NhbGU7XG4gICAgICAgICAgbGV0IGggPSBjaGFyX2luZm8uaCAqIHlzYzIgKyAocGFkZGluZzRbMV0gKyBwYWRkaW5nNFszXSkgKiByZWxfeV9zY2FsZTtcblxuICAgICAgICAgIHNwcml0ZXMucXVldWVyYXcoXG4gICAgICAgICAgICB0ZXhzLFxuICAgICAgICAgICAgeCAtIHJlbF94X3NjYWxlICogcGFkZGluZzRbMF0sIHkgLSByZWxfeV9zY2FsZSAqIHBhZGRpbmc0WzJdICsgY2hhcl9pbmZvLnlvZmZzICogeXNjMixcbiAgICAgICAgICAgIHogKyB6X2FkdmFuY2UgKiBpLCB3LCBoLFxuICAgICAgICAgICAgdTAsIHYwLCB1MSwgdjEsXG4gICAgICAgICAgICBhcHBsaWVkX3N0eWxlLmNvbG9yX3ZlYzQsXG4gICAgICAgICAgICB0aGlzLnNoYWRlciwgdGVjaFBhcmFtc0dldCgpKTtcblxuICAgICAgICAgIC8vIHJlcXVpcmUoJy4vdWkuanMnKS5kcmF3UmVjdCh4IC0gcmVsX3hfc2NhbGUgKiBwYWRkaW5nNFswXSxcbiAgICAgICAgICAvLyAgIHkgLSByZWxfeV9zY2FsZSAqIHBhZGRpbmc0WzJdICsgY2hhcl9pbmZvLnlvZmZzICogeXNjMixcbiAgICAgICAgICAvLyAgIHcgKyB4IC0gcmVsX3hfc2NhbGUgKiBwYWRkaW5nNFswXSxcbiAgICAgICAgICAvLyAgIGggKyB5IC0gcmVsX3lfc2NhbGUgKiBwYWRkaW5nNFsyXSArIGNoYXJfaW5mby55b2ZmcyAqIHlzYzIsXG4gICAgICAgICAgLy8gICAxMDAwLCBbaSAmIDEsIChpICYgMik+PjEsIChpICYgNCk+PjIsIDAuNV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgeCArPSAoY2hhcl9pbmZvLncgKyBjaGFyX2luZm8ueHBhZCkgKiB4c2MyICsgeF9hZHZhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4geCAtIF94O1xufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmRldGVybWluZVNoYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG91dGxpbmUgPSB0aGlzLmFwcGxpZWRfc3R5bGUub3V0bGluZV93aWR0aCAmJiAodGhpcy5hcHBsaWVkX3N0eWxlLm91dGxpbmVfY29sb3IgJiAweGZmKTtcbiAgbGV0IGdsb3cgPSB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciA+IDAgJiYgKHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X2NvbG9yICYgMHhmZik7XG4gIGlmIChvdXRsaW5lKSB7XG4gICAgaWYgKGdsb3cpIHtcbiAgICAgIHRoaXMuc2hhZGVyID0gZm9udF9zaGFkZXJzLmZvbnRfYWFfb3V0bGluZV9nbG93O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNoYWRlciA9IGZvbnRfc2hhZGVycy5mb250X2FhX291dGxpbmU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGdsb3cpIHtcbiAgICB0aGlzLnNoYWRlciA9IGZvbnRfc2hhZGVycy5mb250X2FhX2dsb3c7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zaGFkZXIgPSBmb250X3NoYWRlcnMuZm9udF9hYTtcbiAgfVxufTtcblxuR2xvdkZvbnQucHJvdG90eXBlLmFwcGx5U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gdGhpcy5kZWZhdWx0X3N0eWxlO1xuICB9XG4gIC8vIG91dGxpbmVcbiAgdmVjNENvbG9yRnJvbUludENvbG9yKHRlbXBfY29sb3IsIHN0eWxlLm91dGxpbmVfY29sb3IpO1xuICB0ZWNoUGFyYW1zU2V0KCdvdXRsaW5lQ29sb3InLCB0ZW1wX2NvbG9yKTtcblxuICAvLyBnbG93XG4gIHZlYzRDb2xvckZyb21JbnRDb2xvcih0ZW1wX2NvbG9yLCBzdHlsZS5nbG93X2NvbG9yKTtcbiAgdGVjaFBhcmFtc1NldCgnZ2xvd0NvbG9yJywgdGVtcF9jb2xvcik7XG5cbiAgLy8gZXZlcnl0aGluZyBlbHNlXG4gIHRoaXMuYXBwbGllZF9zdHlsZS5vdXRsaW5lX3dpZHRoID0gc3R5bGUub3V0bGluZV93aWR0aDtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLm91dGxpbmVfY29sb3IgPSBzdHlsZS5vdXRsaW5lX2NvbG9yO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd194b2ZmcyA9IHN0eWxlLmdsb3dfeG9mZnM7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X3lvZmZzID0gc3R5bGUuZ2xvd195b2ZmcztcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmdsb3dfaW5uZXIgPSBzdHlsZS5nbG93X2lubmVyO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuZ2xvd19vdXRlciA9IHN0eWxlLmdsb3dfb3V0ZXI7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5nbG93X2NvbG9yID0gc3R5bGUuZ2xvd19jb2xvcjtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yID0gc3R5bGUuY29sb3I7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvcl92ZWM0ID0gc3R5bGUuY29sb3JfdmVjNDtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yVVIgPSBzdHlsZS5jb2xvclVSO1xuICB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JMUiA9IHN0eWxlLmNvbG9yTFI7XG4gIHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvckxMID0gc3R5bGUuY29sb3JMTDtcbiAgdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yX21vZGUgPSBzdHlsZS5jb2xvcl9tb2RlO1xuXG4gIGlmICh0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JfbW9kZSA9PT0gQ09MT1JfTU9ERS5TSU5HTEUpIHtcbiAgICB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3JVUiA9IHRoaXMuYXBwbGllZF9zdHlsZS5jb2xvckxMID0gdGhpcy5hcHBsaWVkX3N0eWxlLmNvbG9yTFIgPSB0aGlzLmFwcGxpZWRfc3R5bGUuY29sb3I7XG4gIH1cblxuICB0aGlzLmRldGVybWluZVNoYWRlcigpO1xufTtcblxuLy8gUmVwbGljYXRlIGNvbnN0YW50cyBhbmQgdXRpbGl0eSBmdW5jdGlvbnMgb24gYWxsIGZvbnQgaW5zdGFuY2VzIGFzIHdlbGxcbkdsb3ZGb250LnByb3RvdHlwZS5DT0xPUl9NT0RFID0gQ09MT1JfTU9ERTtcbkdsb3ZGb250LnByb3RvdHlwZS5BTElHTiA9IEFMSUdOO1xuR2xvdkZvbnQucHJvdG90eXBlLnN0eWxlID0gc3R5bGU7XG5HbG92Rm9udC5wcm90b3R5cGUuc3R5bGVBbHBoYSA9IHN0eWxlQWxwaGE7XG5HbG92Rm9udC5wcm90b3R5cGUuc3R5bGVDb2xvcmVkID0gc3R5bGVDb2xvcmVkO1xuXG5mdW5jdGlvbiBmb250U2hhZGVyc0luaXQoKSB7XG4gIGlmIChmb250X3NoYWRlcnMuZm9udF9hYSkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb250X3NoYWRlcnMuZm9udF9hYSA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYS5mcCcpO1xuICBmb250X3NoYWRlcnMuZm9udF9hYV9nbG93ID0gc2hhZGVycy5jcmVhdGUoJ2dsb3Yvc2hhZGVycy9mb250X2FhX2dsb3cuZnAnKTtcbiAgZm9udF9zaGFkZXJzLmZvbnRfYWFfb3V0bGluZSA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYV9vdXRsaW5lLmZwJyk7XG4gIGZvbnRfc2hhZGVycy5mb250X2FhX291dGxpbmVfZ2xvdyA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZm9udF9hYV9vdXRsaW5lX2dsb3cuZnAnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmb250X2luZm8sIHRleHR1cmVfbmFtZSkge1xuICBmb250U2hhZGVyc0luaXQoKTtcbiAgcmV0dXJuIG5ldyBHbG92Rm9udChmb250X2luZm8sIHRleHR1cmVfbmFtZSk7XG59XG4iLCJjb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgaXNfaW9zIH0gPSByZXF1aXJlKCcuL2Jyb3dzZXIuanMnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IHsgYXBwbHlDb3B5IH0gPSByZXF1aXJlKCcuL2VmZmVjdHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCB7IHJlbmRlcldpZHRoLCByZW5kZXJIZWlnaHQgfSA9IGVuZ2luZTtcbmNvbnN0IHBlcmYgPSByZXF1aXJlKCcuL3BlcmYuanMnKTtcbmNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5cbmxldCBsYXN0X251bV9wYXNzZXMgPSAwO1xubGV0IG51bV9wYXNzZXMgPSAwO1xuXG5sZXQgdGVtcG9yYXJ5X3RleHR1cmVzID0ge307XG5sZXQgdGVtcG9yYXJ5X2RlcHRoYnVmZmVycyA9IHt9O1xuXG5sZXQgcmVzZXRfZmJvcyA9IGZhbHNlO1xuZnVuY3Rpb24gcmVzZXRGQk9zKCkge1xuICByZXNldF9mYm9zID0gdHJ1ZTtcbn1cblxubGV0IGxhc3RfdGVtcF9pZHggPSAwO1xuZnVuY3Rpb24gZ2V0VGVtcG9yYXJ5VGV4dHVyZSh3LCBoLCBwb3NzaWJseV9mYm8pIHtcbiAgbGV0IGtleSA9IGAke3d9XyR7aH1gO1xuICBsZXQgaXNfZmJvID0gcG9zc2libHlfZmJvICYmIHNldHRpbmdzLnVzZV9mYm9zO1xuICBpZiAoaXNfZmJvKSB7XG4gICAga2V5ICs9ICdfZmJvJztcbiAgfVxuICBsZXQgdGVtcCA9IHRlbXBvcmFyeV90ZXh0dXJlc1trZXldO1xuICBpZiAoIXRlbXApIHtcbiAgICB0ZW1wID0gdGVtcG9yYXJ5X3RleHR1cmVzW2tleV0gPSB7IGxpc3Q6IFtdLCBpZHg6IDAgfTtcbiAgfVxuICBpZiAodGVtcC5pZHggPj0gdGVtcC5saXN0Lmxlbmd0aCkge1xuICAgIGxldCB0ZXggPSB0ZXh0dXJlcy5jcmVhdGVGb3JDYXB0dXJlKGB0ZW1wXyR7a2V5fV8keysrbGFzdF90ZW1wX2lkeH1gKTtcbiAgICBpZiAoaXNfZmJvKSB7XG4gICAgICB0ZXguYWxsb2NGQk8odywgaCk7XG4gICAgfVxuICAgIHRlbXAubGlzdC5wdXNoKHRleCk7XG4gIH1cbiAgbGV0IHRleCA9IHRlbXAubGlzdFt0ZW1wLmlkeCsrXTtcbiAgcmV0dXJuIHRleDtcbn1cblxuZnVuY3Rpb24gYmluZFRlbXBvcmFyeURlcHRoYnVmZmVyKHcsIGgpIHtcbiAgbGV0IGtleSA9IGAke3d9XyR7aH1gO1xuICBsZXQgdGVtcCA9IHRlbXBvcmFyeV9kZXB0aGJ1ZmZlcnNba2V5XTtcbiAgaWYgKCF0ZW1wKSB7XG4gICAgdGVtcCA9IHRlbXBvcmFyeV9kZXB0aGJ1ZmZlcnNba2V5XSA9IHsgbGlzdDogW10sIGlkeDogMCB9O1xuICB9XG4gIGlmICh0ZW1wLmlkeCA+PSB0ZW1wLmxpc3QubGVuZ3RoKSB7XG4gICAgbGV0IGRlcHRoX2J1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBkZXB0aF9idWZmZXIpO1xuICAgIGxldCBhdHRhY2htZW50O1xuICAgIGlmIChzZXR0aW5ncy5mYm9fZGVwdGgxNikge1xuICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3LCBoKTtcbiAgICAgIGF0dGFjaG1lbnQgPSBnbC5ERVBUSF9BVFRBQ0hNRU5UO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgdywgaCk7XG4gICAgICBhdHRhY2htZW50ID0gZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UO1xuICAgIH1cbiAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XG4gICAgdGVtcC5saXN0LnB1c2goeyBkZXB0aF9idWZmZXIsIGF0dGFjaG1lbnQgfSk7XG4gIH1cbiAgbGV0IHsgZGVwdGhfYnVmZmVyLCBhdHRhY2htZW50IH0gPSB0ZW1wLmxpc3RbdGVtcC5pZHgrK107XG4gIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBhdHRhY2htZW50LCBnbC5SRU5ERVJCVUZGRVIsIGRlcHRoX2J1ZmZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wb3JhcnlUZXh0dXJlQ2xhaW0odGV4KSB7XG4gIGZvciAobGV0IGtleSBpbiB0ZW1wb3JhcnlfdGV4dHVyZXMpIHtcbiAgICBsZXQgdGVtcCA9IHRlbXBvcmFyeV90ZXh0dXJlc1trZXldO1xuICAgIGxldCBpZHggPSB0ZW1wLmxpc3QuaW5kZXhPZih0ZXgpO1xuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICB0ZW1wLmxpc3Quc3BsaWNlKGlkeCwgMSk7XG4gICAgICBpZiAodGVtcC5pZHggPiBpZHgpIHtcbiAgICAgICAgLS10ZW1wLmlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgYXNzZXJ0KGZhbHNlKTtcbn1cblxuLy8gQ2FsbCB0ZXguY2FwdHVyZUVuZCB3aGVuIGRvbmVcbmZ1bmN0aW9uIGZyYW1lYnVmZmVyQ2FwdHVyZVN0YXJ0KHRleCwgdywgaCwgcG9zc2libHlfZmJvKSB7XG4gIGFzc2VydC5lcXVhbChlbmdpbmUudmlld3BvcnRbMF0sIDApOyAvLyBtYXliZSBhbGxvdy9yZXF1aXJlIHNldHRpbmcgdmlld3BvcnQgKmFmdGVyKiBzdGFydGluZyBjYXB0dXJlIGluc3RlYWQ/XG4gIGFzc2VydC5lcXVhbChlbmdpbmUudmlld3BvcnRbMV0sIDApO1xuICBpZiAoIXcpIHtcbiAgICB3ID0gcmVuZGVyV2lkdGgoKTtcbiAgICBoID0gcmVuZGVySGVpZ2h0KCk7XG4gIH1cbiAgaWYgKCF0ZXgpIHtcbiAgICB0ZXggPSBnZXRUZW1wb3JhcnlUZXh0dXJlKHcsIGgsIHBvc3NpYmx5X2Zibyk7XG4gIH1cbiAgdGV4LmNhcHR1cmVTdGFydCh3LCBoKTtcbiAgcmV0dXJuIHRleDtcbn1cblxuLy8gRG9lcyBhIGNhcHR1cmUgZGlyZWN0bHkgZnJvbSB0aGUgZnJhbWVidWZmZXIgcmVnYXJkbGVzcyBvZiBjdXJyZW50IHVzZV9mYm9zIHNldHRpbmdcbi8vIFdhcm5pbmc6IFNsb3cgb24gaU9TXG5leHBvcnQgZnVuY3Rpb24gZnJhbWVidWZmZXJDYXB0dXJlKHRleCwgdywgaCwgZmlsdGVyX2xpbmVhciwgd3JhcCkge1xuICB0ZXggPSBmcmFtZWJ1ZmZlckNhcHR1cmVTdGFydCh0ZXgsIHcsIGgsIGZhbHNlKTtcbiAgdGV4LmNhcHR1cmVFbmQoZmlsdGVyX2xpbmVhciwgd3JhcCk7XG4gIHJldHVybiB0ZXg7XG59XG5cblxubGV0IGN1cl90ZXg7XG5leHBvcnQgZnVuY3Rpb24gZnJhbWVidWZmZXJTdGFydChvcHRzKSB7XG4gIGFzc2VydCghY3VyX3RleCk7XG4gIGxldCB7IHdpZHRoLCBoZWlnaHQsIHZpZXdwb3J0LCBmaW5hbCwgY2xlYXIsIG5lZWRfZGVwdGgsIGNsZWFyX2FsbCwgY2xlYXJfY29sb3IsIGZvcmNlX3RleCB9ID0gb3B0cztcbiAgKytudW1fcGFzc2VzO1xuICBpZiAoZm9yY2VfdGV4KSB7XG4gICAgYXNzZXJ0KHZpZXdwb3J0KTtcbiAgICBjdXJfdGV4ID0gZm9yY2VfdGV4O1xuICAgIGN1cl90ZXguY2FwdHVyZVN0YXJ0KCk7XG4gIH0gZWxzZSBpZiAoIWZpbmFsKSB7XG4gICAgY3VyX3RleCA9IGZyYW1lYnVmZmVyQ2FwdHVyZVN0YXJ0KG51bGwsIHdpZHRoLCBoZWlnaHQsIHRydWUpO1xuICAgIGlmIChzZXR0aW5ncy51c2VfZmJvcykge1xuICAgICAgaWYgKG5lZWRfZGVwdGgpIHtcbiAgICAgICAgYmluZFRlbXBvcmFyeURlcHRoYnVmZmVyKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGVzdGluZzogZm9yY2UgdW5iaW5kLCBpbiBjYXNlIG9uZSB3YXMgbGVmdCBib3VuZFxuICAgICAgICAvLyBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgc2V0dGluZ3MuZmJvX2RlcHRoMTYgP1xuICAgICAgICAvLyAgIGdsLkRFUFRIX0FUVEFDSE1FTlQgOiBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChjbGVhcl9jb2xvcikge1xuICAgIGdsLmNsZWFyQ29sb3IoY2xlYXJfY29sb3JbMF0sIGNsZWFyX2NvbG9yWzFdLCBjbGVhcl9jb2xvclsyXSwgY2xlYXJfY29sb3JbM10pO1xuICB9XG4gIGlmIChjbGVhciAmJiBjbGVhcl9hbGwpIHtcbiAgICAvLyBmdWxsIGNsZWFyLCBiZWZvcmUgc2V0dGluZyB2aWV3cG9ydFxuICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgKG5lZWRfZGVwdGggPyBnbC5ERVBUSF9CVUZGRVJfQklUIDogMCkpO1xuICB9XG4gIGxldCBuZWVkX3NjaXNzb3I7XG4gIGlmICh2aWV3cG9ydCkge1xuICAgIGVuZ2luZS5zZXRWaWV3cG9ydCh2aWV3cG9ydCk7XG4gICAgbmVlZF9zY2lzc29yID0gdmlld3BvcnRbMF0gfHwgdmlld3BvcnRbMV0gfHwgdmlld3BvcnRbMl0gIT09IGVuZ2luZS53aWR0aCB8fCB2aWV3cG9ydFszXSAhPT0gZW5naW5lLmhlaWdodDtcbiAgICBpZiAoY2xlYXJfYWxsKSB7IC8vIG5vdCBzdXJlIHRoaXMgbG9naWNhbGx5IGZvbGxvd3MsIGJ1dCB3ZSB3YW50IHRoaXMgYW55d2hlcmUgd2UncmUgY2xlYXJpbmcgYWxsIGN1cnJlbnRseVxuICAgICAgbmVlZF9zY2lzc29yID0gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGVuZ2luZS5zZXRWaWV3cG9ydChbMCwgMCwgd2lkdGgsIGhlaWdodF0pO1xuICAgIG5lZWRfc2Npc3NvciA9IHdpZHRoICE9PSBlbmdpbmUud2lkdGg7XG4gIH1cbiAgaWYgKG5lZWRfc2Npc3NvciAmJiAhc2V0dGluZ3MudXNlX2Zib3MpIHtcbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBpZiAodmlld3BvcnQpIHtcbiAgICAgIGdsLnNjaXNzb3Iodmlld3BvcnRbMF0sIHZpZXdwb3J0WzFdLCB2aWV3cG9ydFsyXSwgdmlld3BvcnRbM10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5zY2lzc29yKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIH1cbiAgaWYgKGNsZWFyICYmICFjbGVhcl9hbGwpIHtcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgKG5lZWRfZGVwdGggPyBnbC5ERVBUSF9CVUZGRVJfQklUIDogMCkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFtZWJ1ZmZlckVuZChvcHRzKSB7XG4gIGFzc2VydChjdXJfdGV4KTtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIGxldCB7IGZpbHRlcl9saW5lYXIsIHdyYXAgfSA9IG9wdHM7XG5cbiAgY3VyX3RleC5jYXB0dXJlRW5kKGZpbHRlcl9saW5lYXIsIHdyYXApO1xuXG4gIGxldCByZXQgPSBjdXJfdGV4O1xuICBjdXJfdGV4ID0gbnVsbDtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyYW1lYnVmZmVyVG9wT2ZGcmFtZSgpIHtcbiAgLy8gSW4gY2FzZSBvZiBjcmFzaCBvbiBwcmV2aW91cyBmcmFtZVxuICBjdXJfdGV4ID0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyYW1lYnVmZmVyRW5kT2ZGcmFtZSgpIHtcbiAgYXNzZXJ0KCFjdXJfdGV4KTtcbiAgbGFzdF9udW1fcGFzc2VzID0gbnVtX3Bhc3NlcztcbiAgbnVtX3Bhc3NlcyA9IDA7XG5cbiAgZm9yIChsZXQga2V5IGluIHRlbXBvcmFyeV90ZXh0dXJlcykge1xuICAgIGxldCB0ZW1wID0gdGVtcG9yYXJ5X3RleHR1cmVzW2tleV07XG4gICAgaWYgKHJlc2V0X2Zib3MpIHtcbiAgICAgIC8vIFJlbGVhc2UgYWxsIHRleHR1cmVzXG4gICAgICB0ZW1wLmlkeCA9IDA7XG4gICAgfVxuICAgIC8vIFJlbGVhc2UgdW51c2VkIHRleHR1cmVzXG4gICAgd2hpbGUgKHRlbXAubGlzdC5sZW5ndGggPiB0ZW1wLmlkeCkge1xuICAgICAgdGVtcC5saXN0LnBvcCgpLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgaWYgKCF0ZW1wLmlkeCkge1xuICAgICAgZGVsZXRlIHRlbXBvcmFyeV90ZXh0dXJlc1trZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wLmlkeCA9IDA7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGtleSBpbiB0ZW1wb3JhcnlfZGVwdGhidWZmZXJzKSB7XG4gICAgbGV0IHRlbXAgPSB0ZW1wb3JhcnlfZGVwdGhidWZmZXJzW2tleV07XG4gICAgaWYgKHJlc2V0X2Zib3MpIHtcbiAgICAgIC8vIFJlbGVhc2UgYWxsIHJlbmRlcmJ1ZmZlcnNcbiAgICAgIHRlbXAuaWR4ID0gMDtcbiAgICB9XG4gICAgLy8gUmVsZWFzZSB1bnVzZWQgcmVuZGVyYnVmZmVyc1xuICAgIHdoaWxlICh0ZW1wLmxpc3QubGVuZ3RoID4gdGVtcC5pZHgpIHtcbiAgICAgIGxldCB7IGRlcHRoX2J1ZmZlciB9ID0gdGVtcC5saXN0LnBvcCgpO1xuICAgICAgLy8gVE9ETzogY2FuIHRoaXMgc3RpbGwgYmUgYm91bmQgdG8gYSBmcmFtZWJ1ZmZlcj8gdW5saWtlbHksIGJ1dCBwb3NzaWJsZT9cbiAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihkZXB0aF9idWZmZXIpO1xuICAgIH1cbiAgICBpZiAoIXRlbXAuaWR4KSB7XG4gICAgICBkZWxldGUgdGVtcG9yYXJ5X2RlcHRoYnVmZmVyc1trZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wLmlkeCA9IDA7XG4gICAgfVxuICB9XG4gIHJlc2V0X2Zib3MgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyYW1lYnVmZmVyVXBkYXRlQ2FudmFzRm9yQ2FwdHVyZSgpIHtcbiAgaWYgKGN1cl90ZXggJiYgc2V0dGluZ3MudXNlX2Zib3MpIHtcbiAgICBsZXQgc2F2ZWRfdGV4ID0gY3VyX3RleDtcbiAgICBsZXQgc2F2ZWRfdmlld3BvcnQgPSBlbmdpbmUudmlld3BvcnQuc2xpY2UoMCk7XG4gICAgLy8gY29weSB0byBjYW52YXNcbiAgICBmcmFtZWJ1ZmZlckVuZCgpO1xuICAgIGFwcGx5Q29weSh7XG4gICAgICBzb3VyY2U6IHNhdmVkX3RleCxcbiAgICAgIGZpbmFsOiB0cnVlLFxuICAgICAgdmlld3BvcnQ6IHNhdmVkX3ZpZXdwb3J0LFxuICAgIH0pO1xuICAgIC8vIHJlc3VtZSByZW5kZXJpbmcgdG8gZnJhbWVidWZmZXJcbiAgICBmcmFtZWJ1ZmZlclN0YXJ0KHtcbiAgICAgIGZvcmNlX3RleDogc2F2ZWRfdGV4LFxuICAgICAgdmlld3BvcnQ6IHNhdmVkX3ZpZXdwb3J0LFxuICAgIH0pO1xuICAgIHJldHVybiBzYXZlZF90ZXg7IC8vIGp1c3QgZm9yIC53aWR0aC9oZWlnaHRcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyB3aWR0aDogZW5naW5lLnZpZXdwb3J0WzJdLCBoZWlnaHQ6IGVuZ2luZS52aWV3cG9ydFszXSB9O1xuICB9XG59XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgc2hvd19wYXNzZXM6IHtcbiAgICBsYWJlbDogJ1Nob3cgUG9zdHByb2Nlc3NpbmcgUGFzc2VzJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG4gIHVzZV9mYm9zOiB7XG4gICAgbGFiZWw6ICdVc2UgRnJhbWVidWZmZXIgT2JqZWN0cyBmb3IgcG9zdHByb2Nlc3NpbmcnLFxuICAgIGRlZmF1bHRfdmFsdWU6IGlzX2lvcyA/IDEgOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gICAgdmVyOiAxLFxuICB9LFxuICBmYm9fZGVwdGgxNjogeyAvLyBUaGlzIGhhZCBubyBlZmZlY3Qgb24gcGVyZm9ybWFuY2UsIHRlc3RlZCBvbiBpUGhvbmUsIFhwZXJpYSBvciBJbnRlbCBHUFVcbiAgICBsYWJlbDogJ1VzZSAxNi1iaXQgZGVwdGggYnVmZmVycyBmb3Igb2Zmc2NyZWVuIHJlbmRlcmluZycsXG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICAgIG9uX2NoYW5nZTogcmVzZXRGQk9zLFxuICB9LFxuICBmYm9fcmdiYTogeyAvLyBUaGlzIGhhZCBubyBlZmZlY3Qgb24gcGVyZm9ybWFuY2UsIHRlc3RlZCBvbiBpUGhvbmUsIFhwZXJpYSBvciBJbnRlbCBHUFVcbiAgICBsYWJlbDogJ1VzZSBSR0JBIGNvbG9yIGJ1ZmZlcnMgZm9yIG9mZnNjcmVlbiByZW5kZXJpbmcnLFxuICAgIGRlZmF1bHRfdmFsdWU6IDAsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgICBvbl9jaGFuZ2U6IHJlc2V0RkJPcyxcbiAgfSxcbn0pO1xuXG5wZXJmLmFkZE1ldHJpYyh7XG4gIG5hbWU6ICdwYXNzZXMnLFxuICBzaG93X3N0YXQ6ICdzaG93X3Bhc3NlcycsXG4gIGxhYmVsczoge1xuICAgICdwYXNzZXM6ICc6ICgpID0+IGxhc3RfbnVtX3Bhc3Nlcy50b1N0cmluZygpLFxuICB9LFxufSk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAyMCBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3Qge1xuICBGUklFTkRfQURERUQsXG4gIEZSSUVORF9BRERFRF9BVVRPLFxuICBGUklFTkRfUkVNT1ZFRCxcbiAgUFJFU0VOQ0VfQUNUSVZFLFxuICBQUkVTRU5DRV9JTkFDVElWRSxcbiAgUFJFU0VOQ0VfT0ZGTElORSxcbn0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vZW51bXMuanMnKTtcbmNvbnN0IHsgZmJHZXRGcmllbmRzIH0gPSByZXF1aXJlKCcuL2ZiaW5zdGFudC5qcycpO1xuY29uc3QgaW5wdXQgPSByZXF1aXJlKCcuL2lucHV0LmpzJyk7XG5jb25zdCBuZXQgPSByZXF1aXJlKCcuL25ldC5qcycpO1xuY29uc3QgeyBkZWVwRXF1YWwgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5cbmNvbnN0IElETEVfVElNRSA9IDYwMDAwO1xuXG5sZXQgc3VicztcblxubGV0IGZyaWVuZF9saXN0ID0gbnVsbDtcblxuLy8gTWF5IGJlIGBudWxsYCBpZiBub3QgbG9nZ2VkIGluIG9yIHN0aWxsIGxvYWRpbmdcbmV4cG9ydCBmdW5jdGlvbiBmcmllbmRzR2V0KCkge1xuICByZXR1cm4gZnJpZW5kX2xpc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyaWVuZCh1c2VyX2lkKSB7XG4gIHJldHVybiBmcmllbmRfbGlzdCAmJiBmcmllbmRfbGlzdFt1c2VyX2lkXSAmJiBmcmllbmRfbGlzdFt1c2VyX2lkXSAhPT0gRlJJRU5EX1JFTU9WRUQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmllbmRBZGQodXNlcl9pZCwgY2IpIHtcbiAgbmV0LnN1YnMuZ2V0TXlVc2VyQ2hhbm5lbCgpLmNtZFBhcnNlKGBmcmllbmRfYWRkICR7dXNlcl9pZH1gLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgaWYgKCFlcnIpIHtcbiAgICAgIGZyaWVuZF9saXN0W3VzZXJfaWRdID0gRlJJRU5EX0FEREVEO1xuICAgIH1cbiAgICBjYihlcnIsIHJlc3ApO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyaWVuZFJlbW92ZSh1c2VyX2lkLCBjYikge1xuICBuZXQuc3Vicy5nZXRNeVVzZXJDaGFubmVsKCkuY21kUGFyc2UoYGZyaWVuZF9yZW1vdmUgJHt1c2VyX2lkfWAsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICBpZiAoIWVycikge1xuICAgICAgZnJpZW5kX2xpc3RbdXNlcl9pZF0gPSBGUklFTkRfUkVNT1ZFRDtcbiAgICB9XG4gICAgY2IoZXJyLCByZXNwKTtcbiAgfSk7XG59XG5cbi8vIFBhc3MtdGhyb3VnaCBjb21tYW5kc1xuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZnJpZW5kX2FkZCcsXG4gIGhlbHA6ICdBZGQgYSBmcmllbmQnLFxuICBmdW5jOiBmcmllbmRBZGQsXG59KTtcbmNtZF9wYXJzZS5yZWdpc3Rlcih7XG4gIGNtZDogJ2ZyaWVuZF9yZW1vdmUnLFxuICBoZWxwOiAnUmVtb3ZlIGEgZnJpZW5kJyxcbiAgZnVuYzogZnJpZW5kUmVtb3ZlLFxufSk7XG5jbWRfcGFyc2UucmVnaXN0ZXIoe1xuICBjbWQ6ICdmcmllbmRfbGlzdCcsXG4gIGhlbHA6ICdMaXN0IGFsbCBmcmllbmRzJyxcbiAgZnVuYzogZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gICAgaWYgKCFmcmllbmRfbGlzdCkge1xuICAgICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKCdGcmllbmQgbGlzdCBub3QgbG9hZGVkJyk7XG4gICAgfVxuICAgIHJlc3BfZnVuYyhudWxsLCBPYmplY3Qua2V5cyhmcmllbmRfbGlzdCkuZmlsdGVyKChhKSA9PiBmcmllbmRfbGlzdFthXSAhPT0gRlJJRU5EX1JFTU9WRUQpLmpvaW4oJywnKSB8fFxuICAgICAgJ1lvdSBoYXZlIG5vIGZyaWVuZHMnKTtcbiAgfSxcbn0pO1xuXG5sZXQgaW52aXNpYmxlID0gMDtcbmNtZF9wYXJzZS5yZWdpc3RlclZhbHVlKCdpbnZpc2libGUnLCB7XG4gIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgaGVscDogJ0hpZGUgcmljaCBwcmVzZW5jZSBpbmZvcm1hdGlvbiBmcm9tIG90aGVyIHVzZXJzJyxcbiAgbGFiZWw6ICdJbnZpc2libGUnLFxuICByYW5nZTogWzAsMV0sXG4gIGdldDogKCkgPT4gaW52aXNpYmxlLFxuICBzZXQ6ICh2KSA9PiAoaW52aXNpYmxlID0gdiksXG59KTtcblxubGV0IGFmayA9IDA7XG5jbWRfcGFyc2UucmVnaXN0ZXJWYWx1ZSgnYWZrJywge1xuICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gIGhlbHA6ICdBcHBlYXIgYXMgaWRsZSB0byBvdGhlciB1c2VycycsXG4gIGxhYmVsOiAnQUZLJyxcbiAgcmFuZ2U6IFswLDFdLFxuICBnZXQ6ICgpID0+IGFmayxcbiAgc2V0OiAodikgPT4gKGFmayA9IHYpLFxufSk7XG5cbmZ1bmN0aW9uIG9uUHJlc2VuY2UoZGF0YSkge1xuICBsZXQgdXNlcl9jaGFubmVsID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgdXNlcl9jaGFubmVsLnByZXNlbmNlX2RhdGEgPSBkYXRhO1xufVxuXG5sZXQgbGFzdF9wcmVzZW5jZSA9IG51bGw7XG5sZXQgc2VuZF9xdWV1ZWQ7XG5mdW5jdGlvbiByaWNoUHJlc2VuY2VTZW5kKCkge1xuICBpZiAoIW5ldC5zdWJzLmxvZ2dlZEluKCkgfHwgIWxhc3RfcHJlc2VuY2UgfHwgc2VuZF9xdWV1ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VuZF9xdWV1ZWQgPSB0cnVlO1xuICBzdWJzLm9uY2VDb25uZWN0ZWQoKCkgPT4ge1xuICAgIHNlbmRfcXVldWVkID0gZmFsc2U7XG4gICAgaWYgKCFuZXQuc3Vicy5sb2dnZWRJbigpIHx8ICFsYXN0X3ByZXNlbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBwYWsgPSBuZXQuc3Vicy5nZXRNeVVzZXJDaGFubmVsKCkucGFrKCdwcmVzZW5jZV9zZXQnKTtcbiAgICBwYWsud3JpdGVJbnQobGFzdF9wcmVzZW5jZS5hY3RpdmUpO1xuICAgIHBhay53cml0ZUFuc2lTdHJpbmcobGFzdF9wcmVzZW5jZS5zdGF0ZSk7XG4gICAgcGFrLndyaXRlSlNPTihsYXN0X3ByZXNlbmNlLnBheWxvYWQpO1xuICAgIHBhay5zZW5kKCk7XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJpY2hQcmVzZW5jZVNldChhY3RpdmUsIHN0YXRlLCBwYXlsb2FkKSB7XG4gIGFjdGl2ZSA9ICFhY3RpdmUgfHwgYWZrIHx8IChEYXRlLm5vdygpIC0gaW5wdXQuaW5wdXRMYXN0VGltZSgpID4gSURMRV9USU1FKSA/IFBSRVNFTkNFX0lOQUNUSVZFIDogUFJFU0VOQ0VfQUNUSVZFO1xuICBpZiAoaW52aXNpYmxlKSB7XG4gICAgYWN0aXZlID0gUFJFU0VOQ0VfT0ZGTElORTtcbiAgfVxuICBwYXlsb2FkID0gcGF5bG9hZCB8fCBudWxsO1xuICBpZiAoIWxhc3RfcHJlc2VuY2UgfHxcbiAgICBhY3RpdmUgIT09IGxhc3RfcHJlc2VuY2UuYWN0aXZlIHx8IHN0YXRlICE9PSBsYXN0X3ByZXNlbmNlLnN0YXRlIHx8XG4gICAgIWRlZXBFcXVhbChsYXN0X3ByZXNlbmNlLnBheWxvYWQsIHBheWxvYWQpXG4gICkge1xuICAgIGxhc3RfcHJlc2VuY2UgPSB7XG4gICAgICBhY3RpdmUsXG4gICAgICBzdGF0ZSxcbiAgICAgIHBheWxvYWQsXG4gICAgfTtcbiAgICByaWNoUHJlc2VuY2VTZW5kKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyaWVuZHNJbml0KCkge1xuICBzdWJzID0gbmV0LnN1YnM7XG4gIHN1YnMub24oJ2xvZ2luJywgZnVuY3Rpb24gKCkge1xuICAgIGxldCB1c2VyX2NoYW5uZWwgPSBzdWJzLmdldE15VXNlckNoYW5uZWwoKTtcbiAgICBsZXQgdXNlcl9pZCA9IHN1YnMubG9nZ2VkX2luX3VzZXJuYW1lO1xuICAgIHJpY2hQcmVzZW5jZVNlbmQoKTtcbiAgICBmcmllbmRfbGlzdCA9IG51bGw7XG4gICAgdXNlcl9jaGFubmVsLnBhaygnZnJpZW5kX2xpc3QnKS5zZW5kKChlcnIsIHBhaykgPT4ge1xuICAgICAgaWYgKGVyciB8fCB1c2VyX2lkICE9PSBzdWJzLmxvZ2dlZF9pbl91c2VybmFtZSkge1xuICAgICAgICAvLyBkaXNjb25uZWN0ZWQsIGV0Y1xuICAgICAgICBpZiAocGFrKSB7XG4gICAgICAgICAgcGFrLnBvb2woKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmcmllbmRfbGlzdCA9IHt9O1xuICAgICAgbGV0IGZyaWVuZF9pZDtcbiAgICAgIHdoaWxlICgoZnJpZW5kX2lkID0gcGFrLnJlYWRBbnNpU3RyaW5nKCkpKSB7XG4gICAgICAgIGZyaWVuZF9saXN0W2ZyaWVuZF9pZF0gPSBwYWsucmVhZEludCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTeW5jIGZyaWVuZCBsaXN0IHdpdGggRmFjZWJvb2sgZnJpZW5kc1xuICAgICAgaWYgKHN1YnMubG9naW5fY3JlZGVudGlhbHMgJiYgc3Vicy5sb2dpbl9jcmVkZW50aWFscy5mYikge1xuICAgICAgICBmYkdldEZyaWVuZHMoKGVyciwgZmJfZnJpZW5kcykgPT4ge1xuICAgICAgICAgIGlmIChlcnIgfHwgIWZiX2ZyaWVuZHMgfHwgdXNlcl9pZCAhPT0gc3Vicy5sb2dnZWRfaW5fdXNlcm5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHRvX2FkZCA9IFtdO1xuICAgICAgICAgIGxldCB0b19yZW1vdmUgPSBbXTtcbiAgICAgICAgICBsZXQgZm91bmQgPSB7fTtcbiAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZmJfZnJpZW5kcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICAgIGxldCBpZCA9IGZiX2ZyaWVuZHNbaWldO1xuICAgICAgICAgICAgZm91bmRbaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghZnJpZW5kX2xpc3RbaWRdKSB7XG4gICAgICAgICAgICAgIGZyaWVuZF9saXN0W2lkXSA9IEZSSUVORF9BRERFRF9BVVRPO1xuICAgICAgICAgICAgICB0b19hZGQucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAobGV0IGlkIGluIGZyaWVuZF9saXN0KSB7XG4gICAgICAgICAgICBpZiAoIWZvdW5kW2lkXSAmJiBmcmllbmRfbGlzdFtpZF0gPT09IEZSSUVORF9BRERFRF9BVVRPKSB7XG4gICAgICAgICAgICAgIGZyaWVuZF9saXN0W2lkXSA9IEZSSUVORF9SRU1PVkVEO1xuICAgICAgICAgICAgICB0b19yZW1vdmUucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdG9fYWRkLmxlbmd0aCAmJiAhdG9fcmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcGFrID0gdXNlcl9jaGFubmVsLnBhaygnZnJpZW5kX2F1dG9fdXBkYXRlJyk7XG4gICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRvX2FkZC5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICAgIHBhay53cml0ZUFuc2lTdHJpbmcodG9fYWRkW2lpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhay53cml0ZUFuc2lTdHJpbmcoJycpO1xuICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0b19yZW1vdmUubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgICBwYWsud3JpdGVBbnNpU3RyaW5nKHRvX3JlbW92ZVtpaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYWsud3JpdGVBbnNpU3RyaW5nKCcnKTtcbiAgICAgICAgICBwYWsuc2VuZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHN1YnMub24oJ2xvZ291dCcsIGZ1bmN0aW9uICgpIHtcbiAgICBmcmllbmRfbGlzdCA9IG51bGw7XG4gIH0pO1xuXG4gIHN1YnMub25DaGFubmVsTXNnKCd1c2VyJywgJ3ByZXNlbmNlJywgb25QcmVzZW5jZSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgTUFYX1NFTUFOVElDIH0gPSByZXF1aXJlKCcuL3NoYWRlcnMuanMnKTtcbmNvbnN0IHsgY2VpbCwgbWF4LCBtaW4gfSA9IE1hdGg7XG5cbmV4cG9ydCBjb25zdCBUUklBTkdMRVMgPSA0O1xuZXhwb3J0IGNvbnN0IFRSSUFOR0xFX0ZBTiA9IDY7XG5leHBvcnQgY29uc3QgUVVBRFMgPSA3O1xuXG5jb25zdCBnbF9ieXRlX3NpemUgPSB7XG4gIDB4MTQwMDogMSwgLy8gR0xfQllURVxuICAweDE0MDE6IDEsIC8vIEdMX1VOU0lHTkVEX0JZVEVcbiAgMHgxNDAyOiAyLCAvLyBHTF9TSE9SVFxuICAweDE0MDM6IDIsIC8vIEdMX1VOU0lHTkVEX1NIT1JUXG4gIDB4MTQwNjogNCwgLy8gR0xfRkxPQVRcbn07XG5cbi8vIGxldCB1bml0X2J1Zjtcbi8vIGxldCB1bml0X2J1Zl9sZW4gPSAwO1xuXG5sZXQgYm91bmRfZ2VvbTtcblxubGV0IGJvdW5kX2FycmF5X2J1ZiA9IG51bGw7XG5sZXQgYm91bmRfaW5kZXhfYnVmID0gbnVsbDtcblxubGV0IHF1YWRfaW5kZXhfYnVmO1xubGV0IHF1YWRfaW5kZXhfYnVmX2xlbiA9IDA7XG5cbmZ1bmN0aW9uIGRlbGV0ZUJ1ZmZlcihoYW5kbGUpIHtcbiAgaWYgKCFoYW5kbGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJvdW5kX2FycmF5X2J1ZiA9PT0gaGFuZGxlKSB7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgIGJvdW5kX2FycmF5X2J1ZiA9IG51bGw7XG4gIH1cbiAgaWYgKGJvdW5kX2luZGV4X2J1ZiA9PT0gaGFuZGxlKSB7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgYm91bmRfaW5kZXhfYnVmID0gbnVsbDtcbiAgfVxuICBnbC5kZWxldGVCdWZmZXIoaGFuZGxlKTtcbn1cblxubGV0IGF0dHJpYl9lbmFibGVkID0gMDtcbmZ1bmN0aW9uIGVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGJpdHMpIHtcbiAgaWYgKGJpdHMgPT09IGF0dHJpYl9lbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBkaXNhYmxlX21hc2sgPSAoYXR0cmliX2VuYWJsZWQgJiAofmJpdHMpKTtcbiAgbGV0IGVuYWJsZV9tYXNrID0gKCh+YXR0cmliX2VuYWJsZWQpICYgYml0cyk7XG4gIGF0dHJpYl9lbmFibGVkID0gYml0cztcblxuICBpZiAoZGlzYWJsZV9tYXNrKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIGRvIHtcbiAgICAgIGlmIChkaXNhYmxlX21hc2sgJiAxKSB7XG4gICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShuKTtcbiAgICAgIH1cbiAgICAgIG4rKztcbiAgICAgIGRpc2FibGVfbWFzayA+Pj0gMTtcbiAgICB9IHdoaWxlIChkaXNhYmxlX21hc2spO1xuICB9XG5cbiAgaWYgKGVuYWJsZV9tYXNrKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIGRvIHtcbiAgICAgIGlmIChlbmFibGVfbWFzayAmIDEpIHtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobik7XG4gICAgICB9XG4gICAgICBuKys7XG4gICAgICBlbmFibGVfbWFzayA+Pj0gMTtcbiAgICB9IHdoaWxlIChlbmFibGVfbWFzayk7XG4gIH1cbn1cblxuLy8gZnVuY3Rpb24gYmluZFVuaXRCdWYoYXJyX2lkeCwgbGVuKSB7XG4vLyAgIGlmIChsZW4gPiB1bml0X2J1Zl9sZW4pIHtcbi8vICAgICBkZWxldGVCdWZmZXIodW5pdF9idWYpO1xuLy8gICAgIHVuaXRfYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4vLyAgICAgdW5pdF9idWZfbGVuID0gbWF4KGNlaWwodW5pdF9idWZfbGVuICogMS41KSwgbGVuKTtcbi8vICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdW5pdF9idWYpO1xuLy8gICAgIGJvdW5kX2FycmF5X2J1ZiA9IHVuaXRfYnVmO1xuLy8gICAgIGxldCBhcnIgPSBuZXcgVWludDhBcnJheSh1bml0X2J1Zl9sZW4gKiA0KTtcbi8vICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdW5pdF9idWZfbGVuICogNDsgKytpaSkge1xuLy8gICAgICAgYXJyW2lpXSA9IDI1NTtcbi8vICAgICB9XG4vLyAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFyciwgZ2wuU1RBVElDX0RSQVcpO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIGlmIChib3VuZF9hcnJheV9idWYgIT09IHVuaXRfYnVmKSB7XG4vLyAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdW5pdF9idWYpO1xuLy8gICAgICAgYm91bmRfYXJyYXlfYnVmID0gdW5pdF9idWY7XG4vLyAgICAgfVxuLy8gICB9XG4vLyAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXJyX2lkeCwgNCwgZ2wuVU5TSUdORURfQllURSwgdHJ1ZSwgMCwgMCk7XG4vLyB9XG5cbi8vIFZlcnRzIHNob3VsZCBiZSBvcmRlcmVkIGNvdW50ZXItY2xvY2t3aXNlIGZyb20gdGhlIHVwcGVyIGxlZnRcbmZ1bmN0aW9uIGdldFF1YWRJbmRleEJ1ZihxdWFkX2NvdW50KSB7XG4gIGFzc2VydChxdWFkX2NvdW50IDw9IDE2Mzg0KTtcbiAgLy8gSWYgbm90LCBuZWVkIHRvIHNwbGl0IGludG8gbXVsdGlwbGUgdmVydGV4IGFuZCBpbmRleCBidWZmZXJzIChmYWlybHkgZWFzeSksXG4gIC8vICAgb3IgdXNlIHRoZSBPRVNfZWxlbWVudF9pbmRleF91aW50IGV4dGVuc2lvbiAodHJpdmlhbCwgYnV0IHByb2JhYmx5IHNsb3dlciwgbWF5YmUgbm90IHN1cHBvcnRlZCBvbiBtb2JpbGU/KVxuICBpZiAocXVhZF9jb3VudCAqIDYgPiBxdWFkX2luZGV4X2J1Zl9sZW4pIHtcbiAgICBpZiAoIXF1YWRfaW5kZXhfYnVmKSB7XG4gICAgICBxdWFkX2luZGV4X2J1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmcmVlaW5nIG9sZCBvbmVcbiAgICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSAtPSBxdWFkX2luZGV4X2J1Zl9sZW4gKiAyO1xuICAgIH1cbiAgICBxdWFkX2luZGV4X2J1Zl9sZW4gPSBtYXgoY2VpbChxdWFkX2luZGV4X2J1Zl9sZW4gKiAxLjUpLCBxdWFkX2NvdW50ICogNik7XG4gICAgaWYgKGJvdW5kX2luZGV4X2J1ZiAhPT0gcXVhZF9pbmRleF9idWYpIHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHF1YWRfaW5kZXhfYnVmKTtcbiAgICAgIGJvdW5kX2luZGV4X2J1ZiA9IHF1YWRfaW5kZXhfYnVmO1xuICAgIH1cbiAgICBsZXQgYXJyID0gbmV3IFVpbnQxNkFycmF5KHF1YWRfaW5kZXhfYnVmX2xlbik7XG4gICAgbGV0IHZpZHggPSAwO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBxdWFkX2luZGV4X2J1Zl9sZW47KSB7XG4gICAgICBhcnJbaWkrK10gPSB2aWR4ICsgMTtcbiAgICAgIGFycltpaSsrXSA9IHZpZHggKyAzO1xuICAgICAgYXJyW2lpKytdID0gdmlkeCsrOyAvLyAwXG4gICAgICBhcnJbaWkrK10gPSB2aWR4Kys7IC8vIDFcbiAgICAgIGFycltpaSsrXSA9IHZpZHgrKzsgLy8gMlxuICAgICAgYXJyW2lpKytdID0gdmlkeCsrOyAvLyAzXG4gICAgfVxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGFyciwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSArPSBxdWFkX2luZGV4X2J1Zl9sZW4gKiAyO1xuICB9XG4gIHJldHVybiBxdWFkX2luZGV4X2J1Zjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZGljZXMoaWR4cykge1xuICBsZXQgcmV0ID0ge1xuICAgIGlibzogZ2wuY3JlYXRlQnVmZmVyKCksXG4gICAgaWJvX3NpemU6IGlkeHMubGVuZ3RoLFxuICB9O1xuICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCByZXQuaWJvKTtcbiAgYm91bmRfaW5kZXhfYnVmID0gcmV0LmlibztcbiAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaWR4cywgZ2wuU1RBVElDX0RSQVcpO1xuICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gaWR4cy5sZW5ndGggKiAyO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRJbmZvKGZvcm1hdCkge1xuICBpZiAoIWZvcm1hdC5pbmZvKSB7XG4gICAgbGV0IHN0cmlkZSA9IDA7XG4gICAgbGV0IGVsZW1fY291bnQgPSAwO1xuICAgIGxldCB1c2VkX2F0dHJpYnMgPSAwO1xuICAgIGxldCBjb21tb25fYnl0ZV9zaXplID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZm9ybWF0Lmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGZtdCA9IGZvcm1hdFtpaV07XG4gICAgICBsZXQgc2VtID0gZm10WzBdO1xuICAgICAgbGV0IGdsdHlwZSA9IGZtdFsxXTtcbiAgICAgIGxldCBjb3VudCA9IGZtdFsyXTtcbiAgICAgIHVzZWRfYXR0cmlicyB8PSAoMSA8PCBzZW0pO1xuICAgICAgbGV0IGJ5dGVfc2l6ZSA9IGdsX2J5dGVfc2l6ZVtnbHR5cGVdO1xuICAgICAgYXNzZXJ0KGJ5dGVfc2l6ZSk7XG4gICAgICBhc3NlcnQoIWNvbW1vbl9ieXRlX3NpemUgfHwgYnl0ZV9zaXplID09PSBjb21tb25fYnl0ZV9zaXplKTtcbiAgICAgIGNvbW1vbl9ieXRlX3NpemUgPSBieXRlX3NpemU7XG4gICAgICBmbXRbM10gPSBmbXRbM10gfHwgZmFsc2U7XG4gICAgICBmbXRbNF0gPSBieXRlX3NpemU7XG4gICAgICBzdHJpZGUgKz0gY291bnQgKiBieXRlX3NpemU7XG4gICAgICBlbGVtX2NvdW50ICs9IGNvdW50O1xuICAgIH1cbiAgICBmb3JtYXQuaW5mbyA9IHtcbiAgICAgIHN0cmlkZSwgZWxlbV9jb3VudCwgdXNlZF9hdHRyaWJzLCBjb21tb25fYnl0ZV9zaXplXG4gICAgfTtcbiAgfVxuICByZXR1cm4gZm9ybWF0LmluZm87XG59XG5cbi8vIGZvcm1hdCBpcyBbc2hhZGVycy5zZW1hbnRpYy5mb28sIGdsLkZMT0FUL1VOU0lHTkVEX0JZVEUvZXRjLCBjb3VudCwgbm9ybWFsaXplZF1cbmZ1bmN0aW9uIEdlb20oZm9ybWF0LCB2ZXJ0cywgaWR4cywgbW9kZSkge1xuICB0aGlzLm1vZGUgPSBtb2RlIHx8IFRSSUFOR0xFUztcbiAgdGhpcy5mb3JtYXQgPSBmb3JtYXQ7XG4gIGxldCBpbmZvID0gdGhpcy5mb3JtYXRfaW5mbyA9IGZvcm1hdEluZm8oZm9ybWF0KTtcbiAgdGhpcy5zdHJpZGUgPSBpbmZvLnN0cmlkZTtcbiAgdGhpcy51c2VkX2F0dHJpYnMgPSBpbmZvLnVzZWRfYXR0cmlicztcblxuICB0aGlzLnZlcnRfY291bnQgPSB2ZXJ0cy5sZW5ndGggLyB0aGlzLmZvcm1hdF9pbmZvLmVsZW1fY291bnQ7XG4gIHRoaXMudmVydF9ncHVfbWVtID0gdmVydHMubGVuZ3RoICogdGhpcy5mb3JtYXRfaW5mby5jb21tb25fYnl0ZV9zaXplO1xuICBpZiAodmVydHMubGVuZ3RoKSB7XG4gICAgdGhpcy52Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52Ym8pO1xuICAgIGJvdW5kX2FycmF5X2J1ZiA9IHRoaXMudmJvO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cywgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSArPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgfVxuICB0aGlzLm9yaWdfbW9kZSA9IG1vZGU7XG4gIGlmIChpZHhzKSB7XG4gICAgaWYgKGlkeHMuaWJvKSB7XG4gICAgICB0aGlzLmlibyA9IGlkeHMuaWJvO1xuICAgICAgdGhpcy5pYm9fb3duZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaWJvX3NpemUgPSBpZHhzLmlib19zaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgdGhpcy5pYm9fb3duZWQgPSB0cnVlO1xuICAgICAgdGhpcy5pYm9fc2l6ZSA9IGlkeHMubGVuZ3RoO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pYm8pO1xuICAgICAgYm91bmRfaW5kZXhfYnVmID0gdGhpcy5pYm87XG4gICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpZHhzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICBlbmdpbmUucGVyZl9zdGF0ZS5ncHVfbWVtLmdlb20gKz0gaWR4cy5sZW5ndGggKiAyO1xuICAgIH1cbiAgfSBlbHNlIGlmIChtb2RlID09PSBRVUFEUykge1xuICAgIGFzc2VydC5lcXVhbCh0aGlzLnZlcnRfY291bnQgJSA0LCAwKTtcbiAgICBsZXQgcXVhZF9jb3VudCA9IHRoaXMudmVydF9jb3VudCAvIDQ7XG4gICAgLy8gUEVSRlRPRE86IFVzZSBHTF9RVUFEU19PRVMgZXh0ZW5zaW9uXG4gICAgdGhpcy5pYm8gPSBnZXRRdWFkSW5kZXhCdWYocXVhZF9jb3VudCk7XG4gICAgdGhpcy5pYm9fb3duZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlib19zaXplID0gcXVhZF9jb3VudCAqIDY7XG4gICAgdGhpcy5tb2RlID0gVFJJQU5HTEVTO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09IFRSSUFOR0xFX0ZBTikge1xuICAgIHRoaXMubW9kZSA9IFRSSUFOR0xFX0ZBTjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlibyA9IG51bGw7XG4gICAgdGhpcy5pYm9fb3duZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5HZW9tLnByb3RvdHlwZS51cGRhdGVTdWIgPSBmdW5jdGlvbiAob2Zmc2V0LCB2ZXJ0cykge1xuICBpZiAoYm91bmRfYXJyYXlfYnVmICE9PSB0aGlzLnZibykge1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgYm91bmRfYXJyYXlfYnVmID0gdGhpcy52Ym87XG4gIH1cbiAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIG9mZnNldCwgdmVydHMpO1xufTtcblxuR2VvbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHZlcnRzLCBudW1fdmVydHMpIHtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuaWJvX293bmVkLCBmYWxzZSk7XG4gIGlmIChudW1fdmVydHMgPiB0aGlzLnZlcnRfY291bnQpIHtcbiAgICBpZiAoYm91bmRfZ2VvbSA9PT0gdGhpcykge1xuICAgICAgYm91bmRfZ2VvbSA9IG51bGw7XG4gICAgfVxuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSAtPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgICBkZWxldGVCdWZmZXIodGhpcy52Ym8pO1xuICAgIC8vIE5vdGU6IG1hdGNoaW5nIHNpemUsIGlnbm9yaW5nIG51bV92ZXJ0c1xuICAgIHRoaXMudmVydF9jb3VudCA9IHZlcnRzLmxlbmd0aCAvIHRoaXMuZm9ybWF0X2luZm8uZWxlbV9jb3VudDtcbiAgICB0aGlzLnZlcnRfZ3B1X21lbSA9IHZlcnRzLmxlbmd0aCAqIHRoaXMuZm9ybWF0X2luZm8uY29tbW9uX2J5dGVfc2l6ZTtcbiAgICB0aGlzLnZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgYm91bmRfYXJyYXlfYnVmID0gdGhpcy52Ym87XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHZlcnRzLCBnbC5EWU5BTUlDX0RSQVcpO1xuICAgIGVuZ2luZS5wZXJmX3N0YXRlLmdwdV9tZW0uZ2VvbSArPSB0aGlzLnZlcnRfZ3B1X21lbTtcbiAgfSBlbHNlIHtcbiAgICAvLyBGaXRzXG4gICAgaWYgKGJvdW5kX2FycmF5X2J1ZiAhPT0gdGhpcy52Ym8pIHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgICBib3VuZF9hcnJheV9idWYgPSB0aGlzLnZibztcbiAgICB9XG4gICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIDAsIHZlcnRzLnN1YmFycmF5KDAsIG51bV92ZXJ0cyAqIHRoaXMuZm9ybWF0X2luZm8uZWxlbV9jb3VudCkpO1xuICAgIC8vIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cywgZ2wuRFlOQU1JQ19EUkFXKTtcbiAgfVxuICBpZiAodGhpcy5vcmlnX21vZGUgPT09IFFVQURTKSB7XG4gICAgbGV0IHF1YWRfY291bnQgPSBudW1fdmVydHMgLyA0O1xuICAgIHRoaXMuaWJvID0gZ2V0UXVhZEluZGV4QnVmKHF1YWRfY291bnQpO1xuICAgIHRoaXMuaWJvX3NpemUgPSBxdWFkX2NvdW50ICogNjtcbiAgfVxufTtcblxuR2VvbS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaWJvX293bmVkKSB7XG4gICAgZGVsZXRlQnVmZmVyKHRoaXMuaWJvKTtcbiAgfVxuICB0aGlzLmlibyA9IG51bGw7XG4gIGRlbGV0ZUJ1ZmZlcih0aGlzLnZibyk7XG4gIHRoaXMudmJvID0gbnVsbDtcbiAgZW5naW5lLnBlcmZfc3RhdGUuZ3B1X21lbS5nZW9tIC09IHRoaXMudmVydF9ncHVfbWVtO1xuICB0aGlzLnZlcnRfZ3B1X21lbSA9IDA7XG59O1xuXG5sZXQgYm91bmRfYXR0cmlicyA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCByID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgIHIucHVzaCh7XG4gICAgICB2Ym86IG51bGwsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59KCkpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VvbVJlc2V0U3RhdGUoKSB7XG4gIC8vIFJlc2V0dGluZyB0aGlzIGF2b2lkcyBhIHN0YXRlIG1hbmFnZW1lbnQgYnVnIG9uIENocm9tZSA3MS03MyBvbiBSZWRtaSA2QSAtXG4gIC8vICAgaXQgc2VlbXMgdGhlIGJyb3dzZXIgd2FzIGxlYXZpbmcgc29tZXRoaW5nIGJvdW5kIGF0IGEgbG93IGxldmVsLCBwZXJoYXBzXG4gIC8vICAgZnJvbSBnZW5lcmF0aW5nIG1pcG1hcHMgb3Igc29tZXRoaW5nP1xuICBib3VuZF9nZW9tID0gbnVsbDtcbiAgYm91bmRfaW5kZXhfYnVmID0gbnVsbDtcbiAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XG4gIGJvdW5kX2FycmF5X2J1ZiA9IG51bGw7XG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IE1BWF9TRU1BTlRJQzsgKytpaSkge1xuICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpaSk7XG4gIH1cbiAgYXR0cmliX2VuYWJsZWQgPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYm91bmRfYXR0cmlicy5sZW5ndGg7ICsraWkpIHtcbiAgICBib3VuZF9hdHRyaWJzW2lpXS52Ym8gPSBudWxsO1xuICB9XG59XG5cbkdlb20ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChib3VuZF9nZW9tICE9PSB0aGlzKSB7XG4gICAgYm91bmRfZ2VvbSA9IHRoaXM7XG4gICAgbGV0IHZibyA9IHRoaXMudmJvO1xuXG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZm9ybWF0Lmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGZtdCA9IHRoaXMuZm9ybWF0W2lpXTtcbiAgICAgIGxldCBjb3VudCA9IGZtdFsyXTtcbiAgICAgIGxldCBieXRlX3NpemUgPSBmbXRbNF07XG4gICAgICBsZXQgc2VtID0gZm10WzBdO1xuICAgICAgaWYgKGJvdW5kX2F0dHJpYnNbc2VtXS52Ym8gPT09IHZibykgeyAvLyAgJiYgYm91bmRfYXR0cmlic1tzZW1dLm9mZnNldCA9IG9mZnNldFxuICAgICAgICAvLyBhbHJlYWR5IGJvdW5kXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYm91bmRfYXJyYXlfYnVmICE9PSB2Ym8pIHtcbiAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdmJvKTtcbiAgICAgICAgICBib3VuZF9hcnJheV9idWYgPSB2Ym87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdsdHlwZSA9IGZtdFsxXTtcbiAgICAgICAgbGV0IG5vcm1hbGl6ZWQgPSBmbXRbM107XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoc2VtLCBjb3VudCwgZ2x0eXBlLCBub3JtYWxpemVkLCB0aGlzLnN0cmlkZSwgb2Zmc2V0KTtcbiAgICAgICAgYm91bmRfYXR0cmlic1tzZW1dLnZibyA9IGJvdW5kX2FycmF5X2J1ZjtcbiAgICAgICAgLy8gYm91bmRfYXR0cmlic1tzZW1dLm9mZnNldCA9IG9mZnNldDtcbiAgICAgIH1cbiAgICAgIG9mZnNldCArPSBjb3VudCAqIGJ5dGVfc2l6ZTtcbiAgICB9XG4gICAgLy8gaWYgKCF1c2VkWzFdKSB7IC8vIENPTE9SXG4gICAgLy8gICB1c2VkX2F0dHJpYnMgfD0gMSA8PCBzaGFkZXIuc2VtYW50aWNzLkNPTE9SO1xuICAgIC8vICAgYmluZFVuaXRCdWYoMSwgdGhpcy52ZXJ0X2NvdW50KTtcbiAgICAvLyB9XG4gICAgZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy51c2VkX2F0dHJpYnMpO1xuICB9XG5cbiAgaWYgKHRoaXMuaWJvICYmIGJvdW5kX2luZGV4X2J1ZiAhPT0gdGhpcy5pYm8pIHtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmlibyk7XG4gICAgYm91bmRfaW5kZXhfYnVmID0gdGhpcy5pYm87XG4gIH1cbn07XG5HZW9tLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmJpbmQoKTtcbiAgaWYgKHRoaXMuaWJvKSB7XG4gICAgZ2wuZHJhd0VsZW1lbnRzKHRoaXMubW9kZSwgdGhpcy5pYm9fc2l6ZSwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICB9IGVsc2Uge1xuICAgIGdsLmRyYXdBcnJheXModGhpcy5tb2RlLCAwLCB0aGlzLnZlcnRfY291bnQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBHZW9tTXVsdGlRdWFkcyhmb3JtYXQsIHZlcnRzKSB7XG4gIGxldCBmb3JtYXRfaW5mbyA9IGZvcm1hdEluZm8oZm9ybWF0KTtcbiAgbGV0IGVjID0gZm9ybWF0X2luZm8uZWxlbV9jb3VudDtcbiAgbGV0IHZlcnRfY291bnQgPSB2ZXJ0cy5sZW5ndGggLyBlYztcbiAgdGhpcy5nZW9tcyA9IFtdO1xuICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB2ZXJ0X2NvdW50OyBpZHggKz0gNjU1MzYpIHtcbiAgICBsZXQgbnVtX3N1Yl92ZXJ0cyA9IG1pbih2ZXJ0X2NvdW50IC0gaWR4LCA2NTUzNik7XG4gICAgbGV0IHN1Yl9kYXRhID0gbmV3IFVpbnQ4QXJyYXkodmVydHMuYnVmZmVyLCBpZHggKiBlYywgbnVtX3N1Yl92ZXJ0cyAqIGVjKTtcbiAgICB0aGlzLmdlb21zLnB1c2gobmV3IEdlb20oZm9ybWF0LCBzdWJfZGF0YSwgbnVsbCwgUVVBRFMpKTtcbiAgfVxufVxuR2VvbU11bHRpUXVhZHMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmdlb21zLmxlbmd0aDsgKytpaSkge1xuICAgIHRoaXMuZ2VvbXNbaWldLmRyYXcoKTtcbiAgfVxufTtcbkdlb21NdWx0aVF1YWRzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5nZW9tcy5sZW5ndGg7ICsraWkpIHtcbiAgICB0aGlzLmdlb21zW2lpXS5kaXNwb3NlKCk7XG4gIH1cbiAgdGhpcy5nZW9tcyA9IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGZvcm1hdCwgdmVydHMsIGlkeHMsIG1vZGUpIHtcbiAgcmV0dXJuIG5ldyBHZW9tKGZvcm1hdCwgdmVydHMsIGlkeHMsIG1vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUXVhZHMoZm9ybWF0LCB2ZXJ0cykge1xuICBsZXQgZm9ybWF0X2luZm8gPSBmb3JtYXRJbmZvKGZvcm1hdCk7XG4gIGFzc2VydCh2ZXJ0cyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpOyAvLyBvbmx5IG9uZSBoYW5kbGVkIGJ5IEdlb21NdWx0aVF1YWRzIGZvciBub3dcbiAgbGV0IHZlcnRfY291bnQgPSB2ZXJ0cy5sZW5ndGggLyBmb3JtYXRfaW5mby5lbGVtX2NvdW50O1xuICBpZiAodmVydF9jb3VudCA+IDY1NTM2KSB7XG4gICAgcmV0dXJuIG5ldyBHZW9tTXVsdGlRdWFkcyhmb3JtYXQsIHZlcnRzKTtcbiAgfVxuICByZXR1cm4gbmV3IEdlb20oZm9ybWF0LCB2ZXJ0cywgbnVsbCwgUVVBRFMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgLy8gTm90aGluZyBmb3Igbm93LlxufVxuIiwiLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG4vLyBGcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg5MzY5ODQvdWludDhhcnJheS10by1zdHJpbmctaW4tamF2YXNjcmlwdFxuXG5sZXQgY2hhckNhY2hlID0gbmV3IEFycmF5KDEyOCk7ICAvLyBQcmVhbGxvY2F0ZSB0aGUgY2FjaGUgZm9yIHRoZSBjb21tb24gc2luZ2xlIGJ5dGUgY2hhcnNcbmxldCBjaGFyRnJvbUNvZGVQdCA9IFN0cmluZy5mcm9tQ29kZVBvaW50IHx8IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5sZXQgcmVzdWx0ID0gW107XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKGFycmF5KSB7XG4gIGxldCBjb2RlUHQ7XG4gIGxldCBieXRlMTtcbiAgbGV0IGJ1ZmZMZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgcmVzdWx0Lmxlbmd0aCA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmTGVuOykge1xuICAgIGJ5dGUxID0gYXJyYXlbaSsrXTtcblxuICAgIGlmIChieXRlMSA8PSAweDdGKSB7XG4gICAgICBjb2RlUHQgPSBieXRlMTtcbiAgICB9IGVsc2UgaWYgKGJ5dGUxIDw9IDB4REYpIHtcbiAgICAgIGNvZGVQdCA9ICgoYnl0ZTEgJiAweDFGKSA8PCA2KSB8IChhcnJheVtpKytdICYgMHgzRik7XG4gICAgfSBlbHNlIGlmIChieXRlMSA8PSAweEVGKSB7XG4gICAgICBjb2RlUHQgPSAoKGJ5dGUxICYgMHgwRikgPDwgMTIpIHwgKChhcnJheVtpKytdICYgMHgzRikgPDwgNikgfCAoYXJyYXlbaSsrXSAmIDB4M0YpO1xuICAgIH0gZWxzZSBpZiAoU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcbiAgICAgIGNvZGVQdCA9ICgoYnl0ZTEgJiAweDA3KSA8PCAxOCkgfCAoKGFycmF5W2krK10gJiAweDNGKSA8PCAxMikgfCAoKGFycmF5W2krK10gJiAweDNGKSA8PCA2KSB8IChhcnJheVtpKytdICYgMHgzRik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvZGVQdCA9IDYzOyAgICAvLyBDYW5ub3QgY29udmVydCBmb3VyIGJ5dGUgY29kZSBwb2ludHMsIHNvIHVzZSBcIj9cIiBpbnN0ZWFkXG4gICAgICBpICs9IDM7XG4gICAgfVxuXG4gICAgcmVzdWx0LnB1c2goY2hhckNhY2hlW2NvZGVQdF0gfHwgKGNoYXJDYWNoZVtjb2RlUHRdID0gY2hhckZyb21Db2RlUHQoY29kZVB0KSkpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbn1cbiIsIi8vIERlcml2ZWQgZnJvbSAoTUlUIExpY2Vuc2VkKSBodHRwczovL2dpdGh1Yi5jb20vdWJlci13ZWIvbG9hZGVycy5nbC90cmVlL21hc3Rlci9tb2R1bGVzL2dsdGZcblxuY29uc3QgVFlQRVMgPSBbJ1NDQUxBUicsICdWRUMyJywgJ1ZFQzMnLCAnVkVDNCddO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWNjZXNzb3JUeXBlRnJvbVNpemUoc2l6ZSkge1xuICBjb25zdCB0eXBlID0gVFlQRVNbc2l6ZSAtIDFdO1xuICByZXR1cm4gdHlwZSB8fCBUWVBFU1swXTtcbn1cblxuLy8gZ2xURiBBQ0NFU1NPUiBDT05TVEFOVFNcblxuZXhwb3J0IGNvbnN0IEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFMgPSB7XG4gIFNDQUxBUjogMSxcbiAgVkVDMjogMixcbiAgVkVDMzogMyxcbiAgVkVDNDogNCxcbiAgTUFUMjogNCxcbiAgTUFUMzogOSxcbiAgTUFUNDogMTZcbn07XG5cbmV4cG9ydCBjb25zdCBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFID0ge1xuICA1MTIwOiAxLFxuICA1MTIxOiAxLFxuICA1MTIyOiAyLFxuICA1MTIzOiAyLFxuICA1MTI1OiA0LFxuICA1MTI2OiA0XG59O1xuXG5leHBvcnQgY29uc3QgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0FSUkFZID0ge1xuICA1MTIwOiBJbnQ4QXJyYXksXG4gIDUxMjE6IFVpbnQ4QXJyYXksXG4gIDUxMjI6IEludDE2QXJyYXksXG4gIDUxMjM6IFVpbnQxNkFycmF5LFxuICA1MTI1OiBVaW50MzJBcnJheSxcbiAgNTEyNjogRmxvYXQzMkFycmF5XG59O1xuIiwiLy8gRGVyaXZlZCBmcm9tIChNSVQgTGljZW5zZWQpIGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyLXdlYi9sb2FkZXJzLmdsL3RyZWUvbWFzdGVyL21vZHVsZXMvZ2x0ZlxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UsIG1heC1zdGF0ZW1lbnRzICovXG5jb25zdCB7IHVucGFja0dMQkJ1ZmZlcnMgfSA9IHJlcXVpcmUoJy4vdW5wYWNrLWdsYi1idWZmZXJzLmpzJyk7XG5jb25zdCB7IHVucGFja0JpbmFyeUpzb24gfSA9IHJlcXVpcmUoJy4vdW5wYWNrLWJpbmFyeS1qc29uLmpzJyk7XG5cbmZ1bmN0aW9uIHBhZFRvNEJ5dGVzKGJ5dGVMZW5ndGgpIHtcbiAgcmV0dXJuIChieXRlTGVuZ3RoICsgMykgJiB+MzsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2Vcbn1cblxuY29uc3QgZGVjb2RlX3V0ZjggPSByZXF1aXJlKCcuL2RlY29kZS11dGY4LmpzJyk7XG5cbmNvbnN0IHtcbiAgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyxcbiAgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRSxcbiAgQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0FSUkFZXG59ID0gcmVxdWlyZSgnLi9nbHRmLXR5cGUtdXRpbHMuanMnKTtcblxuY29uc3QgTUFHSUNfZ2xURiA9IDB4Njc2YzU0NDY7IC8vIGdsVEYgaW4gQmlnLUVuZGlhbiBBU0NJSVxuXG5jb25zdCBHTEJfRklMRV9IRUFERVJfU0laRSA9IDEyO1xuY29uc3QgR0xCX0NIVU5LX0hFQURFUl9TSVpFID0gODtcblxuY29uc3QgR0xCX0NIVU5LX1RZUEVfSlNPTiA9IDB4NGU0ZjUzNGE7XG5jb25zdCBHTEJfQ0hVTktfVFlQRV9CSU4gPSAweDAwNGU0OTQyO1xuXG5jb25zdCBMRSA9IHRydWU7IC8vIEJpbmFyeSBHTFRGIGlzIGxpdHRsZSBlbmRpYW4uXG5jb25zdCBCRSA9IGZhbHNlOyAvLyBNYWdpYyBuZWVkcyB0byBiZSB3cml0dGVuIGFzIEJFXG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNnbGItZmlsZS1mb3JtYXQtc3BlY2lmaWNhdGlvblxuZnVuY3Rpb24gR0xCUGFyc2VyKCkge1xuICAvLyBSZXN1bHRcbiAgdGhpcy5iaW5hcnlCeXRlT2Zmc2V0ID0gbnVsbDtcbiAgdGhpcy5wYWNrZWRKc29uID0gbnVsbDtcbiAgdGhpcy5qc29uID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcGFyc2VCaW5hcnkoc2VsZikge1xuICAvLyBHTEIgSGVhZGVyXG4gIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KHNlbGYuZ2xiQXJyYXlCdWZmZXIpO1xuICBjb25zdCBtYWdpYzEgPSBkYXRhVmlldy5nZXRVaW50MzIoMCwgQkUpOyAvLyBNYWdpYyBudW1iZXIgKHRoZSBBU0NJSSBzdHJpbmcgJ2dsVEYnKS5cbiAgY29uc3QgdmVyc2lvbiA9IGRhdGFWaWV3LmdldFVpbnQzMig0LCBMRSk7IC8vIFZlcnNpb24gMiBvZiBiaW5hcnkgZ2xURiBjb250YWluZXIgZm9ybWF0XG4gIGNvbnN0IGZpbGVMZW5ndGggPSBkYXRhVmlldy5nZXRVaW50MzIoOCwgTEUpOyAvLyBUb3RhbCBieXRlIGxlbmd0aCBvZiBnZW5lcmF0ZWQgZmlsZVxuXG4gIGxldCB2YWxpZCA9IG1hZ2ljMSA9PT0gTUFHSUNfZ2xURjtcbiAgaWYgKCF2YWxpZCkge1xuICAgIGNvbnNvbGUud2FybignSW52YWxpZCBHTEIgbWFnaWMgc3RyaW5nJyk7XG4gIH1cblxuICBhc3NlcnQodmVyc2lvbiA9PT0gMiwgYEludmFsaWQgR0xCIHZlcnNpb24gJHt2ZXJzaW9ufS4gT25seSAuZ2xiIHYyIHN1cHBvcnRlZGApO1xuICBhc3NlcnQoZmlsZUxlbmd0aCA+IDIwKTtcblxuICAvLyBXcml0ZSB0aGUgSlNPTiBjaHVua1xuICBjb25zdCBqc29uQ2h1bmtMZW5ndGggPSBkYXRhVmlldy5nZXRVaW50MzIoMTIsIExFKTsgLy8gQnl0ZSBsZW5ndGggb2YganNvbiBjaHVua1xuICBjb25zdCBqc29uQ2h1bmtGb3JtYXQgPSBkYXRhVmlldy5nZXRVaW50MzIoMTYsIExFKTsgLy8gQ2h1bmsgZm9ybWF0IGFzIHVpbnQzMlxuXG4gIHZhbGlkID0ganNvbkNodW5rRm9ybWF0ID09PSBHTEJfQ0hVTktfVFlQRV9KU09OIHx8IGpzb25DaHVua0Zvcm1hdCA9PT0gMDsgLy8gQmFjayBjb21wYXRcbiAgYXNzZXJ0KHZhbGlkLCBgSlNPTiBjaHVuayBmb3JtYXQgJHtqc29uQ2h1bmtGb3JtYXR9YCk7XG5cbiAgLy8gQ3JlYXRlIGEgXCJ2aWV3XCIgb2YgdGhlIGJpbmFyeSBlbmNvZGVkIEpTT04gZGF0YVxuICBjb25zdCBqc29uQ2h1bmtPZmZzZXQgPSBHTEJfRklMRV9IRUFERVJfU0laRSArIEdMQl9DSFVOS19IRUFERVJfU0laRTsgLy8gRmlyc3QgaGVhZGVyczogMjAgYnl0ZXNcbiAgY29uc3QganNvbkNodW5rID0gbmV3IFVpbnQ4QXJyYXkoc2VsZi5nbGJBcnJheUJ1ZmZlciwganNvbkNodW5rT2Zmc2V0LCBqc29uQ2h1bmtMZW5ndGgpO1xuXG4gIC8vIERlY29kZSB0aGUgSlNPTiBiaW5hcnkgYXJyYXkgaW50byBjbGVhciB0ZXh0XG4gIGNvbnN0IGpzb25UZXh0ID0gZGVjb2RlX3V0ZjguZGVjb2RlKGpzb25DaHVuayk7XG5cbiAgLy8gUGFyc2UgdGhlIEpTT04gdGV4dCBpbnRvIGEgSmF2YVNjcmlwdCBkYXRhIHN0cnVjdHVyZVxuICBzZWxmLmpzb24gPSBKU09OLnBhcnNlKGpzb25UZXh0KTtcblxuICAvLyBUT0RPIC0gQklOIGNodW5rIGNhbiBiZSBvcHRpb25hbFxuICBjb25zdCBiaW5hcnlDaHVua1N0YXJ0ID0ganNvbkNodW5rT2Zmc2V0ICsgcGFkVG80Qnl0ZXMoanNvbkNodW5rTGVuZ3RoKTtcbiAgc2VsZi5iaW5hcnlCeXRlT2Zmc2V0ID0gYmluYXJ5Q2h1bmtTdGFydCArIEdMQl9DSFVOS19IRUFERVJfU0laRTtcblxuICBjb25zdCBiaW5DaHVua0Zvcm1hdCA9IGRhdGFWaWV3LmdldFVpbnQzMihiaW5hcnlDaHVua1N0YXJ0ICsgNCwgTEUpOyAvLyBDaHVuayBmb3JtYXQgYXMgdWludDMyXG4gIHZhbGlkID0gYmluQ2h1bmtGb3JtYXQgPT09IEdMQl9DSFVOS19UWVBFX0JJTiB8fCBiaW5DaHVua0Zvcm1hdCA9PT0gMTsgLy8gQmFjayBjb21wYXRcbiAgYXNzZXJ0KHZhbGlkLCBgQklOIGNodW5rIGZvcm1hdCAke2JpbkNodW5rRm9ybWF0fWApO1xuXG4gIHJldHVybiB7XG4gICAgYXJyYXlCdWZmZXI6IHNlbGYuZ2xiQXJyYXlCdWZmZXIsXG4gICAgYmluYXJ5Qnl0ZU9mZnNldDogc2VsZi5iaW5hcnlCeXRlT2Zmc2V0LFxuICAgIGpzb246IHNlbGYuanNvblxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZUludGVybmFsKHNlbGYpIHtcbiAgY29uc3QgcmVzdWx0ID0gcGFyc2VCaW5hcnkoc2VsZik7XG4gIHNlbGYucGFja2VkSnNvbiA9IHJlc3VsdC5qc29uO1xuICBzZWxmLnVucGFja2VkQnVmZmVycyA9IHVucGFja0dMQkJ1ZmZlcnMoc2VsZi5nbGJBcnJheUJ1ZmZlciwgc2VsZi5qc29uLCBzZWxmLmJpbmFyeUJ5dGVPZmZzZXQpO1xuICBzZWxmLmpzb24gPSB1bnBhY2tCaW5hcnlKc29uKHNlbGYuanNvbiwgc2VsZi51bnBhY2tlZEJ1ZmZlcnMpO1xufVxuXG5HTEJQYXJzZXIucHJvdG90eXBlLnBhcnNlU3luYyA9IGZ1bmN0aW9uIChhcnJheUJ1ZmZlcikge1xuICAvLyBJbnB1dFxuICB0aGlzLmdsYkFycmF5QnVmZmVyID0gYXJyYXlCdWZmZXI7XG5cbiAgLy8gT25seSBwYXJzZSBvbmNlXG4gIGlmICh0aGlzLmpzb24gPT09IG51bGwgJiYgdGhpcy5iaW5hcnlCeXRlT2Zmc2V0ID09PSBudWxsKSB7XG4gICAgcGFyc2VJbnRlcm5hbCh0aGlzKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIFJldHVybiB0aGUgZ2x0ZiBKU09OIGFuZCB0aGUgb3JpZ2luYWwgYXJyYXlCdWZmZXJcbkdMQlBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgcmV0dXJuIHRoaXMucGFyc2VTeW5jKGFycmF5QnVmZmVyKTtcbn07XG5cbi8vIFJldHVybnMgYXBwbGljYXRpb24gSlNPTiBkYXRhIHN0b3JlZCBpbiBga2V5YFxuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRBcHBsaWNhdGlvbkRhdGEgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLmpzb25ba2V5XTtcbn07XG5cbi8vIFJldHVybnMgSlNPTiBlbnZlbG9wZVxuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRKU09OID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5qc29uO1xufTtcblxuLy8gUmV0dXJuIGJpbmFyeSBjaHVua1xuR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZ2xiQXJyYXlCdWZmZXI7XG59O1xuXG4vLyBSZXR1cm4gaW5kZXggaW50byBiaW5hcnkgY2h1bmtcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0QmluYXJ5Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuYmluYXJ5Qnl0ZU9mZnNldDtcbn07XG5cbi8vIFVucGFja3MgYSBidWZmZXJ2aWV3IGludG8gYSBuZXcgVWludDhBcnJheSB0aGF0IGlzIGEgdmlldyBpbnRvIHRoZSBiaW5hcnkgY2h1bmtcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0QnVmZmVyVmlldyA9IGZ1bmN0aW9uIChnbFRGQnVmZmVyVmlldykge1xuICBjb25zdCBieXRlT2Zmc2V0ID0gKGdsVEZCdWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCkgKyB0aGlzLmJpbmFyeUJ5dGVPZmZzZXQ7XG4gIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLmdsYkFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBnbFRGQnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbn07XG5cbi8vIFVucGFja3MgYSBnbFRGIGFjY2Vzc29yIGludG8gYSBuZXcgdHlwZWQgYXJyYXkgdGhhdCBpcyBhIHZpZXcgaW50byB0aGUgYmluYXJ5IGNodW5rXG5HTEJQYXJzZXIucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIChnbFRGQWNjZXNzb3IpIHtcbiAgLy8gRGVjb2RlIHRoZSBnbFRGIGFjY2Vzc29yIGZvcm1hdFxuICBjb25zdCBBcnJheVR5cGUgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQVJSQVlbZ2xURkFjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICBjb25zdCBjb21wb25lbnRzID0gQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UU1tnbFRGQWNjZXNzb3IudHlwZV07XG4gIGNvbnN0IGJ5dGVzUGVyQ29tcG9uZW50ID0gQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0JZVEVfU0laRVtnbFRGQWNjZXNzb3IuY29tcG9uZW50VHlwZV07XG4gIGNvbnN0IGxlbmd0aCA9IGdsVEZBY2Nlc3Nvci5jb3VudCAqIGNvbXBvbmVudHM7XG4gIGNvbnN0IGJ5dGVMZW5ndGggPSBnbFRGQWNjZXNzb3IuY291bnQgKiBjb21wb25lbnRzICogYnl0ZXNQZXJDb21wb25lbnQ7XG5cbiAgLy8gR2V0IHRoZSBib3VuZGFyaWVzIG9mIHRoZSBiaW5hcnkgc3ViLWNodW5rIGZvciB0aGlzIGJ1ZmZlclZpZXdcbiAgY29uc3QgZ2xURkJ1ZmZlclZpZXcgPSB0aGlzLmpzb24uYnVmZmVyVmlld3NbZ2xURkFjY2Vzc29yLmJ1ZmZlclZpZXddO1xuICBhc3NlcnQoYnl0ZUxlbmd0aCA+PSAwICYmIGdsVEZBY2Nlc3Nvci5ieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCA8PSBnbFRGQnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcblxuICBjb25zdCBieXRlT2Zmc2V0ID0gZ2xURkJ1ZmZlclZpZXcuYnl0ZU9mZnNldCArIHRoaXMuYmluYXJ5Qnl0ZU9mZnNldCArIGdsVEZBY2Nlc3Nvci5ieXRlT2Zmc2V0O1xuICByZXR1cm4gbmV3IEFycmF5VHlwZSh0aGlzLmdsYkFycmF5QnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xufTtcblxuLy8gVW5wYWNrcyBhbiBpbWFnZSBpbnRvIGFuIEhUTUwgaW1hZ2VcbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0SW1hZ2VEYXRhID0gZnVuY3Rpb24gKGdsVEZJbWFnZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGVkQXJyYXk6IHRoaXMuZ2V0QnVmZmVyVmlldyhnbFRGSW1hZ2UuYnVmZmVyVmlldyksXG4gICAgbWltZVR5cGU6IGdsVEZJbWFnZS5taW1lVHlwZSB8fCAnaW1hZ2UvanBlZydcbiAgfTtcbn07XG5cbkdMQlBhcnNlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoZ2xURkltYWdlKSB7XG4gIGNvbnN0IGFycmF5QnVmZmVyVmlldyA9IHRoaXMuZ2V0QnVmZmVyVmlldyhnbFRGSW1hZ2UuYnVmZmVyVmlldyk7XG4gIGNvbnN0IG1pbWVUeXBlID0gZ2xURkltYWdlLm1pbWVUeXBlIHx8ICdpbWFnZS9qcGVnJztcbiAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFthcnJheUJ1ZmZlclZpZXddLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xuICBjb25zdCB1cmxDcmVhdG9yID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuICBjb25zdCBpbWFnZVVybCA9IHVybENyZWF0b3IuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgaW1nLnNyYyA9IGltYWdlVXJsO1xuICByZXR1cm4gaW1nO1xufTtcblxuLy8gR0xCUGFyc2VyLnByb3RvdHlwZS5nZXRJbWFnZUFzeW5jID0gZnVuY3Rpb24gKGdsVEZJbWFnZSkge1xuLy8gICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4vLyAgICAgY29uc3QgYXJyYXlCdWZmZXJWaWV3ID0gdGhpcy5nZXRCdWZmZXJWaWV3KGdsVEZJbWFnZS5idWZmZXJWaWV3KTtcbi8vICAgICBjb25zdCBtaW1lVHlwZSA9IGdsVEZJbWFnZS5taW1lVHlwZSB8fCAnaW1hZ2UvanBlZyc7XG4vLyAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFthcnJheUJ1ZmZlclZpZXddLCB7dHlwZTogbWltZVR5cGV9KTtcbi8vICAgICBjb25zdCB1cmxDcmVhdG9yID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuLy8gICAgIGNvbnN0IGltYWdlVXJsID0gdXJsQ3JlYXRvci5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4vLyAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4vLyAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbi8vICAgICBpbWcuc3JjID0gaW1hZ2VVcmw7XG4vLyAgIH0pO1xuLy8gfTtcblxubW9kdWxlLmV4cG9ydHMgPSBHTEJQYXJzZXI7XG5HTEJQYXJzZXIucGFyc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBsZXQgcGFyc2VyID0gbmV3IEdMQlBhcnNlcigpO1xuICByZXR1cm4gcGFyc2VyLnBhcnNlKGRhdGEpO1xufTtcbiIsIi8vIERlcml2ZWQgZnJvbSAoTUlUIExpY2Vuc2VkKSBodHRwczovL2dpdGh1Yi5jb20vdWJlci13ZWIvbG9hZGVycy5nbC90cmVlL21hc3Rlci9tb2R1bGVzL2dsdGZcblxuZnVuY3Rpb24gcGFyc2VKU09OUG9pbnRlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIC8vIFJlbW92ZSBlc2NhcGUgY2hhcmFjdGVyXG4gICAgaWYgKHZhbHVlLmluZGV4T2YoJyMjLycpID09PSAwKSB7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMSk7XG4gICAgfVxuXG4gICAgbGV0IG1hdGNoZXMgPSB2YWx1ZS5tYXRjaCgvI1xcLyhbYS16XSspXFwvKFswLTldKykvKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCk7XG4gICAgICByZXR1cm4gW21hdGNoZXNbMV0sIGluZGV4XTtcbiAgICB9XG5cbiAgICAvLyBMZWdhY3k6IGAkJCRpYFxuICAgIG1hdGNoZXMgPSB2YWx1ZS5tYXRjaCgvXFwkXFwkXFwkKFswLTldKykvKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChtYXRjaGVzWzFdLCAxMCk7XG4gICAgICByZXR1cm4gWydhY2Nlc3NvcnMnLCBpbmRleF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGRlY29kZUpTT05Qb2ludGVyKG9iamVjdCwgYnVmZmVycykge1xuICBjb25zdCBwb2ludGVyID0gcGFyc2VKU09OUG9pbnRlcihvYmplY3QpO1xuICBpZiAocG9pbnRlcikge1xuICAgIGNvbnN0IGZpZWxkID0gcG9pbnRlclswXTtcbiAgICBjb25zdCBpbmRleCA9IHBvaW50ZXJbMV07XG4gICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1tmaWVsZF0gJiYgYnVmZmVyc1tmaWVsZF1baW5kZXhdO1xuICAgIGlmIChidWZmZXIpIHtcbiAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgSlNPTiBwb2ludGVyICR7b2JqZWN0fTogIy8ke2ZpZWxkfS8ke2luZGV4fWApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBSZWN1cnNpdmVseSB1bnBhY2tzIG9iamVjdHMsIHJlcGxhY2luZyBcIkpTT04gcG9pbnRlcnNcIiB3aXRoIHR5cGVkIGFycmF5c1xuZnVuY3Rpb24gdW5wYWNrSnNvbkFycmF5c1JlY3Vyc2l2ZShqc29uLCB0b3BKc29uLCBidWZmZXJzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qgb2JqZWN0ID0ganNvbjtcblxuICBjb25zdCBidWZmZXIgPSBkZWNvZGVKU09OUG9pbnRlcihvYmplY3QsIGJ1ZmZlcnMpO1xuICBpZiAoYnVmZmVyKSB7XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbiAgfVxuXG4gIC8vIENvcHkgYXJyYXlcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3QubWFwKChlbGVtZW50KSA9PiB1bnBhY2tKc29uQXJyYXlzUmVjdXJzaXZlKGVsZW1lbnQsIHRvcEpzb24sIGJ1ZmZlcnMsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIC8vIENvcHkgb2JqZWN0XG4gIGlmIChvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBuZXdPYmplY3QgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgIG5ld09iamVjdFtrZXldID0gdW5wYWNrSnNvbkFycmF5c1JlY3Vyc2l2ZShvYmplY3Rba2V5XSwgdG9wSnNvbiwgYnVmZmVycywgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wYWNrQmluYXJ5SnNvbihqc29uLCBidWZmZXJzLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIHVucGFja0pzb25BcnJheXNSZWN1cnNpdmUoanNvbiwganNvbiwgYnVmZmVycywgb3B0aW9ucyk7XG59XG4iLCIvLyBEZXJpdmVkIGZyb20gKE1JVCBMaWNlbnNlZCkgaHR0cHM6Ly9naXRodWIuY29tL3ViZXItd2ViL2xvYWRlcnMuZ2wvdHJlZS9tYXN0ZXIvbW9kdWxlcy9nbHRmXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG5jb25zdCB7XG4gIEFUVFJJQlVURV9UWVBFX1RPX0NPTVBPTkVOVFMsXG4gIEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19CWVRFX1NJWkUsXG4gIEFUVFJJQlVURV9DT01QT05FTlRfVFlQRV9UT19BUlJBWVxufSA9IHJlcXVpcmUoJy4vZ2x0Zi10eXBlLXV0aWxzLmpzJyk7XG5cbi8vIENyZWF0ZXMgYSBuZXcgQXJyYXlCdWZmZXIgc3RhcnRpbmcgYXQgdGhlIG9mZnNldCwgY29udGFpbmluZyBhbGwgcmVtYWluaW5nIGJ5dGVzXG4vLyBUT0RPIC0gc2hvdWxkIG5vdCBiZSBuZWVkZWQsIHNlZSBhYm92ZVxuZnVuY3Rpb24gZ2V0QXJyYXlCdWZmZXJBdE9mZnNldChhcnJheUJ1ZmZlciwgYnl0ZU9mZnNldCkge1xuICBjb25zdCBsZW5ndGggPSBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoIC0gYnl0ZU9mZnNldDtcbiAgY29uc3QgYmluYXJ5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XG4gIGNvbnN0IHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICBjb25zdCBiaW5hcnlBcnJheSA9IG5ldyBVaW50OEFycmF5KGJpbmFyeUJ1ZmZlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnlBcnJheVtpXSA9IHNvdXJjZUFycmF5W2J5dGVPZmZzZXQgKyBpXTtcbiAgfVxuICByZXR1cm4gYmluYXJ5QnVmZmVyO1xufVxuXG5mdW5jdGlvbiBnZXRBcnJheVR5cGVBbmRMZW5ndGgoYWNjZXNzb3IsIGJ1ZmZlclZpZXcpIHtcbiAgY29uc3QgQXJyYXlUeXBlID0gQVRUUklCVVRFX0NPTVBPTkVOVF9UWVBFX1RPX0FSUkFZW2FjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICBjb25zdCBjb21wb25lbnRzID0gQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UU1thY2Nlc3Nvci50eXBlXTtcbiAgY29uc3QgYnl0ZXNQZXJDb21wb25lbnQgPSBBVFRSSUJVVEVfQ09NUE9ORU5UX1RZUEVfVE9fQllURV9TSVpFW2FjY2Vzc29yLmNvbXBvbmVudFR5cGVdO1xuICBjb25zdCBsZW5ndGggPSBhY2Nlc3Nvci5jb3VudCAqIGNvbXBvbmVudHM7XG4gIGNvbnN0IGJ5dGVMZW5ndGggPSBhY2Nlc3Nvci5jb3VudCAqIGNvbXBvbmVudHMgKiBieXRlc1BlckNvbXBvbmVudDtcbiAgYXNzZXJ0KGJ5dGVMZW5ndGggPj0gMCAmJiBieXRlTGVuZ3RoIDw9IGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCk7XG4gIHJldHVybiB7IEFycmF5VHlwZSwgbGVuZ3RoLCBieXRlTGVuZ3RoIH07XG59XG5cbmZ1bmN0aW9uIHVucGFja0FjY2Vzc29ycyhhcnJheUJ1ZmZlciwgYnVmZmVyVmlld3MsIGpzb24pIHtcbiAgLy8gdW5wYWNrIGFjY2Vzc29yc1xuICBjb25zdCBhY2Nlc3NvcnMgPSBqc29uLmFjY2Vzc29ycyB8fCBbXTtcblxuICBjb25zdCBhY2Nlc3NvckJ1ZmZlcnMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFjY2Vzc29ycy5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGFjY2Vzc29yID0gYWNjZXNzb3JzW2ldO1xuICAgIGFzc2VydChhY2Nlc3Nvcik7XG5cbiAgICBjb25zdCBidWZmZXJWaWV3ID0gYnVmZmVyVmlld3NbYWNjZXNzb3IuYnVmZmVyVmlld107XG4gICAgLy8gRHJhY28gZW5jb2RlZCBtZXNoZXMgZG9uJ3QgaGF2ZSBidWZmZXJWaWV3IGluIGFjY2Vzc29yXG4gICAgaWYgKGJ1ZmZlclZpZXcpIHtcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyB0eXBlZCBhcnJheSBhcyBhIHZpZXcgaW50byB0aGUgY29tYmluZWQgYnVmZmVyXG4gICAgICBjb25zdCB7IEFycmF5VHlwZSwgbGVuZ3RoIH0gPSBnZXRBcnJheVR5cGVBbmRMZW5ndGgoYWNjZXNzb3IsIGJ1ZmZlclZpZXcpO1xuICAgICAgY29uc3QgYXJyYXkgPSBuZXcgQXJyYXlUeXBlKGFycmF5QnVmZmVyLCBidWZmZXJWaWV3LmJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gICAgICAvLyBTdG9yZSB0aGUgbWV0YWRhdGEgb24gdGhlIGFycmF5IChlLmcuIG5lZWRlZCB0byBkZXRlcm1pbmUgbnVtYmVyIG9mIGNvbXBvbmVudHMgcGVyIGVsZW1lbnQpXG4gICAgICBhcnJheS5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgYWNjZXNzb3JCdWZmZXJzLnB1c2goYXJyYXkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhY2Nlc3NvckJ1ZmZlcnM7XG59XG5cbmZ1bmN0aW9uIHVucGFja0ltYWdlcyhhcnJheUJ1ZmZlciwgYnVmZmVyVmlld3MsIGpzb24pIHtcbiAgLy8gdW5wYWNrIGltYWdlc1xuICBjb25zdCBpbWFnZXMgPSBqc29uLmltYWdlcyB8fCBbXTtcblxuICBjb25zdCBpbWFnZUJ1ZmZlcnMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGltYWdlID0gaW1hZ2VzW2ldO1xuICAgIGFzc2VydChpbWFnZSk7XG5cbiAgICBpZiAoaW1hZ2UuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbWFnZUJ1ZmZlcnMucHVzaChudWxsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1tpbWFnZS5idWZmZXJWaWV3XTtcbiAgICBhc3NlcnQoYnVmZmVyVmlldyk7XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgdHlwZWQgYXJyYXkgYXMgYSB2aWV3IGludG8gdGhlIGNvbWJpbmVkIGJ1ZmZlclxuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCwgYnVmZmVyVmlldy5ieXRlTGVuZ3RoKTtcbiAgICAvLyBTdG9yZSB0aGUgbWV0YWRhdGEgb24gdGhlIGFycmF5IChlLmcuIG5lZWRlZCB0byBkZXRlcm1pbmUgbnVtYmVyIG9mIGNvbXBvbmVudHMgcGVyIGVsZW1lbnQpXG4gICAgYXJyYXkuaW1hdGUgPSBpbWFnZTtcbiAgICBpbWFnZUJ1ZmZlcnMucHVzaChhcnJheSk7XG4gIH1cblxuICByZXR1cm4gaW1hZ2VCdWZmZXJzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wYWNrR0xCQnVmZmVycyhhcnJheUJ1ZmZlciwganNvbiwgYmluYXJ5Qnl0ZU9mZnNldCkge1xuICAvLyBUT0RPIC0gcmVhbGx5IGluZWZmaWNpZW50LCBzaG91bGQganVzdCB1c2UgdGhlIG9mZnNldCBpbnRvIHRoZSBvcmlnaW5hbCBhcnJheSBidWZmZXJcbiAgaWYgKGJpbmFyeUJ5dGVPZmZzZXQpIHtcbiAgICBhcnJheUJ1ZmZlciA9IGdldEFycmF5QnVmZmVyQXRPZmZzZXQoYXJyYXlCdWZmZXIsIGJpbmFyeUJ5dGVPZmZzZXQpO1xuICB9XG5cbiAgY29uc3QgYnVmZmVyVmlld3MgPSBqc29uLmJ1ZmZlclZpZXdzIHx8IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyVmlld3MubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBidWZmZXJWaWV3ID0gYnVmZmVyVmlld3NbaV07XG4gICAgYXNzZXJ0KGJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCA+PSAwKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLy8gVE9ETzogZGVsZXRlIHVucGFja0FjY2Vzc29ycyBhbmQgdXNlIGJ1ZmZlciB2aWV3cyBvbmx5P1xuICAgIGFjY2Vzc29yczogdW5wYWNrQWNjZXNzb3JzKGFycmF5QnVmZmVyLCBidWZmZXJWaWV3cywganNvbiksXG4gICAgaW1hZ2VzOiB1bnBhY2tJbWFnZXMoYXJyYXlCdWZmZXIsIGJ1ZmZlclZpZXdzLCBqc29uKVxuICB9O1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8gU3lzdGVtIGZvciByZWdpc3RlcmluZyBjYWxsYmFja3MgdG8gcnVuIGluIGV2ZW50IGhhbmRsZXJzIG9uIHRoZSBuZXh0IGZyYW1lXG4vLyBVc2VkIHRvIGdldCBhcm91bmQgcmVzdHJpY3Rpb25zIG9uIEFQSXMgbGlrZSBwb2ludGVyIGxvY2ssIGZ1bGxzY3JlZW4sIG9yXG4vLyBzY3JlZW4gb3JpZW50YXRpb24uXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG5sZXQgY2JzID0ge307XG5leHBvcnQgZnVuY3Rpb24gdG9wT2ZGcmFtZSgpIHtcbiAgY2JzID0ge307XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbih0eXBlLCBjb2RlX29yX3BvcywgY2IpIHtcbiAgbGV0IGxpc3QgPSBjYnNbdHlwZV0gPSBjYnNbdHlwZV0gfHwgW107XG4gIGlmICh0eXBlb2YgY29kZV9vcl9wb3MgPT09ICdudW1iZXInKSB7XG4gICAgbGlzdFtjb2RlX29yX3Bvc10gPSBjYjtcbiAgfSBlbHNlIHtcbiAgICBsaXN0LnB1c2goW2NvZGVfb3JfcG9zLCBjYl0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGUodHlwZSwgZXZlbnQpIHtcbiAgbGV0IGxpc3QgPSBjYnNbdHlwZV07XG4gIGlmICghbGlzdCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdrZXlkb3duJzpcbiAgICBjYXNlICdrZXl1cCc6XG4gICAgICBpZiAobGlzdFtldmVudC5rZXlDb2RlXSkge1xuICAgICAgICBsaXN0W2V2ZW50LmtleUNvZGVdKHR5cGUsIGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ21vdXNldXAnOlxuICAgIGNhc2UgJ21vdXNlZG93bic6IHtcbiAgICAgIGxldCB4ID0gZXZlbnQucGFnZVg7XG4gICAgICBsZXQgeSA9IGV2ZW50LnBhZ2VZO1xuICAgICAgbGV0IGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBsaXN0Lmxlbmd0aDsgKytpaSkge1xuICAgICAgICBsZXQgZWxlbSA9IGxpc3RbaWldO1xuICAgICAgICBsZXQgcG9zID0gZWxlbVswXTtcbiAgICAgICAgaWYgKHggPj0gcG9zLnggJiYgeCA8IHBvcy54ICsgcG9zLncgJiZcbiAgICAgICAgICB5ID49IHBvcy55ICYmIHkgPCBwb3MueSArIHBvcy5oICYmXG4gICAgICAgICAgKHBvcy5idXR0b24gPCAwIHx8IHBvcy5idXR0b24gPT09IGJ1dHRvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgZWxlbVsxXSh0eXBlLCBldmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBhc3NlcnQoZmFsc2UpO1xuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gU29tZSBjb2RlIGZyb20gVHVyYnVsZW56OiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMyBUdXJidWxlbnogTGltaXRlZFxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBnbG9iYWwgbmF2aWdhdG9yICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCB7IGNtZF9wYXJzZSB9ID0gcmVxdWlyZSgnLi9jbWRzLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgaW5fZXZlbnQgPSByZXF1aXJlKCcuL2luX2V2ZW50LmpzJyk7XG5jb25zdCBsb2NhbF9zdG9yYWdlID0gcmVxdWlyZSgnLi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5jb25zdCB7IGFicywgbWF4LCBtaW4sIHNxcnQgfSA9IE1hdGg7XG5jb25zdCBwb2ludGVyX2xvY2sgPSByZXF1aXJlKCcuL3BvaW50ZXJfbG9jay5qcycpO1xuY29uc3QgeyBzb3VuZFJlc3VtZSB9ID0gcmVxdWlyZSgnLi9zb3VuZC5qcycpO1xuY29uc3QgeyB2ZWMyLCB2MmFkZCwgdjJjb3B5LCB2Mmxlbmd0aFNxLCB2MnNldCwgdjJzY2FsZSwgdjJzdWIgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgVVBfRURHRSA9IDA7IC8vIG9ubHkgZm9yIHBhZHMsIHdoaWNoIHVzZSA9PT0gbnVsbCBhcyBcInVwXCJcbmNvbnN0IFVQID0gMDsgLy8gb25seSBmb3Iga2V5L21vdXNlXG5jb25zdCBET1dOID0gMTtcbmNvbnN0IERPV05fRURHRSA9IDI7IC8vIG9ubHkgZm9yIHBhZHNcblxuLy8gcGVyLWFwcCBvdmVycmlkZWFibGUgb3B0aW9uc1xuY29uc3QgVE9VQ0hfQVNfTU9VU0UgPSB0cnVlO1xubGV0IG1hcF9hbmFsb2dfdG9fZHBhZCA9IHRydWU7XG5cbmxldCBtb3VzZV9sb2cgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IEFOWSA9IC0yO1xuZXhwb3J0IGNvbnN0IFBPSU5URVJMT0NLID0gLTE7XG5cbmV4cG9ydCBsZXQgS0VZUyA9IHtcbiAgQkFDS1NQQUNFOiA4LFxuICBUQUI6IDksXG4gIEVOVEVSOiAxMyxcbiAgUkVUVVJOOiAxMyxcbiAgU0hJRlQ6IDE2LFxuICBDVFJMOiAxNyxcbiAgQUxUOiAxOCxcbiAgRVNDOiAyNyxcbiAgU1BBQ0U6IDMyLFxuICBQQUdFVVA6IDMzLFxuICBQQUdFRE9XTjogMzQsXG4gIEVORDogMzUsXG4gIEhPTUU6IDM2LFxuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBSSUdIVDogMzksXG4gIERPV046IDQwLFxuICBJTlM6IDQ1LFxuICBERUw6IDQ2LFxuICBOVU1QQURfRElWSURFOiAxMTEsXG4gIEVRVUFMUzogMTg3LFxuICBNSU5VUzogMTg5LFxuICBTTEFTSDogMTkxLFxuICBUSUxERTogMTkyLFxufTtcbihmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGlpID0gMTsgaWkgPD0gMTI7ICsraWkpIHtcbiAgICBLRVlTW2BGJHtpaX1gXSA9IDExMSArIGlpO1xuICB9XG4gIGZvciAobGV0IGlpID0gNDg7IGlpIDw9IDkwOyArK2lpKSB7IC8vIDAtOTtBLVpcbiAgICBLRVlTW1N0cmluZy5mcm9tQ2hhckNvZGUoaWkpXSA9IGlpO1xuICB9XG59KCkpO1xuaWYgKHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBDYXRjaCByZWZlcmVuY2luZyBrZXlzIHRoYXQgYXJlIG5vdCBpbiBvdXIgbWFwXG4gIEtFWVMgPSBuZXcgUHJveHkoS0VZUywge1xuICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCkge1xuICAgICAgbGV0IHJldCA9IHRhcmdldFtwcm9wXTtcbiAgICAgIGFzc2VydChyZXQpO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IGNvbnN0IFBBRCA9IHtcbiAgQTogMCxcbiAgU0VMRUNUOiAwLCAvLyBHTE9WIG5hbWVcbiAgQjogMSxcbiAgQ0FOQ0VMOiAxLCAvLyBHTE9WIG5hbWVcbiAgWDogMixcbiAgWTogMyxcbiAgTEI6IDQsXG4gIExFRlRfQlVNUEVSOiA0LFxuICBSQjogNSxcbiAgUklHSFRfQlVNUEVSOiA1LFxuICBMVDogNixcbiAgTEVGVF9UUklHR0VSOiA2LFxuICBSVDogNyxcbiAgUklHSFRfVFJJR0dFUjogNyxcbiAgQkFDSzogOCxcbiAgU1RBUlQ6IDksXG4gIExFRlRfU1RJQ0s6IDEwLFxuICBSSUdIVF9TVElDSzogMTEsXG4gIFVQOiAxMixcbiAgRE9XTjogMTMsXG4gIExFRlQ6IDE0LFxuICBSSUdIVDogMTUsXG4gIEFOQUxPR19VUDogMjAsXG4gIEFOQUxPR19MRUZUOiAyMSxcbiAgQU5BTE9HX0RPV046IDIyLFxuICBBTkFMT0dfUklHSFQ6IDIzLFxufTtcblxubGV0IHBhZF90b190b3VjaDtcblxubGV0IGNhbnZhcztcbmxldCBrZXlfc3RhdGVfbmV3ID0ge307XG5sZXQgcGFkX3N0YXRlcyA9IFtdOyAvLyBPbmUgbWFwIHBlciBnYW1lcGFkIHRvIHBhZCBidXR0b24gc3RhdGVzXG5sZXQgZ2FtZXBhZF9kYXRhID0gW107IC8vIE90aGVyIHRyYWNraW5nIGRhdGEgcGVyIGdhbWVwYWRcbmxldCBtb3VzZV9wb3MgPSB2ZWMyKCk7IC8vIGluIERPTSBjb29yZGluYXRlcywgbm90IGNhbnZhcyBvciB2aXJ0dWFsXG5sZXQgbGFzdF9tb3VzZV9wb3MgPSB2ZWMyKCk7XG5sZXQgbW91c2VfcG9zX2lzX3RvdWNoID0gZmFsc2U7XG5sZXQgbW91c2Vfb3Zlcl9jYXB0dXJlZCA9IGZhbHNlO1xubGV0IG1vdXNlX2Rvd24gPSBbXTtcbmxldCB3aGVlbF9ldmVudHMgPSBbXTtcbmxldCBtb3ZlbWVudF9xdWVzdGlvbmFibGVfZnJhbWVzID0gMDtcbmNvbnN0IE1PVkVNRU5UX1FVRVNUSU9OQUJMRV9GUkFNRVMgPSAyOyAvLyBOZWVkIGF0IGxlYXN0IDJcblxubGV0IGlucHV0X2VhdGVuX2tiID0gZmFsc2U7XG5sZXQgaW5wdXRfZWF0ZW5fbW91c2UgPSBmYWxzZTtcblxubGV0IHRvdWNoZXMgPSB7fTsgLy8gYG0ke2J1dHRvbn1gIG9yIHRvdWNoX2lkIC0+IFRvdWNoRGF0YVxuXG5leHBvcnQgbGV0IHRvdWNoX21vZGUgPSBsb2NhbF9zdG9yYWdlLmdldEpTT04oJ3RvdWNoX21vZGUnLCBmYWxzZSk7XG5leHBvcnQgbGV0IHBhZF9tb2RlID0gIXRvdWNoX21vZGUgJiYgbG9jYWxfc3RvcmFnZS5nZXRKU09OKCdwYWRfbW9kZScsIGZhbHNlKTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoJ21vdXNlX2xvZycsIHtcbiAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICByYW5nZTogWzAsIDFdLFxuICBnZXQ6ICgpID0+IG1vdXNlX2xvZyxcbiAgc2V0OiAodikgPT4gKG1vdXNlX2xvZyA9IHYpLFxufSk7XG5cbmZ1bmN0aW9uIGV2ZW50VGltZXN0YW1wKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC50aW1lU3RhbXApIHtcbiAgICAvLyBhc3NlcnQoKGV2ZW50LnRpbWVTdGFtcCA8IDFlMTIpID09PSAoZW5naW5lLmhydGltZSA8IDFlMTIpKTtcbiAgICAvLyBNdXN0IGJvdGggYmUgaGlnaCByZXMgdGltZXMsIG9yIGJvdGggbm90IVxuICAgIGlmICgoZXZlbnQudGltZVN0YW1wIDwgMWUxMikgIT09IChlbmdpbmUuaHJ0aW1lIDwgMWUxMikpIHtcbiAgICAgIHJldHVybiBlbmdpbmUuaHJ0aW1lO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wO1xuICB9XG4gIHJldHVybiBlbmdpbmUuaHJ0aW1lO1xufVxuXG5mdW5jdGlvbiBUb3VjaERhdGEocG9zLCB0b3VjaCwgYnV0dG9uLCBldmVudCkge1xuICB0aGlzLmRlbHRhID0gdmVjMigpO1xuICB0aGlzLnRvdGFsID0gMDtcbiAgdGhpcy5jdXJfcG9zID0gcG9zLnNsaWNlKDApO1xuICB0aGlzLnN0YXJ0X3BvcyA9IHBvcy5zbGljZSgwKTtcbiAgdGhpcy50b3VjaCA9IHRvdWNoO1xuICB0aGlzLmJ1dHRvbiA9IGJ1dHRvbjtcbiAgdGhpcy5zdGFydF90aW1lID0gRGF0ZS5ub3coKTtcbiAgdGhpcy5kaXNwYXRjaGVkID0gZmFsc2U7XG4gIHRoaXMuZGlzcGF0Y2hlZF9kcmFnID0gZmFsc2U7XG4gIHRoaXMuZGlzcGF0Y2hlZF9kcmFnX292ZXIgPSBmYWxzZTtcbiAgdGhpcy51cF9lZGdlID0gMDtcbiAgdGhpcy5kb3duX2VkZ2UgPSAwO1xuICB0aGlzLnN0YXRlID0gRE9XTjtcbiAgdGhpcy5kb3duX3RpbWUgPSAwO1xuICB0aGlzLm9yaWdpbl90aW1lID0gZXZlbnRUaW1lc3RhbXAoZXZlbnQpO1xufVxuVG91Y2hEYXRhLnByb3RvdHlwZS5kb3duID0gZnVuY3Rpb24gKGV2ZW50LCBpc19lZGdlKSB7XG4gIGlmIChpc19lZGdlKSB7XG4gICAgdGhpcy5kb3duX2VkZ2UrKztcbiAgfVxuICB0aGlzLnN0YXRlID0gRE9XTjtcbiAgdGhpcy5vcmlnaW5fdGltZSA9IGV2ZW50VGltZXN0YW1wKGV2ZW50KTtcbn07XG5cbmNvbnN0IE1JTl9FVkVOVF9USU1FX0RFTFRBID0gMC4wMTsgLy8gZnJhY3Rpb25zIG9mIGEgbWlsbGlzZWNvbmRcbmZ1bmN0aW9uIHRpbWVEZWx0YShldmVudCwgb3JpZ2luX3RpbWUpIHtcbiAgbGV0IGV0ID0gZXZlbnRUaW1lc3RhbXAoZXZlbnQpO1xuICAvLyB0aW1lc3RhbXBzIG9uIGV2ZW50cyBhcmUgb2Z0ZW4gYmFjayBpbiB0aW1lIHJlbGF0aXZlIHRvIHRoZSBsYXN0IHRpY2sgdGltZVxuICByZXR1cm4gbWF4KGV0IC0gb3JpZ2luX3RpbWUsIE1JTl9FVkVOVF9USU1FX0RFTFRBKTtcbn1cblxuZnVuY3Rpb24gS2V5RGF0YSgpIHtcbiAgdGhpcy5kb3duX2VkZ2UgPSAwO1xuICAvLyB0aGlzLmRvd25fc3RhcnQgPSAwO1xuICB0aGlzLm9yaWdpbl90aW1lID0gMDtcbiAgdGhpcy5kb3duX3RpbWUgPSAwO1xuICB0aGlzLnVwX2VkZ2UgPSAwO1xuICB0aGlzLnN0YXRlID0gVVA7XG59XG5LZXlEYXRhLnByb3RvdHlwZS5rZXlVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICArK3RoaXMudXBfZWRnZTtcbiAgdGhpcy5kb3duX3RpbWUgKz0gdGltZURlbHRhKGV2ZW50LCB0aGlzLm9yaWdpbl90aW1lKTtcbiAgdGhpcy5zdGF0ZSA9IFVQO1xufTtcblxuZnVuY3Rpb24gc2V0TW91c2VUb01pZCgpIHtcbiAgdjJzZXQobW91c2VfcG9zLCBlbmdpbmUud2lkdGgqMC41L2NhbWVyYTJkLmRvbVRvQ2FudmFzUmF0aW8oKSwgZW5naW5lLmhlaWdodCowLjUvY2FtZXJhMmQuZG9tVG9DYW52YXNSYXRpbygpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50ZXJMb2NrZWQoKSB7XG4gIHJldHVybiBwb2ludGVyX2xvY2suaXNMb2NrZWQoKTtcbn1cbmxldCBwb2ludGVybG9ja190b3VjaF9pZCA9IGBtJHtQT0lOVEVSTE9DS31gO1xuLy8gb25seSB3b3JrcyByZWxpYWJseSB3aGVuIGNhbGxlZCBmcm9tIGFuIGV2ZW50IGhhbmRsZXJcbmV4cG9ydCBmdW5jdGlvbiBwb2ludGVyTG9ja0VudGVyKHdoZW4pIHtcbiAgcG9pbnRlcl9sb2NrLmVudGVyKHdoZW4pO1xufVxuZnVuY3Rpb24gb25Qb2ludGVyTG9ja0VudGVyKCkge1xuICBpZiAodG91Y2hfbW9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbcG9pbnRlcmxvY2tfdG91Y2hfaWRdO1xuICBzZXRNb3VzZVRvTWlkKCk7XG4gIGlmICh0b3VjaF9kYXRhKSB7XG4gICAgdjJjb3B5KHRvdWNoX2RhdGEuc3RhcnRfcG9zLCBtb3VzZV9wb3MpO1xuICAgIHRvdWNoX2RhdGEuc3RhdGUgPSBET1dOO1xuICAgIHRvdWNoX2RhdGEub3JpZ2luX3RpbWUgPSBlbmdpbmUuaHJ0aW1lO1xuICB9IGVsc2Uge1xuICAgIHRvdWNoX2RhdGEgPSB0b3VjaGVzW3BvaW50ZXJsb2NrX3RvdWNoX2lkXSA9IG5ldyBUb3VjaERhdGEobW91c2VfcG9zLCBmYWxzZSwgUE9JTlRFUkxPQ0ssIG51bGwpO1xuICB9XG4gIG1vdmVtZW50X3F1ZXN0aW9uYWJsZV9mcmFtZXMgPSBNT1ZFTUVOVF9RVUVTVElPTkFCTEVfRlJBTUVTO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50ZXJMb2NrRXhpdCgpIHtcbiAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3BvaW50ZXJsb2NrX3RvdWNoX2lkXTtcbiAgaWYgKHRvdWNoX2RhdGEpIHtcbiAgICB2MmNvcHkodG91Y2hfZGF0YS5jdXJfcG9zLCBtb3VzZV9wb3MpO1xuICAgIC8vIG5vIFVQX0VER0UgZm9yIHRoaXNcbiAgICB0b3VjaF9kYXRhLnN0YXRlID0gVVA7XG4gIH1cbiAgcG9pbnRlcl9sb2NrLmV4aXQoKTtcbiAgbW92ZW1lbnRfcXVlc3Rpb25hYmxlX2ZyYW1lcyA9IE1PVkVNRU5UX1FVRVNUSU9OQUJMRV9GUkFNRVM7XG59XG5cbmxldCBsYXN0X2V2ZW50O1xuY29uc3Qgc2tpcCA9IHsgaXNUcnVzdGVkOiAxLCBzb3VyY2VDYXBhYmlsaXRpZXM6IDEsIHBhdGg6IDEsIGN1cnJlbnRUYXJnZXQ6IDEsIHZpZXc6IDEgfTtcbmZ1bmN0aW9uIGV2ZW50bG9nKGV2ZW50KSB7XG4gIGlmIChldmVudCA9PT0gbGFzdF9ldmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsYXN0X2V2ZW50ID0gZXZlbnQ7XG4gIGxldCBwYWlycyA9IFtdO1xuICBmb3IgKGxldCBrIGluIGV2ZW50KSB7XG4gICAgbGV0IHYgPSBldmVudFtrXTtcbiAgICBpZiAoIXYgfHwgdHlwZW9mIHYgPT09ICdmdW5jdGlvbicgfHwgay50b1VwcGVyQ2FzZSgpID09PSBrIHx8IHNraXBba10pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwYWlycy5wdXNoKGAke2t9OiR7di5pZCB8fCB2fWApO1xuICB9XG4gIGNvbnNvbGUubG9nKGAke2VuZ2luZS5mcmFtZV9pbmRleH0gJHtldmVudC50eXBlfSAke3BvaW50ZXJMb2NrZWQoKT8ncHRybGNrJzondW5sY2tkJ30gJHtwYWlycy5qb2luKCcsJyl9YCk7XG59XG5cbmZ1bmN0aW9uIGxldEV2ZW50VGhyb3VnaChldmVudCkge1xuICByZXR1cm4gZXZlbnQudGFyZ2V0ICYmIChldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJyB8fCBldmVudC50YXJnZXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fFxuICAgIGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnTEFCRUwnIHx8IFN0cmluZyhldmVudC50YXJnZXQuY2xhc3NOYW1lKS5pbmRleE9mKCdub2dsb3YnKSAhPT0gLTEpO1xufVxuXG5mdW5jdGlvbiBpZ25vcmVkKGV2ZW50KSB7XG4gIC8vIGV2ZW50bG9nKGV2ZW50KTtcbiAgaWYgKCFsZXRFdmVudFRocm91Z2goZXZlbnQpKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxufVxuXG5sZXQgY3RybF9jaGVja2VkID0gZmFsc2U7XG5sZXQgdW5sb2FkX3Byb3RlY3RlZCA9IGZhbHNlO1xuZnVuY3Rpb24gYmVmb3JlVW5sb2FkKGUpIHtcbiAgaWYgKHVubG9hZF9wcm90ZWN0ZWQgJiYgY3RybF9jaGVja2VkKSB7XG4gICAgLy8gRXhpdCBwb2ludGVyIGxvY2sgaWYgdGhlIGJyb3dzZXIgZGlkbid0IGRvIHRoYXQgYXV0b21hdGljYWxseVxuICAgIHBvaW50ZXJMb2NrRXhpdCgpO1xuICAgIC8vIENhbmNlbCB0aGUgZXZlbnRcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gQ2hyb21lIHJlcXVpcmVzIHJldHVyblZhbHVlIHRvIGJlIHNldFxuICAgIGUucmV0dXJuVmFsdWUgPSAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHF1aXQ/JztcbiAgfSBlbHNlIHtcbiAgICBlbmdpbmUucmVsZWFzZUNhbnZhcygpO1xuICB9XG59XG5mdW5jdGlvbiBwcm90ZWN0VW5sb2FkKGVuYWJsZSkge1xuICB1bmxvYWRfcHJvdGVjdGVkID0gZW5hYmxlO1xufVxuXG5sZXQgbGFzdF9pbnB1dF90aW1lID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBpbnB1dExhc3RUaW1lKCkge1xuICByZXR1cm4gbGFzdF9pbnB1dF90aW1lO1xufVxuZnVuY3Rpb24gb25Vc2VySW5wdXQoKSB7XG4gIHNvdW5kUmVzdW1lKCk7XG4gIGxhc3RfaW5wdXRfdGltZSA9IERhdGUubm93KCk7XG59XG5cbmZ1bmN0aW9uIG9uS2V5VXAoZXZlbnQpIHtcbiAgcHJvdGVjdFVubG9hZChldmVudC5jdHJsS2V5KTtcbiAgbGV0IGNvZGUgPSBldmVudC5rZXlDb2RlO1xuICBpZiAoIWxldEV2ZW50VGhyb3VnaChldmVudCkpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgaWYgKGNvZGUgPT09IEtFWVMuRVNDICYmIHBvaW50ZXJMb2NrZWQoKSkge1xuICAgIHBvaW50ZXJMb2NrRXhpdCgpO1xuICB9XG4gIC8vIExldHRpbmcgdGhyb3VnaCB0byBvdXIgY29kZSByZWdhcmRsZXNzIG9mIG5vX3N0b3AsIGJlY2F1c2Ugd2UgaGFuZGxlIHRoaW5ncyBsaWtlIEVTQyBpbiBJTlBVVCBlbGVtZW50c1xuXG4gIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV07XG4gIGlmIChrcyAmJiBrcy5zdGF0ZSA9PT0gRE9XTikge1xuICAgIGtzLmtleVVwKGV2ZW50KTtcbiAgfVxuXG4gIGluX2V2ZW50LmhhbmRsZSgna2V5dXAnLCBldmVudCk7XG59XG5cbmZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICBwcm90ZWN0VW5sb2FkKGV2ZW50LmN0cmxLZXkpO1xuICBsZXQgY29kZSA9IGV2ZW50LmtleUNvZGU7XG4gIGxldCBub19zdG9wID0gbGV0RXZlbnRUaHJvdWdoKGV2ZW50KSB8fFxuICAgIGNvZGUgPj0gS0VZUy5GNSAmJiBjb2RlIDw9IEtFWVMuRjEyIHx8IC8vIENocm9tZSBkZWJ1ZyBob3RrZXlzXG4gICAgY29kZSA9PT0gS0VZUy5JICYmIChldmVudC5hbHRLZXkgJiYgZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5ICYmIGV2ZW50LnNoaWZ0S2V5KTsgLy8gU2FmYXJpLCBhbHRlcm5hdGUgQ2hyb21lXG4gIGlmICghbm9fc3RvcCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLy8gY29uc29sZS5sb2coYCR7ZXZlbnQuY29kZX0gJHtldmVudC5rZXlDb2RlfWApO1xuICBvblVzZXJJbnB1dCgpO1xuXG4gIC8vIExldHRpbmcgdGhyb3VnaCB0byBvdXIgY29kZSByZWdhcmRsZXNzIG9mIG5vX3N0b3AsIGJlY2F1c2Ugd2UgaGFuZGxlIHRoaW5ncyBsaWtlIEVTQyBpbiBJTlBVVCBlbGVtZW50c1xuICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2NvZGVdO1xuICBpZiAoIWtzKSB7XG4gICAga3MgPSBrZXlfc3RhdGVfbmV3W2NvZGVdID0gbmV3IEtleURhdGEoKTtcbiAgfVxuICBpZiAoa3Muc3RhdGUgIT09IERPV04pIHsgLy8gbm90IGEgcmVwZWF0IGV2ZW50XG4gICAgKytrcy5kb3duX2VkZ2U7XG4gICAga3Muc3RhdGUgPSBET1dOO1xuICAgIGtzLm9yaWdpbl90aW1lID0gZXZlbnRUaW1lc3RhbXAoZXZlbnQpO1xuICAgIC8vIGtzLmRvd25fc3RhcnQgPSBrcy5vcmlnaW5fdGltZTtcblxuICAgIGluX2V2ZW50LmhhbmRsZSgna2V5ZG93bicsIGV2ZW50KTtcbiAgfVxufVxuXG5sZXQgbW91c2VfbW92ZV94ID0gMDtcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0dldE1vdXNlTW92ZVgoKSB7XG4gIGxldCByZXQgPSBtb3VzZV9tb3ZlX3g7XG4gIG1vdXNlX21vdmVfeCA9IDA7XG4gIHJldHVybiByZXQ7XG59XG5cbmxldCBtb3VzZV9tb3ZlZCA9IGZhbHNlO1xubGV0IHRlbXBfZGVsdGEgPSB2ZWMyKCk7XG5sZXQgbGFzdF9hYnNfbW92ZSA9IDA7XG5sZXQgbGFzdF9hYnNfbW92ZV90aW1lID0gMDtcbmZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2ZW50LCBub19zdG9wKSB7XG4gIC8vLyBldmVudGxvZyhldmVudCk7XG4gIC8vIERvbid0IGJsb2NrIG1vdXNlIGJ1dHRvbiAzLCB0aGF0J3MgdGhlIEJhY2sgYnV0dG9uXG4gIGlmICghbGV0RXZlbnRUaHJvdWdoKGV2ZW50KSAmJiAhbm9fc3RvcCAmJiBldmVudC5idXR0b24gIT09IDMpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0b3VjaF9tb2RlKSB7XG4gICAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3RvdWNoX21vZGUnLCBmYWxzZSk7XG4gICAgICB0b3VjaF9tb2RlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwYWRfbW9kZSkge1xuICAgICAgbG9jYWxfc3RvcmFnZS5zZXRKU09OKCdwYWRfbW9kZScsIGZhbHNlKTtcbiAgICAgIHBhZF9tb2RlID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIG1vdXNlX21vdmVkID0gdHJ1ZTtcbiAgLy8gb2Zmc2V0WC9sYXllclggcmV0dXJuIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRleHQtZW50cnkgYm94ZXMsIG5vdCBnb29kIVxuICAvLyBjbGllbnRYL2NsaWVudFkgZG8gbm90IGhhbmRsZSB3ZWlyZCBzY3JvbGxpbmcgdGhhdCBoYXBwZW5zIG9uIGlPUywgYnV0XG4gIC8vICAgc2hvdWxkIG5vdCBhZmZlY3QgbW91c2UgZXZlbnRzIChidXQgbWF5YmUgb24gU2FmYXJpIGRlc2t0b3A/KVxuICBtb3VzZV9wb3NbMF0gPSBldmVudC5wYWdlWDtcbiAgbW91c2VfcG9zWzFdID0gZXZlbnQucGFnZVk7XG4gIC8vIGlmIChldmVudC5vZmZzZXRYICE9PSB1bmRlZmluZWQpIHtcbiAgLy8gICBtb3VzZV9wb3NbMF0gPSBldmVudC5vZmZzZXRYO1xuICAvLyAgIG1vdXNlX3Bvc1sxXSA9IGV2ZW50Lm9mZnNldFk7XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgbW91c2VfcG9zWzBdID0gZXZlbnQubGF5ZXJYO1xuICAvLyAgIG1vdXNlX3Bvc1sxXSA9IGV2ZW50LmxheWVyWTtcbiAgLy8gfVxuICBtb3VzZV9wb3NfaXNfdG91Y2ggPSBmYWxzZTtcblxuICBtb3VzZV9tb3ZlX3ggKz0gKGV2ZW50Lm1vdmVtZW50WCB8fCAwKTtcblxuICBsZXQgYW55X21vdmVtZW50ID0gZmFsc2U7XG4gIGlmIChwb2ludGVyTG9ja2VkKCkpIHtcbiAgICBzZXRNb3VzZVRvTWlkKCk7XG4gICAgaWYgKGV2ZW50Lm1vdmVtZW50WCB8fCBldmVudC5tb3ZlbWVudFkpIHtcbiAgICAgIC8vIFNtb290aCBvdXQgKGlnbm9yZSkgbGFyZ2UganVtcHMgaW4gbW92ZW1lbnRcbiAgICAgIC8vIFRoaXMgaXMsIEkgYmVsaWV2ZSwganVzdCBhIGJ1ZyB3aXRoIENocm9taXVtIG9uIFdpbmRvd3MsIGFzIGl0IHJlcG9zaXRpb25zIHRoZSBoaWRkZW4gbW91c2UgY3Vyc29yXG4gICAgICBsZXQgdHMgPSBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgICAgIGxldCBhYnNfbW92ZSA9IGFicyhldmVudC5tb3ZlbWVudFgpICsgYWJzKGV2ZW50Lm1vdmVtZW50WSk7XG4gICAgICBpZiAoYWJzX21vdmUgPiAyMDAgJiYgKGFic19tb3ZlID4gMyAqIGxhc3RfYWJzX21vdmUgfHwgdHMgLSBsYXN0X2Fic19tb3ZlX3RpbWUgPiAxMDAwKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgSWdub3JpbmcgbW91c2Vtb3ZlIHdpdGggc3VkZGVuIGxhcmdlIGRlbHRhOiAke2V2ZW50Lm1vdmVtZW50WH0sJHtldmVudC5tb3ZlbWVudFl9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2MnNldCh0ZW1wX2RlbHRhLCBldmVudC5tb3ZlbWVudFggfHwgMCwgZXZlbnQubW92ZW1lbnRZIHx8IDApO1xuICAgICAgICBhbnlfbW92ZW1lbnQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGFzdF9hYnNfbW92ZSA9IGFic19tb3ZlO1xuICAgICAgbGFzdF9hYnNfbW92ZV90aW1lID0gdHM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHYyc3ViKHRlbXBfZGVsdGEsIG1vdXNlX3BvcywgbGFzdF9tb3VzZV9wb3MpO1xuICAgIGlmICh0ZW1wX2RlbHRhWzBdIHx8IHRlbXBfZGVsdGFbMV0pIHtcbiAgICAgIGFueV9tb3ZlbWVudCA9IHRydWU7XG4gICAgfVxuICAgIHYyY29weShsYXN0X21vdXNlX3BvcywgbW91c2VfcG9zKTtcbiAgfVxuICBpZiAoYW55X21vdmVtZW50ICYmIG1vdmVtZW50X3F1ZXN0aW9uYWJsZV9mcmFtZXMgJiYgdjJsZW5ndGhTcSh0ZW1wX2RlbHRhKSA+IDEwMCoxMDApIHtcbiAgICAvLyBnaWFudCBtb3ZlbWVudCByaWdodCBhZnRlciBlbnRlcmluZyBvciBleGl0aW5nIHBvaW50ZXIgbG9jaywgaWdub3JlIChDaHJvbWUgYnVnKVxuICAgIC8vIFdlIGdldCB0aGVzZSB1bnJlYXNvbmFibGUganVtcHMgaW4gYm90aCBtb3ZlbWVudFhZIGFuZCB0aGUgb3RoZXIsIHByZXN1bWFibHlcbiAgICAvLyBiZWNhdXNlIHBvaW50ZXJMb2NrZWQoKSBpcyBzbGlnaHRseSBvdXQgb2Ygc3luYywgdGhvdWdoIHRoZSBsYXJnZSAubW92ZW1lbnRYL1lcbiAgICAvLyBpcyBjbGVhcmx5IGVycm9uZW91cy5cbiAgICBhbnlfbW92ZW1lbnQgPSBmYWxzZTtcbiAgfVxuICBpZiAoYW55X21vdmVtZW50KSB7XG4gICAgZm9yIChsZXQgYnV0dG9uID0gUE9JTlRFUkxPQ0s7IGJ1dHRvbiA8IG1vdXNlX2Rvd24ubGVuZ3RoOyArK2J1dHRvbikge1xuICAgICAgaWYgKG1vdXNlX2Rvd25bYnV0dG9uXSB8fCBidXR0b24gPT09IFBPSU5URVJMT0NLICYmIHBvaW50ZXJMb2NrZWQoKSkge1xuICAgICAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbYG0ke2J1dHRvbn1gXTtcbiAgICAgICAgaWYgKHRvdWNoX2RhdGEpIHtcbiAgICAgICAgICB2MmFkZCh0b3VjaF9kYXRhLmRlbHRhLCB0b3VjaF9kYXRhLmRlbHRhLCB0ZW1wX2RlbHRhKTtcbiAgICAgICAgICB0b3VjaF9kYXRhLnRvdGFsICs9IGFicyh0ZW1wX2RlbHRhWzBdKSArIGFicyh0ZW1wX2RlbHRhWzFdKTtcbiAgICAgICAgICB2MmNvcHkodG91Y2hfZGF0YS5jdXJfcG9zLCBtb3VzZV9wb3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50KSB7XG4gIGlmIChtb3VzZV9sb2cpIHtcbiAgICBldmVudGxvZyhldmVudCk7XG4gIH1cbiAgb25Nb3VzZU1vdmUoZXZlbnQpOyAvLyB1cGRhdGUgbW91c2VfcG9zXG4gIG9uVXNlcklucHV0KCk7XG4gIGxldCBub19jbGljayA9IGxldEV2ZW50VGhyb3VnaChldmVudCk7XG5cbiAgbGV0IGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgbW91c2VfZG93bltidXR0b25dID0gdHJ1ZTtcbiAgbGV0IHRvdWNoX2lkID0gYG0ke2J1dHRvbn1gO1xuICBpZiAodG91Y2hlc1t0b3VjaF9pZF0pIHtcbiAgICB2MmNvcHkodG91Y2hlc1t0b3VjaF9pZF0uc3RhcnRfcG9zLCBtb3VzZV9wb3MpO1xuICB9IGVsc2Uge1xuICAgIHRvdWNoZXNbdG91Y2hfaWRdID0gbmV3IFRvdWNoRGF0YShtb3VzZV9wb3MsIGZhbHNlLCBidXR0b24sIGV2ZW50KTtcbiAgfVxuICB0b3VjaGVzW3RvdWNoX2lkXS5kb3duKGV2ZW50LCAhbm9fY2xpY2spO1xuICBpZiAoIW5vX2NsaWNrKSB7XG4gICAgaW5fZXZlbnQuaGFuZGxlKCdtb3VzZWRvd24nLCBldmVudCk7XG4gIH1cbiAgLy9UaGlzIHNvbHZlcyBpbnB1dCBidWcgd2hlbiBnYW1lIGlzIHJ1bm5pbmcgYXMgaWZyYW1lLiBFLmcuIEZhY2Vib29rIEluc3RhbnRcbiAgaWYgKHdpbmRvdy5mb2N1cykge1xuICAgIHdpbmRvdy5mb2N1cygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uTW91c2VVcChldmVudCkge1xuICBpZiAobW91c2VfbG9nKSB7XG4gICAgZXZlbnRsb2coZXZlbnQpO1xuICB9XG4gIG9uTW91c2VNb3ZlKGV2ZW50KTsgLy8gdXBkYXRlIG1vdXNlX3Bvc1xuICBsZXQgbm9fY2xpY2sgPSBsZXRFdmVudFRocm91Z2goZXZlbnQpO1xuICBsZXQgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICBpZiAobW91c2VfZG93bltidXR0b25dKSB7XG4gICAgbGV0IHRvdWNoX2lkID0gYG0ke2J1dHRvbn1gO1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKHRvdWNoX2RhdGEpIHtcbiAgICAgIHYyY29weSh0b3VjaF9kYXRhLmN1cl9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgICBpZiAoIW5vX2NsaWNrKSB7XG4gICAgICAgIHRvdWNoX2RhdGEudXBfZWRnZSsrO1xuICAgICAgfVxuICAgICAgdG91Y2hfZGF0YS5zdGF0ZSA9IFVQO1xuICAgICAgdG91Y2hfZGF0YS5kb3duX3RpbWUgKz0gdGltZURlbHRhKGV2ZW50LCB0b3VjaF9kYXRhLm9yaWdpbl90aW1lKTtcbiAgICB9XG4gICAgZGVsZXRlIG1vdXNlX2Rvd25bYnV0dG9uXTtcbiAgfVxuICBpZiAoIW5vX2NsaWNrKSB7XG4gICAgaW5fZXZlbnQuaGFuZGxlKCdtb3VzZXVwJywgZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uV2hlZWwoZXZlbnQpIHtcbiAgb25Nb3VzZU1vdmUoZXZlbnQsIHRydWUpO1xuICBsZXQgZGVsdGEgPSAtZXZlbnQuZGVsdGFZIHx8IGV2ZW50LndoZWVsRGVsdGEgfHwgLWV2ZW50LmRldGFpbDtcbiAgd2hlZWxfZXZlbnRzLnB1c2goe1xuICAgIHBvczogW2V2ZW50LnBhZ2VYLCBldmVudC5wYWdlWV0sXG4gICAgZGVsdGE6IGRlbHRhID4gMCA/IDEgOiAtMSxcbiAgICBkaXNwYXRjaGVkOiBmYWxzZSxcbiAgfSk7XG59XG5cbmxldCB0b3VjaF9wb3MgPSB2ZWMyKCk7XG5sZXQgcmVsZWFzZWRfdG91Y2hfaWQgPSAwO1xuZnVuY3Rpb24gb25Ub3VjaENoYW5nZShldmVudCkge1xuICAvLyBldmVudGxvZyhldmVudCk7XG4gIC8vIFVzaW5nIC5wYWdlWC9ZIGhlcmUgYmVjYXVzZSBvbiBpT1Mgd2hlbiBhIHRleHQgZW50cnkgaXMgc2VsZWN0ZWQsIGl0IHNjcm9sbHNcbiAgLy8gb3VyIGNhbnZhcyBvZmZzY3JlZW4uICBTaG91bGQgbWF5YmUgaGF2ZSB0aGUgY2FudmFzIHJlc2l6ZSBhbmQgdXNlIGNsaWVudFhcbiAgLy8gaW5zdGVhZCwgYnV0IHRoaXMgd29ya3Mgd2VsbCBlbm91Z2guXG4gIG9uVXNlcklucHV0KCk7XG4gIGlmICghdG91Y2hfbW9kZSkge1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCd0b3VjaF9tb2RlJywgdHJ1ZSk7XG4gICAgdG91Y2hfbW9kZSA9IHRydWU7XG4gIH1cbiAgaWYgKHBhZF9tb2RlKSB7XG4gICAgbG9jYWxfc3RvcmFnZS5zZXQoJ3BhZF9tb2RlJywgZmFsc2UpO1xuICAgIHBhZF9tb2RlID0gZmFsc2U7XG4gIH1cbiAgaWYgKGV2ZW50LmNhbmNlbGFibGUgIT09IGZhbHNlKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBsZXQgY3QgPSBldmVudC50b3VjaGVzO1xuICBsZXQgc2VlbiA9IHt9O1xuXG4gIGxldCBuZXdfY291bnQgPSBjdC5sZW5ndGg7XG4gIGxldCBvbGRfY291bnQgPSBuZXdfY291bnQ7XG4gIC8vIExvb2sgZm9yIHByZXNzIGFuZCBtb3ZlbWVudFxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmV3X2NvdW50OyArK2lpKSB7XG4gICAgbGV0IHRvdWNoID0gY3RbaWldO1xuICAgIGxldCBsYXN0X3RvdWNoID0gdG91Y2hlc1t0b3VjaC5pZGVudGlmaWVyXTtcbiAgICB2MnNldCh0b3VjaF9wb3MsIHRvdWNoLnBhZ2VYLCB0b3VjaC5wYWdlWSk7XG4gICAgaWYgKCFsYXN0X3RvdWNoKSB7XG4gICAgICBsYXN0X3RvdWNoID0gdG91Y2hlc1t0b3VjaC5pZGVudGlmaWVyXSA9IG5ldyBUb3VjaERhdGEodG91Y2hfcG9zLCB0cnVlLCAwLCBldmVudCk7XG4gICAgICBsYXN0X3RvdWNoLmRvd24oZXZlbnQsIHRydWUpO1xuICAgICAgLS1vbGRfY291bnQ7XG4gICAgICBpbl9ldmVudC5oYW5kbGUoJ21vdXNlZG93bicsIHRvdWNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdjJzdWIodGVtcF9kZWx0YSwgdG91Y2hfcG9zLCBsYXN0X3RvdWNoLmN1cl9wb3MpO1xuICAgICAgdjJhZGQobGFzdF90b3VjaC5kZWx0YSwgbGFzdF90b3VjaC5kZWx0YSwgdGVtcF9kZWx0YSk7XG4gICAgICBsYXN0X3RvdWNoLnRvdGFsICs9IGFicyh0ZW1wX2RlbHRhWzBdKSArIGFicyh0ZW1wX2RlbHRhWzFdKTtcbiAgICAgIHYyY29weShsYXN0X3RvdWNoLmN1cl9wb3MsIHRvdWNoX3Bvcyk7XG4gICAgfVxuXG4gICAgc2Vlblt0b3VjaC5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgaWYgKFRPVUNIX0FTX01PVVNFICYmIG5ld19jb3VudCA9PT0gMSkge1xuICAgICAgLy8gU2luZ2xlIHRvdWNoLCB0cmVhdCBhcyBtb3VzZSBtb3ZlbWVudFxuICAgICAgdjJjb3B5KG1vdXNlX3BvcywgdG91Y2hfcG9zKTtcbiAgICAgIG1vdXNlX3Bvc19pc190b3VjaCA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8vIExvb2sgZm9yIHJlbGVhc2UsIGlmIHJlbGVhc2luZyBleGFjdGx5IG9uZSBmaW5hbCB0b3VjaFxuICBsZXQgcmVsZWFzZWRfdG91Y2g7XG4gIGxldCByZWxlYXNlZF9pZHMgPSBbXTtcbiAgZm9yIChsZXQgaWQgaW4gdG91Y2hlcykge1xuICAgIGlmICghc2VlbltpZF0pIHtcbiAgICAgIGxldCB0b3VjaCA9IHRvdWNoZXNbaWRdO1xuICAgICAgaWYgKHRvdWNoLnRvdWNoICYmIHRvdWNoLnN0YXRlID09PSBET1dOKSB7XG4gICAgICAgICsrb2xkX2NvdW50O1xuICAgICAgICByZWxlYXNlZF90b3VjaCA9IHRvdWNoO1xuICAgICAgICByZWxlYXNlZF9pZHMucHVzaChpZCk7XG4gICAgICAgIGluX2V2ZW50LmhhbmRsZSgnbW91c2V1cCcsIHsgcGFnZVg6IHRvdWNoLmN1cl9wb3NbMF0sIHBhZ2VZOiB0b3VjaC5jdXJfcG9zWzFdIH0pO1xuICAgICAgICB0b3VjaC51cF9lZGdlKys7XG4gICAgICAgIHRvdWNoLnN0YXRlID0gVVA7XG4gICAgICAgIHRvdWNoLmRvd25fdGltZSArPSB0aW1lRGVsdGEoZXZlbnQsIHRvdWNoLm9yaWdpbl90aW1lKTtcbiAgICAgICAgdG91Y2gucmVsZWFzZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCByZWxlYXNlZF9pZHMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGlkID0gcmVsZWFzZWRfaWRzW2lpXTtcbiAgICBsZXQgdG91Y2ggPSB0b3VjaGVzW2lkXTtcbiAgICAvLyBnZXQgbmV3IGlkLCBub3Qgb3ZlcmxhcHBpbmcgd2l0aCB0b3VjaC5pZGVudGlmaWVyIHZhbHVlcyxcbiAgICAvLyBzbyB0aGF0IGlmIHdlIGdldCBhIG5ldyB0b3VjaCBldmVudCBiZWZvcmUgdGhlIG5leHQgdGljaywgd2Ugc3RpbGwgc2VlIHRoZSByZWxlYXNlLCBldGNcbiAgICBsZXQgbmV3X2lkID0gYHIkeysrcmVsZWFzZWRfdG91Y2hfaWR9YDtcbiAgICBkZWxldGUgdG91Y2hlc1tpZF07XG4gICAgdG91Y2hlc1tuZXdfaWRdID0gdG91Y2g7XG4gIH1cbiAgaWYgKFRPVUNIX0FTX01PVVNFKSB7XG4gICAgaWYgKG9sZF9jb3VudCA9PT0gMSAmJiBuZXdfY291bnQgPT09IDApIHtcbiAgICAgIGRlbGV0ZSBtb3VzZV9kb3duWzBdO1xuICAgICAgdjJjb3B5KG1vdXNlX3BvcywgcmVsZWFzZWRfdG91Y2guY3VyX3Bvcyk7XG4gICAgICBtb3VzZV9wb3NfaXNfdG91Y2ggPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAobmV3X2NvdW50ID09PSAxKSB7XG4gICAgICBsZXQgdG91Y2ggPSBjdFswXTtcbiAgICAgIGlmICghb2xkX2NvdW50KSB7XG4gICAgICAgIG1vdXNlX2Rvd25bMF0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgdjJzZXQobW91c2VfcG9zLCB0b3VjaC5wYWdlWCwgdG91Y2gucGFnZVkpO1xuICAgICAgbW91c2VfcG9zX2lzX3RvdWNoID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKG5ld19jb3VudCA+IDEpIHtcbiAgICAgIC8vIG11bHRpcGxlIHRvdWNoZXMsIHJlbGVhc2UgbW91c2VfZG93biB3aXRob3V0IGVtaXR0aW5nIGNsaWNrXG4gICAgICBkZWxldGUgbW91c2VfZG93blswXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25CbHVyT3JGb2N1cyhldnQpIHtcbiAgcHJvdGVjdFVubG9hZChmYWxzZSk7XG4gIGZvciAobGV0IGNvZGUgaW4ga2V5X3N0YXRlX25ldykge1xuICAgIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdbY29kZV07XG4gICAgaWYgKGtzLnN0YXRlID09PSBET1dOKSB7XG4gICAgICBrcy5rZXlVcChldnQpO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgQU5BTE9HX01BUCA9IHt9O1xuZnVuY3Rpb24gZ2VuQW5hbG9nTWFwKCkge1xuICBpZiAobWFwX2FuYWxvZ190b19kcGFkKSB7XG4gICAgQU5BTE9HX01BUFtQQUQuTEVGVF0gPSBQQUQuQU5BTE9HX0xFRlQ7XG4gICAgQU5BTE9HX01BUFtQQUQuUklHSFRdID0gUEFELkFOQUxPR19SSUdIVDtcbiAgICBBTkFMT0dfTUFQW1BBRC5VUF0gPSBQQUQuQU5BTE9HX1VQO1xuICAgIEFOQUxPR19NQVBbUEFELkRPV05dID0gUEFELkFOQUxPR19ET1dOO1xuICB9XG59XG5cbmxldCBwYXNzaXZlX3BhcmFtID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVG91Y2hlcyhlbGVtKSB7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hDaGFuZ2UsIHBhc3NpdmVfcGFyYW0pO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hDaGFuZ2UsIHBhc3NpdmVfcGFyYW0pO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaENoYW5nZSwgcGFzc2l2ZV9wYXJhbSk7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBvblRvdWNoQ2hhbmdlLCBwYXNzaXZlX3BhcmFtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoX2NhbnZhcywgcGFyYW1zKSB7XG4gIGNhbnZhcyA9IF9jYW52YXM7XG4gIHBvaW50ZXJfbG9jay5zdGFydHVwKGNhbnZhcywgb25Qb2ludGVyTG9ja0VudGVyKTtcbiAgaWYgKHBhcmFtcy5tYXBfYW5hbG9nX3RvX2RwYWQgIT09IHVuZGVmaW5lZCkge1xuICAgIG1hcF9hbmFsb2dfdG9fZHBhZCA9IHBhcmFtcy5tYXBfYW5hbG9nX3RvX2RwYWQ7XG4gIH1cbiAgcGFkX3RvX3RvdWNoID0gcGFyYW1zLnBhZF90b190b3VjaDtcbiAgZ2VuQW5hbG9nTWFwKCk7XG5cbiAgdHJ5IHtcbiAgICBsZXQgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFzc2l2ZV9wYXJhbSA9IHsgcGFzc2l2ZTogZmFsc2UgfTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHBhc3NpdmVfcGFyYW0gPSBmYWxzZTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uS2V5VXAsIGZhbHNlKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpZ25vcmVkLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGlnbm9yZWQsIGZhbHNlKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCwgZmFsc2UpO1xuICBpZiAod2luZG93LldoZWVsRXZlbnQpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBvbldoZWVsLCBwYXNzaXZlX3BhcmFtKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBvbldoZWVsLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBvbldoZWVsLCBmYWxzZSk7XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uQmx1ck9yRm9jdXMsIGZhbHNlKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgb25CbHVyT3JGb2N1cywgZmFsc2UpO1xuXG4gIGhhbmRsZVRvdWNoZXMoY2FudmFzKTtcblxuICAvLyBGb3IgaU9TLCB0aGlzIGlzIG5lZWRlZCBpbiB0ZXN0X2Z1bGxzY3JlZW4sIGJ1dCBub3QgaGVyZSwgZm9yIHNvbWUgcmVhc29uXG4gIC8vd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIGlnbm9yZWQsIGZhbHNlKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkLCBmYWxzZSk7XG59XG5cblxuY29uc3QgREVBRFpPTkUgPSAwLjI2O1xuY29uc3QgREVBRFpPTkVfU1EgPSBERUFEWk9ORSAqIERFQURaT05FO1xuY29uc3QgTlVNX1NUSUNLUyA9IDI7XG5jb25zdCBQQURfVEhSRVNIT0xEID0gMC4yNTsgLy8gZm9yIHR1cm5pbmcgYW5hbG9nIG1vdGlvbiBpbnRvIGRpZ2l0YWwgZXZlbnRzXG5cbmZ1bmN0aW9uIGdldEdhbWVwYWREYXRhKGlkeCkge1xuICBsZXQgZ3BkID0gZ2FtZXBhZF9kYXRhW2lkeF07XG4gIGlmICghZ3BkKSB7XG4gICAgZ3BkID0gZ2FtZXBhZF9kYXRhW2lkeF0gPSB7XG4gICAgICBpZDogaWR4LFxuICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgc3RpY2tzOiBuZXcgQXJyYXkoTlVNX1NUSUNLUyksXG4gICAgfTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgTlVNX1NUSUNLUzsgKytpaSkge1xuICAgICAgZ3BkLnN0aWNrc1tpaV0gPSB2ZWMyKCk7XG4gICAgfVxuICAgIHBhZF9zdGF0ZXNbaWR4XSA9IHt9O1xuICB9XG4gIHJldHVybiBncGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIGIsIHBhZGNvZGUpIHtcbiAgaWYgKGIgJiYgIXBzW3BhZGNvZGVdKSB7XG4gICAgcHNbcGFkY29kZV0gPSBET1dOX0VER0U7XG4gICAgaWYgKHRvdWNoX21vZGUpIHtcbiAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCd0b3VjaF9tb2RlJywgZmFsc2UpO1xuICAgICAgdG91Y2hfbW9kZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXBhZF9tb2RlKSB7XG4gICAgICBsb2NhbF9zdG9yYWdlLnNldEpTT04oJ3BhZF9tb2RlJywgdHJ1ZSk7XG4gICAgICBwYWRfbW9kZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwYWRjb2RlID09PSBwYWRfdG9fdG91Y2gpIHtcbiAgICAgIGxldCB0b3VjaF9pZCA9IGBnJHtncGQuaWR9YDtcbiAgICAgIGlmICh0b3VjaGVzW3RvdWNoX2lkXSkge1xuICAgICAgICBzZXRNb3VzZVRvTWlkKCk7XG4gICAgICAgIHYyY29weSh0b3VjaGVzW3RvdWNoX2lkXS5zdGFydF9wb3MsIG1vdXNlX3Bvcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3VjaGVzW3RvdWNoX2lkXSA9IG5ldyBUb3VjaERhdGEobW91c2VfcG9zLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICB9XG4gICAgICB0b3VjaGVzW3RvdWNoX2lkXS5kb3duKG51bGwsIHRydWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghYiAmJiBwc1twYWRjb2RlXSkge1xuICAgIHBzW3BhZGNvZGVdID0gVVBfRURHRTtcbiAgICBpZiAocGFkY29kZSA9PT0gcGFkX3RvX3RvdWNoKSB7XG4gICAgICBsZXQgdG91Y2hfaWQgPSBgZyR7Z3BkLmlkfWA7XG4gICAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgICAgaWYgKHRvdWNoX2RhdGEpIHtcbiAgICAgICAgc2V0TW91c2VUb01pZCgpO1xuICAgICAgICB2MmNvcHkodG91Y2hfZGF0YS5jdXJfcG9zLCBtb3VzZV9wb3MpO1xuICAgICAgICB0b3VjaF9kYXRhLnVwX2VkZ2UrKztcbiAgICAgICAgdG91Y2hfZGF0YS5zdGF0ZSA9IFVQO1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fdGltZSArPSBtYXgoZW5naW5lLmhydGltZSAtIHRvdWNoX2RhdGEub3JpZ2luX3RpbWUsIE1JTl9FVkVOVF9USU1FX0RFTFRBKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2FtZXBhZFVwZGF0ZSgpIHtcbiAgbGV0IGdhbWVwYWRzID0gKG5hdmlnYXRvci5nYW1lcGFkcyB8fFxuICAgIG5hdmlnYXRvci53ZWJraXRHYW1lcGFkcyB8fFxuICAgIChuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMgJiYgbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkpIHx8XG4gICAgKG5hdmlnYXRvci53ZWJraXRHZXRHYW1lcGFkcyAmJiBuYXZpZ2F0b3Iud2Via2l0R2V0R2FtZXBhZHMoKSkpO1xuXG4gIGlmIChnYW1lcGFkcykge1xuICAgIGxldCBudW1HYW1lUGFkcyA9IGdhbWVwYWRzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtR2FtZVBhZHM7IGlpKyspIHtcbiAgICAgIGxldCBnYW1lcGFkID0gZ2FtZXBhZHNbaWldO1xuICAgICAgaWYgKCFnYW1lcGFkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IGdwZCA9IGdldEdhbWVwYWREYXRhKGlpKTtcbiAgICAgIGxldCBwcyA9IHBhZF9zdGF0ZXNbaWldO1xuICAgICAgLy8gVXBkYXRlIGJ1dHRvbiBzdGF0ZXNcbiAgICAgIGlmIChncGQudGltZXN0YW1wIDwgZ2FtZXBhZC50aW1lc3RhbXApIHtcbiAgICAgICAgbGV0IGJ1dHRvbnMgPSBnYW1lcGFkLmJ1dHRvbnM7XG4gICAgICAgIGdwZC50aW1lc3RhbXAgPSBnYW1lcGFkLnRpbWVzdGFtcDtcblxuICAgICAgICBsZXQgbnVtQnV0dG9ucyA9IGJ1dHRvbnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IG51bUJ1dHRvbnM7IG4rKykge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IGJ1dHRvbnNbbl07XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gdmFsdWUgPiAwLjU7XG4gICAgICAgICAgdXBkYXRlUGFkU3RhdGUoZ3BkLCBwcywgdmFsdWUsIG4pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBheGVzIHN0YXRlc1xuICAgICAgbGV0IGF4ZXMgPSBnYW1lcGFkLmF4ZXM7XG4gICAgICBpZiAoYXhlcy5sZW5ndGggPj0gTlVNX1NUSUNLUyAqIDIpIHtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBOVU1fU1RJQ0tTOyArK24pIHtcbiAgICAgICAgICBsZXQgcGFpciA9IGdwZC5zdGlja3Nbbl07XG4gICAgICAgICAgdjJzZXQocGFpciwgYXhlc1tuKjJdLCAtYXhlc1tuKjIgKyAxXSk7XG4gICAgICAgICAgbGV0IG1hZ25pdHVkZSA9IHYybGVuZ3RoU3EocGFpcik7XG4gICAgICAgICAgaWYgKG1hZ25pdHVkZSA+IERFQURaT05FX1NRKSB7XG4gICAgICAgICAgICBtYWduaXR1ZGUgPSBzcXJ0KG1hZ25pdHVkZSk7XG5cbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBsWCBhbmQgbFlcbiAgICAgICAgICAgIHYyc2NhbGUocGFpciwgcGFpciwgMSAvIG1hZ25pdHVkZSk7XG5cbiAgICAgICAgICAgIC8vIENsaXAgdGhlIG1hZ25pdHVkZSBhdCBpdHMgbWF4IHBvc3NpYmxlIHZhbHVlXG4gICAgICAgICAgICBtYWduaXR1ZGUgPSBtaW4obWFnbml0dWRlLCAxKTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IG1hZ25pdHVkZSByZWxhdGl2ZSB0byB0aGUgZW5kIG9mIHRoZSBkZWFkIHpvbmVcbiAgICAgICAgICAgIG1hZ25pdHVkZSA9ICgobWFnbml0dWRlIC0gREVBRFpPTkUpIC8gKDEgLSBERUFEWk9ORSkpO1xuXG4gICAgICAgICAgICB2MnNjYWxlKHBhaXIsIHBhaXIsIG1hZ25pdHVkZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHYyc2V0KHBhaXIsIDAsIDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFwcGx5IFwibW92ZW1lbnRcIiB0byBkcmFnIGV2ZW50c1xuICAgICAgICAgIGlmIChuIDw9IDEgJiYgcGFkX3RvX3RvdWNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1tgZyR7Z3BkLmlkfWBdO1xuICAgICAgICAgICAgaWYgKHRvdWNoX2RhdGEpIHtcbiAgICAgICAgICAgICAgdjJzY2FsZSh0ZW1wX2RlbHRhLCBwYWlyLCBlbmdpbmUuZnJhbWVfZHQpO1xuICAgICAgICAgICAgICB2MmFkZCh0b3VjaF9kYXRhLmRlbHRhLCB0b3VjaF9kYXRhLmRlbHRhLCB0ZW1wX2RlbHRhKTtcbiAgICAgICAgICAgICAgdG91Y2hfZGF0YS50b3RhbCArPSBhYnModGVtcF9kZWx0YVswXSkgKyBhYnModGVtcF9kZWx0YVsxXSk7XG4gICAgICAgICAgICAgIHNldE1vdXNlVG9NaWQoKTtcbiAgICAgICAgICAgICAgdjJjb3B5KHRvdWNoX2RhdGEuY3VyX3BvcywgbW91c2VfcG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgdmlydHVhbCBkaXJlY3Rpb25hbCBidXR0b25zXG4gICAgICAgIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIGdwZC5zdGlja3NbMF1bMF0gPCAtUEFEX1RIUkVTSE9MRCwgUEFELkFOQUxPR19MRUZUKTtcbiAgICAgICAgdXBkYXRlUGFkU3RhdGUoZ3BkLCBwcywgZ3BkLnN0aWNrc1swXVswXSA+IFBBRF9USFJFU0hPTEQsIFBBRC5BTkFMT0dfUklHSFQpO1xuICAgICAgICB1cGRhdGVQYWRTdGF0ZShncGQsIHBzLCBncGQuc3RpY2tzWzBdWzFdIDwgLVBBRF9USFJFU0hPTEQsIFBBRC5BTkFMT0dfRE9XTik7XG4gICAgICAgIHVwZGF0ZVBhZFN0YXRlKGdwZCwgcHMsIGdwZC5zdGlja3NbMF1bMV0gPiBQQURfVEhSRVNIT0xELCBQQUQuQU5BTE9HX1VQKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpY2tJbnB1dCgpIHtcbiAgLy8gYnJvd3NlciBmcmFtZSBoYXMgb2NjdXJyZWQgc2luY2UgdGhlIGNhbGwgdG8gZW5kRnJhbWUoKSxcbiAgLy8gd2Ugc2hvdWxkIG5vdyBoYXZlIGB0b3VjaGVzYCBhbmQgYGtleV9zdGF0ZWAgcG9wdWxhdGVkIHdpdGggZWRnZSBldmVudHNcbiAgaWYgKG1vdmVtZW50X3F1ZXN0aW9uYWJsZV9mcmFtZXMpIHtcbiAgICAtLW1vdmVtZW50X3F1ZXN0aW9uYWJsZV9mcmFtZXM7XG4gIH1cblxuICAvLyB1cGRhdGUgdGltaW5nIG9mIGtleSBkb3duIHN0YXRlc1xuICBsZXQgaHJ0aW1lID0gZW5naW5lLmhydGltZTtcbiAgZm9yIChsZXQgY29kZSBpbiBrZXlfc3RhdGVfbmV3KSB7XG4gICAgbGV0IGtzID0ga2V5X3N0YXRlX25ld1tjb2RlXTtcbiAgICBpZiAoa3Muc3RhdGUgPT09IERPV04pIHtcbiAgICAgIGtzLmRvd25fdGltZSArPSBtYXgoaHJ0aW1lIC0ga3Mub3JpZ2luX3RpbWUsIE1JTl9FVkVOVF9USU1FX0RFTFRBKTtcbiAgICAgIC8vIGFzc2VydChocnRpbWUgPj0ga3Mub3JpZ2luX3RpbWUpOyAtIHNob3VsZCBiZSB0cnVlLCBidXQgb2Z0ZW4gaXNuJ3RcbiAgICAgIGtzLm9yaWdpbl90aW1lID0gaHJ0aW1lO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICBsZXQgdG91Y2hfZGF0YSA9IHRvdWNoZXNbdG91Y2hfaWRdO1xuICAgIGlmICh0b3VjaF9kYXRhLnN0YXRlID09PSBET1dOKSB7XG4gICAgICB0b3VjaF9kYXRhLmRvd25fdGltZSArPSBtYXgoaHJ0aW1lIC0gdG91Y2hfZGF0YS5vcmlnaW5fdGltZSwgTUlOX0VWRU5UX1RJTUVfREVMVEEpO1xuICAgICAgLy8gYXNzZXJ0KGhydGltZSA+PSB0b3VjaF9kYXRhLm9yaWdpbl90aW1lKTsgLSBzaG91bGQgYmUgdHJ1ZSwgYnV0IG9mdGVuIGlzbid0XG4gICAgICB0b3VjaF9kYXRhLm9yaWdpbl90aW1lID0gaHJ0aW1lO1xuICAgIH1cbiAgfVxuXG4gIG1vdXNlX292ZXJfY2FwdHVyZWQgPSBmYWxzZTtcbiAgZ2FtZXBhZFVwZGF0ZSgpO1xuICBpbl9ldmVudC50b3BPZkZyYW1lKCk7XG4gIGN0cmxfY2hlY2tlZCA9IGZhbHNlO1xuICBpZiAodG91Y2hlc1twb2ludGVybG9ja190b3VjaF9pZF0gJiYgIXBvaW50ZXJMb2NrZWQoKSkge1xuICAgIHBvaW50ZXJMb2NrRXhpdCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZEZyYW1lVGlja01hcChtYXApIHtcbiAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChrZXljb2RlKSA9PiB7XG4gICAgc3dpdGNoIChtYXBba2V5Y29kZV0pIHtcbiAgICAgIGNhc2UgRE9XTl9FREdFOlxuICAgICAgICBtYXBba2V5Y29kZV0gPSBET1dOO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVVBfRURHRTpcbiAgICAgICAgZGVsZXRlIG1hcFtrZXljb2RlXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5kRnJhbWUoc2tpcF9tb3VzZSkge1xuICBmb3IgKGxldCBjb2RlIGluIGtleV9zdGF0ZV9uZXcpIHtcbiAgICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2NvZGVdO1xuICAgIGlmIChrcy5zdGF0ZSA9PT0gVVApIHtcbiAgICAgIGtleV9zdGF0ZV9uZXdbY29kZV0gPSBudWxsO1xuICAgICAgZGVsZXRlIGtleV9zdGF0ZV9uZXdbY29kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzLnVwX2VkZ2UgPSAwO1xuICAgICAga3MuZG93bl9lZGdlID0gMDtcbiAgICAgIGtzLmRvd25fdGltZSA9IDA7XG4gICAgfVxuICB9XG5cbiAgcGFkX3N0YXRlcy5mb3JFYWNoKGVuZEZyYW1lVGlja01hcCk7XG4gIGlmICghc2tpcF9tb3VzZSkge1xuICAgIGZvciAobGV0IHRvdWNoX2lkIGluIHRvdWNoZXMpIHtcbiAgICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgICBpZiAodG91Y2hfZGF0YS5zdGF0ZSA9PT0gVVApIHtcbiAgICAgICAgLy8gTWFudWFsbHkgbnVsbCBvdXQgdG91Y2hlc1t0b3VjaF9pZF0gLSBzb21lIENocm9tZSBvcHRpbWl6ZXIgYnVnIGNhdXNlc1xuICAgICAgICAvLyBjYWxsZXJzIHRvIGxhdGVyIGdldCB0aGlzIG9sZCB2YWx1ZSAoaW5zdGVhZCBvZiB0aGUgbmV3bHkgYWRkZWQgb24gd2l0aFxuICAgICAgICAvLyB0aGUgc2FtZSBJRCkgdW5sZXNzIHdlIG51bGwgaXQgb3V0ICh0aGVuIHRoZXkgc2VlbSB0byBnZXQgdGhlIG5ldyBvbmUpLlxuICAgICAgICB0b3VjaGVzW3RvdWNoX2lkXSA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvdWNoX2RhdGEuZGVsdGFbMF0gPSB0b3VjaF9kYXRhLmRlbHRhWzFdID0gMDtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnID0gZmFsc2U7XG4gICAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnX292ZXIgPSBmYWxzZTtcbiAgICAgICAgdG91Y2hfZGF0YS51cF9lZGdlID0gMDtcbiAgICAgICAgdG91Y2hfZGF0YS5kb3duX2VkZ2UgPSAwO1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fdGltZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHdoZWVsX2V2ZW50cy5sZW5ndGggPSAwO1xuICAgIGlucHV0X2VhdGVuX21vdXNlID0gZmFsc2U7XG4gIH1cbiAgaW5wdXRfZWF0ZW5fa2IgPSBmYWxzZTtcbiAgbW91c2VfbW92ZWQgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpY2tJbnB1dEluYWN0aXZlKCkge1xuICBpbl9ldmVudC50b3BPZkZyYW1lKCk7XG4gIGN0cmxfY2hlY2tlZCA9IGZhbHNlO1xuICBlbmRGcmFtZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWF0QWxsSW5wdXQoc2tpcF9tb3VzZSkge1xuICAvLyBkZXN0cm95IHRvdWNoZXMsIHJlbW92ZSBhbGwgZG93biBhbmQgdXAgZWRnZXNcbiAgZW5kRnJhbWUoc2tpcF9tb3VzZSk7XG4gIGlmICghc2tpcF9tb3VzZSkge1xuICAgIG1vdXNlX292ZXJfY2FwdHVyZWQgPSB0cnVlO1xuICAgIGlucHV0X2VhdGVuX21vdXNlID0gdHJ1ZTtcbiAgfVxuICBpbnB1dF9lYXRlbl9rYiA9IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXRBbGxLZXlib2FyZElucHV0KCkge1xuICBlYXRBbGxJbnB1dCh0cnVlKTtcbn1cblxuLy8gcmV0dXJucyBwb3NpdGlvbiBtYXBwZWQgdG8gY3VycmVudCBjYW1lcmEgdmlld1xuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlUG9zKGRzdCkge1xuICBkc3QgPSBkc3QgfHwgdmVjMigpO1xuICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoZHN0LCBtb3VzZV9wb3MpO1xuICByZXR1cm4gZHN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VNb3ZlZCgpIHtcbiAgcmV0dXJuIG1vdXNlX21vdmVkO1xufVxuXG5mdW5jdGlvbiBtb3VzZVBvc1BhcmFtKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIHJldHVybiB7XG4gICAgeDogcGFyYW0ueCA9PT0gdW5kZWZpbmVkID8gY2FtZXJhMmQueDBSZWFsKCkgOiBwYXJhbS54LFxuICAgIHk6IHBhcmFtLnkgPT09IHVuZGVmaW5lZCA/IGNhbWVyYTJkLnkwUmVhbCgpIDogcGFyYW0ueSxcbiAgICB3OiBwYXJhbS53ID09PSB1bmRlZmluZWQgPyBjYW1lcmEyZC53UmVhbCgpIDogcGFyYW0udyxcbiAgICBoOiBwYXJhbS5oID09PSB1bmRlZmluZWQgPyBjYW1lcmEyZC5oUmVhbCgpIDogcGFyYW0uaCxcbiAgICBidXR0b246IHBhcmFtLmJ1dHRvbiA9PT0gdW5kZWZpbmVkID8gQU5ZIDogcGFyYW0uYnV0dG9uLFxuICB9O1xufVxuXG5sZXQgY2hlY2tfcG9zID0gdmVjMigpO1xuZnVuY3Rpb24gY2hlY2tQb3MocG9zLCBwYXJhbSkge1xuICBpZiAoIWNhbWVyYTJkLmRvbVRvVmlydHVhbChjaGVja19wb3MsIHBvcykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGNoZWNrX3Bvc1swXSA+PSBwYXJhbS54ICYmIChwYXJhbS53ID09PSBJbmZpbml0eSB8fCBjaGVja19wb3NbMF0gPCBwYXJhbS54ICsgcGFyYW0udykgJiZcbiAgICBjaGVja19wb3NbMV0gPj0gcGFyYW0ueSAmJiAocGFyYW0uaCA9PT0gSW5maW5pdHkgfHwgY2hlY2tfcG9zWzFdIDwgcGFyYW0ueSArIHBhcmFtLmgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VXaGVlbChwYXJhbSkge1xuICBpZiAoaW5wdXRfZWF0ZW5fbW91c2UgfHwgIXdoZWVsX2V2ZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCByZXQgPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd2hlZWxfZXZlbnRzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBkYXRhID0gd2hlZWxfZXZlbnRzW2lpXTtcbiAgICBpZiAoZGF0YS5kaXNwYXRjaGVkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKGRhdGEucG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICByZXQgKz0gZGF0YS5kZWx0YTtcbiAgICAgIGRhdGEuZGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZU92ZXIocGFyYW0pIHtcbiAgaWYgKG1vdXNlX292ZXJfY2FwdHVyZWQgfHwgcG9pbnRlckxvY2tlZCgpICYmICEocGFyYW0gJiYgcGFyYW0uYWxsb3dfcG9pbnRlcmxvY2spKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcblxuICAvLyBlYXQgbW91c2UgdXAvZG93bi9kcmFnIGV2ZW50c1xuICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICBmb3IgKGxldCBpZCBpbiB0b3VjaGVzKSB7XG4gICAgICBsZXQgdG91Y2ggPSB0b3VjaGVzW2lkXTtcbiAgICAgIGlmIChjaGVja1Bvcyh0b3VjaC5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICAgIHRvdWNoLmRvd25fZWRnZSA9IDA7XG4gICAgICAgIHRvdWNoLnVwX2VkZ2UgPSAwO1xuICAgICAgICBpZiAoIXBhcmFtIHx8ICFwYXJhbS5kcmFnX3RhcmdldCkge1xuICAgICAgICAgIHRvdWNoLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGNoZWNrUG9zKG1vdXNlX3BvcywgcG9zX3BhcmFtKSkge1xuICAgIGlmICghcGFyYW0ucGVlaykge1xuICAgICAgbW91c2Vfb3Zlcl9jYXB0dXJlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlRG93bihwYXJhbSkge1xuICBpZiAoaW5wdXRfZWF0ZW5fbW91c2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBwYXJhbSA9IHBhcmFtIHx8IHt9O1xuICBsZXQgcG9zX3BhcmFtID0gbW91c2VQb3NQYXJhbShwYXJhbSk7XG4gIGxldCBidXR0b24gPSBwb3NfcGFyYW0uYnV0dG9uO1xuICAvLyAqbWF5YmUqIHNob3VsZCBkZWZhdWx0IHRvIEluZmluaXRlLCBidXQgZm9yIG5vdywgZGVmYXVsdGluZyB0byB0aGUgc2FtZSBhcyBtb3VzZVVwRWRnZSgpXG4gIGxldCBtYXhfY2xpY2tfZGlzdCA9IHBhcmFtLm1heF9kaXN0IHx8IDUwOyAvLyBUT0RPOiByZWxhdGl2ZSB0byBjYW1lcmEgZGlzdGFuY2U/XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKHRvdWNoX2RhdGEuc3RhdGUgIT09IERPV04gfHxcbiAgICAgICEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHxcbiAgICAgIHRvdWNoX2RhdGEudG90YWwgPiBtYXhfY2xpY2tfZGlzdFxuICAgICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLmN1cl9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIC8vIGlmICghcGFyYW0ucGVlaykge1xuICAgICAgLy8gICB0b3VjaF9kYXRhLnVwX2VkZ2UgPSAwO1xuICAgICAgLy8gfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uOiB0b3VjaF9kYXRhLmJ1dHRvbixcbiAgICAgICAgcG9zOiBjaGVja19wb3Muc2xpY2UoMCksXG4gICAgICAgIHN0YXJ0X3RpbWU6IHRvdWNoX2RhdGEuc3RhcnRfdGltZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZVBvc0lzVG91Y2goKSB7XG4gIHJldHVybiBtb3VzZV9wb3NfaXNfdG91Y2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudW1Ub3VjaGVzKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModG91Y2hlcykubGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24ga2V5RG93bihrZXljb2RlKSB7XG4gIGlmIChrZXljb2RlID09PSBLRVlTLkNUUkwpIHtcbiAgICBjdHJsX2NoZWNrZWQgPSB0cnVlO1xuICB9XG4gIGlmIChpbnB1dF9lYXRlbl9rYikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBrcyA9IGtleV9zdGF0ZV9uZXdba2V5Y29kZV07XG4gIGlmICgha3MpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoa3Muc3RhdGUgPT09IERPV04pIHtcbiAgICBhc3NlcnQoa3MuZG93bl90aW1lKTsgLy8gV2lsbCBmaXJlIGlmIHdlIGNhbGwga2V5RG93bigpIGJlZm9yZSB0aWNrSW5wdXQoKVxuICB9XG4gIHJldHVybiBrcy5kb3duX3RpbWU7XG59XG5leHBvcnQgZnVuY3Rpb24ga2V5RG93bkVkZ2Uoa2V5Y29kZSwgb3B0cykge1xuICBpZiAob3B0cyAmJiBvcHRzLmluX2V2ZW50X2NiICYmICFpbnB1dF9lYXRlbl9rYikge1xuICAgIGluX2V2ZW50Lm9uKCdrZXlkb3duJywga2V5Y29kZSwgb3B0cy5pbl9ldmVudF9jYik7XG4gIH1cblxuICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2tleWNvZGVdO1xuICBpZiAoIWtzKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGV0IHIgPSBrcy5kb3duX2VkZ2U7XG4gIGtzLmRvd25fZWRnZSA9IDA7XG4gIHJldHVybiByO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGtleVVwRWRnZShrZXljb2RlLCBvcHRzKSB7XG4gIGlmIChvcHRzICYmIG9wdHMuaW5fZXZlbnRfY2IgJiYgIWlucHV0X2VhdGVuX2tiKSB7XG4gICAgaW5fZXZlbnQub24oJ2tleXVwJywga2V5Y29kZSwgb3B0cy5pbl9ldmVudF9jYik7XG4gIH1cblxuICBsZXQga3MgPSBrZXlfc3RhdGVfbmV3W2tleWNvZGVdO1xuICBpZiAoIWtzKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGV0IHIgPSBrcy51cF9lZGdlO1xuICBrcy51cF9lZGdlID0gMDtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWRHZXRBeGVzKG91dCwgc3RpY2tpbmRleCwgcGFkaW5kZXgpIHtcbiAgYXNzZXJ0KHN0aWNraW5kZXggPj0gMCAmJiBzdGlja2luZGV4IDwgTlVNX1NUSUNLUyk7XG4gIGlmIChwYWRpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGV0IHN1YiA9IHZlYzIoKTtcbiAgICB2MnNldChvdXQsIDAsIDApO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBnYW1lcGFkX2RhdGEubGVuZ3RoOyArK2lpKSB7XG4gICAgICBwYWRHZXRBeGVzKHN1Yiwgc3RpY2tpbmRleCwgaWkpO1xuICAgICAgdjJhZGQob3V0LCBvdXQsIHN1Yik7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc3RpY2tzID0gZ2V0R2FtZXBhZERhdGEocGFkaW5kZXgpLnN0aWNrcztcbiAgdjJjb3B5KG91dCwgc3RpY2tzW3N0aWNraW5kZXhdKTtcbn1cblxuZnVuY3Rpb24gcGFkQnV0dG9uRG93bkludGVybmFsKGdwZCwgcHMsIHBhZGNvZGUpIHtcbiAgaWYgKHBzW3BhZGNvZGVdKSB7XG4gICAgcmV0dXJuIGVuZ2luZS5mcmFtZV9kdDtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIHBhZEJ1dHRvbkRvd25FZGdlSW50ZXJuYWwoZ3BkLCBwcywgcGFkY29kZSkge1xuICBpZiAocHNbcGFkY29kZV0gPT09IERPV05fRURHRSkge1xuICAgIHBzW3BhZGNvZGVdID0gRE9XTjtcbiAgICByZXR1cm4gZW5naW5lLmZyYW1lX2R0O1xuICB9XG4gIHJldHVybiAwO1xufVxuZnVuY3Rpb24gcGFkQnV0dG9uVXBFZGdlSW50ZXJuYWwoZ3BkLCBwcywgcGFkY29kZSkge1xuICBpZiAocHNbcGFkY29kZV0gPT09IFVQX0VER0UpIHtcbiAgICBkZWxldGUgcHNbcGFkY29kZV07XG4gICAgcmV0dXJuIGVuZ2luZS5mcmFtZV9kdDtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gcGFkQnV0dG9uU2hhcmVkKGZuLCBwYWRjb2RlLCBwYWRpbmRleCkge1xuICBhc3NlcnQocGFkY29kZSAhPT0gdW5kZWZpbmVkKTtcbiAgbGV0IHIgPSAwO1xuICAvLyBIYW5kbGUgY2FsbGluZyB3aXRob3V0IGEgc3BlY2lmaWMgcGFkIGluZGV4XG4gIGlmIChwYWRpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBhZF9zdGF0ZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICByICs9IHBhZEJ1dHRvblNoYXJlZChmbiwgcGFkY29kZSwgaWkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGlmIChpbnB1dF9lYXRlbl9tb3VzZSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBncGQgPSBnYW1lcGFkX2RhdGFbcGFkaW5kZXhdO1xuICBpZiAoIWdwZCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBwcyA9IHBhZF9zdGF0ZXNbcGFkaW5kZXhdO1xuXG4gIHIgKz0gQU5BTE9HX01BUFtwYWRjb2RlXSAmJiBmbihncGQsIHBzLCBBTkFMT0dfTUFQW3BhZGNvZGVdKSB8fCAwO1xuICByICs9IGZuKGdwZCwgcHMsIHBhZGNvZGUpO1xuICByZXR1cm4gcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYWRCdXR0b25Eb3duKHBhZGNvZGUsIHBhZGluZGV4KSB7XG4gIHJldHVybiBwYWRCdXR0b25TaGFyZWQocGFkQnV0dG9uRG93bkludGVybmFsLCBwYWRjb2RlLCBwYWRpbmRleCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkQnV0dG9uRG93bkVkZ2UocGFkY29kZSwgcGFkaW5kZXgpIHtcbiAgcmV0dXJuIHBhZEJ1dHRvblNoYXJlZChwYWRCdXR0b25Eb3duRWRnZUludGVybmFsLCBwYWRjb2RlLCBwYWRpbmRleCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFkQnV0dG9uVXBFZGdlKHBhZGNvZGUsIHBhZGluZGV4KSB7XG4gIHJldHVybiBwYWRCdXR0b25TaGFyZWQocGFkQnV0dG9uVXBFZGdlSW50ZXJuYWwsIHBhZGNvZGUsIHBhZGluZGV4KTtcbn1cblxubGV0IHN0YXJ0X3BvcyA9IHZlYzIoKTtcbmxldCBjdXJfcG9zID0gdmVjMigpO1xubGV0IGRlbHRhID0gdmVjMigpO1xuXG5leHBvcnQgZnVuY3Rpb24gbW91c2VVcEVkZ2UocGFyYW0pIHtcbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgYnV0dG9uID0gcG9zX3BhcmFtLmJ1dHRvbjtcbiAgbGV0IG1heF9jbGlja19kaXN0ID0gcGFyYW0ubWF4X2Rpc3QgfHwgNTA7IC8vIFRPRE86IHJlbGF0aXZlIHRvIGNhbWVyYSBkaXN0YW5jZT9cblxuICBmb3IgKGxldCB0b3VjaF9pZCBpbiB0b3VjaGVzKSB7XG4gICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICBpZiAoIXRvdWNoX2RhdGEudXBfZWRnZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICghKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8XG4gICAgICB0b3VjaF9kYXRhLnRvdGFsID4gbWF4X2NsaWNrX2Rpc3RcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgdG91Y2hfZGF0YS51cF9lZGdlID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbjogdG91Y2hfZGF0YS5idXR0b24sXG4gICAgICAgIHBvczogY2hlY2tfcG9zLnNsaWNlKDApLFxuICAgICAgICBzdGFydF90aW1lOiB0b3VjaF9kYXRhLnN0YXJ0X3RpbWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChwYXJhbS5pbl9ldmVudF9jYiAmJiAhaW5wdXRfZWF0ZW5fbW91c2UgJiYgIW1vdXNlX292ZXJfY2FwdHVyZWQpIHtcbiAgICAvLyBUT0RPOiBNYXliZSBuZWVkIHRvIGFsc28gcGFzcyBhbG9uZyBlYXJsaWVyIGV4Y2x1c2lvbnM/ICBXb3JraW5nIG9rYXkgZm9yIG5vdyB0aG91Z2guXG4gICAgaWYgKCFwYXJhbS5waHlzKSB7XG4gICAgICBwYXJhbS5waHlzID0ge307XG4gICAgfVxuICAgIHBhcmFtLnBoeXMuYnV0dG9uID0gdHlwZW9mIHBhcmFtLmluX2V2ZW50X2J1dHRvbiA9PT0gJ251bWJlcicgPyBwYXJhbS5pbl9ldmVudF9idXR0b24gOiBidXR0b247XG4gICAgY2FtZXJhMmQudmlydHVhbFRvRG9tUG9zUGFyYW0ocGFyYW0ucGh5cywgcG9zX3BhcmFtKTtcbiAgICBpbl9ldmVudC5vbignbW91c2V1cCcsIHBhcmFtLnBoeXMsIHBhcmFtLmluX2V2ZW50X2NiKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmNsaWNrID0gbW91c2VVcEVkZ2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZURvd25FZGdlKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCF0b3VjaF9kYXRhLmRvd25fZWRnZSB8fFxuICAgICAgIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKVxuICAgICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLmN1cl9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIGlmICghcGFyYW0ucGVlaykge1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fZWRnZSA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXR0b246IHRvdWNoX2RhdGEuYnV0dG9uLFxuICAgICAgICBwb3M6IGNoZWNrX3Bvcy5zbGljZSgwKSxcbiAgICAgICAgc3RhcnRfdGltZTogdG91Y2hfZGF0YS5zdGFydF90aW1lLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFyYW0uaW5fZXZlbnRfY2IgJiYgIWlucHV0X2VhdGVuX21vdXNlICYmICFtb3VzZV9vdmVyX2NhcHR1cmVkKSB7XG4gICAgLy8gVE9ETzogTWF5YmUgbmVlZCB0byBhbHNvIHBhc3MgYWxvbmcgZWFybGllciBleGNsdXNpb25zPyAgV29ya2luZyBva2F5IGZvciBub3cgdGhvdWdoLlxuICAgIGlmICghcGFyYW0ucGh5cykge1xuICAgICAgcGFyYW0ucGh5cyA9IHt9O1xuICAgIH1cbiAgICBwYXJhbS5waHlzLmJ1dHRvbiA9IGJ1dHRvbjtcbiAgICBjYW1lcmEyZC52aXJ0dWFsVG9Eb21Qb3NQYXJhbShwYXJhbS5waHlzLCBwb3NfcGFyYW0pO1xuICAgIGluX2V2ZW50Lm9uKCdtb3VzZWRvd24nLCBwYXJhbS5waHlzLCBwYXJhbS5pbl9ldmVudF9jYik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBDb21wbGV0ZWx5IGNvbnN1bWUgYW55IGNsaWNrcyBvciBkcmFncyBjb21pbmcgZnJvbSBhIG1vdXNlIGRvd24gZXZlbnQgaW4gdGhpc1xuLy8gYXJlYSAtIHVzZWQgdG8gY2F0Y2ggZm9jdXMgbGVhdmluZyBhbiBlZGl0IGJveCB3aXRob3V0IHdhbnRpbmcgdG8gZG8gd2hhdFxuLy8gYSBjbGljayB3b3VsZCBub3JtYWxseSBkby5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZUNvbnN1bWVDbGlja3MocGFyYW0pIHtcbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgYnV0dG9uID0gcG9zX3BhcmFtLmJ1dHRvbjtcbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgLy8gU2tpcHBpbmcgdGhvc2UgdGhhdCBhbHJlYWR5IGRpc3BhdGNoZWQgYSBkcmFnIHRoaXMgZnJhbWUsIG11c3QgaGF2ZSBiZWVuIGhhbmRsZWQsIGRvIG5vdCBjb25zdW1lIGl0IVxuICAgIGlmICghKGJ1dHRvbiA9PT0gQU5ZIHx8IGJ1dHRvbiA9PT0gdG91Y2hfZGF0YS5idXR0b24pIHx8IHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuc3RhcnRfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICB0b3VjaF9kYXRhLmRvd25fZWRnZSA9IDA7XG4gICAgICAvLyBTZXQgc3RhcnQgcG9zIHNvIHRoYXQgaXQgd2lsbCBub3QgcGFzcyBjaGVja1Bvc1xuICAgICAgdG91Y2hfZGF0YS5zdGFydF9wb3NbMF0gPSB0b3VjaF9kYXRhLnN0YXJ0X3Bvc1sxXSA9IEluZmluaXR5O1xuICAgICAgLy8gU2V0IC50b3RhbCBzbyB0aGF0IG1vdXNlVXBFZGdlIHdpbGwgbm90IGRldGVjdCBpdCBhcyBhIGNsaWNrXG4gICAgICB0b3VjaF9kYXRhLnRvdGFsID0gSW5maW5pdHk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG4gIGxldCBtaW5fZGlzdCA9IHBhcmFtLm1pbl9kaXN0IHx8IDA7XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHwgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWcpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5zdGFydF9wb3MsIHBvc19wYXJhbSkpIHtcbiAgICAgIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKGRlbHRhLCBbdG91Y2hfZGF0YS50b3RhbC8yLCB0b3VjaF9kYXRhLnRvdGFsLzJdKTtcbiAgICAgIGxldCB0b3RhbCA9IGRlbHRhWzBdICsgZGVsdGFbMV07XG4gICAgICBpZiAodG90YWwgPCBtaW5fZGlzdCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghcGFyYW0ucGVlaykge1xuICAgICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZyA9IHRydWU7XG4gICAgICB9XG4gICAgICBsZXQgaXNfZG93bl9lZGdlID0gdG91Y2hfZGF0YS5kb3duX2VkZ2U7XG4gICAgICBpZiAocGFyYW0uZWF0X2NsaWNrcykge1xuICAgICAgICB0b3VjaF9kYXRhLmRvd25fZWRnZSA9IHRvdWNoX2RhdGEudXBfZWRnZSA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW0ucGF5bG9hZCkge1xuICAgICAgICB0b3VjaF9kYXRhLmRyYWdfcGF5bG9hZCA9IHBhcmFtLnBheWxvYWQ7XG4gICAgICB9XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoc3RhcnRfcG9zLCB0b3VjaF9kYXRhLnN0YXJ0X3Bvcyk7XG4gICAgICBjYW1lcmEyZC5kb21Ub1ZpcnR1YWwoY3VyX3BvcywgdG91Y2hfZGF0YS5jdXJfcG9zKTtcbiAgICAgIGNhbWVyYTJkLmRvbURlbHRhVG9WaXJ0dWFsKGRlbHRhLCB0b3VjaF9kYXRhLmRlbHRhKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cl9wb3MsXG4gICAgICAgIHN0YXJ0X3BvcyxcbiAgICAgICAgZGVsdGEsIC8vIHRoaXMgZnJhbWUncyBkZWx0YVxuICAgICAgICB0b3RhbCwgLy8gdG90YWwgKGxpbmVhcikgZGlzdGFuY2UgZHJhZ2dlZFxuICAgICAgICBidXR0b246IHRvdWNoX2RhdGEuYnV0dG9uLFxuICAgICAgICB0b3VjaDogdG91Y2hfZGF0YS50b3VjaCxcbiAgICAgICAgc3RhcnRfdGltZTogdG91Y2hfZGF0YS5zdGFydF90aW1lLFxuICAgICAgICBpc19kb3duX2VkZ2UsXG4gICAgICAgIGRvd25fdGltZTogdG91Y2hfZGF0YS5kb3duX3RpbWUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gYSBsb3QgbGlrZSBkcmFnKCksIHJlZmFjdG9yIHRvIHNoYXJlIG1vcmU/XG5leHBvcnQgZnVuY3Rpb24gbG9uZ1ByZXNzKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG4gIGxldCBtYXhfZGlzdCA9IHBhcmFtLm1heF9kaXN0IHx8IDA7XG4gIGxldCBtaW5fdGltZSA9IHBhcmFtLm1pbl90aW1lIHx8IDUwMDtcblxuICBmb3IgKGxldCB0b3VjaF9pZCBpbiB0b3VjaGVzKSB7XG4gICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICBpZiAoIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKSB8fCB0b3VjaF9kYXRhLmxvbmdfcHJlc3NfZGlzcGF0Y2hlZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGVja1Bvcyh0b3VjaF9kYXRhLnN0YXJ0X3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgY2FtZXJhMmQuZG9tRGVsdGFUb1ZpcnR1YWwoZGVsdGEsIFt0b3VjaF9kYXRhLnRvdGFsLzIsIHRvdWNoX2RhdGEudG90YWwvMl0pO1xuICAgICAgbGV0IHRvdGFsID0gZGVsdGFbMF0gKyBkZWx0YVsxXTtcbiAgICAgIGlmICh0b3RhbCA+IG1heF9kaXN0KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgbGV0IHRpbWUgPSBEYXRlLm5vdygpIC0gdG91Y2hfZGF0YS5zdGFydF90aW1lO1xuICAgICAgaWYgKHRpbWUgPCBtaW5fdGltZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghcGFyYW0ucGVlaykge1xuICAgICAgICAvLyA/IHRvdWNoX2RhdGEuZGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICAgIHRvdWNoX2RhdGEubG9uZ19wcmVzc19kaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxldCBpc19kb3duX2VkZ2UgPSB0b3VjaF9kYXRhLmRvd25fZWRnZTtcbiAgICAgIGlmIChwYXJhbS5lYXRfY2xpY2tzKSB7XG4gICAgICAgIHRvdWNoX2RhdGEuZG93bl9lZGdlID0gdG91Y2hfZGF0YS51cF9lZGdlID0gMDtcbiAgICAgIH1cbiAgICAgIGNhbWVyYTJkLmRvbVRvVmlydHVhbChzdGFydF9wb3MsIHRvdWNoX2RhdGEuc3RhcnRfcG9zKTtcbiAgICAgIGNhbWVyYTJkLmRvbVRvVmlydHVhbChjdXJfcG9zLCB0b3VjaF9kYXRhLmN1cl9wb3MpO1xuICAgICAgY2FtZXJhMmQuZG9tRGVsdGFUb1ZpcnR1YWwoZGVsdGEsIHRvdWNoX2RhdGEuZGVsdGEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9uZ19wcmVzczogdHJ1ZSxcbiAgICAgICAgY3VyX3BvcyxcbiAgICAgICAgc3RhcnRfcG9zLFxuICAgICAgICBkZWx0YSwgLy8gdGhpcyBmcmFtZSdzIGRlbHRhXG4gICAgICAgIHRvdGFsLCAvLyB0b3RhbCAobGluZWFyKSBkaXN0YW5jZSBkcmFnZ2VkXG4gICAgICAgIGJ1dHRvbjogdG91Y2hfZGF0YS5idXR0b24sXG4gICAgICAgIHRvdWNoOiB0b3VjaF9kYXRhLnRvdWNoLFxuICAgICAgICBzdGFydF90aW1lOiB0b3VjaF9kYXRhLnN0YXJ0X3RpbWUsXG4gICAgICAgIGlzX2Rvd25fZWRnZSxcbiAgICAgICAgZG93bl90aW1lOiB0b3VjaF9kYXRhLmRvd25fdGltZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZ0Ryb3AocGFyYW0pIHtcbiAgcGFyYW0gPSBwYXJhbSB8fCB7fTtcbiAgbGV0IHBvc19wYXJhbSA9IG1vdXNlUG9zUGFyYW0ocGFyYW0pO1xuICBsZXQgYnV0dG9uID0gcG9zX3BhcmFtLmJ1dHRvbjtcblxuICBmb3IgKGxldCB0b3VjaF9pZCBpbiB0b3VjaGVzKSB7XG4gICAgbGV0IHRvdWNoX2RhdGEgPSB0b3VjaGVzW3RvdWNoX2lkXTtcbiAgICAvLyBNYXliZSB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZ19vdmVyIGluc3RlYWQvYXMgd2VsbD9cbiAgICBpZiAoIShidXR0b24gPT09IEFOWSB8fCBidXR0b24gPT09IHRvdWNoX2RhdGEuYnV0dG9uKSB8fCB0b3VjaF9kYXRhLmRpc3BhdGNoZWQgfHwgIXRvdWNoX2RhdGEuZHJhZ19wYXlsb2FkKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCF0b3VjaF9kYXRhLnVwX2VkZ2UpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQb3ModG91Y2hfZGF0YS5jdXJfcG9zLCBwb3NfcGFyYW0pKSB7XG4gICAgICBpZiAoIXBhcmFtLnBlZWspIHtcbiAgICAgICAgLy8gZG9uJ3Qgd2FudCB0aGUgc291cmNlIChwb3NzaWJseSBjYWxsZWQgbGF0ZXIgdGhpcyBmcmFtZSkgdG8gc3RpbGwgdGhpbmsgaXQncyBkcmFnZ2luZ1xuICAgICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZ19vdmVyID0gdHJ1ZTtcbiAgICAgICAgdG91Y2hfZGF0YS5kaXNwYXRjaGVkX2RyYWcgPSB0cnVlO1xuICAgICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgZHJhZ19wYXlsb2FkOiB0b3VjaF9kYXRhLmRyYWdfcGF5bG9hZCB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYWdPdmVyKHBhcmFtKSB7XG4gIHBhcmFtID0gcGFyYW0gfHwge307XG4gIGxldCBwb3NfcGFyYW0gPSBtb3VzZVBvc1BhcmFtKHBhcmFtKTtcbiAgbGV0IGJ1dHRvbiA9IHBvc19wYXJhbS5idXR0b247XG5cbiAgZm9yIChsZXQgdG91Y2hfaWQgaW4gdG91Y2hlcykge1xuICAgIGxldCB0b3VjaF9kYXRhID0gdG91Y2hlc1t0b3VjaF9pZF07XG4gICAgaWYgKCEoYnV0dG9uID09PSBBTlkgfHwgYnV0dG9uID09PSB0b3VjaF9kYXRhLmJ1dHRvbikgfHxcbiAgICAgIHRvdWNoX2RhdGEuZGlzcGF0Y2hlZF9kcmFnX292ZXIgfHxcbiAgICAgICF0b3VjaF9kYXRhLmRyYWdfcGF5bG9hZFxuICAgICkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICh0b3VjaF9kYXRhLnN0YXRlICE9PSBET1dOKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoZWNrUG9zKHRvdWNoX2RhdGEuY3VyX3BvcywgcG9zX3BhcmFtKSkge1xuICAgICAgLy8gU2VwYXJhdGUgJ2Rpc3BhdGNoZWQnIGZvciBkcmFnT3ZlciAodGFyZ2V0KSBhbmQgZHJhZyAoc291cmNlKSAtIHRoZXkgYm90aCBuZWVkIG9uZSBkaXNwYXRjaCBwZXIgZnJhbWVcbiAgICAgIGlmICghcGFyYW0ucGVlaykge1xuICAgICAgICB0b3VjaF9kYXRhLmRpc3BhdGNoZWRfZHJhZ19vdmVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNhbWVyYTJkLmRvbVRvVmlydHVhbChjdXJfcG9zLCB0b3VjaF9kYXRhLmN1cl9wb3MpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3VyX3BvcyxcbiAgICAgICAgZHJhZ19wYXlsb2FkOiB0b3VjaF9kYXRhLmRyYWdfcGF5bG9hZFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAyMCBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCBpbl9ldmVudCA9IHJlcXVpcmUoJy4vaW5fZXZlbnQuanMnKTtcbmNvbnN0IGlucHV0ID0gcmVxdWlyZSgnLi9pbnB1dC5qcycpO1xuY29uc3QgeyBhYnMgfSA9IE1hdGg7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcblxubGV0IHN0YXRlX2NhY2hlID0ge307XG5sZXQgZ29vZF91cmwgPSAvaHR0cHM/OlxcL1xcLy87XG5cbi8vIENyZWF0ZSBhbiBpbnZpc2libGUgQSBlbGVtIGluIHRoZSBET00gc28gd2UgZ2V0IGFsbCBvZiB0aGUgZ29vZCBicm93c2VyeVxuLy8gYmVoYXZpb3IgZm9yIGEgbGluayBhcmVhLlxuZXhwb3J0IGZ1bmN0aW9uIGxpbmsocGFyYW0pIHtcbiAgbGV0IHsgeCwgeSwgdywgaCwgdXJsLCBpbnRlcm5hbCwgYWxsb3dfbW9kYWwgfSA9IHBhcmFtO1xuICBpZiAoIXVybC5tYXRjaChnb29kX3VybCkpIHtcbiAgICB1cmwgPSBgJHtkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH0vLyR7dXJsfWA7XG4gIH1cbiAgbGV0IGtleSA9IGAke3h9XyR7eX1gO1xuICBsZXQgc3RhdGUgPSBzdGF0ZV9jYWNoZVtrZXldO1xuICBpZiAoIXN0YXRlKSB7XG4gICAgc3RhdGUgPSBzdGF0ZV9jYWNoZVtrZXldID0geyBjbGlja2VkOiBmYWxzZSB9O1xuICB9XG4gIHN0YXRlLmZyYW1lID0gZW5naW5lLmZyYW1lX2luZGV4O1xuXG4gIGxldCByZWN0ID0geyB4LCB5LCB3LCBoIH07XG5cbiAgaWYgKGNhbWVyYTJkLmNsaXBUZXN0UmVjdChyZWN0KSkge1xuICAgIC8vIGF0IGxlYXN0IHNvbWUgaXMgbm90IGNsaXBwZWRcbiAgICBsZXQgZWxlbSA9IHVpLmdldEVsZW0oYWxsb3dfbW9kYWwsIHN0YXRlLmVsZW0pO1xuICAgIGlmIChlbGVtICE9PSBzdGF0ZS5lbGVtKSB7XG4gICAgICBzdGF0ZS5lbGVtID0gZWxlbTtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIC8vIG5ldyBET00gZWxlbWVudCwgaW5pdGlhbGl6ZVxuICAgICAgICBlbGVtLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGxldCBhX2VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGFfZWxlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIGZhbHNlKTtcbiAgICAgICAgYV9lbGVtLnRleHRDb250ZW50ID0gJyAnO1xuICAgICAgICBhX2VsZW0uY2xhc3NOYW1lID0gJ2dsb3Z1aV9saW5rIG5vZ2xvdic7XG4gICAgICAgIGFfZWxlbS5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTtcbiAgICAgICAgYV9lbGVtLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7XG4gICAgICAgIHN0YXRlLnVybCA9IHVybDtcbiAgICAgICAgaWYgKGludGVybmFsKSB7XG4gICAgICAgICAgbGV0IGRvd25feDtcbiAgICAgICAgICBsZXQgZG93bl95O1xuICAgICAgICAgIGlucHV0LmhhbmRsZVRvdWNoZXMoYV9lbGVtKTtcbiAgICAgICAgICBhX2VsZW0ub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIGRvd25feCA9IGV2LnBhZ2VYO1xuICAgICAgICAgICAgZG93bl95ID0gZXYucGFnZVk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBhX2VsZW0ub25jbGljayA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChkb3duX3gpIHtcbiAgICAgICAgICAgICAgbGV0IGRpc3QgPSBhYnMoZXYucGFnZVggLSBkb3duX3gpICsgYWJzKGV2LnBhZ2VZIC0gZG93bl95KTtcbiAgICAgICAgICAgICAgaWYgKGRpc3QgPiA1MCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY2xpY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBpbl9ldmVudC5oYW5kbGUoJ21vdXNldXAnLCBldik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGFfZWxlbSk7XG4gICAgICAgIHN0YXRlLmFfZWxlbSA9IGFfZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgIGlmICh1cmwgIT09IHN0YXRlLnVybCkge1xuICAgICAgICBzdGF0ZS5hX2VsZW0uc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcbiAgICAgICAgc3RhdGUudXJsID0gdXJsO1xuICAgICAgfVxuXG4gICAgICBsZXQgcG9zID0gY2FtZXJhMmQuaHRtbFBvcyhyZWN0LngsIHJlY3QueSk7XG4gICAgICBlbGVtLnN0eWxlLmxlZnQgPSBgJHtwb3NbMF19JWA7XG4gICAgICBlbGVtLnN0eWxlLnRvcCA9IGAke3Bvc1sxXX0lYDtcbiAgICAgIGxldCBzaXplID0gY2FtZXJhMmQuaHRtbFNpemUocmVjdC53LCByZWN0LmgpO1xuICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IGAke3NpemVbMF19JWA7XG4gICAgICBlbGVtLnN0eWxlLmhlaWdodCA9IGAke3NpemVbMV19JWA7XG4gICAgfVxuICB9XG4gIGxldCBjbGlja2VkID0gc3RhdGUuY2xpY2tlZDtcbiAgc3RhdGUuY2xpY2tlZCA9IGZhbHNlO1xuICByZXR1cm4gY2xpY2tlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtUZXh0KHBhcmFtKSB7XG4gIGxldCB7IHN0eWxlX2xpbmssIHN0eWxlX2xpbmtfaG92ZXIsIHgsIHksIHosIGZvbnRfc2l6ZSwgdGV4dCwgdXJsIH0gPSBwYXJhbTtcbiAgdGV4dCA9IHRleHQgfHwgdXJsO1xuICB6ID0geiB8fCBaLlVJO1xuICBmb250X3NpemUgPSBmb250X3NpemUgfHwgdWkuZm9udF9oZWlnaHQ7XG4gIC8vIEFsc286IGFueSBwYXJhbWV0ZXIgdG8gbGluaygpLCBlLmcuIHVybFxuICBsZXQgdyA9IHVpLmZvbnQuZ2V0U3RyaW5nV2lkdGgoc3R5bGVfbGluaywgZm9udF9zaXplLCB0ZXh0KTtcbiAgbGV0IGggPSBmb250X3NpemU7XG4gIGxldCBtb3VzZW92ZXIgPSBpbnB1dC5tb3VzZU92ZXIoeyB4LCB5LCB3LCBoLCBwZWVrOiB0cnVlIH0pICYmICFpbnB1dC5tb3VzZVBvc0lzVG91Y2goKTtcbiAgbGV0IHN0eWxlID0gbW91c2VvdmVyID8gc3R5bGVfbGlua19ob3ZlciA6IHN0eWxlX2xpbms7XG4gIHVpLmZvbnQuZHJhd1NpemVkKHN0eWxlLCB4LCB5LCB6LCBmb250X3NpemUsIHRleHQpO1xuICBsZXQgdW5kZXJsaW5lX3cgPSAxO1xuICB1aS5kcmF3TGluZSh4LCB5ICsgaCAtIHVuZGVybGluZV93LCB4ICsgdywgeSArIGggLSB1bmRlcmxpbmVfdywgeiAtIDAuNSwgdW5kZXJsaW5lX3csIDAuOTksIHN0eWxlLmNvbG9yX3ZlYzQpO1xuICBwYXJhbS53ID0gdztcbiAgcGFyYW0uaCA9IGg7XG4gIHJldHVybiBsaW5rKHBhcmFtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtUaWNrKCkge1xuICBmb3IgKGxldCBrZXkgaW4gc3RhdGVfY2FjaGUpIHtcbiAgICBsZXQgc3RhdGUgPSBzdGF0ZV9jYWNoZVtrZXldO1xuICAgIGlmIChzdGF0ZS5mcmFtZSAhPT0gZW5naW5lLmZyYW1lX2luZGV4IC0gMSkge1xuICAgICAgZGVsZXRlIHN0YXRlX2NhY2hlW2tleV07XG4gICAgfVxuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmV4cG9ydHMuc3RvcmFnZV9wcmVmaXggPSAnZGVtbyc7XG5cbmxldCBsc2QgPSAoZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS50ZXN0ID0gJ3Rlc3QnO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn0oKSk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0KGtleSkge1xuICBrZXkgPSBgJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8ke2tleX1gO1xuICBsZXQgcmV0ID0gbHNkW2tleV07XG4gIGlmIChyZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0ID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBrZXkgPSBgJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8ke2tleX1gO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIGRlbGV0ZSBsc2Rba2V5XTtcbiAgfSBlbHNlIHtcbiAgICBsc2Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRKU09OKGtleSwgdmFsdWUpIHtcbiAgc2V0KGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEpTT04oa2V5LCBkZWYpIHtcbiAgbGV0IHZhbHVlID0gZ2V0KGtleSk7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGRlZjtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGlnbm9yZVxuICB9XG4gIHJldHVybiBkZWY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckFsbChrZXlfcHJlZml4KSB7XG4gIGxldCBwcmVmaXggPSBuZXcgUmVnRXhwKGBeJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8ke2tleV9wcmVmaXggfHwgJyd9YCwgJ3UnKTtcbiAgZm9yIChsZXQga2V5IGluIGxzZCkge1xuICAgIGlmIChrZXkubWF0Y2gocHJlZml4KSkge1xuICAgICAgZGVsZXRlIGxzZFtrZXldO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0QWxsKCkge1xuICBsZXQgb2JqID0ge307XG4gIGxldCBwcmVmaXggPSBuZXcgUmVnRXhwKGBeJHtleHBvcnRzLnN0b3JhZ2VfcHJlZml4fV8oLiopYCwgJ3UnKTtcbiAgZm9yIChsZXQga2V5IGluIGxzZCkge1xuICAgIGxldCBtID0ga2V5Lm1hdGNoKHByZWZpeCk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGxldCB2ID0gbHNkW2tleV07XG4gICAgICBpZiAodiAmJiB2ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvYmpbbVsxXV0gPSB2O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydEFsbChzZXJpYWxpemVkKSB7XG4gIGxldCBvYmogPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICBjbGVhckFsbCgpO1xuICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgc2V0KGtleSwgb2JqW2tleV0pO1xuICB9XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gU29tZSBjb2RlIGZyb20gVHVyYnVsZW56OiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMyBUdXJidWxlbnogTGltaXRlZFxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQ0MygpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQzMkFycmF5KDEyKTtcbiAgclswXSA9IHJbNF0gPSByWzhdID0gMTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtNDNpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMTtcbiAgb3V0WzVdID0gMDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMTtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDA7XG4gIG91dFsxMV0gPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbTQzbXVsKG91dCwgYSwgYikge1xuICBsZXQgYTAgPSBhWzBdO1xuICBsZXQgYTEgPSBhWzFdO1xuICBsZXQgYTIgPSBhWzJdO1xuICBsZXQgYTMgPSBhWzNdO1xuICBsZXQgYTQgPSBhWzRdO1xuICBsZXQgYTUgPSBhWzVdO1xuICBsZXQgYTYgPSBhWzZdO1xuICBsZXQgYTcgPSBhWzddO1xuICBsZXQgYTggPSBhWzhdO1xuICBsZXQgYTkgPSBhWzldO1xuICBsZXQgYTEwID0gYVsxMF07XG4gIGxldCBhMTEgPSBhWzExXTtcblxuICBsZXQgYjAgPSBiWzBdO1xuICBsZXQgYjEgPSBiWzFdO1xuICBsZXQgYjIgPSBiWzJdO1xuICBsZXQgYjMgPSBiWzNdO1xuICBsZXQgYjQgPSBiWzRdO1xuICBsZXQgYjUgPSBiWzVdO1xuICBsZXQgYjYgPSBiWzZdO1xuICBsZXQgYjcgPSBiWzddO1xuICBsZXQgYjggPSBiWzhdO1xuXG4gIG91dFswXSA9IChiMCAqIGEwICsgYjMgKiBhMSArIGI2ICogYTIpO1xuICBvdXRbMV0gPSAoYjEgKiBhMCArIGI0ICogYTEgKyBiNyAqIGEyKTtcbiAgb3V0WzJdID0gKGIyICogYTAgKyBiNSAqIGExICsgYjggKiBhMik7XG4gIG91dFszXSA9IChiMCAqIGEzICsgYjMgKiBhNCArIGI2ICogYTUpO1xuICBvdXRbNF0gPSAoYjEgKiBhMyArIGI0ICogYTQgKyBiNyAqIGE1KTtcbiAgb3V0WzVdID0gKGIyICogYTMgKyBiNSAqIGE0ICsgYjggKiBhNSk7XG4gIG91dFs2XSA9IChiMCAqIGE2ICsgYjMgKiBhNyArIGI2ICogYTgpO1xuICBvdXRbN10gPSAoYjEgKiBhNiArIGI0ICogYTcgKyBiNyAqIGE4KTtcbiAgb3V0WzhdID0gKGIyICogYTYgKyBiNSAqIGE3ICsgYjggKiBhOCk7XG4gIG91dFs5XSA9IChiMCAqIGE5ICsgYjMgKiBhMTAgKyBiNiAqIGExMSArIGJbOV0pO1xuICBvdXRbMTBdID0gKGIxICogYTkgKyBiNCAqIGExMCArIGI3ICogYTExICsgYlsxMF0pO1xuICBvdXRbMTFdID0gKGIyICogYTkgKyBiNSAqIGExMCArIGI4ICogYTExICsgYlsxMV0pO1xuXG4gIHJldHVybiBvdXQ7XG59XG4iLCIvLyBEZXJpdmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RvamkvZ2wtbWF0cml4L2Jsb2IvbWFzdGVyL3NyYy9tYXQ0LmpzXG4vLyBVbmRlciBNSVQgTGljZW5zZVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvdXQsIHVuaWZvcm1fc2NhbGUsIHF1YXQsIHBvcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgbGV0IHggPSBxdWF0WzBdO1xuICBsZXQgeSA9IHF1YXRbMV07XG4gIGxldCB6ID0gcXVhdFsyXTtcbiAgbGV0IHcgPSBxdWF0WzNdO1xuICBsZXQgeDIgPSB4ICsgeDtcbiAgbGV0IHkyID0geSArIHk7XG4gIGxldCB6MiA9IHogKyB6O1xuXG4gIGxldCB4eCA9IHggKiB4MjtcbiAgbGV0IHh5ID0geCAqIHkyO1xuICBsZXQgeHogPSB4ICogejI7XG4gIGxldCB5eSA9IHkgKiB5MjtcbiAgbGV0IHl6ID0geSAqIHoyO1xuICBsZXQgenogPSB6ICogejI7XG4gIGxldCB3eCA9IHcgKiB4MjtcbiAgbGV0IHd5ID0gdyAqIHkyO1xuICBsZXQgd3ogPSB3ICogejI7XG5cbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogdW5pZm9ybV9zY2FsZTtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHVuaWZvcm1fc2NhbGU7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gcG9zWzBdO1xuICBvdXRbMTNdID0gcG9zWzFdO1xuICBvdXRbMTRdID0gcG9zWzJdO1xuICBvdXRbMTVdID0gMTtcblxuICByZXR1cm4gb3V0O1xufTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLypcbiAgQ29udmVydCBtb2RlbHMgdG8gR0xCIHdpdGg6XG4gIG5vZGVfbW9kdWxlc1xcLmJpblxcZ2x0Zi1waXBlbGluZS5jbWQgLXQgLWkgc3JjL2NsaWVudC9tb2RlbHMvYm94LmdsdGYgLW8gc3JjL2NsaWVudC9tb2RlbHMvYm94LmdsYlxuICAvLyBUaGUgLXQgdGVsbHMgaXQgbm90IHRvIGVtYmVkIHRoZSB0ZXh0dXJlcywgYnV0IGp1c3QgbGVhdmUgdGhlIFVSSXNcbiAqL1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGdlb20gPSByZXF1aXJlKCcuL2dlb20uanMnKTtcbmNvbnN0IGdsYl9wYXJzZXIgPSByZXF1aXJlKCcuL2dsYi9wYXJzZXIuanMnKTtcbmNvbnN0IHsgQVRUUklCVVRFX1RZUEVfVE9fQ09NUE9ORU5UUyB9ID0gcmVxdWlyZSgnLi9nbGIvZ2x0Zi10eXBlLXV0aWxzLmpzJyk7XG5jb25zdCByZW5kZXJlciA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgdmVjNCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuY29uc3QgeyB3ZWJGU0dldEZpbGUgfSA9IHJlcXVpcmUoJy4vd2ViZnMuanMnKTtcblxuZXhwb3J0IGxldCBsb2FkX2NvdW50ID0gMDtcblxuZXhwb3J0IGxldCBtb2RlbHMgPSB7fTtcblxuZXhwb3J0IGxldCBkZWZhdWx0X3ZzaGFkZXI7XG5leHBvcnQgbGV0IGRlZmF1bHRfZnNoYWRlcjtcblxuZnVuY3Rpb24gaW5pdFNoYWRlcnMoKSB7XG4gIGRlZmF1bHRfdnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvZGVmYXVsdC52cCcpO1xuICBkZWZhdWx0X2ZzaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2RlZmF1bHQuZnAnKTtcbn1cblxuZnVuY3Rpb24gTW9kZWwodXJsKSB7XG4gIHRoaXMudXJsID0gdXJsO1xuICBsZXQgaWR4ID0gdXJsLmxhc3RJbmRleE9mKCcvJyk7XG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAgdGhpcy5iYXNlX3VybCA9IHVybC5zbGljZSgwLCBpZHggKyAxKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmJhc2VfdXJsID0gJyc7XG4gIH1cbn1cblxuTW9kZWwucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICsrbG9hZF9jb3VudDtcbiAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAtLWxvYWRfY291bnQ7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBhcnJheV9idWZmZXIgPSB4aHIucmVzcG9uc2U7IC8vIE5vdGU6IG5vdCB4aHIucmVzcG9uc2VUZXh0XG4gICAgICBpZiAoKHhoci5zdGF0dXMgPT09IDIwMCB8fCB4aHIuc3RhdHVzID09PSAwKSAmJiBhcnJheV9idWZmZXIpIHtcbiAgICAgICAgdGhpcy5wYXJzZShhcnJheV9idWZmZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHdpbmRvdy5vbmVycm9yKCdNb2RlbCBsb2FkaW5nIGVycm9yJywgJ21vZGVscy5qcycsIDAsIDAsIGUpO1xuICAgIH1cbiAgfTtcbiAgeGhyLnNlbmQobnVsbCk7XG59O1xuXG5jb25zdCBza2lwX2F0dHIgPSB7XG4gICdUQU5HRU5UJzogdHJ1ZSxcbn07XG5cbk1vZGVsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChnbGJfZGF0YSkge1xuICBsZXQgZ2xiID0gZ2xiX3BhcnNlci5wYXJzZShnbGJfZGF0YSk7XG4gIGlmICghZ2xiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIE1ha2UgR2VvbXMgZm9yIGVhY2ggcHJpbWl0aXZlcyB3aXRoaW4gZWFjaCBtZXNoXG4gIGxldCBnbGJfanNvbiA9IGdsYi5nZXRKU09OKCk7XG4gIGxldCBvYmpzID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBnbGJfanNvbi5tZXNoZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG1lc2ggPSBnbGJfanNvbi5tZXNoZXNbaWldO1xuICAgIGZvciAobGV0IGpqID0gMDsgamogPCBtZXNoLnByaW1pdGl2ZXMubGVuZ3RoOyArK2pqKSB7XG4gICAgICBsZXQgcHJpbWl0aXZlcyA9IG1lc2gucHJpbWl0aXZlc1tqal07XG4gICAgICBsZXQgbWF0ZXJpYWwgPSBnbGJfanNvbi5tYXRlcmlhbHNbcHJpbWl0aXZlcy5tYXRlcmlhbF07XG4gICAgICBsZXQgdGV4dHVyZSA9IG51bGw7XG4gICAgICBpZiAobWF0ZXJpYWwpIHtcbiAgICAgICAgLy8gSnVzdCBncmFiYmluZyB0aGUgYmFzZSBjb2xvciB0ZXh0dXJlLCBub3RoaW5nIGVsc2VcbiAgICAgICAgbGV0IGJjdCA9IChtYXRlcmlhbC5wYnJNZXRhbGxpY1JvdWdobmVzcyB8fCB7fSkuYmFzZUNvbG9yVGV4dHVyZSB8fCB7fTtcbiAgICAgICAgbGV0IHRleHR1cmVfZGVmID0gZ2xiX2pzb24udGV4dHVyZXMgJiYgZ2xiX2pzb24udGV4dHVyZXNbYmN0LmluZGV4XSB8fCB7fTtcbiAgICAgICAgbGV0IHNhbXBsZXJfZGVmID0gZ2xiX2pzb24uc2FtcGxlcnMgJiYgZ2xiX2pzb24uc2FtcGxlcnNbdGV4dHVyZV9kZWYuc2FtcGxlcl0gfHwge307XG4gICAgICAgIGxldCBpbWFnZSA9IGdsYl9qc29uLmltYWdlcyAmJiBnbGJfanNvbi5pbWFnZXNbdGV4dHVyZV9kZWYuc291cmNlXSB8fCB7fTtcbiAgICAgICAgaWYgKGltYWdlLnVyaSkge1xuICAgICAgICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICAgICAgICB1cmw6IGAke3RoaXMuYmFzZV91cmx9JHtpbWFnZS51cml9YCxcbiAgICAgICAgICAgIGZpbHRlcl9tYWc6IHNhbXBsZXJfZGVmLm1hZ0ZpbHRlcixcbiAgICAgICAgICAgIGZpbHRlcl9taW46IHNhbXBsZXJfZGVmLm1pbkZpbHRlcixcbiAgICAgICAgICAgIHdyYXBfczogc2FtcGxlcl9kZWYud3JhcFMsXG4gICAgICAgICAgICB3cmFwX3Q6IHNhbXBsZXJfZGVmLndyYXBULFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGV4dHVyZSA9IHRleHR1cmVzLmxvYWQocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGZvcm1hdCA9IFtdO1xuICAgICAgbGV0IGJ1ZmZlcnMgPSBbXTtcbiAgICAgIGxldCBiaWR4ID0gW107XG4gICAgICBsZXQgdG90YWxfc2l6ZSA9IDA7XG4gICAgICBsZXQgdmVydF9jb3VudCA9IDA7XG4gICAgICBmb3IgKGxldCBhdHRyIGluIHByaW1pdGl2ZXMuYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoc2tpcF9hdHRyW2F0dHJdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KHNoYWRlcnMuc2VtYW50aWNbYXR0cl0gIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGxldCBhY2Nlc3NvciA9IGdsYl9qc29uLmFjY2Vzc29yc1twcmltaXRpdmVzLmF0dHJpYnV0ZXNbYXR0cl1dO1xuICAgICAgICBhc3NlcnQuZXF1YWwoYWNjZXNzb3IuY29tcG9uZW50VHlwZSwgNTEyNik7IC8vIEYzMlxuICAgICAgICBsZXQgZ2VvbV9mb3JtYXQgPSBnbC5GTE9BVDtcbiAgICAgICAgbGV0IGdlb21fY291bnQgPSBBVFRSSUJVVEVfVFlQRV9UT19DT01QT05FTlRTW2FjY2Vzc29yLnR5cGVdO1xuICAgICAgICBhc3NlcnQoZ2VvbV9jb3VudCk7XG4gICAgICAgIGxldCBteV92ZXJ0X2NvdW50ID0gYWNjZXNzb3IuY291bnQvKiAvIGdlb21fY291bnQqLztcbiAgICAgICAgaWYgKCF2ZXJ0X2NvdW50KSB7XG4gICAgICAgICAgdmVydF9jb3VudCA9IG15X3ZlcnRfY291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0LmVxdWFsKHZlcnRfY291bnQsIG15X3ZlcnRfY291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdC5wdXNoKFtzaGFkZXJzLnNlbWFudGljW2F0dHJdLCBnZW9tX2Zvcm1hdCwgZ2VvbV9jb3VudF0pO1xuICAgICAgICBsZXQgYnVmZmVyID0gZ2xiLmdldEJ1ZmZlcihhY2Nlc3Nvcik7XG4gICAgICAgIGJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICBiaWR4LnB1c2goMCk7XG4gICAgICAgIHRvdGFsX3NpemUgKz0gYnVmZmVyLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIC8vIEludGVybGVhdmVcbiAgICAgIGxldCB2ZXJ0cyA9IG5ldyBGbG9hdDMyQXJyYXkodG90YWxfc2l6ZSk7XG4gICAgICBsZXQgaWR4ID0gMDtcbiAgICAgIGZvciAobGV0IHZlcnQgPSAwOyB2ZXJ0IDwgdmVydF9jb3VudDsgKyt2ZXJ0KSB7XG4gICAgICAgIGZvciAobGV0IGF0dHIgPSAwOyBhdHRyIDwgZm9ybWF0Lmxlbmd0aDsgKythdHRyKSB7XG4gICAgICAgICAgZm9yIChsZXQga2sgPSAwOyBrayA8IGZvcm1hdFthdHRyXVsyXTsgKytraykge1xuICAgICAgICAgICAgdmVydHNbaWR4KytdID0gYnVmZmVyc1thdHRyXVtiaWR4W2F0dHJdKytdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gR2V0IGluZGljZXNcbiAgICAgIGxldCBhY2Nlc3NvciA9IGdsYl9qc29uLmFjY2Vzc29yc1twcmltaXRpdmVzLmluZGljZXNdO1xuICAgICAgYXNzZXJ0KGFjY2Vzc29yKTsgLy8gbXVzdCBiZSBhbiBpbmRleGVkIHByaW1pdGl2ZSBzZXRcbiAgICAgIGFzc2VydC5lcXVhbChhY2Nlc3Nvci50eXBlLCAnU0NBTEFSJyk7XG4gICAgICBsZXQgaWR4cyA9IGdsYi5nZXRCdWZmZXIoYWNjZXNzb3IpO1xuICAgICAgaWYgKGFjY2Vzc29yLmNvbXBvbmVudFR5cGUgPT09IDUxMjUpIHsgLy8gVWludDMyXG4gICAgICAgIGFzc2VydCh2ZXJ0X2NvdW50IDwgNjU1MzYpOyAvLyBGaXRzIGluIDE2LWJpdHNcbiAgICAgICAgLy8gSnVzdCBjb252ZXJ0IHRvIDE2LWJpdFxuICAgICAgICBpZHhzID0gbmV3IFVpbnQxNkFycmF5KGlkeHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGFjY2Vzc29yLmNvbXBvbmVudFR5cGUsIDUxMjMpOyAvLyBVaW50MTZcbiAgICAgIH1cbiAgICAgIG9ianMucHVzaCh7XG4gICAgICAgIGdlb206IGdlb20uY3JlYXRlKGZvcm1hdCwgdmVydHMsIGlkeHMsIHByaW1pdGl2ZXMubW9kZSksXG4gICAgICAgIHRleHR1cmUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLy8gVE9ETzogU29tZXRoaW5nIHdpdGggbm9kZXMgdG8gdGllIHRvZ2V0aGVyIGFuZCBwb3NpdGlvbiB0aGUgbWVzaGVzXG4gIHRoaXMuZGF0YSA9IHtcbiAgICBvYmpzLFxuICAgIC8vIGdsYiwgLSBEb24ndCBrZWVwIHRoaXMsIHJlbGVhc2UgaXQgYW5kIGFueSB1bnJlZmVyZW5jZWQgZGF0YS9idWZmZXJzXG4gIH07XG59O1xuXG5Nb2RlbC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChtYXQpIHtcbiAgcmVuZGVyZXIudXBkYXRlTWF0cmljZXMobWF0KTsgLy8gYmVmb3JlIHNldHRpbmcgc2hhZGVyXG4gIHNoYWRlcnMuYmluZChkZWZhdWx0X3ZzaGFkZXIsIGRlZmF1bHRfZnNoYWRlciwge1xuICAgIGNvbG9yOiB2ZWM0KDEsIDEsIDEsIDEpLFxuICB9KTtcbiAgbGV0IG9ianMgPSB0aGlzLmRhdGEub2JqcztcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG9ianMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG9iaiA9IG9ianNbaWldO1xuICAgIGlmIChvYmoudGV4dHVyZSkge1xuICAgICAgdGV4dHVyZXMuYmluZCgwLCBvYmoudGV4dHVyZSk7XG4gICAgfVxuICAgIG9iai5nZW9tLmRyYXcoKTtcbiAgfVxufTtcblxuLy8gSnVzdCBkcmF3IHRoZSBnZW9tZXRyeSwgd2l0aG91dCBhbnkgb3RoZXIgYmluZGluZ1xuTW9kZWwucHJvdG90eXBlLmRyYXdHZW9tID0gZnVuY3Rpb24gKCkge1xuICBsZXQgb2JqcyA9IHRoaXMuZGF0YS5vYmpzO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgb2Jqcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgb2JqID0gb2Jqc1tpaV07XG4gICAgb2JqLmdlb20uZHJhdygpO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZCh1cmwpIHtcbiAgaWYgKG1vZGVsc1t1cmxdKSB7XG4gICAgcmV0dXJuIG1vZGVsc1t1cmxdO1xuICB9XG4gIGxldCBtb2RlbCA9IG1vZGVsc1t1cmxdID0gbmV3IE1vZGVsKHVybCk7XG4gIG1vZGVsLmRhdGEgPSBtb2RlbHMuYm94LmRhdGE7IC8vIHN0dWIgdW50aWwgbG9hZGVkXG4gIG1vZGVsLmxvYWQoKTtcbiAgcmV0dXJuIG1vZGVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcbiAgaW5pdFNoYWRlcnMoKTtcbiAgbGV0IG1vZGVsX2JveCA9IG1vZGVscy5ib3ggPSBuZXcgTW9kZWwoJ2JveCcpO1xuICBtb2RlbF9ib3gucGFyc2Uod2ViRlNHZXRGaWxlKCdnbG92L21vZGVscy9ib3hfdGV4dHVyZWRfZW1iZWQuZ2xiJykuYnVmZmVyKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IHsgZmlsZXdhdGNoU3RhcnR1cCB9ID0gcmVxdWlyZSgnLi9maWxld2F0Y2guanMnKTtcbmNvbnN0IHBhY2tldCA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9wYWNrZXQuanMnKTtcbmNvbnN0IHN1YnNjcmlwdGlvbl9tYW5hZ2VyID0gcmVxdWlyZSgnLi9zdWJzY3JpcHRpb25fbWFuYWdlci5qcycpO1xuY29uc3QgV1NDbGllbnQgPSByZXF1aXJlKCcuL3dzY2xpZW50LmpzJykuV1NDbGllbnQ7XG5jb25zdCB3c2NvbW1vbiA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi93c2NvbW1vbi5qcycpO1xuXG5sZXQgY2xpZW50O1xubGV0IHN1YnM7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KHBhcmFtcykge1xuICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gIGlmIChwYXJhbXMucHZlcikge1xuICAgIHdzY29tbW9uLlBST1RPQ09MX1ZFUlNJT04gPSBwYXJhbXMucHZlcjtcbiAgfVxuICBpZiAoU3RyaW5nKGRvY3VtZW50LmxvY2F0aW9uKS5tYXRjaCgvXmh0dHBzPzpcXC9cXC9sb2NhbGhvc3QvKSkge1xuICAgIGNvbnNvbGUubG9nKCdQYWNrZXREZWJ1ZzogT04nKTtcbiAgICBwYWNrZXQuZGVmYXVsdF9mbGFncyB8PSBwYWNrZXQuUEFDS0VUX0RFQlVHO1xuICB9XG4gIGNsaWVudCA9IG5ldyBXU0NsaWVudChwYXJhbXMucGF0aCk7XG4gIHN1YnMgPSBzdWJzY3JpcHRpb25fbWFuYWdlci5jcmVhdGUoY2xpZW50LCBwYXJhbXMuY21kX3BhcnNlKTtcbiAgc3Vicy5hdXRvX2NyZWF0ZV91c2VyID0gQm9vbGVhbihwYXJhbXMuYXV0b19jcmVhdGVfdXNlcik7XG4gIHdpbmRvdy5zdWJzID0gc3ViczsgLy8gZm9yIGRlYnVnZ2luZ1xuICBleHBvcnRzLnN1YnMgPSBzdWJzO1xuICBleHBvcnRzLmNsaWVudCA9IGNsaWVudDtcbiAgZmlsZXdhdGNoU3RhcnR1cChjbGllbnQpO1xuXG4gIGlmIChwYXJhbXMuZW5naW5lKSB7XG4gICAgcGFyYW1zLmVuZ2luZS5hZGRUaWNrRnVuYygoZHQpID0+IHtcbiAgICAgIGNsaWVudC5jaGVja0Rpc2Nvbm5lY3QoKTtcbiAgICAgIHN1YnMudGljayhkdCk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgYnVpbGRfdGltZXN0YW1wX3N0cmluZyA9IG5ldyBEYXRlKE51bWJlcihCVUlMRF9USU1FU1RBTVApKVxuICAudG9JU09TdHJpbmcoKVxuICAucmVwbGFjZSgnVCcsICcgJylcbiAgLnNsaWNlKDUsIC04KTtcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFN0cmluZygpIHtcbiAgcmV0dXJuIGJ1aWxkX3RpbWVzdGFtcF9zdHJpbmc7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgY21kX3BhcnNlIH0gPSByZXF1aXJlKCcuL2NtZHMuanMnKTtcbmNvbnN0IGdsb3ZfZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJy4vbmV0LmpzJyk7XG5jb25zdCBwZXJmID0gcmVxdWlyZSgnLi9wZXJmLmpzJyk7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyB3c3N0YXRzLCB3c3N0YXRzX291dCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3dzY29tbW9uLmpzJyk7XG5jb25zdCB7IGFicywgZmxvb3IsIG1heCwgbWluLCBQSSwgc3FydCB9ID0gTWF0aDtcbmNvbnN0IFRXT19QSSA9IFBJICogMjtcbmNvbnN0IEVQU0lMT04gPSAwLjAxO1xuXG5sZXQgdGhlO1xuXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNob3dfcGluZzoge1xuICAgIGRlZmF1bHRfdmFsdWU6IDAsXG4gICAgdHlwZTogY21kX3BhcnNlLlRZUEVfSU5ULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbn0pO1xucGVyZi5hZGRNZXRyaWMoe1xuICBuYW1lOiAncGluZycsXG4gIHNob3dfc3RhdDogJ3Nob3dfcGluZycsXG4gIGxhYmVsczoge1xuICAgICdwaW5nOiAnOiAoKSA9PiB7XG4gICAgICBpZiAoIXRoZSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBsZXQgcHQgPSB0aGUuZ2V0UGluZygyMDAwKTtcbiAgICAgIGlmICghcHQgfHwgcHQuZmFkZSA8IDAuMDAxKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHZhbHVlOiBgJHtwdC5waW5nLnRvRml4ZWQoMSl9YCwgYWxwaGE6IG1pbigxLCBwdC5mYWRlICogMykgfTtcbiAgICB9LFxuICB9LFxufSk7XG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNob3dfbmV0OiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDJdLFxuICB9LFxufSk7XG5sZXQgbGFzdF93c3N0YXRzID0geyBtc2dzOiAwLCBieXRlczogMCwgdGltZTogRGF0ZS5ub3coKSwgZG06IDAsIGRiOiAwIH07XG5sZXQgbGFzdF93c3N0YXRzX291dCA9IHsgbXNnczogMCwgYnl0ZXM6IDAsIHRpbWU6IERhdGUubm93KCksIGRtOiAwLCBkYjogMCB9O1xuZnVuY3Rpb24gYmFuZHdpZHRoKHN0YXRzLCBsYXN0KSB7XG4gIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICBpZiAobm93IC0gbGFzdC50aW1lID4gMTAwMCkge1xuICAgIGxhc3QuZG0gPSBzdGF0cy5tc2dzIC0gbGFzdC5tc2dzO1xuICAgIGxhc3QuZGIgPSBzdGF0cy5ieXRlcyAtIGxhc3QuYnl0ZXM7XG4gICAgbGFzdC5tc2dzID0gc3RhdHMubXNncztcbiAgICBsYXN0LmJ5dGVzID0gc3RhdHMuYnl0ZXM7XG4gICAgaWYgKG5vdyAtIGxhc3QudGltZSA+IDIwMDApIHsgLy8gc3RhbGxcbiAgICAgIGxhc3QudGltZSA9IG5vdztcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdC50aW1lICs9IDEwMDA7XG4gICAgfVxuICB9XG4gIHJldHVybiBgJHsobGFzdC5kYi8xMDI0KS50b0ZpeGVkKDIpfSBrYiAoJHtsYXN0LmRtfSlgO1xufVxucGVyZi5hZGRNZXRyaWMoe1xuICBuYW1lOiAnbmV0JyxcbiAgc2hvd19zdGF0OiAnc2hvd19uZXQnLFxuICB3aWR0aDogNSxcbiAgbGFiZWxzOiB7XG4gICAgJ2Rvd246ICc6IGJhbmR3aWR0aC5iaW5kKG51bGwsIHdzc3RhdHMsIGxhc3Rfd3NzdGF0cyksXG4gICAgJ3VwOiAnOiBiYW5kd2lkdGguYmluZChudWxsLCB3c3N0YXRzX291dCwgbGFzdF93c3N0YXRzX291dCksXG4gIH0sXG59KTtcblxuY29uc3QgdmFsaWRfb3B0aW9ucyA9IFtcbiAgLy8gTnVtZXJpYyBwYXJhbWV0ZXJzXG4gICduJywgJ2RpbV9wb3MnLCAnZGltX3JvdCcsIC8vIGRpbWVuc2lvbnNcbiAgJ3NlbmRfdGltZScsICd3aW5kb3cnLCAnc25hcF9mYWN0b3InLCAnc21vb3RoX3dpbmRvd3MnLCAnc21vb3RoX2ZhY3RvcicsICdkZWZhdWx0X3BvcycsXG4gIC8vIENhbGxiYWNrc1xuICAnb25fcG9zX3VwZGF0ZScsICdvbl9zdGF0ZV91cGRhdGUnLFxuXTtcblxuZnVuY3Rpb24gTmV0UG9zaXRpb25NYW5hZ2VyKG9wdGlvbnMpIHtcbiAgdGhpcy5vbl9jaGFubmVsX2RhdGEgPSB0aGlzLm9uQ2hhbm5lbERhdGEuYmluZCh0aGlzKTtcbiAgdGhpcy5vbl9zdWJzY3JpYmUgPSB0aGlzLm9uQ2hhbm5lbFN1YnNjcmliZS5iaW5kKHRoaXMpO1xuICB0aGlzLnJlaW5pdChvcHRpb25zKTtcbn1cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVpbml0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jaGFubmVsKSB7XG4gICAgdGhpcy5jaGFubmVsLnJlbW92ZUxpc3RlbmVyKCdjaGFubmVsX2RhdGEnLCB0aGlzLm9uX2NoYW5uZWxfZGF0YSk7XG4gICAgdGhpcy5jaGFubmVsLnJlbW92ZUxpc3RlbmVyKCdzdWJzY3JpYmUnLCB0aGlzLm9uX3N1YnNjcmliZSk7XG4gIH1cbn07XG5cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUub25DaGFubmVsU3Vic2NyaWJlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgLy8gaW5pdGlhbCBjb25uZWN0aW9uIG9yIHJlY29ubmVjdFxuICB0aGlzLmxhc3Rfc2VuZC5zZW5kaW5nID0gZmFsc2U7IC8vIGlnbm9yZSBzZW5kIG9uIHByZXZpb3VzLCBkaXNjb25uZWN0ZWQgbGlua1xuICB0aGlzLmxhc3Rfc2VuZC50aW1lID0gMDtcbiAgdGhpcy5jbGllbnRfaWQgPSBuZXQuY2xpZW50LmlkO1xufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5vbkNoYW5uZWxEYXRhID0gZnVuY3Rpb24gKGRhdGEsIG1vZF9rZXksIG1vZF92YWx1ZSkge1xuICBpZiAobW9kX2tleSkge1xuICAgIGxldCBtID0gbW9kX2tleS5tYXRjaCgvXnB1YmxpY1xcLmNsaWVudHNcXC4oW14uXSspXFwuKC4rKSQvKTtcbiAgICBpZiAobSkge1xuICAgICAgbGV0IGNsaWVudF9pZCA9IG1bMV07XG4gICAgICBsZXQgZmllbGQgPSBtWzJdO1xuICAgICAgaWYgKGZpZWxkID09PSAncG9zJykge1xuICAgICAgICB0aGlzLm90aGVyQ2xpZW50UG9zQ2hhbmdlZChjbGllbnRfaWQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub25fY2xpZW50X2NoYW5nZSkge1xuICAgICAgICBsZXQgcGNkID0gdGhpcy5wZXJfY2xpZW50X2RhdGFbY2xpZW50X2lkXTtcbiAgICAgICAgaWYgKHBjZCkge1xuICAgICAgICAgIHRoaXMub25fY2xpZW50X2NoYW5nZShwY2QsIGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW1vZF92YWx1ZSkge1xuICAgICAgbSA9IG1vZF9rZXkubWF0Y2goL15wdWJsaWNcXC5jbGllbnRzXFwuKFteLl0rKSQvKTtcbiAgICAgIGlmIChtKSB7XG4gICAgICAgIC8vIG90aGVyIGNsaWVudCBkaXNjb25uZWN0ZWRcbiAgICAgICAgZGVsZXRlIHRoaXMucGVyX2NsaWVudF9kYXRhW21bMV1dO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGF0YSAmJiBkYXRhLnB1YmxpYyAmJiBkYXRhLnB1YmxpYy5jbGllbnRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGNsaWVudF9pZCBpbiBkYXRhLnB1YmxpYy5jbGllbnRzKSB7XG4gICAgICAgIGNvbnN0IGNsaWVudF9kYXRhID0gZGF0YS5wdWJsaWMuY2xpZW50c1tjbGllbnRfaWRdO1xuICAgICAgICBpZiAoY2xpZW50X2RhdGEucG9zKSB7XG4gICAgICAgICAgdGhpcy5vdGhlckNsaWVudFBvc0NoYW5nZWQoY2xpZW50X2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS52ZWMgPSBmdW5jdGlvbiAoZmlsbCkge1xuICBsZXQgciA9IG5ldyBGbG9hdDY0QXJyYXkodGhpcy5uKTtcbiAgaWYgKGZpbGwpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5uOyArK2lpKSB7XG4gICAgICByW2lpXSA9IGZpbGw7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUudmNvcHkgPSBmdW5jdGlvbiAoZHN0LCBzcmMpIHtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubjsgKytpaSkge1xuICAgIGRzdFtpaV0gPSBzcmNbaWldO1xuICB9XG4gIHJldHVybiBkc3Q7XG59O1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5hcnIgPSBmdW5jdGlvbiAodmVjKSB7XG4gIGxldCBhcnIgPSBuZXcgQXJyYXkodGhpcy5uKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMubjsgKytpaSkge1xuICAgIGFycltpaV0gPSB2ZWNbaWldO1xuICB9XG4gIHJldHVybiBhcnI7XG59O1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS52c2FtZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm47ICsraWkpIHtcbiAgICBpZiAoYWJzKGFbaWldIC0gYltpaV0pID4gRVBTSUxPTikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnZsZW5ndGggPSBmdW5jdGlvbiAoYSkge1xuICBsZXQgciA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLm47ICsraWkpIHtcbiAgICBsZXQgZCA9IGFbaWldO1xuICAgIHIgKz0gZCAqIGQ7XG4gIH1cbiAgcmV0dXJuIHNxcnQocik7XG59O1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS52ZGlzdCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHRoaXMudnN1Yih0aGlzLnRlbXBfdmVjLCBhLCBiKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZGltX3JvdDsgKytpaSkge1xuICAgIGxldCBqaiA9IHRoaXMuZGltX3BvcyArIGlpO1xuICAgIGxldCBkID0gYWJzKHRoaXMudGVtcF92ZWNbampdKTtcbiAgICBpZiAoZCA+IFBJKSB7XG4gICAgICB0aGlzLnRlbXBfdmVjW2pqXSA9IGQgLSBmbG9vcigoZCArIFBJKSAvIFRXT19QSSkgKiBUV09fUEk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzLnZsZW5ndGgodGhpcy50ZW1wX3ZlYyk7XG59O1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS52c3ViID0gZnVuY3Rpb24gKGRzdCwgYSwgYikge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5uOyArK2lpKSB7XG4gICAgZHN0W2lpXSA9IGFbaWldIC0gYltpaV07XG4gIH1cbiAgcmV0dXJuIGRzdDtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnZzY2FsZSA9IGZ1bmN0aW9uIChkc3QsIGEsIHNjYWxhcikge1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5uOyArK2lpKSB7XG4gICAgZHN0W2lpXSA9IGFbaWldICogc2NhbGFyO1xuICB9XG59O1xuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHRoaXMuZGVpbml0KCk7XG4gIHRoZSA9IHRoaXM7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMucGVyX2NsaWVudF9kYXRhID0ge307XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB2YWxpZF9vcHRpb25zLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBmaWVsZCA9IHZhbGlkX29wdGlvbnNbaWldO1xuICAgIGlmIChvcHRpb25zW2ZpZWxkXSkge1xuICAgICAgdGhpc1tmaWVsZF0gPSBvcHRpb25zW2ZpZWxkXTtcbiAgICB9XG4gIH1cblxuICBhc3NlcnQuZXF1YWwodGhpcy5kaW1fcG9zICsgdGhpcy5kaW1fcm90LCB0aGlzLm4pO1xuXG4gIGlmICghdGhpcy5kZWZhdWx0X3Bvcykge1xuICAgIHRoaXMuZGVmYXVsdF9wb3MgPSB0aGlzLnZlYygpO1xuICB9XG4gIGlmICghdGhpcy50ZW1wX3ZlYykge1xuICAgIHRoaXMudGVtcF92ZWMgPSB0aGlzLnZlYygpO1xuICB9XG4gIGlmICghdGhpcy50ZW1wX2RlbHRhKSB7XG4gICAgdGhpcy50ZW1wX2RlbHRhID0gdGhpcy52ZWMoKTtcbiAgfVxuXG4gIHRoaXMuY2hhbm5lbCA9IG9wdGlvbnMuY2hhbm5lbDsgLy8gTmV2ZXIgaW5oZXJpdGluZyB0aGlzIG92ZXIgcmVpbml0KClcbiAgdGhpcy5sYXN0X3NlbmQgPSB7XG4gICAgcG9zOiB0aGlzLnZlYygtMSksXG4gICAgc2VuZGluZzogZmFsc2UsXG4gICAgc2VuZF90aW1lOiAwLFxuICB9O1xuICB0aGlzLmV2ZXJfcmVjZWl2ZWRfY2hhcmFjdGVyID0gZmFsc2U7XG5cbiAgdGhpcy5vbl9jbGllbnRfY2hhbmdlID0gb3B0aW9ucy5vbl9jbGllbnRfY2hhbmdlO1xuXG4gIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICB0aGlzLmNoYW5uZWwub24oJ2NoYW5uZWxfZGF0YScsIHRoaXMub25fY2hhbm5lbF9kYXRhKTtcbiAgICB0aGlzLmNoYW5uZWwub25TdWJzY3JpYmUodGhpcy5vbl9zdWJzY3JpYmUpO1xuICB9XG59O1xuXG4vLyBjYihjbGllbnRfaWQsIHBvc1syXSlcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb3NpdGlvblVwZGF0ZSA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLm9uX3Bvc191cGRhdGUgPSBjYjtcbn07XG5cbi8vIGNiKGNsaWVudF9pZCwgbmV3X3N0YXRlKVxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5vblN0YXRlVXBkYXRlID0gZnVuY3Rpb24gKGNiKSB7XG4gIHRoaXMub25fc3RhdGVfdXBkYXRlID0gY2I7XG59O1xuXG5mdW5jdGlvbiBzeW5jUG9zV2l0aENhbGxlcihucG0sIG9uX3Bvc19zZXRfY2IpIHtcbiAgbnBtLnZjb3B5KG5wbS5sYXN0X3NlbmQucG9zLCBucG0uZGVmYXVsdF9wb3MpO1xuICBsZXQgbmV3X3BvcyA9IG9uX3Bvc19zZXRfY2IobnBtLmxhc3Rfc2VuZC5wb3MpO1xuICBpZiAobmV3X3Bvcykge1xuICAgIG5wbS52Y29weShucG0ubGFzdF9zZW5kLnBvcywgbmV3X3Bvcyk7XG4gIH1cbn1cblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5jaGVja05ldCA9IGZ1bmN0aW9uIChvbl9wb3Nfc2V0X2NiKSB7XG4gIGlmICghbmV0LmNsaWVudC5jb25uZWN0ZWQgfHwgIXRoaXMuY2hhbm5lbCB8fCAhdGhpcy5jaGFubmVsLmRhdGEucHVibGljKSB7XG4gICAgLy8gTm90IHlldCBpbiByb29tLCBkbyBub3RoaW5nXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG5ldC5jbGllbnQuaWQgIT09IHRoaXMuY2xpZW50X2lkKSB7XG4gICAgLy8gSGF2ZW4ndCB5ZXQgc3Vic2NyaWJlZCB0byB0aGlzIHJvb20gdW5kZXIgdGhlIG5ldyBjbGllbnRfaWRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IG1lID0gdGhpcy5jaGFubmVsLmdldENoYW5uZWxEYXRhKGBwdWJsaWMuY2xpZW50cy4ke3RoaXMuY2xpZW50X2lkfWAsIHt9KTtcbiAgaWYgKCFtZS5wb3MgfHwgIW1lLnBvcy5jdXIgfHwgdHlwZW9mIG1lLnBvcy5jdXJbMF0gIT09ICdudW1iZXInKSB7XG4gICAgaWYgKHRoaXMuZXZlcl9yZWNlaXZlZF9jaGFyYWN0ZXIpIHtcbiAgICAgIC8vIHdlIG11c3QgYmUgcmVjb25uZWN0aW5nLCB1c2UgbGFzdCByZXBsaWNhdGVkIHBvc2l0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZyZXNoIGNvbm5lY3QsIHVzZSBkZWZhdWx0IHBvc2l0aW9uLCBvciBhc2sgZm9yIGl0IGZyb20gY2FsbGVyXG4gICAgICBzeW5jUG9zV2l0aENhbGxlcih0aGlzLCBvbl9wb3Nfc2V0X2NiKTtcbiAgICB9XG4gICAgdGhpcy5jaGFubmVsLnNldENoYW5uZWxEYXRhKGBwdWJsaWMuY2xpZW50cy4ke3RoaXMuY2xpZW50X2lkfS5wb3NgLCB7XG4gICAgICBjdXI6IHRoaXMuYXJyKHRoaXMubGFzdF9zZW5kLnBvcyksIC8vIERvIG5vdCBzZW5kIGFzIEZsb2F0NjRBcnJheVxuICAgIH0pO1xuICAgIHRoaXMuZXZlcl9yZWNlaXZlZF9jaGFyYWN0ZXIgPSB0cnVlO1xuICB9IGVsc2UgaWYgKCF0aGlzLmV2ZXJfcmVjZWl2ZWRfY2hhcmFjdGVyKSB7XG4gICAgc3luY1Bvc1dpdGhDYWxsZXIodGhpcywgb25fcG9zX3NldF9jYik7XG4gICAgdGhpcy5ldmVyX3JlY2VpdmVkX2NoYXJhY3RlciA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVNeVBvcyA9IGZ1bmN0aW9uIChjaGFyYWN0ZXJfcG9zLCBhbmltX3N0YXRlKSB7XG4gIGlmICghdGhpcy52c2FtZShjaGFyYWN0ZXJfcG9zLCB0aGlzLmxhc3Rfc2VuZC5wb3MpIHx8IGFuaW1fc3RhdGUgIT09IHRoaXMubGFzdF9zZW5kLmFuaW1fc3RhdGUpIHtcbiAgICAvLyBwb3Mgb3IgYW5pbV9zdGF0ZSBjaGFuZ2VkXG4gICAgY29uc3Qgbm93ID0gZ2xvdl9lbmdpbmUuZ2V0RnJhbWVUaW1lc3RhbXAoKTtcbiAgICBpZiAoIXRoaXMubGFzdF9zZW5kLnNlbmRpbmcgJiYgKCF0aGlzLmxhc3Rfc2VuZC50aW1lIHx8IG5vdyAtIHRoaXMubGFzdF9zZW5kLnRpbWUgPiB0aGlzLnNlbmRfdGltZSkpIHtcbiAgICAgIC8vIGRvIHNlbmQhXG4gICAgICB0aGlzLmxhc3Rfc2VuZC5zZW5kaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMubGFzdF9zZW5kLnRpbWUgPSBub3c7XG4gICAgICB0aGlzLmxhc3Rfc2VuZC5ocnRpbWUgPSBnbG92X2VuZ2luZS5ocm5vdygpO1xuICAgICAgdGhpcy5sYXN0X3NlbmQuc3BlZWQgPSAwO1xuICAgICAgaWYgKHRoaXMubGFzdF9zZW5kLnNlbmRfdGltZSkge1xuICAgICAgICBjb25zdCB0aW1lID0gbm93IC0gdGhpcy5sYXN0X3NlbmQuc2VuZF90aW1lO1xuICAgICAgICB0aGlzLmxhc3Rfc2VuZC5zcGVlZCA9IHRoaXMudmRpc3QodGhpcy5sYXN0X3NlbmQucG9zLCBjaGFyYWN0ZXJfcG9zKSAvIHRpbWU7XG4gICAgICAgIGlmICh0aGlzLmxhc3Rfc2VuZC5zcGVlZCA8IDAuMDAxKSB7XG4gICAgICAgICAgdGhpcy5sYXN0X3NlbmQuc3BlZWQgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3Rfc2VuZC5zZW5kX3RpbWUgPSBub3c7XG4gICAgICB0aGlzLnZjb3B5KHRoaXMubGFzdF9zZW5kLnBvcywgY2hhcmFjdGVyX3Bvcyk7XG4gICAgICB0aGlzLmxhc3Rfc2VuZC5hbmltX3N0YXRlID0gYW5pbV9zdGF0ZTtcbiAgICAgIHRoaXMuY2hhbm5lbC5zZXRDaGFubmVsRGF0YShcbiAgICAgICAgYHB1YmxpYy5jbGllbnRzLiR7dGhpcy5jbGllbnRfaWR9LnBvc2AsIHtcbiAgICAgICAgICBjdXI6IHRoaXMuYXJyKHRoaXMubGFzdF9zZW5kLnBvcyksIC8vIERvIG5vdCBzZW5kIGFzIEZsb2F0NjRBcnJheVxuICAgICAgICAgIHN0YXRlOiB0aGlzLmxhc3Rfc2VuZC5hbmltX3N0YXRlLCBzcGVlZDogdGhpcy5sYXN0X3NlbmQuc3BlZWQsXG4gICAgICAgICAgcTogMSxcbiAgICAgICAgfSwgZmFsc2UsICgpID0+IHtcbiAgICAgICAgICAvLyBjb3VsZCBhdm9pZCBuZWVkaW5nIHRoaXMgcmVzcG9uc2UgZnVuY3Rpb24gKGFuZCBhY2sgcGFja2V0KSBpZiB3ZVxuICAgICAgICAgIC8vIGluc3RlYWQganVzdCB3YXRjaCBmb3IgdGhlIGFwcGx5X2NoYW5uZWxfZGF0YSBtZXNzYWdlIGNvbnRhaW5pbmdcbiAgICAgICAgICAvLyAoYXBwcm94aW1hdGVseSkgd2hhdCB3ZSBzZW50XG4gICAgICAgICAgdGhpcy5sYXN0X3NlbmQuc2VuZGluZyA9IGZhbHNlO1xuICAgICAgICAgIGxldCBlbmQgPSBnbG92X2VuZ2luZS5nZXRGcmFtZVRpbWVzdGFtcCgpO1xuICAgICAgICAgIGxldCBocmVuZCA9IGdsb3ZfZW5naW5lLmhybm93KCk7XG4gICAgICAgICAgbGV0IHJvdW5kX3RyaXAgPSBocmVuZCAtIHRoaXMubGFzdF9zZW5kLmhydGltZTtcbiAgICAgICAgICB0aGlzLnBpbmdfdGltZSA9IHJvdW5kX3RyaXA7XG4gICAgICAgICAgdGhpcy5waW5nX3RpbWVfdGltZSA9IGVuZDtcbiAgICAgICAgICBpZiAocm91bmRfdHJpcCA+IHRoaXMuc2VuZF90aW1lKSB7XG4gICAgICAgICAgICAvLyBoaWNjdXAsIGRlbGF5IG5leHQgc2VuZFxuICAgICAgICAgICAgdGhpcy5sYXN0X3NlbmQudGltZSA9IGVuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldFBpbmcgPSBmdW5jdGlvbiAobWF4X2FnZSkge1xuICBpZiAoIXRoaXMucGluZ190aW1lX3RpbWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgYWdlID0gZ2xvdl9lbmdpbmUuZ2V0RnJhbWVUaW1lc3RhbXAoKSAtIHRoaXMucGluZ190aW1lX3RpbWU7XG4gIGlmIChhZ2UgPiBtYXhfYWdlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwaW5nOiB0aGlzLnBpbmdfdGltZSxcbiAgICBmYWRlOiAxIC0gYWdlIC8gbWF4X2FnZSxcbiAgfTtcbn07XG5cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0UG9zID0gZnVuY3Rpb24gKGNsaWVudF9pZCkge1xuICBsZXQgcGNkID0gdGhpcy5wZXJfY2xpZW50X2RhdGFbY2xpZW50X2lkXTtcbiAgaWYgKCFwY2QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcGNkLnBvcztcbn07XG5cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0UENEID0gZnVuY3Rpb24gKGNsaWVudF9pZCkge1xuICByZXR1cm4gdGhpcy5wZXJfY2xpZW50X2RhdGFbY2xpZW50X2lkXTtcbn07XG5cbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUub3RoZXJDbGllbnRQb3NDaGFuZ2VkID0gZnVuY3Rpb24gKGNsaWVudF9pZCkge1xuICBjb25zdCBjbGllbnRfcG9zID0gdGhpcy5jaGFubmVsLmdldENoYW5uZWxEYXRhKGBwdWJsaWMuY2xpZW50cy4ke2NsaWVudF9pZH0ucG9zYCk7XG4gIGlmICghY2xpZW50X3BvcyB8fCAhY2xpZW50X3Bvcy5jdXIgfHwgdHlwZW9mIGNsaWVudF9wb3MuY3VyWzBdICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBjbGllbnRfcG9zIGlzIHsgY3VyLCBzdGF0ZSwgc3BlZWQgfVxuICBsZXQgcGNkID0gdGhpcy5wZXJfY2xpZW50X2RhdGFbY2xpZW50X2lkXTtcbiAgaWYgKCFwY2QpIHtcbiAgICBwY2QgPSB0aGlzLnBlcl9jbGllbnRfZGF0YVtjbGllbnRfaWRdID0ge307XG4gICAgcGNkLnBvcyA9IHRoaXMudmNvcHkodGhpcy52ZWMoKSwgY2xpZW50X3Bvcy5jdXIpO1xuICAgIHBjZC5uZXRfc3BlZWQgPSAwO1xuICAgIHBjZC5uZXRfcG9zID0gdGhpcy52ZWMoKTtcbiAgICBwY2QuaW1wdWxzZSA9IHRoaXMudmVjKCk7XG4gICAgcGNkLm5ldF9zdGF0ZSA9ICdpZGxlX2Rvd24nO1xuICAgIHBjZC5hbmltX3N0YXRlID0gJ2lkbGVfZG93bic7XG4gIH1cbiAgaWYgKGNsaWVudF9wb3Muc3RhdGUpIHtcbiAgICBwY2QubmV0X3N0YXRlID0gY2xpZW50X3Bvcy5zdGF0ZTtcbiAgfVxuICB0aGlzLnZjb3B5KHBjZC5uZXRfcG9zLCBjbGllbnRfcG9zLmN1cik7XG4gIHBjZC5uZXRfc3BlZWQgPSBjbGllbnRfcG9zLnNwZWVkO1xuXG4gIC8vIEtlZXAgcGNkLnBvc1tyb3RdIHdpdGhpbiBQSSBvZiBwY2QubmV0X3Bvcywgc28gaW50ZXJwb2xhdGlvbiBhbHdheXMgZ29lcyB0aGUgcmlnaHQgd2F5XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmRpbV9yb3Q7ICsraWkpIHtcbiAgICBsZXQgamogPSB0aGlzLmRpbV9wb3MgKyBpaTtcbiAgICB3aGlsZSAocGNkLnBvc1tqal0gPiBwY2QubmV0X3Bvc1tqal0gKyBQSSkge1xuICAgICAgcGNkLnBvc1tqal0gLT0gVFdPX1BJO1xuICAgIH1cbiAgICB3aGlsZSAocGNkLnBvc1tqal0gPCBwY2QubmV0X3Bvc1tqal0gLSBQSSkge1xuICAgICAgcGNkLnBvc1tqal0gKz0gVFdPX1BJO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgaW50ZXJwb2xhdGlvbiBsb2dpYyB0YWtlbiBmcm9tIFNwbG9keVxuICAvLyBEb2Vzbid0IGRvIGdyZWF0IHdpdGggcGh5c2ljcy1iYXNlZCBqdW1wcyB0aG91Z2hcbiAgY29uc3QgZGVsdGEgPSB0aGlzLnZzdWIodGhpcy50ZW1wX2RlbHRhLCBwY2QubmV0X3BvcywgcGNkLnBvcyk7XG4gIGNvbnN0IGRpc3QgPSB0aGlzLnZsZW5ndGgoZGVsdGEpO1xuXG4gIGlmIChkaXN0ID4gMCkge1xuICAgIGNvbnN0IHRpbWVfdG9fZGVzdCA9IGRpc3QgLyBwY2QubmV0X3NwZWVkO1xuICAgIGlmICh0aW1lX3RvX2Rlc3QgPCB0aGlzLnNlbmRfdGltZSArIHRoaXMud2luZG93KSB7XG4gICAgICAvLyBXb3VsZCBnZXQgdGhlcmUgaW4gdGhlIGV4cGVjdGVkIHRpbWUsIHVzZSB0aGlzIHNwZWVkXG4gICAgICB0aGlzLnZzY2FsZShwY2QuaW1wdWxzZSwgZGVsdGEsIHBjZC5uZXRfc3BlZWQgLyBkaXN0KTtcbiAgICB9IGVsc2UgaWYgKHRpbWVfdG9fZGVzdCA8IHRoaXMuc2VuZF90aW1lICsgdGhpcy53aW5kb3cgKiB0aGlzLnNtb290aF93aW5kb3dzKSB7IC8vIDAuNXNcbiAgICAgIC8vIFdlJ2xsIGNvdWxkIGJlIHRoZXJlIGluIHVuZGVyIGhhbGYgYSBzZWNvbmQsIHRyeSB0byBjYXRjaCB1cCBzbW9vdGhseVxuICAgICAgLy8gVXNpbmcgcHJvdmlkZWQgc3BlZWQgaXMgdG9vIHNsb3csIGdvIGZhc3RlciwgdGhvdWdoIG5vIHNsb3dlciB0aGFuIHdlIHdlcmUgZ29pbmdcbiAgICAgIC8vIChpbiBjYXNlIHRoaXMgaXMgdGhlIGxhc3Qgb2YgbXVsdGlwbGUgZGVsYXllZCB1cGRhdGVzIGFuZCB0aGUgbGFzdCB1cGRhdGUgd2FzIGdvaW5nIGEgdGlueSBkaXN0YW5jZSBzbG93bHkpXG4gICAgICBjb25zdCBvbGRfc3BlZWQgPSB0aGlzLnZsZW5ndGgocGNkLmltcHVsc2UpO1xuICAgICAgY29uc3Qgc3BlY2lmaWVkX3NwZWVkID0gcGNkLm5ldF9zcGVlZDtcbiAgICAgIGNvbnN0IG5ld19zcGVlZCA9IG1heChzcGVjaWZpZWRfc3BlZWQgKiB0aGlzLnNtb290aF9mYWN0b3IsIG9sZF9zcGVlZCk7XG4gICAgICB0aGlzLnZzY2FsZShwY2QuaW1wdWxzZSwgZGVsdGEsIG5ld19zcGVlZCAvIGRpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSdyZSB3YXkgZmFyIGJlaGluZCB1c2luZyB0aGUgcHJvdmlkZWQgc3BlZWQsIGF0dGVtcHQgdG8gZ2V0IGFsbCB0aGUgd2F5IHRoZXJlIGJ5IHRoZSBuZXh0IGZld1xuICAgICAgLy8gdGhlb3JldGljYWwgdXBkYXRlcywgdGhpcyBiYXNpY2FsbHkgc25hcHMgaWYgdGhpcyBpcyBwYXJ0aWN1bGFybHkgc21hbGxcbiAgICAgIHRoaXMudnNjYWxlKHBjZC5pbXB1bHNlLCBkZWx0YSwgMSAvICh0aGlzLnNlbmRfdGltZSArIHRoaXMud2luZG93ICogdGhpcy5zbmFwX2ZhY3RvcikpO1xuICAgIH1cbiAgfVxufTtcblxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVPdGhlckNsaWVudCA9IGZ1bmN0aW9uIChjbGllbnRfaWQsIGR0KSB7XG4gIGNvbnN0IHBjZCA9IHRoaXMucGVyX2NsaWVudF9kYXRhW2NsaWVudF9pZF07XG4gIGlmICghcGNkKSB7XG4gICAgLy8gTmV2ZXIgZ290IGEgcG9zaXRpb24gc2VudCB0byB1cywgaWdub3JlXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBcHBseSBpbnRlcnBvbGF0aW9uIChsb2dpYyBmcm9tIFNwbG9keSlcbiAgbGV0IHN0b3BwZWQgPSB0cnVlO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5uOyArK2lpKSB7XG4gICAgaWYgKHBjZC5pbXB1bHNlW2lpXSkge1xuICAgICAgY29uc3QgZGVsdGFfb2xkID0gcGNkLm5ldF9wb3NbaWldIC0gcGNkLnBvc1tpaV07XG4gICAgICBjb25zdCBkZWx0YV9vbGRfc2lnbiA9IHV0aWwuc2lnbihkZWx0YV9vbGQpO1xuICAgICAgcGNkLnBvc1tpaV0gKz0gcGNkLmltcHVsc2VbaWldICogZHQ7XG4gICAgICBjb25zdCBkZWx0YV9uZXcgPSBwY2QubmV0X3Bvc1tpaV0gLSBwY2QucG9zW2lpXTtcbiAgICAgIGNvbnN0IGRlbHRhX25ld19zaWduID0gdXRpbC5zaWduKGRlbHRhX25ldyk7XG4gICAgICBpZiAoZGVsdGFfbmV3X3NpZ24gIT09IGRlbHRhX29sZF9zaWduKSB7XG4gICAgICAgIC8vIG1hZGUgaXQgb3IgcGFzc2VkIGl0XG4gICAgICAgIHBjZC5wb3NbaWldID0gcGNkLm5ldF9wb3NbaWldO1xuICAgICAgICBwY2QuaW1wdWxzZVtpaV0gPSAwO1xuICAgICAgfSBlbHNlIGlmIChpaSA8IHRoaXMuZGltX3BvcyAmJiBwY2QuaW1wdWxzZVtpaV0gPiAwLjAxKSB7XG4gICAgICAgIC8vIElmIHBvc2l0aW9uYWwgKG5vdCByb3RhdGlvbiksIHdlJ3JlIG5vdCBzdG9wcGVkXG4gICAgICAgIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMub25fcG9zX3VwZGF0ZSkge1xuICAgIHRoaXMub25fcG9zX3VwZGF0ZShjbGllbnRfaWQsIHBjZC5wb3MpO1xuICB9XG5cbiAgY29uc3QgY3VyX2lzX3J1biA9IHBjZC5hbmltX3N0YXRlWzBdID09PSAnZicgfHwgcGNkLmFuaW1fc3RhdGVbMF0gPT09ICd3JztcbiAgY29uc3QgbmV3X2lzX2lkbGUgPSBwY2QubmV0X3N0YXRlWzBdID09PSAnaSc7XG4gIGlmIChjdXJfaXNfcnVuICYmIG5ld19pc19pZGxlICYmICFzdG9wcGVkKSB7XG4gICAgLy8gZG9uJ3QgYXBwbHkgeWV0XG4gIH0gZWxzZSB7XG4gICAgcGNkLmFuaW1fc3RhdGUgPSBwY2QubmV0X3N0YXRlO1xuICAgIGlmICh0aGlzLm9uX3N0YXRlX3VwZGF0ZSkge1xuICAgICAgdGhpcy5vbl9zdGF0ZV91cGRhdGUoY2xpZW50X2lkLCBwY2QubmV0X3N0YXRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBjZDtcbn07XG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLm4gPSAyOyAvLyBkaW1lbnNpb25hbGl0eSBvZiBwb3NpdGlvbiB2ZWN0b3JzXG5OZXRQb3NpdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpbV9wb3MgPSAyOyAvLyBudW1iZXIgb2YgY29tcG9uZW50cyB0byBiZSBpbnRlcnBvbGF0ZWQgYXMtaXNcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuZGltX3JvdCA9IDA7IC8vIG51bWJlciBvZiBjb21wb25lbnRzIHRvIGJlIGludGVycG9sYXRlZCB3aXRoIDJQSSB3cmFwcGluZ1xuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5zZW5kX3RpbWUgPSAyMDA7IC8vIGhvdyBvZnRlbiB0byBzZW5kIHBvc2l0aW9uIHVwZGF0ZXNcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUud2luZG93ID0gMjAwOyAvLyBtYXhpbXVtIGV4cGVjdGVkIHZhcmlhdGlvbiBpbiB0aW1lIGJldHdlZW4gdXBkYXRlczsgbXNcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuc25hcF9mYWN0b3IgPSAxLjA7IC8vIGhvdyBtYW55IHdpbmRvd3MgdG8gc25hcCBpbiB3aGVuIHdlIHRoaW5rIHdlIG5lZWQgdG8gc25hcFxuTmV0UG9zaXRpb25NYW5hZ2VyLnByb3RvdHlwZS5zbW9vdGhfd2luZG93cyA9IDYuNTsgLy8gaG93IG1hbnkgd2luZG93cyBiZWhpbmQgd2UgY2FuIGJlIGFuZCBvbmx5IGFjY2VsZXJhdGUgYSBsaXR0bGVcbk5ldFBvc2l0aW9uTWFuYWdlci5wcm90b3R5cGUuc21vb3RoX2ZhY3RvciA9IDEuMjsgLy8gaG93IG11Y2ggZmFzdGVyIHRvIGdvIGluIHRoZSBzbW9vdGhpbmcgd2luZG93XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTmV0UG9zaXRpb25NYW5hZ2VyKG9wdGlvbnMpO1xufVxuXG5cbmZ1bmN0aW9uIFNjYWxhckludGVycG9sYXRvcih0aWNrX3RpbWUpIHtcbiAgdGhpcy50aWNrX3RpbWUgPSB0aWNrX3RpbWUgKiAxLjI1O1xuICB0aGlzLnJlc2V0KCk7XG59XG5cblNjYWxhckludGVycG9sYXRvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gIHRoaXMudGFyZ2V0X3ZhbHVlID0gdW5kZWZpbmVkO1xuICB0aGlzLnZlbCA9IDA7XG59O1xuXG4vLyBBc3N1bWUgYW55IGNoYW5nZSBoYXBwZW5lZCBvbiB0aGUgc2VydmVyIGF0IGZyZXF1ZW5jeSB0aWNrX3RpbWVcbi8vIFVwZGF0ZXMgc3RhdGUudmFsdWUgYW5kIGFsc28gcmV0dXJucyBpdFxuU2NhbGFySW50ZXJwb2xhdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQsIG5ld192YWx1ZSkge1xuICBpZiAodGhpcy52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy52YWx1ZSA9IG5ld192YWx1ZTtcbiAgICB0aGlzLnRhcmdldF92YWx1ZSA9IG5ld192YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gVE9ETzogQ291bGQgZmlndXJlIGV4cGVjdGVkIHZlbG9jaXR5IGFuZCB1c2UgbG9naWMgbGlrZSBpbiB1cGRhdGVPdGhlckNsaWVudFxuICBpZiAobmV3X3ZhbHVlICE9PSB0aGlzLnRhcmdldF92YWx1ZSkge1xuICAgIC8vIHRyeSB0byBnZXQgdGhlcmUgaW4gdGlja190aW1lXG4gICAgdGhpcy52ZWwgPSAobmV3X3ZhbHVlIC0gdGhpcy52YWx1ZSkgLyB0aGlzLnRpY2tfdGltZTtcbiAgICB0aGlzLnRhcmdldF92YWx1ZSA9IG5ld192YWx1ZTtcbiAgfVxuICBpZiAodGhpcy52YWx1ZSAhPT0gdGhpcy50YXJnZXRfdmFsdWUpIHtcbiAgICBpZiAodGhpcy52ZWwgPiAwKSB7XG4gICAgICB0aGlzLnZhbHVlID0gbWluKHRoaXMudmFsdWUgKyB0aGlzLnZlbCAqIGR0LCB0aGlzLnRhcmdldF92YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmFsdWUgPSBtYXgodGhpcy52YWx1ZSArIHRoaXMudmVsICogZHQsIHRoaXMudGFyZ2V0X3ZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5cblNjYWxhckludGVycG9sYXRvci5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnZhbHVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjYWxhckludGVycG9sYXRvcih0aWNrX3RpbWUpIHtcbiAgcmV0dXJuIG5ldyBTY2FsYXJJbnRlcnBvbGF0b3IodGlja190aW1lKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBQYXJ0aWNsZSBTeXN0ZW0gU3BlY1xuXG4vKlxuLy8gRGVmaW5pdGlvbnNcbi8vIHZhbHVlID0gbnVtYmVyIG9yXG4vLyB2YWx1ZSA9IFtiYXNlLCBhZGRfbWF4XSAtPiBnZW5lcmF0ZXMgYSBudW1iZXIgaW4gdGhlIHJhbmdlIFtiYXNlLCBiYXNlICsgYWRkX21heClcbmxldCBkZWZfZmlyZSA9IHtcbiAgcGFydGljbGVzOiB7XG4gICAgZmlyZToge1xuICAgICAgYmxlbmQ6ICdhZGRpdGl2ZScsXG4gICAgICB0ZXh0dXJlOiAnZmlyZS5wbmcnLFxuICAgICAgY29sb3I6IFsxLDEsMSwxXSwgLy8gbXVsdGlwbGllZCBieSBhbmltYXRpb24gdHJhY2ssIGRlZmF1bHQgMSwxLDEsMSwgY2FuIGJlIG9taXR0ZWRcbiAgICAgIGNvbG9yX3RyYWNrOiBbIC8vIGp1c3QgdmFsdWVzLCBOT1QgcmFuZG9tIHJhbmdlXG4gICAgICAgIHsgdDogMC4wLCB2OiBbMSwwLjQsMC40LDFdIH0sXG4gICAgICAgIHsgdDogMC43LCB2OiBbMSwwLDAsMV0gfSxcbiAgICAgICAgeyB0OiAwLjksIHY6IFswLjIsMCwwLDFdIH0sXG4gICAgICAgIHsgdDogMS4wLCB2OiBbMCwwLDAsMV0gfSxcbiAgICAgIF0sXG4gICAgICBzaXplOiBbWzMyLDE2XSwgWzMyLDE2XV0sIC8vIG11bHRpcGxpZWQgYnkgYW5pbWF0aW9uIHRyYWNrXG4gICAgICBzaXplX3RyYWNrOiBbIC8vIGp1c3QgdmFsdWVzLCBOT1QgcmFuZG9tIHJhbmdlXG4gICAgICAgIHsgdDogMC4wLCB2OiBbMSwxXSB9LFxuICAgICAgICB7IHQ6IDAuNCwgdjogWzAuNSwwLjVdIH0sXG4gICAgICAgIHsgdDogMC43LCB2OiBbMSwxXSB9LFxuICAgICAgICB7IHQ6IDEuMCwgdjogWzEuNSwxLjVdIH0sXG4gICAgICBdLFxuICAgICAgYWNjZWw6IFswLDBdLFxuICAgICAgcm90OiBbMCwzNjBdLCAvLyBkZWdyZWVzXG4gICAgICByb3RfdmVsOiBbMTAsMl0sIC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxuICAgICAgbGlmZXNwYW46IFs0NTAsMF0sIC8vIG1pbGxpc2Vjb25kc1xuICAgICAga2lsbF90aW1lX2FjY2VsOiA1LFxuICAgIH0sXG4gIH0sXG4gIGVtaXR0ZXJzOiB7XG4gICAgZmlyZToge1xuICAgICAgcGFydGljbGU6ICdmaXJlJyxcbiAgICAgIC8vIFJhbmRvbSByYW5nZXMgYWZmZWN0IGVhY2ggZW1pdHRlZCBwYXJ0aWNsZTpcbiAgICAgIHBvczogW1swLDI4XSwgWzAsMjhdXSxcbiAgICAgIHZlbDogWzAsMF0sXG4gICAgICBlbWl0X3JhdGU6IFs2MCwyMF0sIC8vIGVtaXNzaW9ucyBwZXIgc2Vjb25kXG4gICAgICAvLyBSYW5kb20gcmFuZ2VzIG9ubHkgY2FsY3VsYXRlZCB1cG9uIGluc3RhbnRpYXRpb246XG4gICAgICBlbWl0X3RpbWU6IFswLEluZmluaXR5XSxcbiAgICAgIGVtaXRfaW5pdGlhbDogMTAsXG4gICAgfSxcbiAgfSxcbiAgc3lzdGVtX2xpZmVzcGFuOiBJbmZpbml0eSwgLy8gbXVzdCBiZSBtYW51YWxseSBraWxsZWRcbn07XG5cbi8vIFVzYWdlXG5sZXQgc3lzdGVtID0gZ2xvdl9lbmdpbmUuZ2xvdl9wYXJ0aWNsZXMuY3JlYXRlU3lzdGVtKGRlZl9maXJlLCBbNTAsIDUwLCBaLlBBUlRJQ0xFU10pO1xuc3lzdGVtLnVwZGF0ZVBvcyg3NSwgNzUpO1xuc3lzdGVtLmtpbGxTb2Z0KCk7IC8vIHN0b3BzIGVtaXR0aW5nIGFuZCBzcGVlZHMgdXAgcGFydGljbGVzIGJ5IGtpbGxfdGltZV9hY2NlbFxuc3lzdGVtLmtpbGxIYXJkKCk7IC8vIGltbWVkaWF0ZWx5IHN0b3BzIGRyYXdpbmdcblxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEltcGxlbWVudGF0aW9uXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3Qgc3ByaXRlcyA9IHJlcXVpcmUoJy4vc3ByaXRlcy5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL3RleHR1cmVzLmpzJyk7XG5jb25zdCB7IHZlYzIsIHYyY29weSwgdjJsZXJwLCB2Mm11bCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xuY29uc3QgeyB2ZWMzLCB2ZWM0LCB2M2FkZCwgdjRjb3B5LCB2NGxlcnAsIHY0bXVsIH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmNvbnN0IGJsZW5kX21hcCA9IHtcbiAgYWxwaGE6IHNwcml0ZXMuQkxFTkRfQUxQSEEsXG4gIGFkZGl0aXZlOiBzcHJpdGVzLkJMRU5EX0FERElUSVZFLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHByZWxvYWRQYXJ0aWNsZURhdGEocGFydGljbGVfZGF0YSkge1xuICAvLyBQcmVsb2FkIGFsbCByZWZlcmVuY2VkIHBhcnRpY2xlIHRleHR1cmVzXG4gIGZvciAobGV0IGtleSBpbiBwYXJ0aWNsZV9kYXRhLmRlZnMpIHtcbiAgICBsZXQgZGVmID0gcGFydGljbGVfZGF0YS5kZWZzW2tleV07XG4gICAgZm9yIChsZXQgcGFydF9uYW1lIGluIGRlZi5wYXJ0aWNsZXMpIHtcbiAgICAgIGxldCBwYXJ0X2RlZiA9IGRlZi5wYXJ0aWNsZXNbcGFydF9uYW1lXTtcbiAgICAgIHRleHR1cmVzLmxvYWQoeyB1cmw6IGBpbWcvJHtwYXJ0X2RlZi50ZXh0dXJlfS5wbmdgIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBFeHBlY3QgYWxsIHZhbHVlcyB0byBiZSBhIHBhaXIgb2YgW2Jhc2UsIGFkZF9tYXhdXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2KSB7XG4gIGlmICh2IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ICYmIHYubGVuZ3RoID49IDIpIHtcbiAgICByZXR1cm4gdjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmVjMih2LCAwKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpIHx8IHYgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAvLyBhbHJlYWR5IGFuIGFycmF5LCBjb252ZXJ0IHRvIFZlYzJcbiAgICByZXR1cm4gdmVjMih2WzBdIHx8IDAsIHZbMV0gfHwgMCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFzc2VydChmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWVWZWModmVjLCBsZW5ndGgpIHtcbiAgYXNzZXJ0KGxlbmd0aCk7XG4gIGFzc2VydChBcnJheS5pc0FycmF5KHZlYykpO1xuICBsZXQgcmV0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW5ndGg7ICsraWkpIHtcbiAgICByZXRbaWldID0gbm9ybWFsaXplVmFsdWUodmVjW2lpXSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUGFydGljbGUoZGVmLCBwYXJ0aWNsZV9tYW5hZ2VyKSB7XG4gIGlmICghZGVmLm5vcm1hbGl6ZWQpIHtcbiAgICBsZXQgbm9ybSA9IGRlZi5ub3JtYWxpemVkID0ge1xuICAgICAgYmxlbmQ6IGJsZW5kX21hcFtkZWYuYmxlbmRdIHx8IHNwcml0ZXMuQkxFTkRfQUxQSEEsXG4gICAgICB0ZXh0dXJlOiB0ZXh0dXJlcy5sb2FkKHsgdXJsOiBkZWYudGV4dHVyZSA/IGBpbWcvJHtkZWYudGV4dHVyZX0ucG5nYCA6ICdpbWcvZ2xvdi91dGlsX2NpcmNsZS5wbmcnIH0pLFxuICAgICAgY29sb3I6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5jb2xvciB8fCBbMSwxLDEsMV0sIDQpLFxuICAgICAgY29sb3JfdHJhY2s6IG51bGwsXG4gICAgICBzaXplOiBub3JtYWxpemVWYWx1ZVZlYyhkZWYuc2l6ZSB8fCBbMSwxXSwgMiksXG4gICAgICBzaXplX3RyYWNrOiBudWxsLFxuICAgICAgYWNjZWw6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5hY2NlbCB8fCBbMCwwLDBdLCAzKSxcbiAgICAgIHJvdDogbm9ybWFsaXplVmFsdWUoZGVmLnJvdCB8fCAwKSxcbiAgICAgIHJvdF92ZWw6IG5vcm1hbGl6ZVZhbHVlKGRlZi5yb3QgfHwgMCksXG4gICAgICBsaWZlc3Bhbjogbm9ybWFsaXplVmFsdWUoZGVmLmxpZmVzcGFuIHx8IDEwMDApLFxuICAgICAga2lsbF90aW1lX2FjY2VsOiBub3JtYWxpemVWYWx1ZShkZWYua2lsbF90aW1lX2FjY2VsIHx8IDEpLFxuICAgIH07XG4gICAgYXNzZXJ0KG5vcm0ua2lsbF90aW1lX2FjY2VsWzBdID49IDEpOyAvLyBjYW5ub3Qgc2xvdyBkb3duIG9uIGtpbGwhXG4gICAgaWYgKGRlZi5jb2xvcl90cmFjayAmJiBkZWYuY29sb3JfdHJhY2subGVuZ3RoKSB7XG4gICAgICBhc3NlcnQoZGVmLmNvbG9yX3RyYWNrLmxlbmd0aCA+IDEpO1xuICAgICAgbm9ybS5jb2xvcl90cmFjayA9IFtdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRlZi5jb2xvcl90cmFjay5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgbGV0IGUgPSBkZWYuY29sb3JfdHJhY2tbaWldO1xuICAgICAgICBhc3NlcnQodHlwZW9mIGUudCA9PT0gJ251bWJlcicpO1xuICAgICAgICBsZXQgYXJyID0gbmV3IEZsb2F0MzJBcnJheSg1KTtcbiAgICAgICAgYXJyWzBdID0gZS52WzBdO1xuICAgICAgICBhcnJbMV0gPSBlLnZbMV07XG4gICAgICAgIGFyclsyXSA9IGUudlsyXTtcbiAgICAgICAgYXJyWzNdID0gZS52WzNdO1xuICAgICAgICBhcnJbNF0gPSBlLnQ7XG4gICAgICAgIG5vcm0uY29sb3JfdHJhY2sucHVzaChhcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVmLnNpemVfdHJhY2sgJiYgZGVmLnNpemVfdHJhY2subGVuZ3RoKSB7XG4gICAgICBhc3NlcnQoZGVmLnNpemVfdHJhY2subGVuZ3RoID4gMSk7XG4gICAgICBub3JtLnNpemVfdHJhY2sgPSBbXTtcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBkZWYuc2l6ZV90cmFjay5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgbGV0IGUgPSBkZWYuc2l6ZV90cmFja1tpaV07XG4gICAgICAgIGFzc2VydCh0eXBlb2YgZS50ID09PSAnbnVtYmVyJyk7XG4gICAgICAgIGxldCBhcnIgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuICAgICAgICBhcnJbMF0gPSBlLnZbMF07XG4gICAgICAgIGFyclsxXSA9IGUudlsxXTtcbiAgICAgICAgYXJyWzJdID0gZS50O1xuICAgICAgICBub3JtLnNpemVfdHJhY2sucHVzaChhcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGVmLm5vcm1hbGl6ZWQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRQYXJ0aWNsZShwYXJ0aWNsZXMsIG5hbWUpIHtcbiAgYXNzZXJ0KHBhcnRpY2xlc1tuYW1lXSAhPT0gdW5kZWZpbmVkKTtcbiAgcmV0dXJuIHBhcnRpY2xlc1tuYW1lXTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHRlcihkZWYsIHBhcnRfbWFwKSB7XG4gIGlmICghZGVmLm5vcm1hbGl6ZWQpIHtcbiAgICBkZWYubm9ybWFsaXplZCA9IHtcbiAgICAgIHBhcnRfaWR4OiBmaW5kUGFydGljbGUocGFydF9tYXAsIGRlZi5wYXJ0aWNsZSksXG4gICAgICBwb3M6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi5wb3MgfHwgWzAsMCwwXSwgMyksXG4gICAgICB2ZWw6IG5vcm1hbGl6ZVZhbHVlVmVjKGRlZi52ZWwgfHwgWzAsMCwwXSwgMyksXG4gICAgICBlbWl0X3JhdGU6IG5vcm1hbGl6ZVZhbHVlKGRlZi5lbWl0X3JhdGUgfHwgMTApLFxuICAgICAgZW1pdF90aW1lOiBub3JtYWxpemVWYWx1ZVZlYyhkZWYuZW1pdF90aW1lIHx8IFswLEluZmluaXR5XSwgMiksXG4gICAgICBlbWl0X2luaXRpYWw6IG5vcm1hbGl6ZVZhbHVlKGRlZi5lbWl0X2luaXRpYWwgfHwgMSksXG4gICAgfTtcbiAgICAvLyBjb252ZXJ0IHBhcnRpY2xlcyBwZXIgc2Vjb25kIHRvIG1zIHBlciBlbWlzc2lvblxuICAgIGxldCBtaW4gPSBkZWYubm9ybWFsaXplZC5lbWl0X3JhdGVbMF07XG4gICAgbGV0IG1heCA9IGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVswXSArIGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVsxXTtcbiAgICBkZWYubm9ybWFsaXplZC5lbWl0X3JhdGVbMF0gPSAxMDAwIC8gbWF4O1xuICAgIGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVsxXSA9IDEwMDAgLyBtaW47XG4gICAgYXNzZXJ0KGRlZi5ub3JtYWxpemVkLmVtaXRfcmF0ZVswXSA+IDEpOyAvLyBOb3QgbW9yZSB0aGFuIDEwMDAgcGVyIHNlY29uZCwgdGhhdCdzIHJpZGljJy5cbiAgfVxuICByZXR1cm4gZGVmLm5vcm1hbGl6ZWQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlZihkZWYsIHBhcnRpY2xlX21hbmFnZXIpIHtcbiAgaWYgKCFkZWYubm9ybWFsaXplZCkge1xuICAgIGxldCBub3JtID0gZGVmLm5vcm1hbGl6ZWQgPSB7XG4gICAgICBzeXN0ZW1fbGlmZXNwYW46IG5vcm1hbGl6ZVZhbHVlKGRlZi5zeXN0ZW1fbGlmZXNwYW4gfHwgSW5maW5pdHkpLFxuICAgICAgcGFydGljbGVzOiBbXSxcbiAgICAgIGVtaXR0ZXJzOiBbXSxcbiAgICB9O1xuICAgIGxldCBwYXJ0X21hcCA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBkZWYucGFydGljbGVzKSB7XG4gICAgICBwYXJ0X21hcFtrZXldID0gbm9ybS5wYXJ0aWNsZXMubGVuZ3RoO1xuICAgICAgbm9ybS5wYXJ0aWNsZXMucHVzaChub3JtYWxpemVQYXJ0aWNsZShkZWYucGFydGljbGVzW2tleV0sIHBhcnRpY2xlX21hbmFnZXIpKTtcbiAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGRlZi5lbWl0dGVycykge1xuICAgICAgbm9ybS5lbWl0dGVycy5wdXNoKG5vcm1hbGl6ZUVtaXR0ZXIoZGVmLmVtaXR0ZXJzW2tleV0sIHBhcnRfbWFwKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWYubm9ybWFsaXplZDtcbn1cblxuZnVuY3Rpb24gaW5zdFZhbHVlKHYpIHtcbiAgcmV0dXJuIHZbMF0gKyBNYXRoLnJhbmRvbSgpICogdlsxXTtcbn1cbmZ1bmN0aW9uIGluc3RWYWx1ZVZlYyh2KSB7XG4gIGxldCByZXQgPSBuZXcgRmxvYXQzMkFycmF5KHYubGVuZ3RoKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHYubGVuZ3RoOyArK2lpKSB7XG4gICAgcmV0W2lpXSA9IGluc3RWYWx1ZSh2W2lpXSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxubGV0IHRlbXBfY29sb3IgPSB2ZWM0KCk7XG5sZXQgdGVtcF9jb2xvcjIgPSB2ZWM0KCk7XG5sZXQgdGVtcF9zaXplID0gdmVjMigpO1xubGV0IHRlbXBfc2l6ZTIgPSB2ZWMyKCk7XG4vLyBsZXQgdGVtcF9wb3MgPSB2M2FsbG9jWmVybygpO1xuXG5jbGFzcyBQYXJ0aWNsZVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgZGVmX2luLCBwb3MpIHtcbiAgICBhc3NlcnQocG9zLmxlbmd0aCA9PT0gMyk7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5kZWYgPSBub3JtYWxpemVEZWYoZGVmX2luLCBwYXJlbnQpO1xuICAgIHRoaXMuc3lzdGVtX2xpZmVzcGFuID0gaW5zdFZhbHVlKHRoaXMuZGVmLnN5c3RlbV9saWZlc3Bhbik7XG4gICAgYXNzZXJ0KHRoaXMuc3lzdGVtX2xpZmVzcGFuID4gMCk7XG4gICAgdGhpcy5hZ2UgPSAwO1xuICAgIHRoaXMua2lsbF9oYXJkID0gZmFsc2U7XG4gICAgdGhpcy5raWxsX3NvZnQgPSBmYWxzZTtcbiAgICB0aGlzLnBvcyA9IHZlYzMocG9zWzBdLCBwb3NbMV0sIHBvc1syXSk7XG4gICAgdGhpcy5wYXJ0X3NldHMgPSBbXTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5kZWYucGFydGljbGVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGRlZiA9IHRoaXMuZGVmLnBhcnRpY2xlc1tpaV07XG4gICAgICBsZXQgcGFydF9zZXQgPSB7XG4gICAgICAgIGRlZixcbiAgICAgICAgcGFydHM6IFtdLFxuICAgICAgfTtcbiAgICAgIHRoaXMucGFydF9zZXRzLnB1c2gocGFydF9zZXQpO1xuICAgIH1cbiAgICB0aGlzLmVtaXR0ZXJzID0gW107XG4gICAgLy8gSW5zdGFudGlhdGUgZW1pdHRlcnNcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5kZWYuZW1pdHRlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgZGVmID0gdGhpcy5kZWYuZW1pdHRlcnNbaWldO1xuICAgICAgbGV0IGVtaXR0ZXIgPSB7XG4gICAgICAgIGRlZixcbiAgICAgICAgZW1pdF90aW1lOiBpbnN0VmFsdWVWZWMoZGVmLmVtaXRfdGltZSksXG4gICAgICAgIGNvdW50ZG93bjogMCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHN0b3BwZWQ6IGZhbHNlLFxuICAgICAgfTtcbiAgICAgIHRoaXMuZW1pdHRlcnMucHVzaChlbWl0dGVyKTtcbiAgICB9XG4gICAgLy8gRG8gKm5vdCogZG8gdGhpcyBoZXJlLCBjYXVzZXMgdGhlbSB0byBiZSBkcmF3biB0d2ljZSBvbiB0aGUgZmlyc3QgZnJhbWUsXG4gICAgLy8gICB0aGV5J2xsIGJlIHRpY2tlZCBhcyB1c3VhbC5cbiAgICAvLyAvLyBkbyBpbml0aWFsIHRpY2sgZm9yIHRoaW5ncyB0aGF0IGhhdmUgYW4gZW1pdF90aW1lWzBdIG9mIDAgYW5kIGhhdmUgYW4gZW1pdF9pbml0aWFsXG4gICAgLy8gdGhpcy50aWNrKDApO1xuICB9XG5cbiAgdGlja1BhcnRpY2xlKHBhcnQsIGR0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIGxldCBkZWYgPSBwYXJ0LmRlZjtcbiAgICBwYXJ0LmFnZSArPSBkdDtcbiAgICBsZXQgYWdlX25vcm0gPSBwYXJ0LmFnZSAvIHBhcnQubGlmZXNwYW47XG4gICAgaWYgKGFnZV9ub3JtID49IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFBvcywgdmVsIC0gaW5jcmVtZW50YWxseSBjb21wdXRlZFxuICAgIGxldCBkdHMgPSBkdCAvIDEwMDA7XG4gICAgcGFydC5wb3NbMF0gKz0gcGFydC52ZWxbMF0gKiBkdHM7XG4gICAgcGFydC5wb3NbMV0gKz0gcGFydC52ZWxbMV0gKiBkdHM7XG4gICAgcGFydC5wb3NbMl0gKz0gcGFydC52ZWxbMl0gKiBkdHM7XG4gICAgcGFydC52ZWxbMF0gKz0gcGFydC5hY2NlbFswXSAqIGR0cztcbiAgICBwYXJ0LnZlbFsxXSArPSBwYXJ0LmFjY2VsWzFdICogZHRzO1xuICAgIHBhcnQudmVsWzJdICs9IHBhcnQuYWNjZWxbMl0gKiBkdHM7XG5cbiAgICAvLyBDb2xvciwgc2l6ZSwgcm90IC0gZXhwbGljaXRseSBjb21wdXRlZFxuICAgIHY0Y29weSh0ZW1wX2NvbG9yLCBwYXJ0LmNvbG9yLCB0ZW1wX2NvbG9yKTtcbiAgICBpZiAoZGVmLmNvbG9yX3RyYWNrKSB7XG4gICAgICBpZiAoYWdlX25vcm0gPCBkZWYuY29sb3JfdHJhY2tbMF1bNF0pIHtcbiAgICAgICAgdjRtdWwodGVtcF9jb2xvciwgdGVtcF9jb2xvciwgZGVmLmNvbG9yX3RyYWNrWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAoYWdlX25vcm0gPj0gZGVmLmNvbG9yX3RyYWNrW2RlZi5jb2xvcl90cmFjay5sZW5ndGggLSAxXVs0XSkge1xuICAgICAgICB2NG11bCh0ZW1wX2NvbG9yLCB0ZW1wX2NvbG9yLCBkZWYuY29sb3JfdHJhY2tbZGVmLmNvbG9yX3RyYWNrLmxlbmd0aCAtIDFdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBkZWYuY29sb3JfdHJhY2subGVuZ3RoIC0gMTsgKytpaSkge1xuICAgICAgICAgIGlmIChhZ2Vfbm9ybSA+PSBkZWYuY29sb3JfdHJhY2tbaWldWzRdICYmIGFnZV9ub3JtIDwgZGVmLmNvbG9yX3RyYWNrW2lpICsgMV1bNF0pIHtcbiAgICAgICAgICAgIGxldCB3ZWlnaHQgPSAoYWdlX25vcm0gLSBkZWYuY29sb3JfdHJhY2tbaWldWzRdKSAvIChkZWYuY29sb3JfdHJhY2tbaWkgKyAxXVs0XSAtIGRlZi5jb2xvcl90cmFja1tpaV1bNF0pO1xuICAgICAgICAgICAgdjRsZXJwKHRlbXBfY29sb3IyLCB3ZWlnaHQsIGRlZi5jb2xvcl90cmFja1tpaV0sIGRlZi5jb2xvcl90cmFja1tpaSArIDFdKTtcbiAgICAgICAgICAgIHY0bXVsKHRlbXBfY29sb3IsIHRlbXBfY29sb3IsIHRlbXBfY29sb3IyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHYyY29weSh0ZW1wX3NpemUsIHBhcnQuc2l6ZSk7XG4gICAgaWYgKGRlZi5zaXplX3RyYWNrKSB7XG4gICAgICBpZiAoYWdlX25vcm0gPCBkZWYuc2l6ZV90cmFja1swXVsyXSkge1xuICAgICAgICB2Mm11bCh0ZW1wX3NpemUsIHRlbXBfc2l6ZSwgZGVmLnNpemVfdHJhY2tbMF0pO1xuICAgICAgfSBlbHNlIGlmIChhZ2Vfbm9ybSA+PSBkZWYuc2l6ZV90cmFja1tkZWYuc2l6ZV90cmFjay5sZW5ndGggLSAxXVsyXSkge1xuICAgICAgICB2Mm11bCh0ZW1wX3NpemUsIHRlbXBfc2l6ZSwgZGVmLnNpemVfdHJhY2tbZGVmLnNpemVfdHJhY2subGVuZ3RoIC0gMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGRlZi5zaXplX3RyYWNrLmxlbmd0aCAtIDE7ICsraWkpIHtcbiAgICAgICAgICBpZiAoYWdlX25vcm0gPj0gZGVmLnNpemVfdHJhY2tbaWldWzJdICYmIGFnZV9ub3JtIDwgZGVmLnNpemVfdHJhY2tbaWkgKyAxXVsyXSkge1xuICAgICAgICAgICAgbGV0IHdlaWdodCA9IChhZ2Vfbm9ybSAtIGRlZi5zaXplX3RyYWNrW2lpXVsyXSkgLyAoZGVmLnNpemVfdHJhY2tbaWkgKyAxXVsyXSAtIGRlZi5zaXplX3RyYWNrW2lpXVsyXSk7XG4gICAgICAgICAgICB2MmxlcnAodGVtcF9zaXplMiwgd2VpZ2h0LCBkZWYuc2l6ZV90cmFja1tpaV0sIGRlZi5zaXplX3RyYWNrW2lpICsgMV0pO1xuICAgICAgICAgICAgdjJtdWwodGVtcF9zaXplLCB0ZW1wX3NpemUsIHRlbXBfc2l6ZTIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogbGV0IHJvdCA9IHBhcnQucm90ICsgcGFydC5hZ2UgKiBwYXJ0LnJvdF92ZWw7XG5cbiAgICAvLyBUT0RPOiBkcmF3IHVzaW5nOlxuICAgIC8vICAgcm90XG4gICAgbGV0IHcgPSB0ZW1wX3NpemVbMF07XG4gICAgbGV0IGggPSB0ZW1wX3NpemVbMV07XG4gICAgbGV0IHggPSBwYXJ0LnBvc1swXSAtIHcvMjtcbiAgICBsZXQgeSA9IHBhcnQucG9zWzFdIC0gaC8yO1xuICAgIGxldCB6ID0gcGFydC5wb3NbMl07XG4gICAgc3ByaXRlcy5xdWV1ZXJhdzQoW2RlZi50ZXh0dXJlXSxcbiAgICAgIHgsIHksIHgsIHkgKyBoLCB4ICsgdywgeSArIGgsIHggKyB3LCB5LCB6LCAwLCAwLCAxLCAxLFxuICAgICAgdGVtcF9jb2xvciwgbnVsbCwgbnVsbCwgZGVmLmJsZW5kKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRpY2tQYXJ0U2V0KGR0X29yaWcsIHBhcnRfc2V0KSB7XG4gICAgLy9sZXQgZGVmID0gcGFydF9zZXQuZGVmO1xuICAgIGxldCBwYXJ0cyA9IHBhcnRfc2V0LnBhcnRzO1xuICAgIGZvciAobGV0IGlpID0gcGFydHMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tpaV07XG4gICAgICBsZXQgZHQgPSB0aGlzLmtpbGxfc29mdCA/IGR0X29yaWcgKiBwYXJ0LmtpbGxfdGltZV9hY2NlbCA6IGR0X29yaWc7XG4gICAgICBpZiAodGhpcy50aWNrUGFydGljbGUocGFydCwgZHQpKSB7XG4gICAgICAgIHBhcnRzW2lpXSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBwYXJ0cy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbWl0UGFydGljbGUoaW5pdF9kdCwgZW1pdHRlcikge1xuICAgIGxldCBlbWl0dGVyX2RlZiA9IGVtaXR0ZXIuZGVmO1xuICAgIGxldCBwYXJ0X3NldCA9IHRoaXMucGFydF9zZXRzW2VtaXR0ZXJfZGVmLnBhcnRfaWR4XTtcbiAgICBsZXQgZGVmID0gcGFydF9zZXQuZGVmO1xuICAgIGxldCBwb3MgPSBpbnN0VmFsdWVWZWMoZW1pdHRlcl9kZWYucG9zLCAzKTtcbiAgICB2M2FkZChwb3MsIHBvcywgdGhpcy5wb3MpO1xuICAgIC8vIFBFUkZUT0RPOiBNYWtlIHRoZSB3aG9sZSBQYXJ0aWNsZSBqdXN0IGEgZGF0YVtdIEZsb2F0MzJBcnJheVxuICAgIGxldCBwYXJ0ID0ge1xuICAgICAgZGVmLFxuICAgICAgcG9zLFxuICAgICAgY29sb3I6IGluc3RWYWx1ZVZlYyhkZWYuY29sb3IsIDQpLFxuICAgICAgc2l6ZTogaW5zdFZhbHVlVmVjKGRlZi5zaXplLCA0KSxcbiAgICAgIHZlbDogaW5zdFZhbHVlVmVjKGVtaXR0ZXJfZGVmLnZlbCwgMyksXG4gICAgICBhY2NlbDogaW5zdFZhbHVlVmVjKGRlZi5hY2NlbCwgMyksXG4gICAgICByb3Q6IGluc3RWYWx1ZShkZWYucm90KSxcbiAgICAgIHJvdF92ZWw6IGluc3RWYWx1ZShkZWYucm90X3ZlbCksXG4gICAgICBsaWZlc3BhbjogaW5zdFZhbHVlKGRlZi5saWZlc3BhbiksXG4gICAgICBraWxsX3RpbWVfYWNjZWw6IGluc3RWYWx1ZShkZWYua2lsbF90aW1lX2FjY2VsKSxcbiAgICAgIGFnZTogMCxcbiAgICB9O1xuICAgIGlmICghdGhpcy50aWNrUGFydGljbGUocGFydCwgaW5pdF9kdCkpIHtcbiAgICAgIHBhcnRfc2V0LnBhcnRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9XG5cbiAgdGlja0VtaXR0ZXIoZHQsIGVtaXR0ZXIpIHtcbiAgICBsZXQgZGVmID0gZW1pdHRlci5kZWY7XG4gICAgLy8gY2hlY2sgZm9yIGluaXRpYWwgZW1pc3Npb25cbiAgICBpZiAoIWVtaXR0ZXIuc3RhcnRlZCAmJiB0aGlzLmFnZSA+PSBlbWl0dGVyLmVtaXRfdGltZVswXSkge1xuICAgICAgZW1pdHRlci5zdGFydGVkID0gdHJ1ZTtcbiAgICAgIC8vIGlnbm9yZSB0aW1lIGJlZm9yZSB3ZSBzdGFydGVkIGVtaXR0aW5nXG4gICAgICBkdCA9IHRoaXMuYWdlIC0gZW1pdHRlci5lbWl0X3RpbWVbMF07XG4gICAgICBsZXQgbnVtID0gaW5zdFZhbHVlKGRlZi5lbWl0X2luaXRpYWwpO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG51bTsgKytpaSkge1xuICAgICAgICB0aGlzLmVtaXRQYXJ0aWNsZShkdCwgZW1pdHRlcik7XG4gICAgICB9XG4gICAgICBlbWl0dGVyLmNvdW50ZG93biA9IGluc3RWYWx1ZShkZWYuZW1pdF9yYXRlKTtcbiAgICB9XG4gICAgaWYgKGVtaXR0ZXIuc3RhcnRlZCAmJiAhZW1pdHRlci5zdG9wcGVkICYmICF0aGlzLmtpbGxfc29mdCkge1xuICAgICAgLy8gc2hvdWxkIHdlIHN0b3A/XG4gICAgICBsZXQgcmVtYWluaW5nX2R0ID0gZHQ7XG4gICAgICBsZXQgZW1pdF9kdCA9IGR0O1xuICAgICAgaWYgKHRoaXMuYWdlID49IGVtaXR0ZXIuZW1pdF90aW1lWzFdKSB7XG4gICAgICAgIGVtaXR0ZXIuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIC8vIERvIG5vdCBlbWl0IGR1cmluZyB0aW1lIGFmdGVyIHdlIHN0b3BwZWRcbiAgICAgICAgZW1pdF9kdCAtPSB0aGlzLmFnZSAtIGVtaXR0ZXIuZW1pdF90aW1lWzFdO1xuICAgICAgfVxuICAgICAgLy8gRW1pdCBkdCdzIHdvcnRoIG9mIHBhcnRpY2xlc1xuICAgICAgd2hpbGUgKGVtaXRfZHQgPj0gZW1pdHRlci5jb3VudGRvd24pIHtcbiAgICAgICAgZW1pdF9kdCAtPSBlbWl0dGVyLmNvdW50ZG93bjtcbiAgICAgICAgcmVtYWluaW5nX2R0IC09IGVtaXR0ZXIuY291bnRkb3duO1xuICAgICAgICBlbWl0dGVyLmNvdW50ZG93biA9IGluc3RWYWx1ZShkZWYuZW1pdF9yYXRlKTtcbiAgICAgICAgdGhpcy5lbWl0UGFydGljbGUocmVtYWluaW5nX2R0LCBlbWl0dGVyKTtcbiAgICAgIH1cbiAgICAgIGVtaXR0ZXIuY291bnRkb3duIC09IGVtaXRfZHQ7XG4gICAgfVxuICB9XG5cbiAgdGljayhkdCkge1xuICAgIGlmICh0aGlzLmtpbGxfaGFyZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIHRpY2sgZXhpc3RpbmcgcGFydGljbGVzXG4gICAgZm9yIChsZXQgaWkgPSB0aGlzLnBhcnRfc2V0cy5sZW5ndGggLSAxOyBpaSA+PSAwOyAtLWlpKSB7XG4gICAgICB0aGlzLnRpY2tQYXJ0U2V0KGR0LCB0aGlzLnBhcnRfc2V0c1tpaV0pO1xuICAgIH1cbiAgICAvLyBhZHZhbmNlIHRpbWUgYW5kIHNwYXduIG5ldyBvbmVzICh3aXRoIHBhcnRpYWwgdGlja3MpXG4gICAgdGhpcy5hZ2UgKz0gZHQ7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuZW1pdHRlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICB0aGlzLnRpY2tFbWl0dGVyKGR0LCB0aGlzLmVtaXR0ZXJzW2lpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYWdlID49IHRoaXMuc3lzdGVtX2xpZmVzcGFuOyAvLyBraWxsIGlmIHBhc3QgbGlmZXNwYW5cbiAgfVxuXG4gIHNoaWZ0KGRlbHRhKSB7XG4gICAgaWYgKHRoaXMuZGVmLm5vX3NoaWZ0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucG9zWzBdICs9IGRlbHRhWzBdO1xuICAgIHRoaXMucG9zWzFdICs9IGRlbHRhWzFdO1xuICAgIHRoaXMucG9zWzJdICs9IGRlbHRhWzJdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLnBhcnRfc2V0cy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBwYXJ0cyA9IHRoaXMucGFydF9zZXRzW2lpXS5wYXJ0cztcbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBwYXJ0cy5sZW5ndGg7ICsramopIHtcbiAgICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tqal07XG4gICAgICAgIHBhcnQucG9zWzBdICs9IGRlbHRhWzBdO1xuICAgICAgICBwYXJ0LnBvc1sxXSArPSBkZWx0YVsxXTtcbiAgICAgICAgcGFydC5wb3NbMl0gKz0gZGVsdGFbMl07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFBhcnRpY2xlTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3lzdGVtcyA9IFtdO1xuICB9XG5cbiAgY3JlYXRlU3lzdGVtKGRlZiwgcG9zKSB7XG4gICAgbGV0IHN5c3RlbSA9IG5ldyBQYXJ0aWNsZVN5c3RlbSh0aGlzLCBkZWYsIHBvcyk7XG4gICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzdGVtKTtcbiAgICByZXR1cm4gc3lzdGVtO1xuICB9XG5cbiAgdGljayhkdCkge1xuICAgIGZvciAobGV0IGlpID0gdGhpcy5zeXN0ZW1zLmxlbmd0aCAtIDE7IGlpID49IDA7IC0taWkpIHtcbiAgICAgIGlmICh0aGlzLnN5c3RlbXNbaWldLnRpY2soZHQpKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtc1tpaV0gPSB0aGlzLnN5c3RlbXNbdGhpcy5zeXN0ZW1zLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnN5c3RlbXMucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAga2lsbEFsbCgpIHtcbiAgICB0aGlzLnN5c3RlbXMgPSBbXTtcbiAgfVxuXG4gIHNoaWZ0KGRlbHRhKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuc3lzdGVtcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHRoaXMuc3lzdGVtc1tpaV0uc2hpZnQoZGVsdGEpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICByZXR1cm4gbmV3IFBhcnRpY2xlTWFuYWdlcigpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCB7IGNtZF9wYXJzZSB9ID0gcmVxdWlyZSgnLi9jbWRzLmpzJyk7XG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgZ2xvdl9mb250ID0gcmVxdWlyZSgnLi9mb250LmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHsgbWF4IH0gPSBNYXRoO1xuY29uc3Qgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzLmpzJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcbmNvbnN0IHsgdmVjNCwgdjNjb3B5IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmxldCBtZXRyaWNzID0gW107XG5cbmNvbnN0IE1FVFJJQ19QQUQgPSAyO1xuXG5sZXQgYmdfZGVmYXVsdCA9IHZlYzQoMCwwLDAsMC41KTtcbmxldCBiZ19tb3VzZV9vdmVyID0gdmVjNCgwLDAsMCwwLjc1KTtcbmxldCBiZ19mYWRlID0gdmVjNCgpO1xuXG4vLyByZWZlcmVuY2VkIGluIGVuZ2luZS5qc1xuc2V0dGluZ3MucmVnaXN0ZXIoe1xuICBzaG93X21ldHJpY3M6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG4gIHNob3dfZnBzOiB7XG4gICAgbGFiZWw6ICdTaG93IEZQUycsXG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDNdLFxuICB9LFxuICBmcHNfZ3JhcGg6IHtcbiAgICBsYWJlbDogJ0ZQUyBHcmFwaCcsXG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxuICBmcHNfd2luZG93OiB7XG4gICAgbGFiZWw6ICdGUFMgVGltZSBXaW5kb3cgKHNlY29uZHMpJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0ZMT0FULFxuICAgIHJhbmdlOiBbMC4wMDEsIDEyMF0sXG4gIH0sXG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnZnBzJyxcbiAgaGVscDogJ1RvZ2dsZXMgRlBTIGRpc3BsYXknLFxuICBmdW5jOiBmdW5jdGlvbiAoc3RyLCByZXNwX2Z1bmMpIHtcbiAgICBpZiAoc2V0dGluZ3Muc2hvd19mcHMgJiYgc2V0dGluZ3Muc2hvd19tZXRyaWNzIHx8IHN0ciA9PT0gJzAnKSB7XG4gICAgICBzZXR0aW5ncy5zZXQoJ3Nob3dfZnBzJywgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHRpbmdzLnNldCgnc2hvd19mcHMnLCAxKTtcbiAgICAgIHNldHRpbmdzLnNldCgnc2hvd19tZXRyaWNzJywgMSk7XG4gICAgfVxuICAgIHJlc3BfZnVuYygpO1xuICB9LFxufSk7XG5cbmxldCBmcHNfc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGUoe1xuICBvdXRsaW5lX3dpZHRoOiAyLCBvdXRsaW5lX2NvbG9yOiAweDAwMDAwMDgwLFxuICBjb2xvcjogMHhGRkZGRkZmZixcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWV0cmljKG1ldHJpYykge1xuICBpZiAobWV0cmljLnNob3dfZ3JhcGgpIHtcbiAgICBtZXRyaWMubnVtX2xpbmVzID0gbWV0cmljLmNvbG9ycy5sZW5ndGg7XG4gICAgbWV0cmljLmhpc3Rvcnlfc2l6ZSA9IG1ldHJpYy5kYXRhLmhpc3RvcnkubGVuZ3RoIC8gbWV0cmljLm51bV9saW5lcztcbiAgfVxuICBtZXRyaWMubnVtX2xhYmVscyA9IE9iamVjdC5rZXlzKG1ldHJpYy5sYWJlbHMpLmxlbmd0aDtcbiAgaWYgKG1ldHJpYy5pbnRlcmFjdGFibGUgPT09IHVuZGVmaW5lZCkge1xuICAgIG1ldHJpYy5pbnRlcmFjdGFibGUgPSBlbmdpbmUuREVCVUcgJiYgKG1ldHJpYy5udW1fbGFiZWxzID4gMSB8fCBtZXRyaWMuc2hvd19ncmFwaCk7XG4gIH1cbiAgbWV0cmljcy5wdXNoKG1ldHJpYyk7XG59XG5cbmZ1bmN0aW9uIHNob3dNZXRyaWMoeSwgbWV0cmljKSB7XG4gIGxldCBmb250ID0gZW5naW5lLmZvbnQ7XG4gIGxldCBwYWQgPSBNRVRSSUNfUEFEO1xuICBsZXQgbGluZV9oZWlnaHQgPSB1aS5mb250X2hlaWdodCAvIHNldHRpbmdzLnJlbmRlcl9zY2FsZV9hbGw7XG4gIGxldCBNRVRSSUNfVkFMVUVfV0lEVEggPSBsaW5lX2hlaWdodCAqIChtZXRyaWMud2lkdGggfHwgMi41KTtcbiAgbGV0IHggPSBjYW1lcmEyZC54MVJlYWwoKSAtIE1FVFJJQ19WQUxVRV9XSURUSCAtIHBhZDtcbiAgbGV0IHkwID0geTtcbiAgeSArPSBwYWQ7XG4gIGxldCBtYXhfbGFiZWxfdyA9IDA7XG4gIGxldCBtYXhfbGFiZWxzID0gc2V0dGluZ3NbbWV0cmljLnNob3dfc3RhdF07XG4gIGxldCBkcmV3X2FueSA9IGZhbHNlO1xuICBsZXQgYWxwaGEgPSAxO1xuICBmb3IgKGxldCBsYWJlbCBpbiBtZXRyaWMubGFiZWxzKSB7XG4gICAgbGV0IHZhbHVlID0gbWV0cmljLmxhYmVsc1tsYWJlbF0oKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGxldCBzdHlsZSA9IGZwc19zdHlsZTtcbiAgICAgIGlmICh2YWx1ZS5hbHBoYSkge1xuICAgICAgICBhbHBoYSA9IHZhbHVlLmFscGhhO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICBzdHlsZSA9IGdsb3ZfZm9udC5zdHlsZUFscGhhKGZwc19zdHlsZSwgYWxwaGEpO1xuICAgICAgfVxuICAgICAgbGV0IGxhYmVsX3cgPSBmb250LmRyYXdTaXplZEFsaWduZWQoc3R5bGUsIHgsIHksIFouRlBTTUVURVIgKyAxLCBsaW5lX2hlaWdodCxcbiAgICAgICAgZ2xvdl9mb250LkFMSUdOLkhSSUdIVCwgMCwgMCwgbGFiZWwpO1xuICAgICAgbWF4X2xhYmVsX3cgPSBtYXgobWF4X2xhYmVsX3csIGxhYmVsX3cpO1xuICAgICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKHN0eWxlLCB4LCB5LCBaLkZQU01FVEVSICsgMSwgbGluZV9oZWlnaHQsXG4gICAgICAgIGdsb3ZfZm9udC5BTElHTi5IRklULCBNRVRSSUNfVkFMVUVfV0lEVEgsIDAsIHZhbHVlKTtcbiAgICAgIHkgKz0gbGluZV9oZWlnaHQ7XG4gICAgICBkcmV3X2FueSA9IHRydWU7XG4gICAgfVxuICAgIGlmICghLS1tYXhfbGFiZWxzKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgbGV0IHcgPSBNRVRSSUNfVkFMVUVfV0lEVEggKyBtYXhfbGFiZWxfdyArIE1FVFJJQ19QQUQ7XG4gIHggLT0gbWF4X2xhYmVsX3cgKyBNRVRSSUNfUEFEO1xuXG4gIGlmICghZHJld19hbnkpIHtcbiAgICByZXR1cm4geSAtIHBhZDtcbiAgfVxuXG4gIHkgKz0gcGFkO1xuICBsZXQgYmcgPSBiZ19kZWZhdWx0O1xuICBsZXQgcG9zX3BhcmFtID0ge1xuICAgIHg6IHggLSBwYWQsXG4gICAgeTogeTAsXG4gICAgdzogdyArIHBhZCAqIDIsXG4gICAgaDogeSAtIHkwLFxuICB9O1xuICBpZiAobWV0cmljLmludGVyYWN0YWJsZSkge1xuICAgIGlmIChpbnB1dC5tb3VzZVVwRWRnZShwb3NfcGFyYW0pKSB7XG4gICAgICBpZiAobWV0cmljLm51bV9sYWJlbHMgPiAxICYmIHNldHRpbmdzW21ldHJpYy5zaG93X3N0YXRdIDw9IDEpIHtcbiAgICAgICAgc2V0dGluZ3Muc2V0KG1ldHJpYy5zaG93X3N0YXQsIG1ldHJpYy5udW1fbGFiZWxzKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0cmljLnNob3dfZ3JhcGggJiYgIXNldHRpbmdzW21ldHJpYy5zaG93X2dyYXBoXSkge1xuICAgICAgICBzZXR0aW5ncy5zZXQobWV0cmljLnNob3dfZ3JhcGgsIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1ldHJpYy5zaG93X2dyYXBoKSB7XG4gICAgICAgICAgc2V0dGluZ3Muc2V0KG1ldHJpYy5zaG93X2dyYXBoLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzZXR0aW5ncy5zZXQobWV0cmljLnNob3dfc3RhdCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnB1dC5tb3VzZU92ZXIocG9zX3BhcmFtKSkge1xuICAgICAgYmcgPSBiZ19tb3VzZV9vdmVyO1xuICAgIH1cbiAgfVxuICBpZiAoYWxwaGEgIT09IDEpIHtcbiAgICBiZ19mYWRlWzNdID0gYmdbM10gKiBhbHBoYTtcbiAgICBiZyA9IHYzY29weShiZ19mYWRlLCBiZyk7XG4gIH1cbiAgdWkuZHJhd1JlY3QocG9zX3BhcmFtLngsIHBvc19wYXJhbS55LCBwb3NfcGFyYW0ueCArIHBvc19wYXJhbS53LCB5LCBaLkZQU01FVEVSLCBiZyk7XG4gIHJldHVybiB5O1xufVxuXG5mdW5jdGlvbiBzaG93TWV0cmljR3JhcGgoeSwgbWV0cmljKSB7XG4gIGNvbnN0IHNtYWxsID0gZW5naW5lLmdhbWVfaGVpZ2h0IDwgMzAwO1xuICBjb25zdCBMSU5FX1dJRFRIID0gc21hbGwgPyAxIDogMztcbiAgY29uc3QgTElORV9QQUQgPSBzbWFsbCA/IDAgOiAxO1xuICBjb25zdCBMSU5FX0hFSUdIVCA9IHNtYWxsID8gNjQgOiAxMjg7XG4gIGNvbnN0IE5VTV9MSU5FUyA9IG1ldHJpYy5oaXN0b3J5X3NpemUgLSAxO1xuICBsZXQgdyA9IChMSU5FX1dJRFRIICsgTElORV9QQUQpICogTlVNX0xJTkVTO1xuICBsZXQgeCA9IGNhbWVyYTJkLngxUmVhbCgpIC0gdztcbiAgbGV0IGggPSBMSU5FX0hFSUdIVCArIExJTkVfUEFEICogMjtcbiAgbGV0IHogPSBaLkZQU01FVEVSO1xuICB1aS5kcmF3UmVjdCh4LCB5IC0gaCwgeCArIHcsIHksIHorKywgYmdfZGVmYXVsdCk7XG4gIHggKz0gTElORV9QQUQ7XG4gIHkgLT0gTElORV9QQUQ7XG4gIGxldCBoaXN0b3J5X2luZGV4ID0gbWV0cmljLmRhdGEuaW5kZXg7XG4gIGxldCBsaW5lX3NjYWxlID0gTElORV9IRUlHSFQgLyBtZXRyaWMubGluZV9zY2FsZV90b3A7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBOVU1fTElORVM7IGlpKyspIHtcbiAgICBsZXQgbGluZV9pbmRleCA9ICgoaWkgKyBoaXN0b3J5X2luZGV4ICsgMSkgJSBtZXRyaWMuaGlzdG9yeV9zaXplKSAqIG1ldHJpYy5udW1fbGluZXM7XG4gICAgbGV0IGRhdGEgPSBtZXRyaWMuZGF0YS5oaXN0b3J5O1xuICAgIGxldCBiYXJfbWF4ID0gMDtcbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbWV0cmljLm51bV9saW5lczsgamorKykge1xuICAgICAgbGV0IGxpbmVfamogPSBkYXRhW2xpbmVfaW5kZXggKyBqal07XG4gICAgICBsZXQgYmFyX21pbjtcbiAgICAgIGlmIChtZXRyaWMuYmFyc19zdGFjaykge1xuICAgICAgICBiYXJfbWluID0gYmFyX21heDtcbiAgICAgICAgYmFyX21heCArPSBsaW5lX2pqO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYmFycyBvdmVybGFwLCBmaWd1cmUgb3V0IGhvdyBiaWcgdGhpcyBiYXIgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIG5leHQgc21hbGxlc3RcbiAgICAgICAgbGV0IGxlc3NlciA9IDA7XG4gICAgICAgIGZvciAobGV0IGtrID0gMDsga2sgPCBtZXRyaWMubnVtX2xpbmVzOyBraysrKSB7XG4gICAgICAgICAgaWYgKGtrID09PSBqaikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBsaW5lX2trID0gZGF0YVtsaW5lX2luZGV4ICsga2tdO1xuICAgICAgICAgIGlmICgobGluZV9rayA8IGxpbmVfamogfHwgbGluZV9rayA9PT0gbGluZV9qaiAmJiBrayA8IGpqKSAmJiBsaW5lX2trID4gbGVzc2VyKSB7XG4gICAgICAgICAgICBsZXNzZXIgPSBsaW5lX2trO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBiYXJfbWluID0gbGVzc2VyO1xuICAgICAgICBiYXJfbWF4ID0gbGluZV9qajtcbiAgICAgIH1cbiAgICAgIGxldCBjb2xvciA9IG1ldHJpYy5jb2xvcnNbampdO1xuICAgICAgdWkuZHJhd1JlY3QoeCwgeSAtIGJhcl9tYXggKiBsaW5lX3NjYWxlLCB4ICsgTElORV9XSURUSCwgeSAtIGJhcl9taW4gKiBsaW5lX3NjYWxlLCB6LCBjb2xvcik7XG4gICAgfVxuICAgIHggKz0gTElORV9XSURUSCArIExJTkVfUEFEO1xuICB9XG4gIHogKz0gTlVNX0xJTkVTO1xuICB5IC09IExJTkVfSEVJR0hUICsgTElORV9QQUQ7XG4gIHJldHVybiB5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhdygpIHtcbiAgY2FtZXJhMmQuc2V0QXNwZWN0Rml4ZWQoZW5naW5lLmdhbWVfd2lkdGgsIGVuZ2luZS5nYW1lX2hlaWdodCk7XG4gIGxldCB5ID0gY2FtZXJhMmQueTBSZWFsKCk7XG4gIGxldCB5X2dyYXBoID0gY2FtZXJhMmQueTFSZWFsKCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBtZXRyaWNzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBtZXRyaWMgPSBtZXRyaWNzW2lpXTtcbiAgICBpZiAoc2V0dGluZ3NbbWV0cmljLnNob3dfc3RhdF0pIHtcbiAgICAgIHkgPSBzaG93TWV0cmljKHksIG1ldHJpYyk7XG4gICAgICB5ICs9IE1FVFJJQ19QQUQ7XG4gICAgfVxuICAgIGlmIChzZXR0aW5nc1ttZXRyaWMuc2hvd19ncmFwaF0pIHtcbiAgICAgIHlfZ3JhcGggPSBzaG93TWV0cmljR3JhcGgoeV9ncmFwaCwgbWV0cmljKTtcbiAgICAgIHlfZ3JhcGggLT0gTUVUUklDX1BBRDtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmxldCB1c2VyX3dhbnRfbG9ja2VkID0gZmFsc2U7XG5sZXQgZWxlbTtcbmxldCBvbl9wdHJfbG9jaztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9ja2VkKCkge1xuICByZXR1cm4gdXNlcl93YW50X2xvY2tlZDsgLy8gRWl0aGVyIGl0J3MgbG9ja2VkLCBvciB0aGVyZSdzIGFuIGFzeW5jIGF0dGVtcHQgdG8gbG9jayBpdCBvdXRzdGFuZGluZ1xufVxuXG5mdW5jdGlvbiBwb2ludGVyTG9nKG1zZykge1xuICBjb25zb2xlLmxvZyhgUG9pbnRlckxvY2s6ICR7bXNnfWApOyAvLyBUT0RPOiBEaXNhYmxlIHRoaXMgYWZ0ZXIgdGhpbmdzIHNldHRsZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhpdCgpIHtcbiAgcG9pbnRlckxvZygnTG9jayBleGl0IHJlcXVlc3RlZCcpO1xuICB1c2VyX3dhbnRfbG9ja2VkID0gZmFsc2U7XG4gIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW50ZXIod2hlbikge1xuICB1c2VyX3dhbnRfbG9ja2VkID0gdHJ1ZTtcbiAgb25fcHRyX2xvY2soKTtcbiAgcG9pbnRlckxvZyhgVHJ5aW5nIHBvaW50ZXIgbG9jayBpbiByZXNwb25zZSB0byAke3doZW59YCk7XG4gIGVsZW0ucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG59XG5cbmZ1bmN0aW9uIG9uUG9pbnRlckxvY2tDaGFuZ2UoKSB7XG4gIGlmIChkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgfHwgZG9jdW1lbnQubW96UG9pbnRlckxvY2tFbGVtZW50IHx8IGRvY3VtZW50LndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudCkge1xuICAgIHBvaW50ZXJMb2coJ0xvY2sgc3VjY2Vzc2Z1bCcpO1xuICAgIGlmICghdXNlcl93YW50X2xvY2tlZCkge1xuICAgICAgcG9pbnRlckxvZygnVXNlciBjYW5jZWxlZCBsb2NrJyk7XG4gICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHVzZXJfd2FudF9sb2NrZWQpIHtcbiAgICAgIHBvaW50ZXJMb2coJ0xvY2sgbG9zdCcpO1xuICAgICAgdXNlcl93YW50X2xvY2tlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvblBvaW50ZXJMb2NrRXJyb3IoZSkge1xuICBwb2ludGVyTG9nKCdFcnJvcicpO1xuICB1c2VyX3dhbnRfbG9ja2VkID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKF9lbGVtLCBfb25fcHRyX2xvY2spIHtcbiAgZWxlbSA9IF9lbGVtO1xuICBvbl9wdHJfbG9jayA9IF9vbl9wdHJfbG9jaztcblxuICBlbGVtLnJlcXVlc3RQb2ludGVyTG9jayA9IGVsZW0ucmVxdWVzdFBvaW50ZXJMb2NrIHx8IGVsZW0ubW96UmVxdWVzdFBvaW50ZXJMb2NrIHx8XG4gICAgZWxlbS53ZWJraXRSZXF1ZXN0UG9pbnRlckxvY2sgfHwgZnVuY3Rpb24gKCkgeyAvKiBub3AgKi8gfTtcbiAgZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrID0gZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrIHx8IGRvY3VtZW50Lm1vekV4aXRQb2ludGVyTG9jayB8fFxuICAgIGRvY3VtZW50LndlYmtpdEV4aXRQb2ludGVyTG9jayB8fCBmdW5jdGlvbiAoKSB7IC8qIG5vcCAqLyB9O1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsb2NrY2hhbmdlJywgb25Qb2ludGVyTG9ja0NoYW5nZSwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pwb2ludGVybG9ja2NoYW5nZScsIG9uUG9pbnRlckxvY2tDaGFuZ2UsIGZhbHNlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UnLCBvblBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxvY2tlcnJvcicsIG9uUG9pbnRlckxvY2tFcnJvciwgZmFsc2UpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pwb2ludGVybG9ja2Vycm9yJywgb25Qb2ludGVyTG9ja0Vycm9yLCBmYWxzZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdHBvaW50ZXJsb2NrZXJyb3InLCBvblBvaW50ZXJMb2NrRXJyb3IsIGZhbHNlKTtcbn1cbiIsIi8qIGVzbGludCBuby1leHRlbmQtbmF0aXZlOm9mZixuby1pbnZhbGlkLXRoaXM6b2ZmICovXG5cbi8vIFR5cGVkQXJyYXkuc2xpY2UsIGZpbGwsIGpvaW4sIHNvcnQsIGV0YyAtIG5vdCBzdXBwb3J0ZWQgb24gSUUsIHNvbWUgb2xkZXIgU2FmYXJpLCBvbGRlciBBbmRyb2lkLCBDaHJvbWUgNDRcbmxldCB0eXBlZGFycmF5cyA9IFtJbnQ4QXJyYXksIFVpbnQ4QXJyYXksIEludDE2QXJyYXksIFVpbnQxNkFycmF5LCBJbnQzMkFycmF5LCBVaW50MzJBcnJheSwgRmxvYXQzMkFycmF5XTtcblxuaWYgKCFVaW50OEFycmF5LnByb3RvdHlwZS5zbGljZSkge1xuICB0eXBlZGFycmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChBcnJheVR5cGUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlUeXBlLnByb3RvdHlwZSwgJ3NsaWNlJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIChiZWdpbiwgZW5kKSB7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgICAgZW5kID0gdGhpcy5sZW5ndGggLSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgYmVnaW4gPSBiZWdpbiB8fCAwO1xuICAgICAgICBpZiAoYmVnaW4gPj0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICBiZWdpbiA9IHRoaXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kIDwgYmVnaW4pIHtcbiAgICAgICAgICBlbmQgPSBiZWdpbjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuID0gZW5kIC0gYmVnaW47XG4gICAgICAgIGxldCByZXQgPSBuZXcgQXJyYXlUeXBlKGxlbik7XG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW47ICsraWkpIHtcbiAgICAgICAgICByZXRbaWldID0gdGhpc1tiZWdpbiArIGlpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY21wRGVmYXVsdChhLCBiKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cbmxldCByZXBsYWNlbWVudHMgPSB7XG4gIGpvaW46IGZ1bmN0aW9uIChkZWxpbSkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKHRoaXMsIGRlbGltKTtcbiAgfSxcbiAgZmlsbDogZnVuY3Rpb24gKHZhbHVlLCBiZWdpbiwgZW5kKSB7XG4gICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSBiZWdpbiB8fCAwOyBpaSA8IGVuZDsgKytpaSkge1xuICAgICAgdGhpc1tpaV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNvcnQ6IGZ1bmN0aW9uIChjbXApIHtcbiAgICBBcnJheS5wcm90b3R5cGUuc29ydC5jYWxsKHRoaXMsIGNtcCB8fCBjbXBEZWZhdWx0KTtcbiAgfSxcbn07XG5cbmZvciAobGV0IGtleSBpbiByZXBsYWNlbWVudHMpIHtcbiAgaWYgKCFVaW50OEFycmF5LnByb3RvdHlwZVtrZXldKSB7XG4gICAgdHlwZWRhcnJheXMuZm9yRWFjaChmdW5jdGlvbiAoQXJyYXlUeXBlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlUeXBlLnByb3RvdHlwZSwga2V5LCB7XG4gICAgICAgIHZhbHVlOiByZXBsYWNlbWVudHNba2V5XSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmlmICghU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ2VuZHNXaXRoJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAodGVzdCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoLXRlc3QubGVuZ3RoKSA9PT0gdGVzdDtcbiAgICB9LFxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICdzdGFydHNXaXRoJywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAodGVzdCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgdGVzdC5sZW5ndGgpID09PSB0ZXN0O1xuICAgIH0sXG4gIH0pO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8gVmVjdG9yIG1hdGggZnVuY3Rpb25zIHJlcXVpcmVkIGJ5IHRoZSByZXN0IG9mIHRoZSBlbmdpbmUgdGFrZW4gcGllY2VtZWFsIGZyb21cbi8vIGdsLW1hdHJpeCBhbmQgcmVsYXRlZCwgYXMgd2VsbCBhcyBzb21lIGdlbmVyaWMgbWF0aCB1dGlsaXRpZXNcblxuLy8gU291cmNlIG9mIHNvbWU6IGh0dHBzOi8vZ2l0aHViLmNvbS90b2ppL2dsLW1hdHJpeC9ibG9iL21hc3Rlci9zcmMvcXVhdC5qc1xuXG5jb25zdCB7IHZlYzQgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcbmNvbnN0IHsgYWNvcywgY29zLCBzaW4sIHNxcnQgfSA9IE1hdGg7XG5cbmNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMTtcblxuZXhwb3J0cy51bml0X3F1YXQgPSB2ZWM0KDAsIDAsIDAsIC0xKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHF1YXQoKSB7XG4gIHJldHVybiB2ZWM0KDAsIDAsIDAsIC0xKTtcbn1cbmV4cG9ydHMuY3JlYXRlUXVhdCA9IHF1YXQ7XG5cbi8vIHFpID09IFwicXVhdGVyaW9uIGluLXBsYWNlXCIgb3BlcmF0aW9uXG5cbi8vIE5vdCBjb21wbGV0ZWx5IHN1cmUgd2UgbmVlZCB0aGlzIHBhcnQgb2Ygbm9ybWFsaXppbmc/ICBTb21lIGxpYnJhcmllcyBoYXZlIGl0LCBvdGhlcnMgZG8gbm90XG5leHBvcnQgZnVuY3Rpb24gcWlOZWdXKHEpIHtcbiAgaWYgKHFbM10gPiAwKSB7XG4gICAgcVswXSAqPSAtMTtcbiAgICBxWzFdICo9IC0xO1xuICAgIHFbMl0gKj0gLTE7XG4gICAgcVszXSAqPSAtMTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcWlOb3JtYWxpemUocSkge1xuICBsZXQgbCA9IHNxcnQocVswXSAqIHFbMF0gKyBxWzFdICogcVsxXSArXG4gICAgICAgICAgICAgICAgICAgIHFbMl0gKiBxWzJdICsgcVszXSAqIHFbM10pO1xuICBpZiAobCAhPT0gMCkge1xuICAgIGxldCBpbCA9IDEuMCAvIGw7XG4gICAgcVswXSAqPSBpbDtcbiAgICBxWzFdICo9IGlsO1xuICAgIHFbMl0gKj0gaWw7XG4gICAgcVszXSAqPSBpbDtcbiAgfVxuICBxaU5lZ1cocSk7XG59XG5cbi8vIGF4aXMgbXVzdCBiZSBub3JtYWxpemVkXG5leHBvcnQgZnVuY3Rpb24gcUZyb21BeGlzQW5nbGUob3V0LCBheGlzLCBhbmdsZSkge1xuICBhbmdsZSAqPSAwLjU7XG4gIGxldCBzID0gc2luKGFuZ2xlKTtcbiAgb3V0WzBdID0gcyAqIGF4aXNbMF07XG4gIG91dFsxXSA9IHMgKiBheGlzWzFdO1xuICBvdXRbMl0gPSBzICogYXhpc1syXTtcbiAgb3V0WzNdID0gY29zKGFuZ2xlKTtcbiAgcWlOZWdXKG91dCk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxRnJvbVlQUihvdXQsIHlhdywgcGl0Y2gsIHJvbGwpIHtcbiAgbGV0IHNfcGl0Y2ggPSBzaW4ocGl0Y2gqMC41KTtcbiAgbGV0IGNfcGl0Y2ggPSBjb3MocGl0Y2gqMC41KTtcbiAgbGV0IHNfeWF3ID0gc2luKHlhdyowLjUpO1xuICBsZXQgY195YXcgPSBjb3MoeWF3KjAuNSk7XG4gIGxldCBzX3JvbGwgPSBzaW4ocm9sbCowLjUpO1xuICBsZXQgY19yb2xsID0gY29zKHJvbGwqMC41KTtcbiAgbGV0IGNfcGl0Y2hfY195YXcgPSBjX3BpdGNoKmNfeWF3O1xuICBsZXQgc19waXRjaF9zX3lhdyA9IHNfcGl0Y2gqc195YXc7XG4gIGxldCBzX3BpdGNoX2NfeWF3ID0gc19waXRjaCpjX3lhdztcbiAgbGV0IGNfcGl0Y2hfc195YXcgPSBjX3BpdGNoKnNfeWF3O1xuXG4gIG91dFswXSA9IHNfcGl0Y2hfY195YXcgKiBjX3JvbGwgLSBjX3BpdGNoX3NfeWF3ICogc19yb2xsO1xuICBvdXRbMV0gPSBzX3BpdGNoX3NfeWF3ICogY19yb2xsICsgY19waXRjaF9jX3lhdyAqIHNfcm9sbDtcbiAgb3V0WzJdID0gY19waXRjaF9zX3lhdyAqIGNfcm9sbCArIHNfcGl0Y2hfY195YXcgKiBzX3JvbGw7XG4gIG91dFszXSA9IGNfcGl0Y2hfY195YXcgKiBjX3JvbGwgLSBzX3BpdGNoX3NfeWF3ICogc19yb2xsO1xuXG4gIHFpTm9ybWFsaXplKG91dCk7XG4gIHJldHVybiBvdXQ7XG59XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBxVG9ZUFIoeXByLCBxKSB7XG4vLyAgIGxldCB4eCA9IHFbMF0gKiBxWzBdO1xuLy8gICBsZXQgeXkgPSBxWzFdICogcVsxXTtcbi8vICAgbGV0IHp6ID0gcVsyXSAqIHFbMl07XG4vLyAgIGxldCBhc2lucGFyYW0gPSAyICogKHFbM10gKiBxWzBdICsgcVsxXSAqIHFbMl0pO1xuLy8gICBsZXQgeTtcbi8vICAgbGV0IHA7XG4vLyAgIGxldCByO1xuLy8gICBpZiAoYWJzKGFzaW5wYXJhbSkgPiAwLjk5OTk5KSB7XG4vLyAgICAgbGV0IHNpZ24gPSAoYXNpbnBhcmFtIDwgMCkgPyAtMSA6IDE7XG4vLyAgICAgeSA9IHNpZ24gKiAyICogYXRhbjIocVsyXSwgcVswXSk7XG4vLyAgICAgcCA9IHNpZ24gKiBQSS8yO1xuLy8gICAgIHIgPSAwO1xuLy8gICAgIGlmICh5IDwgLVBJKSB7XG4vLyAgICAgICB5ICs9IDIgKiBQSTtcbi8vICAgICB9XG4vLyAgICAgaWYgKHkgPiBQSSkge1xuLy8gICAgICAgeSAtPSAyICogUEk7XG4vLyAgICAgfVxuLy8gICB9IGVsc2Uge1xuLy8gICAgIHkgPSBhdGFuMihcbi8vICAgICAgIDIgKiAocVszXSAqIHFbMl0gLSBxWzBdICogcVsxXSksXG4vLyAgICAgICAxIC0gMiAqICh4eCArIHp6KVxuLy8gICAgICk7XG4vLyAgICAgcCA9IGFzaW4oYXNpbnBhcmFtKTtcbi8vICAgICByID0gYXRhbjIoXG4vLyAgICAgICAyICogKHFbM10gKiBxWzFdIC0gcVswXSAqIHFbMl0pLFxuLy8gICAgICAgMSAtIDIgKiAoeHggKyB5eSlcbi8vICAgICApO1xuLy8gICB9XG4vLyAgIHYzc2V0KHlwciwgeSwgcCwgcik7XG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBxUm90YXRlWChvdXQsIGEsIHJhZCkge1xuICByYWQgKj0gMC41O1xuXG4gIGxldCBheCA9IGFbMF07XG4gIGxldCBheSA9IGFbMV07XG4gIGxldCBheiA9IGFbMl07XG4gIGxldCBhdyA9IGFbM107XG4gIGxldCBieCA9IHNpbihyYWQpO1xuICBsZXQgYncgPSBjb3MocmFkKTtcblxuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXcgKiBieDtcbiAgb3V0WzFdID0gYXkgKiBidyArIGF6ICogYng7XG4gIG91dFsyXSA9IGF6ICogYncgLSBheSAqIGJ4O1xuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXggKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHFSb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHJhZCAqPSAwLjU7XG5cbiAgbGV0IGF4ID0gYVswXTtcbiAgbGV0IGF5ID0gYVsxXTtcbiAgbGV0IGF6ID0gYVsyXTtcbiAgbGV0IGF3ID0gYVszXTtcbiAgbGV0IGJ5ID0gc2luKHJhZCk7XG4gIGxldCBidyA9IGNvcyhyYWQpO1xuXG4gIG91dFswXSA9IGF4ICogYncgLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieTtcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XG4gIG91dFszXSA9IGF3ICogYncgLSBheSAqIGJ5O1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcVJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgcmFkICo9IDAuNTtcblxuICBsZXQgYXggPSBhWzBdO1xuICBsZXQgYXkgPSBhWzFdO1xuICBsZXQgYXogPSBhWzJdO1xuICBsZXQgYXcgPSBhWzNdO1xuICBsZXQgYnogPSBzaW4ocmFkKTtcbiAgbGV0IGJ3ID0gY29zKHJhZCk7XG5cbiAgb3V0WzBdID0gYXggKiBidyArIGF5ICogYno7XG4gIG91dFsxXSA9IGF5ICogYncgLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHFTbGVycChvdXQsIHQsIGEsIGIpIHtcbiAgLy8gYmVuY2htYXJrczpcbiAgLy8gICAgaHR0cDovL2pzcGVyZi5jb20vcXVhdGVybmlvbi1zbGVycC1pbXBsZW1lbnRhdGlvbnNcbiAgbGV0IGF4ID0gYVswXTtcbiAgbGV0IGF5ID0gYVsxXTtcbiAgbGV0IGF6ID0gYVsyXTtcbiAgbGV0IGF3ID0gYVszXTtcbiAgbGV0IGJ4ID0gYlswXTtcbiAgbGV0IGJ5ID0gYlsxXTtcbiAgbGV0IGJ6ID0gYlsyXTtcbiAgbGV0IGJ3ID0gYlszXTtcblxuICBsZXQgc2NhbGUwO1xuICBsZXQgc2NhbGUxO1xuXG4gIC8vIGNhbGMgY29zaW5lXG4gIGxldCBjb3NvbSA9IGF4ICogYnggKyBheSAqIGJ5ICsgYXogKiBieiArIGF3ICogYnc7XG4gIC8vIGFkanVzdCBzaWducyAoaWYgbmVjZXNzYXJ5KVxuICBpZiAoY29zb20gPCAwLjApIHtcbiAgICBjb3NvbSA9IC1jb3NvbTtcbiAgICBieCA9IC1ieDtcbiAgICBieSA9IC1ieTtcbiAgICBieiA9IC1iejtcbiAgICBidyA9IC1idztcbiAgfVxuICAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzXG4gIGlmICgoMS4wIC0gY29zb20pID4gRVBTSUxPTikge1xuICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxuICAgIGxldCBvbWVnYSA9IGFjb3MoY29zb20pO1xuICAgIGxldCBzaW5vbSA9IHNpbihvbWVnYSk7XG4gICAgc2NhbGUwID0gc2luKCgxLjAgLSB0KSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgIHNjYWxlMSA9IHNpbih0ICogb21lZ2EpIC8gc2lub207XG4gIH0gZWxzZSB7XG4gICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxuICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb25cbiAgICBzY2FsZTAgPSAxLjAgLSB0O1xuICAgIHNjYWxlMSA9IHQ7XG4gIH1cbiAgLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlc1xuICBvdXRbMF0gPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4O1xuICBvdXRbMV0gPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xuICBvdXRbMl0gPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6O1xuICBvdXRbM10gPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3O1xuXG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxVHJhbnNmb3JtVmVjMyhvdXQsIGEsIHEpIHtcbiAgbGV0IHF4ID0gcVswXTtcbiAgbGV0IHF5ID0gcVsxXTtcbiAgbGV0IHF6ID0gcVsyXTtcbiAgbGV0IHF3ID0gcVszXTtcbiAgbGV0IHggPSBhWzBdO1xuICBsZXQgeSA9IGFbMV07XG4gIGxldCB6ID0gYVsyXTtcbiAgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuICBsZXQgdXZ4ID0gcXkgKiB6IC0gcXogKiB5O1xuICBsZXQgdXZ5ID0gcXogKiB4IC0gcXggKiB6O1xuICBsZXQgdXZ6ID0gcXggKiB5IC0gcXkgKiB4O1xuICAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuICBsZXQgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnk7XG4gIGxldCB1dXZ5ID0gcXogKiB1dnggLSBxeCAqIHV2ejtcbiAgbGV0IHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4O1xuICAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuICBsZXQgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7XG4gIC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyO1xuICAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcbiAgb3V0WzBdID0geCArIHV2eCArIHV1dng7XG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICBvdXRbMl0gPSB6ICsgdXZ6ICsgdXV2ejtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHFNdWx0KG91dCwgYSwgYikge1xuICBsZXQgYXggPSBhWzBdO1xuICBsZXQgYXkgPSBhWzFdO1xuICBsZXQgYXogPSBhWzJdO1xuICBsZXQgYXcgPSBhWzNdO1xuICBsZXQgYnggPSBiWzBdO1xuICBsZXQgYnkgPSBiWzFdO1xuICBsZXQgYnogPSBiWzJdO1xuICBsZXQgYncgPSBiWzNdO1xuXG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxSW52ZXJ0KG91dCwgYSkge1xuICBsZXQgYTAgPSBhWzBdO1xuICBsZXQgYTEgPSBhWzFdO1xuICBsZXQgYTIgPSBhWzJdO1xuICBsZXQgYTMgPSBhWzNdO1xuICBsZXQgZGVub20gPSBhMCAqIGEwICsgYTEgKiBhMSArIGEyICogYTIgKyBhMyAqIGEzO1xuICBsZXQgc2NhbGUgPSBkZW5vbSA/IDEuMCAvIGRlbm9tIDogMDtcblxuICBvdXRbMF0gPSAtYTAgKiBzY2FsZTtcbiAgb3V0WzFdID0gLWExICogc2NhbGU7XG4gIG91dFsyXSA9IC1hMiAqIHNjYWxlO1xuICBvdXRbM10gPSBhMyAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBxTGVycChvdXQsIHQsIHYwLCB2MSkge1xuXG4gIHFpTm9ybWFsaXplKHYwKTtcbiAgcWlOb3JtYWxpemUodjEpO1xuICBsZXQgZCA9IHYwWzBdICogdjFbMF0gKyB2MFsxXSAqIHYxWzFdICsgdjBbMl0gKiB2MVsyXSArIHYwWzNdICogdjFbM107XG4gIGxldCB2MF90ID0gKGQgPCAwID8gLTEgOiAxKSAqICgxIC0gdCk7XG5cbiAgb3V0WzBdID12MFswXSp2MF90K3YxWzBdKnQ7XG4gIG91dFsxXSA9djBbMV0qdjBfdCt2MVsxXSp0O1xuICBvdXRbMl0gPXYwWzJdKnYwX3QrdjFbMl0qdDtcbiAgb3V0WzNdID12MFszXSp2MF90K3YxWzNdKnQ7XG5cbiAgcWlOb3JtYWxpemUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbi8vIEFsZWEgUFJOR1xuLy8gQmFzZWQgb24gY29kZSBmcm9tIEpvaGFubmVzIEJhYWfDuGUgPGJhYWdvZUBiYWFnb2UuY29tPiwgMjAxMFxuLy8gRnJvbSBodHRwczovL2dpdGh1Yi5jb20vY292ZXJzbGlkZS9ub2RlLWFsZWEvYmxvYi9tYXN0ZXIvYWxlYS5qcywgTUlUIExpY2Vuc2VkXG4vLyBGcm9tIGh0dHA6Ly9iYWFnb2UuY29tL2VuL1JhbmRvbU11c2luZ3MvamF2YXNjcmlwdC9cblxuZXhwb3J0IGZ1bmN0aW9uIG1hc2hTdHJpbmcoZGF0YSkge1xuICBsZXQgbiA9IDB4ZWZjODI0OWQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIG4gKz0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgIGxldCBoID0gMC4wMjUxOTYwMzI4MjQxNjkzOCAqIG47XG4gICAgbiA9IGggPj4+IDA7XG4gICAgaCAtPSBuO1xuICAgIGggKj0gbjtcbiAgICBuID0gaCA+Pj4gMDtcbiAgICBoIC09IG47XG4gICAgbiArPSBoICogMHgxMDAwMDAwMDA7IC8vIDJeMzJcbiAgfVxuICByZXR1cm4gbiA+Pj4gMDtcbiAgLy8gcmV0dXJuIChuID4+PiAwKSAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXG59XG5cbmZ1bmN0aW9uIE1hc2goKSB7XG4gIHRoaXMubiA9IDB4YzA2YzVmYzg7IC8vIDB4ZWZjODI0OWQ7XG59XG5NYXNoLnByb3RvdHlwZS5tYXNoID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgbGV0IG4gPSB0aGlzLm4gKyBkYXRhO1xuICBsZXQgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xuICBuID0gaCA+Pj4gMDtcbiAgaCAtPSBuO1xuICBoICo9IG47XG4gIG4gPSBoID4+PiAwO1xuICBoIC09IG47XG4gIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG4gIHRoaXMubiA9IG47XG4gIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxufTtcblxuZnVuY3Rpb24gQWxlYShzZWVkKSB7XG4gIHRoaXMucmVzZWVkKHNlZWQpO1xufVxuQWxlYS5wcm90b3R5cGUucmVzZWVkID0gZnVuY3Rpb24gKHNlZWQpIHtcbiAgLy8gdGhpcy5zMC9zMS9zMiBhcmUgZmxvYXRpbmcgcG9pbnQgYmV0d2VlbiAwIGFuZCAxXG4gIC8vIHRoaXMuYyBpcyBhIDMyLWJpdCBpbnRcbiAgdGhpcy5jID0gMTtcbiAgbGV0IG1hc2ggPSBuZXcgTWFzaCgpO1xuICAvLyBIYXJkLWNvZGVkIHJlc3VsdHMgb2YgaW5pdGlhbCBtYXNoKCcgJykgZm91bmQgaW4gb3JpZ2luYWwgaW1wbGVtZW50YXRpb25cbiAgdGhpcy5zMCA9IDAuMzAxNDU4MTMyNDUzMjYyODtcbiAgdGhpcy5zMSA9IDAuMjY0MzIyMDQwNjAyNTY0ODtcbiAgdGhpcy5zMiA9IDAuNzUxNjUzNjU4MjI2MTMyNDtcblxuICB0aGlzLnMwIC09IG1hc2gubWFzaChzZWVkKTtcbiAgaWYgKHRoaXMuczAgPCAwKSB7XG4gICAgdGhpcy5zMCArPSAxO1xuICB9XG4gIHRoaXMuczEgLT0gbWFzaC5tYXNoKHNlZWQpO1xuICBpZiAodGhpcy5zMSA8IDApIHtcbiAgICB0aGlzLnMxICs9IDE7XG4gIH1cbiAgdGhpcy5zMiAtPSBtYXNoLm1hc2goc2VlZCk7XG4gIGlmICh0aGlzLnMyIDwgMCkge1xuICAgIHRoaXMuczIgKz0gMTtcbiAgfVxufTtcbkFsZWEucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB0ID0gMjA5MTYzOSAqIHRoaXMuczAgKyB0aGlzLmMgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxuICB0aGlzLnMwID0gdGhpcy5zMTtcbiAgdGhpcy5zMSA9IHRoaXMuczI7XG4gIHJldHVybiAodGhpcy5zMiA9IHQgLSAodGhpcy5jID0gdCB8IDApKTtcbn07XG5BbGVhLnByb3RvdHlwZS51aW50MzIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnN0ZXAoKSAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG59O1xuQWxlYS5wcm90b3R5cGUuZnJhY3Q1MyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuc3RlcCgpICtcbiAgICAodGhpcy5zdGVwKCkgKiAweDIwMDAwMCB8IDApICogMS4xMTAyMjMwMjQ2MjUxNTY1ZS0xNjsgLy8gMl4tNTNcbn07XG5BbGVhLnByb3RvdHlwZS5yYW5kb20gPSBBbGVhLnByb3RvdHlwZS5zdGVwO1xuQWxlYS5wcm90b3R5cGUucmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgcmV0dXJuICh0aGlzLnN0ZXAoKSAqIHJhbmdlKSB8IDA7XG59O1xuQWxlYS5wcm90b3R5cGUuZmxvYXRCZXR3ZWVuID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgcmV0dXJuIGEgKyAoYiAtIGEpICogdGhpcy5yYW5kb20oKTtcbn07XG5cbi8vIE5vdGU6IGltcG9ydC9leHBvcnQgcHJvYmFibHkgbmVlZHMgbW9yZSBwcmVjaXNpb24gdGhhbiBGMzIgb3IgSlNPTiBwcm92aWRlXG4vLyBBbGVhLnByb3RvdHlwZS5leHBvcnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgcmV0dXJuIFt0aGlzLnMwLCB0aGlzLnMxLCB0aGlzLnMyLCB0aGlzLmNdO1xuLy8gfTtcbi8vIEFsZWEucHJvdG90eXBlLmltcG9ydFN0YXRlID0gZnVuY3Rpb24gKGkpIHtcbi8vICAgdGhpcy5zMCA9IGlbMF07XG4vLyAgIHRoaXMuczEgPSBpWzFdO1xuLy8gICB0aGlzLnMyID0gaVsyXTtcbi8vICAgdGhpcy5jID0gaVszXTtcbi8vIH07XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kQ3JlYXRlKHNlZWQpIHtcbiAgcmV0dXJuIG5ldyBBbGVhKHNlZWQpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLy8gUmFuZFNlZWQyXG4vLyBEZXJpdmVkIGZyb20gbGliR2xvdiwgTUlUIExpY2Vuc2VkXG4vLyBTdXBlci1zaW1wbGUgUk5HLiAgMi0zeCBmYXN0ZXIgdGhhbiBBbGVhLCBidXQgcHJvYmFibHkgc29tZSBjb3JyZWxhdGlvbiBpblxuLy8gICBhbnl0aGluZyBidXQgMUQuXG4vLyBBbGxvd3MgZm9yIGZhc3QsIGRpcmVjdCBtYW5pcHVsYXRpb24gb2YgcmFuZC5zZWVkIChpZiBjb3JyZWxhdGlvbiBiZXR3ZWVuIGFkamFjZW50IHNlZWRzIGlzIGFjY2VwdGFibGUpXG5cbi8vY29uc3QgTUFYX0lOVDIgPSAweEZGRkZGRkZGO1xuXG4vLyBJbml0aWFsaXplIHdpdGggdHdvIHN0ZXBzIHBhc3QgdGhlIHNlZWQsIG90aGVyd2lzZSBjbG9zZSBzZWVkcyAoZS5nLiAwIGFuZCAxKSBwcm9kdWNlIHZlcnkgY2xvc2UgZmlyc3QgcmVzdWx0c1xuZnVuY3Rpb24gc3RlcDIoc2VlZCkge1xuICBzZWVkID0gKHNlZWQgPj4+IDApIHx8IDB4NTMyZjYzOGMyOyAvLyBhcmJpdHJhcnkgbm9uLXplcm9cbiAgc2VlZCBePSBzZWVkIDw8IDEzO1xuICBzZWVkIF49IHNlZWQgPj4+IDE3O1xuICBzZWVkIF49IHNlZWQgPDwgNTtcbiAgc2VlZCBePSBzZWVkIDw8IDEzO1xuICBzZWVkIF49IHNlZWQgPj4+IDE3O1xuICBzZWVkIF49IHNlZWQgPDwgNTtcbiAgcmV0dXJuIHNlZWQgPj4+IDA7XG59XG5cbmZ1bmN0aW9uIFJhbmRTZWVkMihzZWVkKSB7XG4gIHRoaXMuc2VlZCA9IHN0ZXAyKHNlZWQpO1xufVxuUmFuZFNlZWQyLnByb3RvdHlwZS5yZXNlZWQgPSBmdW5jdGlvbiAoc2VlZCkge1xuICB0aGlzLnNlZWQgPSBzdGVwMihzZWVkKTtcbn07XG5SYW5kU2VlZDIucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAoKSB7IC8vIGFzIGxvbmcgYXMgc2VlZCBpcyBuZXZlciA9PT0gMCwgdGhpcyBuZXZlciByZXR1cm5zIDBcbiAgbGV0IHNlZWQgPSB0aGlzLnNlZWQ7XG4gIHNlZWQgXj0gc2VlZCA8PCAxMztcbiAgc2VlZCBePSBzZWVkID4+PiAxNztcbiAgc2VlZCBePSBzZWVkIDw8IDU7XG4gIHJldHVybiAodGhpcy5zZWVkID0gKHNlZWQgPj4+IDApKSAtIDE7XG59O1xuUmFuZFNlZWQyLnByb3RvdHlwZS51aW50MzIgPSBSYW5kU2VlZDIucHJvdG90eXBlLnN0ZXA7XG4vLyByZXR1cm5zIFswLHJhbmdlLTFdXG5SYW5kU2VlZDIucHJvdG90eXBlLnJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gIC8vIHNsaWdodGx5IHNsb3dlciAoZXNwIGJlZm9yZSBvcHQpOiByZXR1cm4gKHRoaXMuc3RlcCgpICogcmFuZ2UgLyBNQVhfSU5UMikgfCAwOyAvLyBmYXN0ZXIgdGhhbiB0aGlzLnN0ZXAoKSAlIHJhbmdlXG4gIC8vIHNsb3dlcjogcmV0dXJuIHRoaXMuc3RlcCgpICUgcmFuZ2U7XG4gIHJldHVybiAodGhpcy5zdGVwKCkgKiByYW5nZSAqIDIuMzI4MzA2NDM3NmUtMTApIHwgMDsgLy8gMS9NQVhfSU5UMiAtIGxhcmdlc3QgZmxvYXQgc3VjaCB0aGF0IDB4RkZGRkZGRkUqZiA8IDEuMFxufTtcbi8vIHJldHVybnMgWzAsMSlcblJhbmRTZWVkMi5wcm90b3R5cGUucmFuZG9tID0gZnVuY3Rpb24gKCkge1xuICAvLyBzbG93ZXI6IHJldHVybiB0aGlzLnN0ZXAoKSAvIE1BWF9JTlQyXG4gIHJldHVybiB0aGlzLnN0ZXAoKSAqIDIuMzI4MzA2NDM3NmUtMTA7IC8vIDEvTUFYX0lOVDIgLSBsYXJnZXN0IGZsb2F0IHN1Y2ggdGhhdCAweEZGRkZGRkZFKmYgPCAxLjBcbn07XG5SYW5kU2VlZDIucHJvdG90eXBlLmZsb2F0QmV0d2VlbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhICsgKGIgLSBhKSAqIHRoaXMucmFuZG9tKCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZEZhc3RDcmVhdGUoc2VlZCkge1xuICByZXR1cm4gbmV3IFJhbmRTZWVkMihzZWVkKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDIwIEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbi8vIFRoaXMgaXMgcG9ydGVkIHByZXR0eSBkaXJlY3RseSBmcm9tIGxpYkdMT1YsIGNvdWxkIHJlYWxseSB1c2UgYSBmcmVzaFxuLy8gICBpbXBsZW1lbnRhdGlvbiB0aGF0IGlzIG1vcmUgZm9jdXMgYXdhcmUgYW5kIGdhbWVwYWQgZnJpZW5kbHksIGFuZCBzaG91bGRcbi8vICAgdXNlIHVpLmJ1dHRvblNoYXJlZCBsb2dpYy5cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHsgS0VZUywgUEFEIH0gPSBpbnB1dDtcbmNvbnN0IHsgbWF4LCBtaW4sIHJvdW5kIH0gPSBNYXRoO1xuY29uc3QgeyBjbGlwUHVzaCwgY2xpcFBvcCB9ID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcbmNvbnN0IHsgY2xhbXAgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHZlYzIsIHZlYzQgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuY29uc3QgTUFYX09WRVJTQ1JPTEwgPSA1MDtcbmNvbnN0IE9WRVJTQ1JPTExfREVMQVlfV0hFRUwgPSAxODA7XG5cbmZ1bmN0aW9uIGRhcmtlbihjb2xvciwgZmFjdG9yKSB7XG4gIHJldHVybiB2ZWM0KGNvbG9yWzBdICogZmFjdG9yLCBjb2xvclsxXSAqIGZhY3RvciwgY29sb3JbMl0gKiBmYWN0b3IsIGNvbG9yWzNdKTtcbn1cblxubGV0IGRlZmF1bHRfcGl4ZWxfc2NhbGUgPSAxO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFBpeGVsU2NhbGUoc2NhbGUpIHtcbiAgZGVmYXVsdF9waXhlbF9zY2FsZSA9IHNjYWxlO1xufVxuXG5mdW5jdGlvbiBTY3JvbGxBcmVhKHBhcmFtcykge1xuICAvLyBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy55ID0gMDtcbiAgdGhpcy56ID0gWi5VSTsgLy8gYWN0dWFsbHkgaW4gRE9NLCBzbyBhYm92ZSBldmVyeXRoaW5nIVxuICB0aGlzLncgPSAxMDtcbiAgdGhpcy5oID0gMTA7IC8vIGhlaWdodCBvZiB2aXNpYmxlIGFyZWEsIG5vdCBzY3JvbGxlZCBhcmVhXG4gIHRoaXMucmF0ZV9zY3JvbGxfY2xpY2sgPSB1aS5mb250X2hlaWdodDtcbiAgdGhpcy5waXhlbF9zY2FsZSA9IGRlZmF1bHRfcGl4ZWxfc2NhbGU7XG4gIHRoaXMudG9wX3BhZCA9IHRydWU7IC8vIHNldCB0byBmYWxzZSBpdCB0aGUgdG9wL2JvdHRvbSBcImJ1dHRvbnNcIiBkb24ndCBsb29rIGxpa2UgYnV0dG9uc1xuICB0aGlzLmNvbG9yID0gdmVjNCgxLDEsMSwxKTtcbiAgdGhpcy5iYWNrZ3JvdW5kX2NvbG9yID0gdmVjNCgwLjgsIDAuOCwgMC44LCAxKTsgLy8gY2FuIGJlIG51bGxcbiAgdGhpcy5hdXRvX3Njcm9sbCA9IGZhbHNlOyAvLyBJZiB0cnVlLCB3aWxsIHNjcm9sbCB0byB0aGUgYm90dG9tIGlmIHRoZSBoZWlnaHQgY2hhbmdlcyBhbmQgd2UncmUgbm90IGFjdGl2ZWx5IHNjcm9sbGluZ1xuICB0aGlzLmZvY3VzYWJsZV9lbGVtID0gbnVsbDsgLy8gQW5vdGhlciBlbGVtZW50IHRvIGNhbGwgLmZvY3VzKCkgb24gaWYgd2UgdGhpbmsgd2UgYXJlIGZvY3VzZWRcbiAgdGhpcy5hcHBseVBhcmFtcyhwYXJhbXMpO1xuXG4gIC8vIENhbGN1bGF0ZWQgKG9ubHkgb25jZSkgaWYgbm90IHNldFxuICB0aGlzLnJhdGVfc2Nyb2xsX3doZWVsID0gdGhpcy5yYXRlX3Njcm9sbF93aGVlbCB8fCB0aGlzLnJhdGVfc2Nyb2xsX2NsaWNrICogMjtcbiAgdGhpcy5yb2xsb3Zlcl9jb2xvciA9IHRoaXMucm9sbG92ZXJfY29sb3IgfHwgZGFya2VuKHRoaXMuY29sb3IsIDAuNzUpO1xuICB0aGlzLnJvbGxvdmVyX2NvbG9yX2xpZ2h0ID0gdGhpcy5yb2xsb3Zlcl9jb2xvcl9saWdodCB8fCBkYXJrZW4odGhpcy5jb2xvciwgMC45NSk7XG4gIGFzc2VydCh0aGlzLnJvbGxvdmVyX2NvbG9yX2xpZ2h0ICE9PSB0aGlzLmNvbG9yKTsgLy8gZXF1YWxpdHkgaXMgdXNlZCB0byBkZXRlY3QgaWYgdGhpcyBnZXRzIHVzZWQgYW5kIHByZXZlbnQgcm9sbG92ZXJcbiAgdGhpcy5kaXNhYmxlZF9jb2xvciA9IHRoaXMuZGlzYWJsZWRfY29sb3IgfHwgdGhpcy5yb2xsb3Zlcl9jb2xvcjtcbiAgdGhpcy5iYWNrZ3JvdW5kX2NvbG9yX2ZvY3VzZWQgPSB0aGlzLmJhY2tncm91bmRfY29sb3JfZm9jdXNlZCB8fCAoXG4gICAgdGhpcy5iYWNrZ3JvdW5kX2NvbG9yID8gdmVjNCgwLjQsIDAuNCwgMC40LCAxKSA6IG51bGxcbiAgKTtcblxuICAvLyBydW4tdGltZSBzdGF0ZVxuICB0aGlzLnNjcm9sbF9wb3MgPSAwO1xuICB0aGlzLm92ZXJzY3JvbGwgPSAwOyAvLyBvdmVyc2Nyb2xsIGJleW9uZCBiZWdpbm5pbmcgb3IgZW5kXG4gIHRoaXMub3ZlcnNjcm9sbF9kZWxheSA9IDA7XG4gIHRoaXMuZ3JhYmJlZF9wb3MgPSAwO1xuICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgdGhpcy5kcmFnX3N0YXJ0ID0gbnVsbDtcbiAgdGhpcy5iZWdhbiA9IGZhbHNlO1xuICB0aGlzLmxhc3RfaW50ZXJuYWxfaCA9IDA7XG4gIHRoaXMubGFzdF9mcmFtZSA9IDA7XG4gIHRoaXMuZm9jdXNlZCA9IGZhbHNlO1xuICB0aGlzLndhc19kaXNhYmxlZCA9IGZhbHNlO1xuICB0aGlzLnNjcm9sbGJhcl92aXNpYmxlID0gZmFsc2U7XG59XG5cblNjcm9sbEFyZWEucHJvdG90eXBlLmFwcGx5UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBmIGluIHBhcmFtcykge1xuICAgIHRoaXNbZl0gPSBwYXJhbXNbZl07XG4gIH1cbn07XG5cblNjcm9sbEFyZWEucHJvdG90eXBlLmJhcldpZHRoID0gZnVuY3Rpb24gKCkge1xuICBsZXQgeyBwaXhlbF9zY2FsZSB9ID0gdGhpcztcbiAgbGV0IHsgc2Nyb2xsYmFyX3RvcCB9ID0gdWkuc3ByaXRlcztcbiAgcmV0dXJuIHNjcm9sbGJhcl90b3AudWlkYXRhLnRvdGFsX3cgKiBwaXhlbF9zY2FsZTtcbn07XG5cblNjcm9sbEFyZWEucHJvdG90eXBlLmlzRm9jdXNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZm9jdXNlZDtcbn07XG5cblNjcm9sbEFyZWEucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICB0aGlzLmFwcGx5UGFyYW1zKHBhcmFtcyk7XG4gIGxldCB7IHgsIHksIHcsIGgsIHogfSA9IHRoaXM7XG4gIGFzc2VydCghdGhpcy5iZWdhbiB8fCBlbmdpbmUuREVCVUcpOyAvLyBDaGVja2luZyBtaXNtYXRjaGVkIGJlZ2luL2VuZFxuICB0aGlzLmJlZ2FuID0gdHJ1ZTtcbiAgLy8gU2V0IHVwIGNhbWVyYSBhbmQgY2xpcHBlcnNcbiAgY2xpcFB1c2goeiArIDAuMDUsIHgsIHksIHcgLSB0aGlzLmJhcldpZHRoKCksIGgpO1xuICBsZXQgY2FtZXJhX29yaWdfeDAgPSBjYW1lcmEyZC54MCgpO1xuICBsZXQgY2FtZXJhX29yaWdfeDEgPSBjYW1lcmEyZC54MSgpO1xuICBsZXQgY2FtZXJhX29yaWdfeTAgPSBjYW1lcmEyZC55MCgpO1xuICBsZXQgY2FtZXJhX29yaWdfeTEgPSBjYW1lcmEyZC55MSgpO1xuICAvLyBtYXAgKDAsMCkgb250byAoeCx5KSBpbiB0aGUgY3VycmVudCBjYW1lcmEgc3BhY2UsIGtlZXBpbmcgdy9oIHNjYWxlIHRoZSBzYW1lXG4gIGxldCBjYW1lcmFfbmV3X3gwID0gLSh4IC0gY2FtZXJhX29yaWdfeDApO1xuICBsZXQgY2FtZXJhX25ld195MCA9IC0oeSAtIGNhbWVyYV9vcmlnX3kwKSArIHJvdW5kKHRoaXMuc2Nyb2xsX3BvcyArIHRoaXMub3ZlcnNjcm9sbCk7XG4gIGxldCBjYW1lcmFfbmV3X3gxID0gY2FtZXJhX25ld194MCArIGNhbWVyYV9vcmlnX3gxIC0gY2FtZXJhX29yaWdfeDA7XG4gIGxldCBjYW1lcmFfbmV3X3kxID0gY2FtZXJhX25ld195MCArIGNhbWVyYV9vcmlnX3kxIC0gY2FtZXJhX29yaWdfeTA7XG4gIGNhbWVyYTJkLnB1c2goKTtcbiAgY2FtZXJhMmQuc2V0KGNhbWVyYV9uZXdfeDAsIGNhbWVyYV9uZXdfeTAsIGNhbWVyYV9uZXdfeDEsIGNhbWVyYV9uZXdfeTEpO1xufTtcblxuU2Nyb2xsQXJlYS5wcm90b3R5cGUuY2xhbXBTY3JvbGxQb3MgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBjbGFtcGVkX3BvcyA9IGNsYW1wKHRoaXMuc2Nyb2xsX3BvcywgMCwgdGhpcy5sYXN0X21heF92YWx1ZSk7XG4gIGlmICh0aGlzLnNjcm9sbF9wb3MgPCAwKSB7XG4gICAgdGhpcy5vdmVyc2Nyb2xsID0gbWF4KHRoaXMuc2Nyb2xsX3BvcywgLU1BWF9PVkVSU0NST0xMKTtcbiAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbF9wb3MgPiB0aGlzLmxhc3RfbWF4X3ZhbHVlKSB7XG4gICAgdGhpcy5vdmVyc2Nyb2xsID0gbWluKHRoaXMuc2Nyb2xsX3BvcyAtIHRoaXMubGFzdF9tYXhfdmFsdWUsIE1BWF9PVkVSU0NST0xMKTtcbiAgfVxuICB0aGlzLnNjcm9sbF9wb3MgPSBjbGFtcGVkX3Bvcztcbn07XG5cblNjcm9sbEFyZWEucHJvdG90eXBlLmtleWJvYXJkU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy53YXNfZGlzYWJsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1vZGlmaWVkID0gZmFsc2U7XG4gIGxldCBwYWRfc2hpZnQgPSBpbnB1dC5wYWRCdXR0b25Eb3duKFBBRC5SSUdIVF9UUklHR0VSKSB8fCBpbnB1dC5wYWRCdXR0b25Eb3duKFBBRC5MRUZUX1RSSUdHRVIpO1xuICBsZXQgdmFsdWUgPSBpbnB1dC5rZXlEb3duRWRnZShLRVlTLlBBR0VET1dOKSArXG4gICAgKHBhZF9zaGlmdCA/IGlucHV0LnBhZEJ1dHRvbkRvd25FZGdlKFBBRC5ET1dOKSA6IDApO1xuICBpZiAodmFsdWUpIHtcbiAgICAvLyBkb24ndCBvdmVyc2Nyb2xsIG9uIHBhZ2V1cC9wYWdlZG93biB1bmxlc3Mgd2UncmUgYWxyZWFkeSBhdCB0aGUgZW5kXG4gICAgdGhpcy5zY3JvbGxfcG9zID0gbWluKHRoaXMuc2Nyb2xsX3BvcyArIHRoaXMuaCxcbiAgICAgIHRoaXMuc2Nyb2xsX3BvcyA9PT0gdGhpcy5sYXN0X21heF92YWx1ZSA/IEluZmluaXR5IDogdGhpcy5sYXN0X21heF92YWx1ZSk7XG4gICAgbW9kaWZpZWQgPSB0cnVlO1xuICB9XG4gIHZhbHVlID0gaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5QQUdFVVApICtcbiAgICAocGFkX3NoaWZ0ID8gaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoUEFELlVQKSA6IDApO1xuICBpZiAodmFsdWUpIHtcbiAgICB0aGlzLnNjcm9sbF9wb3MgPSBtYXgodGhpcy5zY3JvbGxfcG9zIC0gdGhpcy5oLFxuICAgICAgdGhpcy5zY3JvbGxfcG9zID09PSAwID8gLXRoaXMuaCA6IDApO1xuICAgIG1vZGlmaWVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChtb2RpZmllZCkge1xuICAgIHRoaXMuY2xhbXBTY3JvbGxQb3MoKTtcbiAgfVxufTtcblxubGV0IHRlbXBfcG9zID0gdmVjMigpO1xuLy8gaCBpcyBoZWlnaHQgYWxsIG1lbWJlcnMgaW4gdGhlIHNjcm9sbCBhcmVhIChjYW4gYmUgbW9yZSBvciBsZXNzIHRoYW4gdmlzaWJsZSBoZWlnaHQpXG5TY3JvbGxBcmVhLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoaCkge1xuICAvL1Njcm9sbEFyZWFEaXNwbGF5ICpkaXNwbGF5ID0gT1IodGhpcy5kaXNwbGF5LCAmc2Nyb2xsX2FyZWFfZGlzcGxheV9kZWZhdWx0KTtcbiAgYXNzZXJ0KGggPj0gMCk7XG4gIGggPSBtYXgoaCwgMSk7IC8vIHByZXZlbnQgbWF0aCBmcm9tIGdvaW5nIGF3cnkgb24gaGVpZ2h0IG9mIDBcbiAgYXNzZXJ0KHRoaXMuYmVnYW4pOyAvLyBDaGVja2luZyBtaXNtYXRjaGVkIGJlZ2luL2VuZFxuICB0aGlzLmJlZ2FuID0gZmFsc2U7XG4gIC8vIHJlc3RvcmUgY2FtZXJhIGFuZCBjbGlwcGVyc1xuICBjYW1lcmEyZC5wb3AoKTtcbiAgY2xpcFBvcCgpO1xuXG4gIGlmICh0aGlzLnNjcm9sbF9wb3MgPiBoIC0gdGhpcy5oKSB7XG4gICAgLy8gaW50ZXJuYWwgaGVpZ2h0IG11c3QgaGF2ZSBzaHJ1bmtcbiAgICB0aGlzLnNjcm9sbF9wb3MgPSBtYXgoMCwgaCAtIHRoaXMuaCsxKTtcbiAgfVxuICBpZiAodGhpcy5vdmVyc2Nyb2xsKSB7XG4gICAgbGV0IGR0ID0gZW5naW5lLmdldEZyYW1lRHQoKTtcbiAgICBpZiAoZHQgPj0gdGhpcy5vdmVyc2Nyb2xsX2RlbGF5KSB7XG4gICAgICB0aGlzLm92ZXJzY3JvbGxfZGVsYXkgPSAwO1xuICAgICAgdGhpcy5vdmVyc2Nyb2xsID0gdGhpcy5vdmVyc2Nyb2xsICogbWF4KDEgLSBkdCAqIDAuMDA4LCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vdmVyc2Nyb2xsX2RlbGF5IC09IGR0O1xuICAgIH1cbiAgfVxuXG4gIGxldCB7XG4gICAgYXV0b19oaWRlLFxuICAgIHBpeGVsX3NjYWxlLFxuICAgIHJvbGxvdmVyX2NvbG9yLFxuICAgIHJvbGxvdmVyX2NvbG9yX2xpZ2h0LFxuICB9ID0gdGhpcztcblxuICBsZXQge1xuICAgIHNjcm9sbGJhcl90b3AsIHNjcm9sbGJhcl9ib3R0b20sIHNjcm9sbGJhcl90cm91Z2gsIHNjcm9sbGJhcl9oYW5kbGUsIHNjcm9sbGJhcl9oYW5kbGVfZ3JhYmJlclxuICB9ID0gdWkuc3ByaXRlcztcblxuICBsZXQgYmFyX3cgPSBzY3JvbGxiYXJfdG9wLnVpZGF0YS50b3RhbF93ICogcGl4ZWxfc2NhbGU7XG4gIGxldCBidXR0b25faCA9IG1pbihzY3JvbGxiYXJfdG9wLnVpZGF0YS50b3RhbF9oICogcGl4ZWxfc2NhbGUsIHRoaXMuaCAvIDMpO1xuICBsZXQgYnV0dG9uX2hfbm9wYWQgPSB0aGlzLnRvcF9wYWQgPyBidXR0b25faCA6IDA7XG4gIGxldCBiYXJfeDAgPSB0aGlzLnggKyB0aGlzLncgLSBiYXJfdztcbiAgbGV0IGhhbmRsZV9oID0gdGhpcy5oIC8gaDsgLy8gSG93IG11Y2ggb2YgdGhlIGFyZWEgaXMgdmlzaWJsZVxuICBoYW5kbGVfaCA9IGNsYW1wKGhhbmRsZV9oLCAwLCAxKTtcbiAgbGV0IGhhbmRsZV9wb3MgPSAodGhpcy5oID4gaCkgPyAwIDogKHRoaXMuc2Nyb2xsX3BvcyAvIChoIC0gdGhpcy5oKSk7XG4gIGhhbmRsZV9wb3MgPSBjbGFtcChoYW5kbGVfcG9zLCAwLCAxKTtcbiAgbGV0IGhhbmRsZV9waXhlbF9oID0gaGFuZGxlX2ggKiAodGhpcy5oIC0gYnV0dG9uX2hfbm9wYWQgKiAyKTtcbiAgbGV0IGhhbmRsZV9waXhlbF9taW5faCA9IHNjcm9sbGJhcl9oYW5kbGUudWlkYXRhLnRvdGFsX2ggKiBwaXhlbF9zY2FsZTtcbiAgaGFuZGxlX3BpeGVsX2ggPSBtYXgoaGFuZGxlX3BpeGVsX2gsIG1pbihoYW5kbGVfcGl4ZWxfbWluX2gsIGJ1dHRvbl9oIC8gMikpO1xuICBsZXQgaGFuZGxlX3NjcmVlbnBvcyA9IHJvdW5kKHRoaXMueSArIGJ1dHRvbl9oX25vcGFkICsgaGFuZGxlX3BvcyAqICh0aGlzLmggLSBidXR0b25faF9ub3BhZCAqIDIgLSBoYW5kbGVfcGl4ZWxfaCkpO1xuICBsZXQgdG9wX2NvbG9yID0gdGhpcy5jb2xvcjtcbiAgbGV0IGJvdHRvbV9jb2xvciA9IHRoaXMuY29sb3I7XG4gIGxldCBoYW5kbGVfY29sb3IgPSB0aGlzLmNvbG9yO1xuICBsZXQgdHJvdWdoX2NvbG9yID0gdGhpcy5jb2xvcjtcbiAgbGV0IGRpc2FibGVkID0gZmFsc2U7XG4gIGlmICghdGhpcy5oIHx8IGhhbmRsZV9oID09PSAxKSB7XG4gICAgZGlzYWJsZWQgPSB0cnVlO1xuICB9XG4gIHRoaXMud2FzX2Rpc2FibGVkID0gZGlzYWJsZWQ7XG5cbiAgLy8gSGFuZGxlIFVJIGludGVyYWN0aW9uc1xuICBsZXQgdXNlcl9tb3ZlZF90aGlzX2ZyYW1lID0gZmFsc2U7XG4gIGlmIChkaXNhYmxlZCkge1xuICAgIHRyb3VnaF9jb2xvciA9IHRvcF9jb2xvciA9IGJvdHRvbV9jb2xvciA9IGhhbmRsZV9jb2xvciA9IHRoaXMuZGlzYWJsZWRfY29sb3I7XG4gICAgdGhpcy5kcmFnX3N0YXJ0ID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICAvLyBoYW5kbGUgc2Nyb2xsIHdoZWVsXG4gICAgbGV0IHdoZWVsX2RlbHRhID0gaW5wdXQubW91c2VXaGVlbCh7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnksXG4gICAgICB3OiB0aGlzLncsXG4gICAgICBoOiB0aGlzLmhcbiAgICB9KTtcbiAgICBpZiAod2hlZWxfZGVsdGEpIHtcbiAgICAgIHRoaXMub3ZlcnNjcm9sbF9kZWxheSA9IE9WRVJTQ1JPTExfREVMQVlfV0hFRUw7XG4gICAgICB0aGlzLnNjcm9sbF9wb3MgLT0gdGhpcy5yYXRlX3Njcm9sbF93aGVlbCAqIHdoZWVsX2RlbHRhO1xuICAgICAgdXNlcl9tb3ZlZF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgZHJhZyBvZiBoYW5kbGVcbiAgICAvLyBiZWZvcmUgZW5kIGJ1dHRvbnMsIGFzIHRob3NlIG1pZ2h0IGJlIGVmZmVjdGl2ZWx5IGhpZGRlbiBpbiBzb21lIFVJc1xuICAgIGxldCBkb3duID0gaW5wdXQubW91c2VEb3duRWRnZSh7XG4gICAgICB4OiBiYXJfeDAsXG4gICAgICB5OiBoYW5kbGVfc2NyZWVucG9zLFxuICAgICAgdzogYmFyX3csXG4gICAgICBoOiBoYW5kbGVfcGl4ZWxfaCxcbiAgICAgIGJ1dHRvbjogMFxuICAgIH0pO1xuICAgIGlmIChkb3duKSB7XG4gICAgICB0aGlzLmdyYWJiZWRfcG9zID0gKGRvd24ucG9zWzFdIC0gaGFuZGxlX3NjcmVlbnBvcyk7XG4gICAgICB0aGlzLmdyYWJiZWQgPSB0cnVlO1xuICAgICAgaGFuZGxlX2NvbG9yID0gcm9sbG92ZXJfY29sb3JfbGlnaHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmdyYWJiZWQpIHtcbiAgICAgIHVpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgICB1c2VyX21vdmVkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXAgPSB0aGlzLmdyYWJiZWQgJiYgaW5wdXQubW91c2VVcEVkZ2UoeyBidXR0b246IDAgfSk7XG4gICAgaWYgKHVwKSB7XG4gICAgICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgICAgIC8vIHVwZGF0ZSBwb3NcbiAgICAgIGxldCBkZWx0YSA9IHVwLnBvc1sxXSAtICh0aGlzLnkgKyBidXR0b25faF9ub3BhZCkgLSB0aGlzLmdyYWJiZWRfcG9zO1xuICAgICAgdGhpcy5zY3JvbGxfcG9zID0gKGggLSB0aGlzLmgpICogZGVsdGEgLyAodGhpcy5oIC0gYnV0dG9uX2hfbm9wYWQgKiAyIC0gaGFuZGxlX3BpeGVsX2gpO1xuICAgICAgaGFuZGxlX2NvbG9yID0gcm9sbG92ZXJfY29sb3JfbGlnaHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmdyYWJiZWQgJiYgIWlucHV0Lm1vdXNlRG93bih7IGJ1dHRvbjogMCwgbWF4X2Rpc3Q6IEluZmluaXR5IH0pKSB7XG4gICAgICAvLyByZWxlYXNlZCBidXQgc29tZW9uZSBlbHNlIGF0ZSBpdCwgcmVsZWFzZSBhbnl3YXkhXG4gICAgICB0aGlzLmdyYWJiZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ3JhYmJlZCkge1xuICAgICAgLy8gdXBkYXRlIHBvc1xuICAgICAgaW5wdXQubW91c2VQb3ModGVtcF9wb3MpO1xuICAgICAgbGV0IGRlbHRhID0gdGVtcF9wb3NbMV0gLSAodGhpcy55ICsgYnV0dG9uX2hfbm9wYWQpIC0gdGhpcy5ncmFiYmVkX3BvcztcbiAgICAgIHRoaXMuc2Nyb2xsX3BvcyA9IChoIC0gdGhpcy5oKSAqIGRlbHRhIC8gKHRoaXMuaCAtIGJ1dHRvbl9oX25vcGFkICogMiAtIGhhbmRsZV9waXhlbF9oKTtcbiAgICAgIGhhbmRsZV9jb2xvciA9IHJvbGxvdmVyX2NvbG9yX2xpZ2h0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQubW91c2VPdmVyKHtcbiAgICAgIHg6IGJhcl94MCxcbiAgICAgIHk6IGhhbmRsZV9zY3JlZW5wb3MsXG4gICAgICB3OiBiYXJfdyxcbiAgICAgIGg6IGhhbmRsZV9waXhlbF9oXG4gICAgfSkpIHtcbiAgICAgIGlmIChoYW5kbGVfY29sb3IgIT09IHJvbGxvdmVyX2NvbG9yX2xpZ2h0KSB7XG4gICAgICAgIGhhbmRsZV9jb2xvciA9IHJvbGxvdmVyX2NvbG9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhhbmRsZSBjbGlja2luZyBvbiBlbmQgYnV0dG9uc1xuICAgIGxldCBidXR0b25fcGFyYW0gPSB7XG4gICAgICB4OiBiYXJfeDAsXG4gICAgICB5OiB0aGlzLnksXG4gICAgICB3OiBiYXJfdyxcbiAgICAgIGg6IGJ1dHRvbl9oLFxuICAgICAgYnV0dG9uOiAwXG4gICAgfTtcbiAgICB3aGlsZSAoaW5wdXQubW91c2VVcEVkZ2UoYnV0dG9uX3BhcmFtKSkge1xuICAgICAgdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgIHRvcF9jb2xvciA9IHJvbGxvdmVyX2NvbG9yO1xuICAgICAgdGhpcy5zY3JvbGxfcG9zIC09IHRoaXMucmF0ZV9zY3JvbGxfY2xpY2s7XG4gICAgICB1c2VyX21vdmVkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQubW91c2VPdmVyKGJ1dHRvbl9wYXJhbSkpIHtcbiAgICAgIHRvcF9jb2xvciA9IHJvbGxvdmVyX2NvbG9yO1xuICAgIH1cbiAgICBidXR0b25fcGFyYW0ueSA9IHRoaXMueSArIHRoaXMuaCAtIGJ1dHRvbl9oO1xuICAgIHdoaWxlIChpbnB1dC5tb3VzZVVwRWRnZShidXR0b25fcGFyYW0pKSB7XG4gICAgICB1aS5mb2N1c1N0ZWFsKHRoaXMpO1xuICAgICAgYm90dG9tX2NvbG9yID0gcm9sbG92ZXJfY29sb3I7XG4gICAgICB0aGlzLnNjcm9sbF9wb3MgKz0gdGhpcy5yYXRlX3Njcm9sbF9jbGljaztcbiAgICAgIHVzZXJfbW92ZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5tb3VzZU92ZXIoYnV0dG9uX3BhcmFtKSkge1xuICAgICAgYm90dG9tX2NvbG9yID0gcm9sbG92ZXJfY29sb3I7XG4gICAgfVxuXG4gICAgLy8gaGFuZGxlIGNsaWNraW5nIHRyb3VnaCBpZiBub3QgY2F1Z2h0IGJ5IGFueXRoaW5nIGFib3ZlICsvLVxuICAgIGxldCBjbGljaztcbiAgICBsZXQgYmFyX3BhcmFtID0ge1xuICAgICAgeDogYmFyX3gwLFxuICAgICAgeTogdGhpcy55LFxuICAgICAgdzogYmFyX3csXG4gICAgICBoOiB0aGlzLmgsXG4gICAgICBidXR0b246IDBcbiAgICB9O1xuICAgIHdoaWxlICgoY2xpY2sgPSBpbnB1dC5tb3VzZVVwRWRnZShiYXJfcGFyYW0pKSkge1xuICAgICAgdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgIGlmIChjbGljay5wb3NbMV0gPiBoYW5kbGVfc2NyZWVucG9zICsgaGFuZGxlX3BpeGVsX2gvMikge1xuICAgICAgICB0aGlzLnNjcm9sbF9wb3MgKz0gdGhpcy5oO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zY3JvbGxfcG9zIC09IHRoaXMuaDtcbiAgICAgIH1cbiAgICAgIHVzZXJfbW92ZWRfdGhpc19mcmFtZSA9IHRydWU7XG4gICAgfVxuICAgIC8vIENhdGNoIG1vdXNlIG92ZXIgb24gdHJvdWdoXG4gICAgaW5wdXQubW91c2VPdmVyKGJhcl9wYXJhbSk7XG5cbiAgICAvLyBoYW5kbGUgZHJhZ2dpbmcgdGhlIHNjcm9sbCBhcmVhIGJhY2tncm91bmRcbiAgICBsZXQgZHJhZyA9IGlucHV0LmRyYWcoeyB4OiB0aGlzLngsIHk6IHRoaXMueSwgdzogdGhpcy53IC0gYmFyX3csIGg6IHRoaXMuaCwgYnV0dG9uOiAwIH0pO1xuICAgIGlmIChkcmFnKSB7XG4gICAgICAvLyBEcmFnIHNob3VsZCBub3Qgc3RlYWwgZm9jdXNcbiAgICAgIC8vIFRoaXMgYWxzbyBmaXhlcyBhbiBpbnRlcmFjdGlvbiB3aXRoIGNoYXRfdWkgd2hlcmUgY2xpY2tpbmcgb24gdGhlIGNoYXQgYmFja2dyb3VuZCAod2hpY2ggY2F1c2VzXG4gICAgICAvLyAgIGEgZmxpY2tlciBvZiBhIGRyYWcpIHdvdWxkIGNhdXNlIHBvaW50ZXIgbG9jayB0byBiZSBsb3N0XG4gICAgICAvL3VpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgICB1c2VyX21vdmVkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuZHJhZ19zdGFydCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmRyYWdfc3RhcnQgPSB0aGlzLnNjcm9sbF9wb3M7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbF9wb3MgPSB0aGlzLmRyYWdfc3RhcnQgLSBkcmFnLmN1cl9wb3NbMV0gKyBkcmFnLnN0YXJ0X3Bvc1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcmFnX3N0YXJ0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICB0aGlzLmZvY3VzZWQgPSAhZGlzYWJsZWQgJiYgdWkuZm9jdXNDaGVjayh0aGlzKTtcbiAgaWYgKHRoaXMuZm9jdXNlZCAmJiB0aGlzLmZvY3VzYWJsZV9lbGVtKSB7XG4gICAgdGhpcy5mb2N1c2FibGVfZWxlbS5mb2N1cygpO1xuICB9XG5cbiAgbGV0IG1heHZhbHVlID0gbWF4KGggLSB0aGlzLmgrMSwgMCk7XG4gIHRoaXMubGFzdF9tYXhfdmFsdWUgPSBtYXh2YWx1ZTtcbiAgdGhpcy5jbGFtcFNjcm9sbFBvcygpO1xuICBpZiAodGhpcy5hdXRvX3Njcm9sbCAmJiAodGhpcy5sYXN0X2ludGVybmFsX2ggIT09IGggfHwgdGhpcy5sYXN0X2ZyYW1lICE9PSBlbmdpbmUuZ2V0RnJhbWVJbmRleCgpIC0gMSkpIHtcbiAgICAvLyBXZSB3ZXJlIGF0IHRoZSBib3R0b20sIGJ1dCB3ZSBhcmUgbm93IG5vdCwgYW5kIGF1dG8tc2Nyb2xsIGlzIGVuYWJsZWRcbiAgICBpZiAoIXVzZXJfbW92ZWRfdGhpc19mcmFtZSkge1xuICAgICAgLy8gd2FudCB0byBiZSBhdCB0aGUgYm90dG9tLCBzY3JvbGwgZG93biAoZWZmZWN0aXZlIG5leHQgZnJhbWUpXG4gICAgICB0aGlzLnNjcm9sbF9wb3MgPSBtYXh2YWx1ZTtcbiAgICAgIHRoaXMub3ZlcnNjcm9sbCA9IDA7XG4gICAgfVxuICB9XG4gIHRoaXMubGFzdF9pbnRlcm5hbF9oID0gaDtcbiAgdGhpcy5sYXN0X2ZyYW1lID0gZW5naW5lLmdldEZyYW1lSW5kZXgoKTtcblxuICBsZXQgYmdfY29sb3IgPSB0aGlzLmZvY3VzZWQgfHwgdGhpcy5mb2N1c2FibGVfZWxlbSAmJiB0aGlzLmZvY3VzYWJsZV9lbGVtLmlzX2ZvY3VzZWQgP1xuICAgIHRoaXMuYmFja2dyb3VuZF9jb2xvcl9mb2N1c2VkIDpcbiAgICB0aGlzLmJhY2tncm91bmRfY29sb3I7XG4gIGlmIChiZ19jb2xvcikge1xuICAgIHVpLmRyYXdSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLnggKyB0aGlzLncsIHRoaXMueSArIHRoaXMuaCwgdGhpcy56LCBiZ19jb2xvcik7XG4gIH1cblxuICBpZiAoZGlzYWJsZWQgJiYgKGF1dG9faGlkZSB8fCAhdGhpcy5oKSkge1xuICAgIHRoaXMuc2Nyb2xsYmFyX3Zpc2libGUgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5zY3JvbGxiYXJfdmlzaWJsZSA9IHRydWU7XG5cbiAgc2Nyb2xsYmFyX3RvcC5kcmF3KHtcbiAgICB4OiBiYXJfeDAsIHk6IHRoaXMueSwgejogdGhpcy56ICsgMC4yLFxuICAgIHc6IGJhcl93LCBoOiBidXR0b25faCxcbiAgICBjb2xvcjogdG9wX2NvbG9yLFxuICB9KTtcbiAgc2Nyb2xsYmFyX2JvdHRvbS5kcmF3KHtcbiAgICB4OiBiYXJfeDAsIHk6IHRoaXMueSArIHRoaXMuaCAtIGJ1dHRvbl9oLCB6OiB0aGlzLnogKyAwLjIsXG4gICAgdzogYmFyX3csIGg6IGJ1dHRvbl9oLFxuICAgIGNvbG9yOiBib3R0b21fY29sb3IsXG4gIH0pO1xuICBzY3JvbGxiYXJfdHJvdWdoLmRyYXcoe1xuICAgIHg6IGJhcl94MCwgeTogdGhpcy55ICsgYnV0dG9uX2ggLyAyLCB6OiB0aGlzLnorMC4xLFxuICAgIHc6IGJhcl93LCBoOiB0aGlzLmggLSBidXR0b25faCxcbiAgICBjb2xvcjogdHJvdWdoX2NvbG9yLFxuICB9KTtcblxuICB1aS5kcmF3VkJveCh7XG4gICAgeDogYmFyX3gwLCB5OiBoYW5kbGVfc2NyZWVucG9zLCB6OiB0aGlzLnogKyAwLjMsXG4gICAgdzogYmFyX3csIGg6IGhhbmRsZV9waXhlbF9oLFxuICB9LCBzY3JvbGxiYXJfaGFuZGxlLCBoYW5kbGVfY29sb3IpO1xuICBsZXQgZ3JhYmJlcl9oID0gc2Nyb2xsYmFyX2hhbmRsZV9ncmFiYmVyLnVpZGF0YS50b3RhbF9oICogcGl4ZWxfc2NhbGU7XG4gIHNjcm9sbGJhcl9oYW5kbGVfZ3JhYmJlci5kcmF3KHtcbiAgICB4OiBiYXJfeDAsIHk6IGhhbmRsZV9zY3JlZW5wb3MgKyAoaGFuZGxlX3BpeGVsX2ggLSBncmFiYmVyX2gpIC8gMiwgejogdGhpcy56ICsgMC40LFxuICAgIHc6IGJhcl93LCBoOiBncmFiYmVyX2gsXG4gICAgY29sb3I6IGhhbmRsZV9jb2xvcixcbiAgfSk7XG59O1xuXG4vLyBoIGlzIGhlaWdodCBvZiB2aXNpYmxlIGFyZWFcblNjcm9sbEFyZWEucHJvdG90eXBlLnNjcm9sbEludG9Gb2N1cyA9IGZ1bmN0aW9uIChtaW55LCBtYXh5LCBoKSB7XG4gIGxldCBvbGRfc2Nyb2xsX3BvcyA9IHRoaXMuc2Nyb2xsX3BvcztcbiAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgbWlueSA9IG1heChtaW55LCAwKTtcbiAgaWYgKG1pbnkgPCB0aGlzLnNjcm9sbF9wb3MpIHtcbiAgICB0aGlzLnNjcm9sbF9wb3MgPSBtaW55O1xuICAgIGNoYW5nZWQgPSB0cnVlO1xuICB9XG4gIG1heHkgLT0gaDtcbiAgaWYgKG1heHkgPiB0aGlzLnNjcm9sbF9wb3MpIHtcbiAgICB0aGlzLnNjcm9sbF9wb3MgPSBtYXh5O1xuICAgIGNoYW5nZWQgPSB0cnVlO1xuICB9XG4gIGlmIChjaGFuZ2VkKSB7XG4gICAgLy8gTWFrZSBpdCBzbW9vdGgvYm91bmN5IGEgYml0XG4gICAgdGhpcy5vdmVyc2Nyb2xsID0gb2xkX3Njcm9sbF9wb3MgLSB0aGlzLnNjcm9sbF9wb3M7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxBcmVhQ3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IFNjcm9sbEFyZWEocGFyYW1zKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgY29tcGxleGl0eTpvZmYgKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBjYW1lcmEyZCA9IHJlcXVpcmUoJy4vY2FtZXJhMmQuanMnKTtcbmNvbnN0IGdsb3ZfZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGdsb3ZfaW5wdXQgPSByZXF1aXJlKCcuL2lucHV0LmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2ZvbnQuanMnKTtcbmNvbnN0IHsgc2Nyb2xsQXJlYUNyZWF0ZSB9ID0gcmVxdWlyZSgnLi9zY3JvbGxfYXJlYS5qcycpO1xuY29uc3QgeyBjbGlwcGVkLCBjbGlwUGF1c2UsIGNsaXBSZXN1bWUgfSA9IHJlcXVpcmUoJy4vc3ByaXRlcy5qcycpO1xuY29uc3QgZ2xvdl91aSA9IHJlcXVpcmUoJy4vdWkuanMnKTtcbmNvbnN0IHsgdmVjNCB9ID0gcmVxdWlyZSgnLi92bWF0aC5qcycpO1xubGV0IGdsb3ZfbWFya3VwID0gbnVsbDsgLy8gTm90IHBvcnRlZFxuXG5jb25zdCB7IG1pbiwgbWF4LCBzaW4gfSA9IE1hdGg7XG5jb25zdCB7IGNsb25lU2hhbGxvdywgbWVyZ2UsIG5lYXJTYW1lIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG5sZXQgZm9udDtcblxuY29uc3Qgc2VsYm94X2ZvbnRfc3R5bGVfZGVmYXVsdCA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweERGREZERmZmLFxufSk7XG5cbmNvbnN0IHNlbGJveF9mb250X3N0eWxlX3NlbGVjdGVkID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgY29sb3I6IDB4RkZGRkZGZmYsXG59KTtcblxuY29uc3Qgc2VsYm94X2ZvbnRfc3R5bGVfZG93biA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIGNvbG9yOiAweDAwMDAwMGZmLFxufSk7XG5cbmNvbnN0IHNlbGJveF9mb250X3N0eWxlX2Rpc2FibGVkID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgY29sb3I6IDB4ODA4MDgwZmYsXG59KTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRfZGlzcGxheSA9IHtcbiAgc3R5bGVfZGVmYXVsdDogc2VsYm94X2ZvbnRfc3R5bGVfZGVmYXVsdCxcbiAgc3R5bGVfc2VsZWN0ZWQ6IHNlbGJveF9mb250X3N0eWxlX3NlbGVjdGVkLFxuICBzdHlsZV9kaXNhYmxlZDogc2VsYm94X2ZvbnRfc3R5bGVfZGlzYWJsZWQsXG4gIHN0eWxlX2Rvd246IHNlbGJveF9mb250X3N0eWxlX2Rvd24sXG4gIG5vX2JhY2tncm91bmQ6IGZhbHNlLFxuICBub19idXR0b25zOiBmYWxzZSxcbiAgY2VudGVyZWQ6IGZhbHNlLFxuICBib3VuY2U6IHRydWUsXG4gIHRhYl9zdG9wOiAwLFxuICB4cGFkOiA4LFxuICAvLyBzZWxlY3Rpb25faGlnaGxpZ2h0OiBudWxsLCAvLyBUT0RPOiBjdXN0b20gLyBiZXR0ZXIgc2VsZWN0aW9uIGhpZ2hsaWdodCBmb3IgbWVudXNcbiAgdXNlX21hcmt1cDogZmFsc2UsIC8vIGFsd2F5cyBmYWxzZSwgTWFya3VwIG5vdCBwb3J0ZWRcbn07XG5cblxuY29uc3QgY29sb3JfZ3JheTUwID0gdmVjNCgwLjMxMywgMC4zMTMsIDAuMzEzLCAxLjAwMCk7XG5jb25zdCBjb2xvcl9ncmF5ODAgPSB2ZWM0KDAuNTAwLCAwLjUwMCwgMC41MDAsIDEuMDAwKTtcbmNvbnN0IGNvbG9yX2dyYXlEMCA9IHZlYzQoMC44MTYsIDAuODE2LCAwLjgxNiwgMS4wMDApO1xuY29uc3QgY29sb3Jfd2hpdGUgPSB2ZWM0KDEsIDEsIDEsIDEpO1xuXG5jb25zdCBTRUxCT1hfQk9VTkNFX1RJTUUgPSA4MDtcblxuLy8gVXNlZCBieSBHbG92U2ltcGxlTWVudSBhbmQgR2xvdlNlbGVjdGlvbkJveFxuZXhwb3J0IGNsYXNzIEdsb3ZNZW51SXRlbSB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICBpZiAocGFyYW1zIGluc3RhbmNlb2YgR2xvdk1lbnVJdGVtKSB7XG4gICAgICBmb3IgKGxldCBmaWVsZCBpbiBwYXJhbXMpIHtcbiAgICAgICAgdGhpc1tmaWVsZF0gPSBwYXJhbXNbZmllbGRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcyA9IHsgbmFtZTogcGFyYW1zIH07XG4gICAgfVxuICAgIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lIHx8ICdOT19OQU1FJzsgLy8gbmFtZSB0byBkaXNwbGF5XG4gICAgdGhpcy5zdGF0ZSA9IHBhcmFtcy5zdGF0ZSB8fCBudWxsOyAvLyBzdGF0ZSB0byBzZXQgdXBvbiBzZWxlY3Rpb25cbiAgICB0aGlzLmNiID0gcGFyYW1zLmNiIHx8IG51bGw7IC8vIGNhbGxiYWNrIHRvIGNhbGwgdXBvbiBzZWxlY3Rpb25cbiAgICAvLyBUT0RPIC0gY2IgZnVuY3Rpb24gb24gdmFsdWUgY2hhbmdlP1xuICAgIHRoaXMudmFsdWUgPSBudWxsOyAvLyBjYW4gYmUgbnVtYmVyIG9yIHN0cmluZ1xuICAgIHRoaXMudmFsdWVfbWluID0gMDtcbiAgICB0aGlzLnZhbHVlX21heCA9IDA7XG4gICAgdGhpcy52YWx1ZV9pbmMgPSAwO1xuICAgIHRoaXMudGFnID0gcGFyYW1zLnRhZyB8fCBudWxsOyAvLyBmb3IgaXNTZWxlY3RlZCh0YWcpXG4gICAgLy8gd2FzIGJpdG1hc2tcbiAgICB0aGlzLmV4aXQgPSBCb29sZWFuKHBhcmFtcy5leGl0KTtcbiAgICB0aGlzLnByb21wdF9pbnQgPSBCb29sZWFuKHBhcmFtcy5wcm9tcHRfaW50KTtcbiAgICB0aGlzLnByb21wdF9zdHJpbmcgPSBCb29sZWFuKHBhcmFtcy5wcm9tcHRfc3RyaW5nKTtcbiAgICB0aGlzLm5vX3NvdW5kID0gQm9vbGVhbihwYXJhbXMubm9fc291bmQpO1xuICAgIHRoaXMuc2xpZGVyID0gQm9vbGVhbihwYXJhbXMuc2xpZGVyKTtcbiAgICB0aGlzLm5vX2NvbnRyb2xsZXJfZXhpdCA9IEJvb2xlYW4ocGFyYW1zLm5vX2NvbnRyb2xsZXJfZXhpdCk7XG4gICAgdGhpcy5wbHVzX21pbnVzID0gQm9vbGVhbihwYXJhbXMucGx1c19taW51cyk7XG4gICAgdGhpcy5kaXNhYmxlZCA9IEJvb2xlYW4ocGFyYW1zLmRpc2FibGVkKTtcbiAgICB0aGlzLmNlbnRlcmVkID0gQm9vbGVhbihwYXJhbXMuY2VudGVyZWQpO1xuICB9XG59XG5cblxuY2xhc3MgR2xvdlNlbGVjdGlvbkJveCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIC8vIE9wdGlvbnMgKGFuZCBkZWZhdWx0cylcbiAgICB0aGlzLnggPSAwO1xuICAgIHRoaXMueSA9IDA7XG4gICAgdGhpcy56ID0gWi5VSTtcbiAgICB0aGlzLndpZHRoID0gZ2xvdl91aS5idXR0b25fd2lkdGg7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuaXNfZHJvcGRvd24gPSBmYWxzZTtcbiAgICB0aGlzLnRyYW5zaWVudF9mb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRpc3BsYXkgPSBjbG9uZVNoYWxsb3coZGVmYXVsdF9kaXNwbGF5KTtcbiAgICB0aGlzLnNjcm9sbF9oZWlnaHQgPSAwO1xuICAgIHRoaXMuZm9udF9oZWlnaHQgPSBnbG92X3VpLmZvbnRfaGVpZ2h0O1xuICAgIHRoaXMuZW50cnlfaGVpZ2h0ID0gZ2xvdl91aS5idXR0b25faGVpZ2h0O1xuICAgIHRoaXMuYXV0b19yZXNldCA9IHRydWU7XG4gICAgdGhpcy5hdXRvX3VuZm9jdXMgPSB0cnVlO1xuICAgIHRoaXMucmVzZXRfc2VsZWN0aW9uID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsX3NlbGVjdGlvbiA9IDA7XG4gICAgdGhpcy5hcHBseVBhcmFtcyhwYXJhbXMpO1xuXG4gICAgLy8gUnVuLXRpbWUgc3RhdGVcbiAgICB0aGlzLmRyb3Bkb3duX3Zpc2libGUgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGVkID0gMDtcbiAgICB0aGlzLndhc19jbGlja2VkID0gZmFsc2U7XG4gICAgdGhpcy53YXNfcmlnaHRfY2xpY2tlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNfZm9jdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHVtbXlfZm9jdXNfY2hlY2sgPSB7IHNlbGJveF9kdW1teTogMSB9O1xuICAgIHRoaXMubW91c2VfbW9kZSA9IGZhbHNlO1xuICAgIHRoaXMubGFzdF9tb3VzZXggPSAwO1xuICAgIHRoaXMubGFzdF9tb3VzZXkgPSAwO1xuICAgIHRoaXMuYm91bmNlX3RpbWUgPSAwO1xuICAgIHRoaXMuZXhwZWN0ZWRfZnJhbWVfaW5kZXggPSAwO1xuICAgIHRoaXMucHJlX2Ryb3Bkb3duX3NlbGVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5pc19kcm9wZG93biB8fCB0aGlzLnNjcm9sbF9oZWlnaHQpIHtcbiAgICAgIHRoaXMuc2EgPSBzY3JvbGxBcmVhQ3JlYXRlKHtcbiAgICAgICAgZm9jdXNhYmxlX2VsZW06IHRoaXMsXG4gICAgICAgIC8vYmFja2dyb3VuZF9jb2xvcjogbnVsbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5UGFyYW1zKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGYgaW4gcGFyYW1zKSB7XG4gICAgICBpZiAoZiA9PT0gJ2l0ZW1zJykge1xuICAgICAgICB0aGlzLml0ZW1zID0gcGFyYW1zLml0ZW1zLm1hcCgoaXRlbSkgPT4gbmV3IEdsb3ZNZW51SXRlbShpdGVtKSk7XG4gICAgICB9IGVsc2UgaWYgKGYgPT09ICdkaXNwbGF5Jykge1xuICAgICAgICBtZXJnZSh0aGlzLmRpc3BsYXksIHBhcmFtc1tmXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW2ZdID0gcGFyYW1zW2ZdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlzU2VsZWN0ZWQodGFnX29yX2luZGV4KSB7XG4gICAgaWYgKHR5cGVvZiB0YWdfb3JfaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZCA9PT0gdGFnX29yX2luZGV4O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pdGVtc1t0aGlzLnNlbGVjdGVkXS50YWcgPT09IHRhZ19vcl9pbmRleDtcbiAgfVxuXG4gIGdldFNlbGVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zW3RoaXMuc2VsZWN0ZWRdO1xuICB9XG5cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIGxldCB7IGRpc3BsYXksIGVudHJ5X2hlaWdodCB9ID0gdGhpcztcbiAgICBpZiAodGhpcy5pc19kcm9wZG93bikge1xuICAgICAgcmV0dXJuIGVudHJ5X2hlaWdodCArIDI7XG4gICAgfVxuICAgIGxldCBsaXN0X2hlaWdodCA9IHRoaXMuaXRlbXMubGVuZ3RoICogZW50cnlfaGVpZ2h0O1xuICAgIGxldCBkb19zY3JvbGwgPSB0aGlzLnNjcm9sbF9oZWlnaHQgJiYgdGhpcy5pdGVtcy5sZW5ndGggKiBlbnRyeV9oZWlnaHQgPiB0aGlzLnNjcm9sbF9oZWlnaHQ7XG4gICAgaWYgKGRvX3Njcm9sbCkge1xuICAgICAgbGlzdF9oZWlnaHQgPSB0aGlzLnNjcm9sbF9oZWlnaHQ7XG4gICAgfVxuICAgIGxpc3RfaGVpZ2h0ICs9IDI7XG4gICAgaWYgKCFkaXNwbGF5Lm5vX2JhY2tncm91bmQpIHtcbiAgICAgIGxpc3RfaGVpZ2h0ICs9IDQ7XG4gICAgfVxuICAgIHJldHVybiBsaXN0X2hlaWdodCArIDM7XG4gIH1cblxuICBmb2N1cygpIHtcbiAgICBnbG92X3VpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgdGhpcy5pc19mb2N1c2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHJ1bihwYXJhbXMpIHtcbiAgICB0aGlzLmFwcGx5UGFyYW1zKHBhcmFtcyk7XG4gICAgbGV0IHsgeCwgeSwgeiwgd2lkdGgsIGZvbnRfaGVpZ2h0LCBlbnRyeV9oZWlnaHQsIGF1dG9fcmVzZXQgfSA9IHRoaXM7XG4gICAgbGV0IHsgS0VZUywgUEFEIH0gPSBnbG92X2lucHV0O1xuXG4gICAgaWYgKHRoaXMucmVzZXRfc2VsZWN0aW9uIHx8IGF1dG9fcmVzZXQgJiYgdGhpcy5leHBlY3RlZF9mcmFtZV9pbmRleCAhPT0gZ2xvdl9lbmdpbmUuZ2V0RnJhbWVJbmRleCgpKSB7XG4gICAgICB0aGlzLnJlc2V0X3NlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgLy8gUmVzZXRcbiAgICAgIGlmICh0aGlzLml0ZW1zW3RoaXMuaW5pdGlhbF9zZWxlY3Rpb25dICYmICF0aGlzLml0ZW1zW3RoaXMuaW5pdGlhbF9zZWxlY3Rpb25dLmRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLmluaXRpYWxfc2VsZWN0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2VsZWN0aW9uIG91dCBvZiByYW5nZSBvciBkaXNhYmxlZCwgc2VsZWN0IGZpcnN0IG5vbi1kaXNhYmxlZCBlbnRyeVxuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5pdGVtcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaWldLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gaWk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgeTAgPSB5O1xuICAgIGxldCB5cmV0O1xuICAgIGxldCBkaXNwbGF5ID0gdGhpcy5kaXNwbGF5O1xuICAgIHRoaXMud2FzX2NsaWNrZWQgPSBmYWxzZTtcbiAgICB0aGlzLndhc19yaWdodF9jbGlja2VkID0gZmFsc2U7XG4gICAgbGV0IHBvc19jaGFuZ2VkID0gZmFsc2U7XG5cbiAgICBsZXQgd2FzX2ZvY3VzZWQgPSB0aGlzLmlzX2ZvY3VzZWQ7XG4gICAgLy8gVHJpY2sgdG8gZGV0ZWN0IGlmIHdlIGdhaW5lZCBmb2N1cyBmcm9tIGFoZWFkIG9yIGJlaGluZCBvZiBvdXJzZWx2ZXMsIGZvciB0cmFuc2llbnRfZm9jdXMgbW9kZVxuICAgIGxldCBnYWluZWRfZm9jdXNfZm9yd2FyZCA9IGZhbHNlO1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiAhdGhpcy5pc19mb2N1c2VkKSB7XG4gICAgICBnYWluZWRfZm9jdXNfZm9yd2FyZCA9IGdsb3ZfdWkuZm9jdXNDaGVjayh0aGlzLmR1bW15X2ZvY3VzX2NoZWNrKTtcbiAgICAgIGlmIChnYWluZWRfZm9jdXNfZm9yd2FyZCkge1xuICAgICAgICBnbG92X3VpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG9sZF9zZWwgPSB0aGlzLnNlbGVjdGVkO1xuICAgIGxldCBmb2N1c2VkID0gdGhpcy5pc19mb2N1c2VkID0gdGhpcy5kaXNhYmxlZCA/IGZhbHNlIDogZ2xvdl91aS5mb2N1c0NoZWNrKHRoaXMpO1xuICAgIGxldCBnYWluZWRfZm9jdXMgPSBmb2N1c2VkICYmICF3YXNfZm9jdXNlZDtcblxuICAgIGlmICh0aGlzLmRyb3Bkb3duX3Zpc2libGUgJiYgKCFmb2N1c2VkIHx8XG4gICAgICBmb2N1c2VkICYmIGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5FU0MpXG4gICAgKSkge1xuICAgICAgaWYgKHRoaXMucHJlX2Ryb3Bkb3duX3NlbGVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFJlc3RvcmUgc2VsZWN0aW9uIHRvIGJlZm9yZSBvcGVuaW5nIHRoZSBkcm9wZG93blxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5wcmVfZHJvcGRvd25fc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLnByZV9kcm9wZG93bl9zZWxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLmRyb3Bkb3duX3Zpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgbnVtX25vbl9kaXNhYmxlZF9zZWxlY3Rpb25zID0gMDtcbiAgICBsZXQgZWZmX3NlbCA9IC0xO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGl0ZW0gPSB0aGlzLml0ZW1zW2lpXTtcbiAgICAgIGlmICghaXRlbS5kaXNhYmxlZCkge1xuICAgICAgICBpZiAoZWZmX3NlbCA9PT0gLTEgJiYgdGhpcy5zZWxlY3RlZCA8PSBpaSkge1xuICAgICAgICAgIGVmZl9zZWwgPSBudW1fbm9uX2Rpc2FibGVkX3NlbGVjdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgbnVtX25vbl9kaXNhYmxlZF9zZWxlY3Rpb25zKys7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRoaXMgaXMgT0ssIGNhbiBoYXZlIGFuIGVtcHR5IHNlbGVjdGlvbiBib3g6IGFzc2VydChudW1fbm9uX2Rpc2FibGVkX3NlbGVjdGlvbnMpO1xuICAgIGlmIChlZmZfc2VsID09PSAtMSkge1xuICAgICAgLy8gcGVyaGFwcyBoYWQgdGhlIGVuZCBzZWxlY3RlZCwgYW5kIHNlbGVjdGlvbiBiZWNhbWUgc21hbGxlclxuICAgICAgZWZmX3NlbCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudHJhbnNpZW50X2ZvY3VzICYmIGdhaW5lZF9mb2N1cykge1xuICAgICAgaWYgKGdhaW5lZF9mb2N1c19mb3J3YXJkKSB7XG4gICAgICAgIGVmZl9zZWwgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWZmX3NlbCA9IG51bV9ub25fZGlzYWJsZWRfc2VsZWN0aW9ucyAtIDE7XG4gICAgICB9XG4gICAgICBwb3NfY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzX2Ryb3Bkb3duICYmICFkaXNwbGF5Lm5vX2JhY2tncm91bmQpIHtcbiAgICAgIGxldCBiZ19oZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xuICAgICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgICAgZ2xvdl91aS5kcmF3UmVjdCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBiZ19oZWlnaHQgLSAyLCB6LCBjb2xvcl93aGl0ZSk7XG4gICAgICAgIHkgKz0gMjtcbiAgICAgICAgeCArPSAyO1xuICAgICAgICB3aWR0aCAtPSA0O1xuICAgICAgICBnbG92X3VpLmRyYXdSZWN0KHgsIHksIHggKyB3aWR0aCwgeSArIGJnX2hlaWdodCAtIDYsIHorMC4xLCBjb2xvcl9ncmF5NTApO1xuICAgICAgICB5ICs9IDI7XG4gICAgICAgIHggKz0gMjtcbiAgICAgICAgd2lkdGggLT0gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb3ZfdWkuZHJhd1JlY3QoeCwgeSwgeCArIHdpZHRoLCB5ICsgYmdfaGVpZ2h0IC0gMiwgeiwgY29sb3JfZ3JheTUwKTtcbiAgICAgICAgeSArPSA0O1xuICAgICAgICB4ICs9IDQ7XG4gICAgICAgIHdpZHRoIC09IDg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHNjcm9sbF9oZWlnaHQgPSB0aGlzLnNjcm9sbF9oZWlnaHQ7XG4gICAgaWYgKCFzY3JvbGxfaGVpZ2h0ICYmIHRoaXMuaXNfZHJvcGRvd24pIHtcbiAgICAgIHNjcm9sbF9oZWlnaHQgPSBjYW1lcmEyZC55MSgpIC0gKHkgKyBlbnRyeV9oZWlnaHQpO1xuICAgIH1cbiAgICBsZXQgcGFnZV9zaXplID0gKHNjcm9sbF9oZWlnaHQgLSAxKSAvIGVudHJ5X2hlaWdodDtcblxuICAgIGlmIChmb2N1c2VkKSB7XG4gICAgICBsZXQgcGFkX3NoaWZ0ID0gZ2xvdl9pbnB1dC5wYWRCdXR0b25Eb3duKFBBRC5SSUdIVF9UUklHR0VSKSB8fCBnbG92X2lucHV0LnBhZEJ1dHRvbkRvd24oUEFELkxFRlRfVFJJR0dFUik7XG4gICAgICBsZXQgdmFsdWUgPSBnbG92X2lucHV0LmtleURvd25FZGdlKEtFWVMuUEFHRURPV04pICtcbiAgICAgICAgKHBhZF9zaGlmdCA/IGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoUEFELkRPV04pIDogMCk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZWZmX3NlbCArPSBwYWdlX3NpemUgKiB2YWx1ZTtcbiAgICAgICAgZWZmX3NlbCA9IG1pbihlZmZfc2VsLCBudW1fbm9uX2Rpc2FibGVkX3NlbGVjdGlvbnMgLSAxKTtcbiAgICAgICAgdGhpcy5tb3VzZV9tb2RlID0gZmFsc2U7XG4gICAgICAgIHBvc19jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlBBR0VVUCkgK1xuICAgICAgICAocGFkX3NoaWZ0ID8gZ2xvdl9pbnB1dC5wYWRCdXR0b25Eb3duRWRnZShQQUQuVVApIDogMCk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZWZmX3NlbCAtPSBwYWdlX3NpemUgKiB2YWx1ZTtcbiAgICAgICAgZWZmX3NlbCA9IG1heChlZmZfc2VsLCAwKTtcbiAgICAgICAgdGhpcy5tb3VzZV9tb2RlID0gZmFsc2U7XG4gICAgICAgIHBvc19jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLkRPV04pICtcbiAgICAgICAgZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlMpICtcbiAgICAgICAgZ2xvdl9pbnB1dC5wYWRCdXR0b25Eb3duRWRnZShQQUQuRE9XTik7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZWZmX3NlbCs9dmFsdWU7XG4gICAgICAgIHRoaXMubW91c2VfbW9kZSA9IGZhbHNlO1xuICAgICAgICBwb3NfY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5VUCkgK1xuICAgICAgICBnbG92X2lucHV0LmtleURvd25FZGdlKEtFWVMuVykgK1xuICAgICAgICBnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKFBBRC5VUCk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZWZmX3NlbC09dmFsdWU7XG4gICAgICAgIHRoaXMubW91c2VfbW9kZSA9IGZhbHNlO1xuICAgICAgICBwb3NfY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLkhPTUUpKSB7XG4gICAgICAgIGVmZl9zZWwgPSAwO1xuICAgICAgICB0aGlzLm1vdXNlX21vZGUgPSBmYWxzZTtcbiAgICAgICAgcG9zX2NoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5FTkQpKSB7XG4gICAgICAgIGVmZl9zZWwgPSBudW1fbm9uX2Rpc2FibGVkX3NlbGVjdGlvbnMgLSAxO1xuICAgICAgICB0aGlzLm1vdXNlX21vZGUgPSBmYWxzZTtcbiAgICAgICAgcG9zX2NoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5TUEFDRSkgfHwgZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLkVOVEVSKSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNfZHJvcGRvd24gfHwgdGhpcy5kcm9wZG93bl92aXNpYmxlKSB7XG4gICAgICAgICAgdGhpcy53YXNfY2xpY2tlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kcm9wZG93bl92aXNpYmxlID0gIXRoaXMuZHJvcGRvd25fdmlzaWJsZTtcbiAgICAgICAgICB0aGlzLnByZV9kcm9wZG93bl9zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHNlbF9jaGFuZ2VkID0gZmFsc2U7XG4gICAgaWYgKGVmZl9zZWwgPCAwKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2llbnRfZm9jdXMpIHtcbiAgICAgICAgZWZmX3NlbCA9IDA7XG4gICAgICAgIHNlbF9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgZ2xvdl91aS5mb2N1c1ByZXYodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZmZfc2VsID0gbnVtX25vbl9kaXNhYmxlZF9zZWxlY3Rpb25zIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVmZl9zZWwgPj0gbnVtX25vbl9kaXNhYmxlZF9zZWxlY3Rpb25zICYmIG51bV9ub25fZGlzYWJsZWRfc2VsZWN0aW9ucykge1xuICAgICAgaWYgKHRoaXMudHJhbnNpZW50X2ZvY3VzKSB7XG4gICAgICAgIGVmZl9zZWwgPSBudW1fbm9uX2Rpc2FibGVkX3NlbGVjdGlvbnMgLSAxO1xuICAgICAgICBzZWxfY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGdsb3ZfdWkuZm9jdXNOZXh0KHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWZmX3NlbCA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBmcm9tIGVmZl9zZWwgYmFjayB0byBhY3R1YWwgc2VsZWN0aW9uXG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaWldO1xuICAgICAgaWYgKCFpdGVtLmRpc2FibGVkKSB7XG4gICAgICAgIGlmICghZWZmX3NlbCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAtLWVmZl9zZWw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHBhZCA9IDg7XG5cbiAgICBsZXQgZHJvcGRvd25feCA9IHg7XG4gICAgbGV0IGRyb3Bkb3duX3kgPSB5O1xuICAgIGxldCBjbGlwX3BhdXNlID0gY2xpcHBlZCgpICYmIHRoaXMuaXNfZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bl92aXNpYmxlO1xuICAgIGlmIChjbGlwX3BhdXNlKSB7XG4gICAgICBjbGlwUGF1c2UoKTtcbiAgICB9XG4gICAgbGV0IHpfc2F2ZSA9IHo7XG4gICAgaWYgKHRoaXMuaXNfZHJvcGRvd24pIHtcbiAgICAgIHogKz0gMTAwMDsgLy8gZHJvcC1kb3duIHBhcnQgc2hvdWxkIGJlIGFib3ZlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRvb2x0aXBzXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzX2Ryb3Bkb3duIHx8IHRoaXMuZHJvcGRvd25fdmlzaWJsZSkge1xuICAgICAgbGV0IGRvX3Njcm9sbCA9IHNjcm9sbF9oZWlnaHQgJiYgdGhpcy5pdGVtcy5sZW5ndGggKiBlbnRyeV9oZWlnaHQgPiBzY3JvbGxfaGVpZ2h0O1xuICAgICAgbGV0IGV4dHJhX2hlaWdodCA9IHRoaXMuaXNfZHJvcGRvd24gPyBlbnRyeV9oZWlnaHQgOiAwO1xuICAgICAgaWYgKCFkb19zY3JvbGwgJiYgeSArIHRoaXMuaXRlbXMubGVuZ3RoICogZW50cnlfaGVpZ2h0ICsgZXh0cmFfaGVpZ2h0ID49IGNhbWVyYTJkLnkxKCkpIHtcbiAgICAgICAgeSA9IGNhbWVyYTJkLnkxKCkgLSB0aGlzLml0ZW1zLmxlbmd0aCAqIGVudHJ5X2hlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHkgKz0gZXh0cmFfaGVpZ2h0O1xuICAgICAgfVxuICAgICAgbGV0IHlfc2F2ZSA9IHk7XG4gICAgICBsZXQgeF9zYXZlID0geDtcbiAgICAgIGxldCBzY3JvbGxfcG9zID0gMDtcbiAgICAgIGxldCBlZmZfd2lkdGggPSB3aWR0aDtcbiAgICAgIGlmIChkb19zY3JvbGwpIHtcbiAgICAgICAgaWYgKHBvc19jaGFuZ2VkKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIHBhcnQgb2YgdmlzaWJsZSBzY3JvbGwgYXJlYSBpbmNsdWRlcyB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICBsZXQgYnVmZmVyID0gbWluKDEuNSAqIGVudHJ5X2hlaWdodCwgKHNjcm9sbF9oZWlnaHQgLSBlbnRyeV9oZWlnaHQpIC8gMik7XG4gICAgICAgICAgdGhpcy5zYS5zY3JvbGxJbnRvRm9jdXModGhpcy5zZWxlY3RlZCAqIGVudHJ5X2hlaWdodCAtIGJ1ZmZlcixcbiAgICAgICAgICAgIG1pbih0aGlzLml0ZW1zLmxlbmd0aCAqIGVudHJ5X2hlaWdodCxcbiAgICAgICAgICAgICAgKHRoaXMuc2VsZWN0ZWQgKyAxKSAqIGVudHJ5X2hlaWdodCArIGJ1ZmZlciksXG4gICAgICAgICAgICBzY3JvbGxfaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhLmJlZ2luKHtcbiAgICAgICAgICB4LCB5LCB6LFxuICAgICAgICAgIHc6IHdpZHRoLFxuICAgICAgICAgIGg6IHNjcm9sbF9oZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICBzY3JvbGxfcG9zID0gdGhpcy5zYS5zY3JvbGxfcG9zICsgdGhpcy5zYS5vdmVyc2Nyb2xsO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIGVmZl93aWR0aCA9IHdpZHRoIC0gdGhpcy5zYS5iYXJXaWR0aCgpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgICAgbGV0IGVudHJ5X2Rpc2FibGVkID0gaXRlbS5kaXNhYmxlZDtcbiAgICAgICAgbGV0IGltYWdlX3NldCA9IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiAhZW50cnlfZGlzYWJsZWQgJiYgZ2xvdl9pbnB1dC5jbGljayh7XG4gICAgICAgICAgeCwgeSwgdzogd2lkdGgsIGg6IGVudHJ5X2hlaWdodFxuICAgICAgICB9KSkge1xuICAgICAgICAgIGdsb3ZfdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgICAgICB0aGlzLndhc19jbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLm1vdXNlX21vZGUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiAhZW50cnlfZGlzYWJsZWQgJiYgZ2xvdl9pbnB1dC5jbGljayh7XG4gICAgICAgICAgeCwgeSwgdzogd2lkdGgsIGg6IGVudHJ5X2hlaWdodCwgYnV0dG9uOiAxLFxuICAgICAgICB9KSkge1xuICAgICAgICAgIGdsb3ZfdWkuZm9jdXNTdGVhbCh0aGlzKTtcbiAgICAgICAgICB0aGlzLndhc19yaWdodF9jbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLm1vdXNlX21vZGUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpc19tb3VzZW92ZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkICYmICFlbnRyeV9kaXNhYmxlZCAmJiBnbG92X2lucHV0Lm1vdXNlT3Zlcih7XG4gICAgICAgICAgeCwgeSwgdzogd2lkdGgsIGg6IGVudHJ5X2hlaWdodFxuICAgICAgICB9KSkge1xuICAgICAgICAgIGxldCBtcG9zID0gZ2xvdl9pbnB1dC5tb3VzZVBvcygpO1xuICAgICAgICAgIGlzX21vdXNlb3ZlciA9IHRydWU7XG4gICAgICAgICAgaWYgKGZvY3VzZWQgfHwgdGhpcy50cmFuc2llbnRfZm9jdXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGVjdGVkX2ZyYW1lX2luZGV4ID09PSBnbG92X2VuZ2luZS5nZXRGcmFtZUluZGV4KCkgJiZcbiAgICAgICAgICAgICAgKG1wb3NbMF0gIT09IHRoaXMubGFzdF9tb3VzZXggfHwgIW5lYXJTYW1lKG1wb3NbMV0gLSBzY3JvbGxfcG9zLCB0aGlzLmxhc3RfbW91c2V5LCAxLjI1KSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0aGlzLm1vdXNlX21vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdF9tb3VzZXggPSBtcG9zWzBdO1xuICAgICAgICAgICAgdGhpcy5sYXN0X21vdXNleSA9IG1wb3NbMV0gLSBzY3JvbGxfcG9zO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBOb3QgdXNlZCBhbnltb3JlIGJlY2F1c2UgaW4gbW91c2VfbW9kZSwgcm9sbG92ZXIgKmlzKiBzZWxlY3Rpb24sIGRvbid0IGhhdmUgdHdvIGN1cnNvcnMhXG4gICAgICAgICAgLy8gaWYgKHRoaXMubW91c2VfbW9kZSkge1xuICAgICAgICAgIC8vICAgdGV4dF9jb2xvciA9IDB4MDAwMDAwZmY7XG4gICAgICAgICAgLy8gICBpbWFnZV9zZXQgPSAmbWVudV9yb2xsb3ZlcjtcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3R5bGU7XG4gICAgICAgIGxldCBzaG93X3NlbGVjdGlvbiA9ICF0aGlzLmRpc2FibGVkICYmIChcbiAgICAgICAgICAhKHRoaXMudHJhbnNpZW50X2ZvY3VzICYmICF0aGlzLmlzX2ZvY3VzZWQpICYmICF0aGlzLmlzX2Ryb3Bkb3duIHx8IC8vIHNob3cgaWYgYSBub24tZHJvcGRvd24gdGhhdCdzIGZvY3VzZWRcbiAgICAgICAgICBpc19tb3VzZW92ZXIgfHwgIXRoaXMubW91c2VfbW9kZSk7XG4gICAgICAgIGxldCBib3VuY2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgPT09IGkgJiYgc2hvd19zZWxlY3Rpb24pIHtcbiAgICAgICAgICBzdHlsZSA9IGRpc3BsYXkuc3R5bGVfc2VsZWN0ZWQgfHwgc2VsYm94X2ZvbnRfc3R5bGVfc2VsZWN0ZWQ7XG4gICAgICAgICAgaW1hZ2Vfc2V0ID0gZ2xvdl91aS5zcHJpdGVzLm1lbnVfc2VsZWN0ZWQ7XG4gICAgICAgICAgaWYgKGlzX21vdXNlb3ZlciAmJiBnbG92X2lucHV0Lm1vdXNlRG93bigpKSB7XG4gICAgICAgICAgICBpZiAoZ2xvdl91aS5zcHJpdGVzLm1lbnVfZG93bikge1xuICAgICAgICAgICAgICBpbWFnZV9zZXQgPSBnbG92X3VpLnNwcml0ZXMubWVudV9kb3duO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3R5bGUgPSBkaXNwbGF5LnN0eWxlX2Rvd24gfHwgc2VsYm94X2ZvbnRfc3R5bGVfZG93bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRpc3BsYXkuYm91bmNlICYmICF0aGlzLmlzX2Ryb3Bkb3duKSB7XG4gICAgICAgICAgICBsZXQgbXMgPSBnbG92X2VuZ2luZS5nZXRGcmFtZUR0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZCAhPT0gb2xkX3NlbCkge1xuICAgICAgICAgICAgICBib3VuY2UgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLmJvdW5jZV90aW1lID0gU0VMQk9YX0JPVU5DRV9USU1FO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtcyA+PSB0aGlzLmJvdW5jZV90aW1lKSB7XG4gICAgICAgICAgICAgIHRoaXMuYm91bmNlX3RpbWUgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYm91bmNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5ib3VuY2VfdGltZSAtPSBtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZW50cnlfZGlzYWJsZWQpIHtcbiAgICAgICAgICBzdHlsZSA9IGRpc3BsYXkuc3R5bGVfZGlzYWJsZWQgfHwgc2VsYm94X2ZvbnRfc3R5bGVfZGlzYWJsZWQ7XG4gICAgICAgICAgaW1hZ2Vfc2V0ID0gZ2xvdl91aS5zcHJpdGVzLm1lbnVfZW50cnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGUgPSBkaXNwbGF5LnN0eWxlX2RlZmF1bHQgfHwgc2VsYm94X2ZvbnRfc3R5bGVfZGVmYXVsdDtcbiAgICAgICAgICBpbWFnZV9zZXQgPSBnbG92X3VpLnNwcml0ZXMubWVudV9lbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeW9mZnMgPSAwO1xuICAgICAgICBsZXQgYm91bmNlX2FtdCA9IDA7XG4gICAgICAgIGlmIChib3VuY2UpIHtcbiAgICAgICAgICBib3VuY2VfYW10ID0gc2luKHRoaXMuYm91bmNlX3RpbWUgKiAyMCAvIFNFTEJPWF9CT1VOQ0VfVElNRSAvIDEwKTtcbiAgICAgICAgICB5b2ZmcyA9IC00ICogYm91bmNlX2FtdCAqIGVudHJ5X2hlaWdodCAvIDMyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlzcGxheS5ub19idXR0b25zKSB7XG4gICAgICAgICAgZ2xvdl91aS5kcmF3SEJveCh7IHgsIHk6IHkgKyB5b2ZmcywgejogeiArIDEsIHc6IGVmZl93aWR0aCwgaDogZW50cnlfaGVpZ2h0IH0sXG4gICAgICAgICAgICBpbWFnZV9zZXQsIGNvbG9yX3doaXRlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzcHJpdGVMaXN0Q2xpcHBlclB1c2goeCwgeSArIHlvZmZzLCBlZmZfd2lkdGggLSBwYWQsIGVudHJ5X2hlaWdodCk7XG4gICAgICAgIGxldCBkaWRfdGFiID0gZmFsc2U7XG4gICAgICAgIGxldCB0ZXh0X3kgPSB5ICsgeW9mZnM7XG4gICAgICAgIGlmIChkaXNwbGF5LnRhYl9zdG9wKSB7XG4gICAgICAgICAgbGV0IHN0ciA9IGl0ZW0ubmFtZTtcbiAgICAgICAgICBsZXQgdGFiX2lkeCA9IHN0ci5pbmRleE9mKCdcXHQnKTtcbiAgICAgICAgICBpZiAodGFiX2lkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGRpZF90YWIgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHByZSA9IHN0ci5zbGljZSgwLCB0YWJfaWR4KTtcbiAgICAgICAgICAgIGxldCBwb3N0ID0gc3RyLnNsaWNlKHRhYl9pZHggKyAxKTtcbiAgICAgICAgICAgIGxldCB4MSA9IHggKyBkaXNwbGF5LnhwYWQ7XG4gICAgICAgICAgICBsZXQgeDIgPSB4ICsgZGlzcGxheS54cGFkICsgZGlzcGxheS50YWJfc3RvcCArIHBhZDtcbiAgICAgICAgICAgIGxldCB3MSA9IGRpc3BsYXkudGFiX3N0b3A7XG4gICAgICAgICAgICBsZXQgdzIgPSBlZmZfd2lkdGggLSBkaXNwbGF5LnRhYl9zdG9wIC0gZGlzcGxheS54cGFkICogMiAtIHBhZDtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5LnVzZV9tYXJrdXApIHtcbiAgICAgICAgICAgICAgbGV0IG1kID0ge307XG4gICAgICAgICAgICAgIG1kLmFsaWduID0gZ2xvdl9mb250LkFMSUdOLkhGSVQ7XG4gICAgICAgICAgICAgIG1kLnhfc2l6ZSA9IG1kLnlfc2l6ZSA9IGZvbnRfaGVpZ2h0O1xuICAgICAgICAgICAgICBtZC53ID0gdzE7XG4gICAgICAgICAgICAgIG1kLmggPSAxO1xuICAgICAgICAgICAgICBtZC5zdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICBnbG92X21hcmt1cC5wcmludChtZCwgeDEsIHRleHRfeSwgeiArIDIsIHByZSk7XG4gICAgICAgICAgICAgIG1kLncgPSB3MjtcbiAgICAgICAgICAgICAgZ2xvdl9tYXJrdXAucHJpbnQobWQsIHgyLCB0ZXh0X3ksIHogKyAyLCBwb3N0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeDEsIHRleHRfeSwgeiArIDIsIGZvbnRfaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGdsb3ZfZm9udC5BTElHTi5IRklUIHwgZ2xvdl9mb250LkFMSUdOLlZDRU5URVIsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgICAgICAgIHcxLCBlbnRyeV9oZWlnaHQsIHByZSk7XG4gICAgICAgICAgICAgIGZvbnQuZHJhd1NpemVkQWxpZ25lZChzdHlsZSwgeDIsIHRleHRfeSwgeiArIDIsIGZvbnRfaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGdsb3ZfZm9udC5BTElHTi5IRklUIHwgZ2xvdl9mb250LkFMSUdOLlZDRU5URVIsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgICAgICAgIHcyLCBlbnRyeV9oZWlnaHQsIHBvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpZF90YWIpIHtcbiAgICAgICAgICBsZXQgbWQgPSB7fTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgIG1kLmFsaWduID0gKGl0ZW0uY2VudGVyZWQgfHwgZGlzcGxheS5jZW50ZXJlZCA/IGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSRklUIDogZ2xvdl9mb250LkFMSUdOLkhGSVQpIHxcbiAgICAgICAgICAgIGdsb3ZfZm9udC5BTElHTi5WQ0VOVEVSO1xuICAgICAgICAgIG1kLnhfc2l6ZSA9IG1kLnlfc2l6ZSA9IGZvbnRfaGVpZ2h0O1xuICAgICAgICAgIG1kLncgPSBlZmZfd2lkdGggLSBkaXNwbGF5LnhwYWQgKiAyO1xuICAgICAgICAgIG1kLmggPSBlbnRyeV9oZWlnaHQ7XG4gICAgICAgICAgbWQuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICBsZXQgeHggPSB4ICsgZGlzcGxheS54cGFkO1xuICAgICAgICAgIGxldCB6eiA9IHogKyAyO1xuICAgICAgICAgIGlmIChkaXNwbGF5LnVzZV9tYXJrdXApIHtcbiAgICAgICAgICAgIGdsb3ZfbWFya3VwLnByaW50KG1kLCB4eCwgdGV4dF95LCB6eiwgaXRlbS5uYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKG1kLnN0eWxlLCB4eCwgdGV4dF95LCB6eiwgbWQueF9zaXplLFxuICAgICAgICAgICAgICBtZC5hbGlnbiwgbWQudywgbWQuaCwgaXRlbS5uYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3ByaXRlTGlzdENsaXBwZXJQb3AoKTtcbiAgICAgICAgLy8gaWYgKGRpc3BsYXkuc2VsZWN0aW9uX2hpZ2hsaWdodCAmJiB0aGlzLnNlbGVjdGVkID09PSBpICYmIHNob3dfc2VsZWN0aW9uKSB7XG4gICAgICAgIC8vICAgbGV0IGdyb3cgPSAwLjIgKiAoMSAtIGJvdW5jZV9hbXQpO1xuICAgICAgICAvLyAgIGRpc3BsYXkuc2VsZWN0aW9uX2hpZ2hsaWdodC5EcmF3U3RyZXRjaGVkKFxuICAgICAgICAvLyAgICAgeCAtIGdyb3cgKiBlZmZfd2lkdGgsIHkgLSBncm93ICogZW50cnlfaGVpZ2h0LCB6ICsgMS41LFxuICAgICAgICAvLyAgICAgZWZmX3dpZHRoICogKDEgKyAyICogZ3JvdyksIGVudHJ5X2hlaWdodCAqICgxICsgMiAqIGdyb3cpLCAwLCAweEZGKTtcbiAgICAgICAgLy8gfVxuICAgICAgICB5ICs9IGVudHJ5X2hlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmIChkb19zY3JvbGwpIHtcbiAgICAgICAgdGhpcy5zYS5lbmQoeSk7XG4gICAgICAgIHkgPSB5X3NhdmUgKyBzY3JvbGxfaGVpZ2h0O1xuICAgICAgICB4ID0geF9zYXZlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy53YXNfY2xpY2tlZCAmJiB0aGlzLmlzX2Ryb3Bkb3duKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd25fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjbGlwX3BhdXNlKSB7XG4gICAgICBjbGlwUmVzdW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNfZHJvcGRvd24pIHtcbiAgICAgIHogPSB6X3NhdmU7XG4gICAgICB4ID0gZHJvcGRvd25feDtcbiAgICAgIHkgPSBkcm9wZG93bl95O1xuICAgICAgLy8gZGlzcGxheSBoZWFkZXJcbiAgICAgIGxldCBjb2xvcjAgPSBjb2xvcl93aGl0ZTtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIGNvbG9yMCA9IGNvbG9yX2dyYXk4MDtcbiAgICAgIH1cbiAgICAgIC8vIGxldCBjb2xvcjEgPSBjb2xvcl93aGl0ZTtcbiAgICAgIC8vIGxldCBkcm9wZG93bl9yZWN0ID0gZ2xvdl91aS5zcHJpdGVzLm1lbnVfaGVhZGVyLnVpZGF0YS5yZWN0c1syXTtcbiAgICAgIC8vIGxldCBkcm9wZG93bl93aWR0aCA9IChkcm9wZG93bl9yZWN0WzJdIC0gZHJvcGRvd25fcmVjdFswXSkgLyAoZHJvcGRvd25fcmVjdFszXSAtIGRyb3Bkb3duX3JlY3RbMV0pICpcbiAgICAgIC8vICAgZW50cnlfaGVpZ2h0O1xuICAgICAgLy8gbGV0IGRyb3Bkb3duX3ggPSB4ICsgd2lkdGggLSBkcm9wZG93bl93aWR0aDtcbiAgICAgIC8vaW50IGRyb3Bkb3duX3cgPSBnbG92X3VpX21lbnVfaGVhZGVyLnJpZ2h0LkdldFRpbGVXaWR0aCgpO1xuICAgICAgbGV0IGRyb3Bkb3duX3BhcmFtID0ge1xuICAgICAgICB4LCB5LCB6OiB6ICsgMiAtIDAuMSxcbiAgICAgICAgdzogd2lkdGgsIGg6IGVudHJ5X2hlaWdodCxcbiAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsXG4gICAgICB9O1xuICAgICAgbGV0IGNsaWNrZWQgPSBmYWxzZTtcbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiBnbG92X2lucHV0LmNsaWNrKGRyb3Bkb3duX3BhcmFtKSkge1xuICAgICAgICBnbG92X3VpLmZvY3VzU3RlYWwodGhpcyk7XG4gICAgICAgIGNsaWNrZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRyb3Bkb3duX3Zpc2libGUgPSAhdGhpcy5kcm9wZG93bl92aXNpYmxlO1xuICAgICAgICB0aGlzLnByZV9kcm9wZG93bl9zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGVkO1xuICAgICAgICBjb2xvcjAgPSBjb2xvcl9ncmF5RDA7XG4gICAgICAgIC8vIGNvbG9yMSA9IGNvbG9yX2dyYXk4MDtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgZ2xvdl9pbnB1dC5tb3VzZU92ZXIoe1xuICAgICAgICB4LCB5LCB3OiB3aWR0aCwgaDogZW50cnlfaGVpZ2h0XG4gICAgICB9KSkge1xuICAgICAgICBnbG92X3VpLnNldE1vdXNlT3Zlcih0aGlzKTtcbiAgICAgICAgY29sb3IwID0gY29sb3JfZ3JheUQwO1xuICAgICAgICAvLyBjb2xvcjEgPSBjb2xvcl9ncmF5ODA7XG4gICAgICB9XG4gICAgICBnbG92X3VpLmNoZWNrSG9va3MoZHJvcGRvd25fcGFyYW0sIGNsaWNrZWQpO1xuICAgICAgZ2xvdl91aS5kcmF3SEJveCh7XG4gICAgICAgIHgsIHksIHo6IHogKyAxLFxuICAgICAgICB3OiB3aWR0aCwgaDogZW50cnlfaGVpZ2h0XG4gICAgICB9LCBnbG92X3VpLnNwcml0ZXMubWVudV9oZWFkZXIsIGNvbG9yMCk7IC8vIFRPRE86IG9ubHkgcGllY2VzIDEgYW5kIDI/XG4gICAgICAvLyBnbG92X3VpLmRyYXdfbGlzdC5xdWV1ZShnbG92X3VpLnNwcml0ZXMubWVudV9oZWFkZXIsXG4gICAgICAvLyAgIGRyb3Bkb3duX3gsIHksIHogKyAxLjUsIGNvbG9yMSwgW2Ryb3Bkb3duX3dpZHRoLCBlbnRyeV9oZWlnaHQsIDEsIDFdLFxuICAgICAgLy8gICBnbG92X3VpLnNwcml0ZXMubWVudV9oZWFkZXIudWlkYXRhLnJlY3RzWzJdKTtcbiAgICAgIGxldCBlZmZfc2VsZWN0aW9uID0gdGhpcy5pc19kcm9wZG93biAmJiB0aGlzLmRyb3Bkb3duX3Zpc2libGUgJiYgdGhpcy5wcmVfZHJvcGRvd25fc2VsZWN0aW9uICE9PSB1bmRlZmluZWQgP1xuICAgICAgICB0aGlzLnByZV9kcm9wZG93bl9zZWxlY3Rpb24gOlxuICAgICAgICB0aGlzLnNlbGVjdGVkO1xuICAgICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKGZvY3VzZWQgPyBnbG92X3VpLmZvbnRfc3R5bGVfZm9jdXNlZCA6IGdsb3ZfdWkuZm9udF9zdHlsZV9ub3JtYWwsXG4gICAgICAgIHggKyBkaXNwbGF5LnhwYWQsIHksIHogKyAyLFxuICAgICAgICBmb250X2hlaWdodCwgZ2xvdl9mb250LkFMSUdOLkhGSVQgfCBnbG92X2ZvbnQuQUxJR04uVkNFTlRFUiwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHdpZHRoIC0gZGlzcGxheS54cGFkIC0gZ2xvdl91aS5zcHJpdGVzLm1lbnVfaGVhZGVyLnVpZGF0YS53aFsyXSAqIGVudHJ5X2hlaWdodCwgZW50cnlfaGVpZ2h0LFxuICAgICAgICB0aGlzLml0ZW1zW2VmZl9zZWxlY3Rpb25dLm5hbWUpO1xuICAgICAgeSArPSBlbnRyeV9oZWlnaHQ7XG4gICAgICB5cmV0ID0geSArIDI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWQgIT09IG9sZF9zZWwgfHwgc2VsX2NoYW5nZWQpIHtcbiAgICAgIGdsb3ZfdWkucGxheVVJU291bmQoJ3JvbGxvdmVyJyk7XG4gICAgfVxuXG4gICAgaWYgKGZvY3VzZWQgJiYgdGhpcy5hdXRvX3VuZm9jdXMpIHtcbiAgICAgIGlmIChnbG92X2lucHV0LmNsaWNrKHsgcGVlazogdHJ1ZSB9KSkge1xuICAgICAgICBnbG92X3VpLmZvY3VzU3RlYWwoJ2NhbnZhcycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZXhwZWN0ZWRfZnJhbWVfaW5kZXggPSBnbG92X2VuZ2luZS5nZXRGcmFtZUluZGV4KCkgKyAxO1xuICAgIHggPSAxMDtcbiAgICB5ICs9IDU7XG4gICAgaWYgKCF0aGlzLmlzX2Ryb3Bkb3duKSB7XG4gICAgICB5cmV0ID0geTtcbiAgICB9XG4gICAgYXNzZXJ0LmVxdWFsKHlyZXQgLSB5MCwgdGhpcy5nZXRIZWlnaHQoKSk7XG4gICAgcmV0dXJuIHlyZXQgLSB5MDtcbiAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gIGlmICghZm9udCkge1xuICAgIGZvbnQgPSBnbG92X3VpLmZvbnQ7XG4gIH1cbiAgcmV0dXJuIG5ldyBHbG92U2VsZWN0aW9uQm94KHBhcmFtcyk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5sZXQgbW9kaWZpZWQgPSB7fTtcbmV4cG9ydHMudHJ1ZSA9IHRydWU7IC8vIGZvciBwZXJmLmpzXG5cbmNvbnN0IHsgdGl0bGVDYXNlIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgcmV0dXJuIGV4cG9ydHNba2V5XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gIGlmIChleHBvcnRzW2tleV0gIT09IHZhbHVlKSB7XG4gICAgY21kX3BhcnNlLmhhbmRsZShudWxsLCBgJHtrZXl9ICR7dmFsdWV9YCwgbnVsbCk7IC8vIHVzZXMgZGVmYXVsdCBjbWRfcGFyc2UgaGFuZGxlclxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBc3luYyhrZXksIHZhbHVlKSB7XG4gIGVuZ2luZS5wb3N0VGljayh7IGZuOiBzZXQuYmluZChudWxsLCBrZXksIHZhbHVlKSB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1blRpbWVEZWZhdWx0KGtleSwgbmV3X2RlZmF1bHQpIHtcbiAgLy8gU2V0IGEgZGVmYXVsdCB2YWx1ZSB0aGF0IGNhbm5vdCBiZSBkZXRlcm1pbmVkIGF0IGxvYWQgdGltZVxuICAvLyBPbmx5IHNldCBpZiB0aGlzIGhhcyBuZXZlciBiZWVuIG1vZGlmaWVkXG4gIGlmICghbW9kaWZpZWRba2V5XSkge1xuICAgIC8vIERvZXMgKm5vdCogY2FsbCBjbWRfcGFyc2Uuc2V0IC0gd2lsbCBub3Qgd3JpdGUgdG8gc3RvcmFnZSwgc3RpbGwgYXQgXCJkZWZhdWx0XCIgc2V0dGluZ1xuICAgIGV4cG9ydHNba2V5XSA9IG5ld19kZWZhdWx0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihkZWZzKSB7XG4gIE9iamVjdC5rZXlzKGRlZnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGxldCBkZWYgPSBkZWZzW2tleV07XG4gICAgZXhwb3J0c1trZXldID0gZGVmLmRlZmF1bHRfdmFsdWU7XG4gICAgY21kX3BhcnNlLnJlZ2lzdGVyVmFsdWUoa2V5LCB7XG4gICAgICB0eXBlOiBkZWYudHlwZSxcbiAgICAgIGxhYmVsOiBkZWYubGFiZWwgfHwgdGl0bGVDYXNlKGtleS5yZXBsYWNlKC9fL2csICcgJykpLFxuICAgICAgcmFuZ2U6IGRlZi5yYW5nZSxcbiAgICAgIGdldDogKCkgPT4gZXhwb3J0c1trZXldLFxuICAgICAgc2V0OiAodikgPT4ge1xuICAgICAgICBtb2RpZmllZFtrZXldID0gdHJ1ZTtcbiAgICAgICAgZXhwb3J0c1trZXldID0gdjtcbiAgICAgIH0sXG4gICAgICBzdG9yZTogdHJ1ZSxcbiAgICAgIHZlcjogZGVmLnZlcixcbiAgICAgIGhlbHA6IGRlZi5oZWxwLFxuICAgICAgdXNhZ2U6IGRlZi51c2FnZSxcbiAgICAgIG9uX2NoYW5nZTogZGVmLm9uX2NoYW5nZSxcbiAgICB9KTtcbiAgfSk7XG59XG5cbnJlZ2lzdGVyKHtcbiAgbWF4X2Zwczoge1xuICAgIGxhYmVsOiAnTWF4IEZQUycsXG4gICAgZGVmYXVsdF92YWx1ZTogMCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgfSxcbiAgcmVuZGVyX3NjYWxlOiB7XG4gICAgbGFiZWw6ICdSZW5kZXIgU2NhbGUgKDNEKScsXG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgICByYW5nZTogWzAuMSwxXSxcbiAgfSxcbiAgcmVuZGVyX3NjYWxlX21vZGU6IHtcbiAgICBsYWJlbDogJ1JlbmRlciBTY2FsZSBNb2RlJyxcbiAgICBkZWZhdWx0X3ZhbHVlOiAwLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMl0sXG4gIH0sXG4gIHJlbmRlcl9zY2FsZV9hbGw6IHtcbiAgICBsYWJlbDogJ1JlbmRlciBTY2FsZSAoQWxsKScsXG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgICByYW5nZTogWzAuMzMzMyw0XSxcbiAgfSxcbiAgcmVuZGVyX3NjYWxlX2NsZWFyOiB7XG4gICAgbGFiZWw6ICdSZW5kZXIgU2NhbGUgRnVsbCBDbGVhcicsXG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxuICBmb3Y6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiA2MCxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9GTE9BVCxcbiAgICByYW5nZTogWzQwLDEwMF0sXG4gIH0sXG59KTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmV4cG9ydCBjb25zdCBNQVhfU0VNQU5USUMgPSA1O1xuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCB7IGVycm9yUmVwb3J0U2V0RGV0YWlscywgZ2xvdkVycm9yUmVwb3J0IH0gPSByZXF1aXJlKCcuL2Vycm9yX3JlcG9ydC5qcycpO1xuY29uc3QgeyBmaWxld2F0Y2hPbiB9ID0gcmVxdWlyZSgnLi9maWxld2F0Y2guanMnKTtcbmNvbnN0IHsgbWF0Y2hBbGwgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHRleHR1cmVzVW5sb2FkRHluYW1pYyB9ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyB3ZWJGU0dldEZpbGUgfSA9IHJlcXVpcmUoJy4vd2ViZnMuanMnKTtcblxubGV0IGxhc3RfaWQgPSAwO1xuXG5sZXQgYm91bmRfcHJvZyA9IG51bGw7XG5cbmV4cG9ydCBjb25zdCBzZW1hbnRpYyA9IHtcbiAgJ0FUVFIwJzogMCxcbiAgJ1BPU0lUSU9OJzogMCxcbiAgJ0FUVFIxJzogMSxcbiAgJ0NPTE9SJzogMSxcbiAgJ0NPTE9SXzAnOiAxLFxuICAnQVRUUjInOiAyLFxuICAnVEVYQ09PUkQnOiAyLFxuICAnVEVYQ09PUkRfMCc6IDIsXG4gICdBVFRSMyc6IDMsXG4gICdOT1JNQUwnOiAzLFxuICAnQVRUUjQnOiA0LFxuICAnVEVYQ09PUkRfMSc6IDQsXG59O1xuXG5leHBvcnQgbGV0IGdsb2JhbHM7XG5sZXQgZ2xvYmFsX2RlZmluZXM7XG5cbmxldCBlcnJvcl9mcDtcbmxldCBlcnJvcl92cDtcblxubGV0IHNoYWRlcnMgPSBbXTtcblxuY29uc3QgdnBfYXR0cl9yZWdleCA9IC9hdHRyaWJ1dGUgW14gXSsgKFteIDtdKyk7L2c7XG5jb25zdCB1bmlmb3JtX3JlZ2V4ID0gL3VuaWZvcm0gKD86KD86bG93fG1lZGl1bXxoaWdoKXAgKT8oKD86KD86dmVjfG1hdClcXGQoPzp4XFxkKT98ZmxvYXQpIFteIDtdKyk7L2c7XG5jb25zdCBzYW1wbGVyX3JlZ2V4ID0gL3VuaWZvcm0gc2FtcGxlcig/OjJEfEN1YmUpIChbXiA7XSspOy9nO1xuY29uc3QgaW5jbHVkZV9yZWdleCA9IC9cXG4jaW5jbHVkZSBcIihbXlwiXSspXCIvZztcblxuY29uc3QgdHlwZV9zaXplID0ge1xuICBmbG9hdDogMSxcbiAgdmVjMjogMioxLFxuICB2ZWMzOiAzKjEsXG4gIHZlYzQ6IDQqMSxcbiAgbWF0MzogMyozLFxuICBtYXQ0OiA0KjQsXG59O1xuXG5sZXQgaW5jbHVkZXMgPSB7fTtcblxuZnVuY3Rpb24gbG9hZEluY2x1ZGUoa2V5KSB7XG4gIGxldCB0ZXh0ID0gd2ViRlNHZXRGaWxlKGluY2x1ZGVzW2tleV0uZmlsZW5hbWUsICd0ZXh0Jyk7XG4gIGluY2x1ZGVzW2tleV0udGV4dCA9IGBcXG4vLyBmcm9tIGluY2x1ZGUgXCIke2tleX1cIjpcXG4ke3RleHR9XFxuYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEluY2x1ZGUoa2V5LCBmaWxlbmFtZSkge1xuICBhc3NlcnQoIWluY2x1ZGVzW2tleV0pO1xuICBpbmNsdWRlc1trZXldID0geyBmaWxlbmFtZSB9O1xuICBsb2FkSW5jbHVkZShrZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhZGVyc1Jlc2V0U3RhdGUoKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBzaGFkZXJzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBzaGFkZXIgPSBzaGFkZXJzW2lpXTtcbiAgICBpZiAoc2hhZGVyLnByb2dyYW1zKSB7XG4gICAgICBmb3IgKGxldCBmcGlkIGluIHNoYWRlci5wcm9ncmFtcykge1xuICAgICAgICBsZXQgcHJvZyA9IHNoYWRlci5wcm9ncmFtc1tmcGlkXTtcbiAgICAgICAgLy9nbC51c2VQcm9ncmFtKHByb2cuaGFuZGxlKTtcbiAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHByb2cudW5pZm9ybXMubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgICAgbGV0IHVuaWYgPSBwcm9nLnVuaWZvcm1zW2pqXTtcbiAgICAgICAgICBmb3IgKGxldCBrayA9IDA7IGtrIDwgdW5pZi5zaXplOyArK2trKSB7XG4gICAgICAgICAgICB1bmlmLnZhbHVlW2trXSA9IE5hTjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy91bmlmb3JtU2V0VmFsdWUodW5pZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYm91bmRfcHJvZyA9IG51bGw7XG4gIGdsLnVzZVByb2dyYW0obnVsbCk7XG59XG5cbmZ1bmN0aW9uIHNldEdMRXJyb3JSZXBvcnREZXRhaWxzKCkge1xuICAvLyBTZXQgc29tZSBkZWJ1ZyBkZXRhaWxzIHdlIG1pZ2h0IHdhbnRcbiAgbGV0IGRldGFpbHMgPSB7XG4gICAgbWF4X2ZyYWdtZW50X3VuaWZvcm1fdmVjdG9yczogZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9GUkFHTUVOVF9VTklGT1JNX1ZFQ1RPUlMpLFxuICAgIG1heF92YXJ5aW5nX3ZlY3RvcnM6IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkFSWUlOR19WRUNUT1JTKSxcbiAgICBtYXhfdmVydGV4X2F0dHJpYnM6IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkVSVEVYX0FUVFJJQlMpLFxuICAgIG1heF92ZXJ0ZXhfdW5pZm9ybV92ZWN0b3JzOiBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMpLFxuICAgIHZlbmRvcjogZ2wuZ2V0UGFyYW1ldGVyKGdsLlZFTkRPUiksXG4gICAgcmVuZGVyZXI6IGdsLmdldFBhcmFtZXRlcihnbC5SRU5ERVJFUiksXG4gICAgd2ViZ2w6IGVuZ2luZS53ZWJnbDIgPyAyIDogMSxcbiAgfTtcbiAgbGV0IGRlYnVnX2luZm8gPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKTtcbiAgaWYgKGRlYnVnX2luZm8pIHtcbiAgICBkZXRhaWxzLnJlbmRlcmVyX3VubWFza2VkID0gZ2wuZ2V0UGFyYW1ldGVyKGRlYnVnX2luZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpO1xuICAgIGRldGFpbHMudmVuZG9yX3VubWFza2VkID0gZ2wuZ2V0UGFyYW1ldGVyKGRlYnVnX2luZm8uVU5NQVNLRURfVkVORE9SX1dFQkdMKTtcbiAgfVxuICBmb3IgKGxldCBrZXkgaW4gZGV0YWlscykge1xuICAgIGVycm9yUmVwb3J0U2V0RGV0YWlscyhrZXksIGRldGFpbHNba2V5XSk7XG4gIH1cbn1cblxubGV0IHJlcG9ydF9xdWV1ZWQgPSBmYWxzZTtcbmxldCBzaGFkZXJfZXJyb3JzO1xubGV0IHNoYWRlcl9lcnJvcnNfYW55X2ZhdGFsO1xuZnVuY3Rpb24gcmVwb3J0U2hhZGVyRXJyb3Iobm9uX2ZhdGFsLCBlcnIpIHtcbiAgZnVuY3Rpb24gZG9SZXBvcnQoKSB7XG4gICAgc2V0R0xFcnJvclJlcG9ydERldGFpbHMoKTtcbiAgICBsZXQgbXNnID0gYFNoYWRlciBlcnJvcihzKTpcXG4gICAgJHtzaGFkZXJfZXJyb3JzLmpvaW4oJ1xcbiAgICAnKX1gO1xuICAgIGlmICghc2hhZGVyX2Vycm9yc19hbnlfZmF0YWwpIHtcbiAgICAgIGdsb3ZFcnJvclJlcG9ydChmYWxzZSwgbXNnLCAnc2hhZGVycy5qcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoZmFsc2UsIG1zZyk7XG4gICAgfVxuICAgIHNoYWRlcl9lcnJvcnMgPSBudWxsO1xuICB9XG4gIGlmICghcmVwb3J0X3F1ZXVlZCkge1xuICAgIHNldFRpbWVvdXQoZG9SZXBvcnQsIDEwMDApO1xuICAgIHJlcG9ydF9xdWV1ZWQgPSB0cnVlO1xuICAgIHNoYWRlcl9lcnJvcnMgPSBbXTtcbiAgICBzaGFkZXJfZXJyb3JzX2FueV9mYXRhbCA9IGZhbHNlO1xuICB9XG4gIHNoYWRlcl9lcnJvcnNfYW55X2ZhdGFsID0gc2hhZGVyX2Vycm9yc19hbnlfZmF0YWwgfHwgIW5vbl9mYXRhbDtcbiAgc2hhZGVyX2Vycm9ycy5wdXNoKGVycik7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW5jbHVkZXModGV4dCkge1xuICBsZXQgc3VwcGxpZWRfdW5pZm9ybXMgPSB7fTtcbiAgdGV4dC5yZXBsYWNlKHVuaWZvcm1fcmVnZXgsIGZ1bmN0aW9uIChzdHIsIGtleSkge1xuICAgIHN1cHBsaWVkX3VuaWZvcm1zW2tleV0gPSB0cnVlO1xuICB9KTtcbiAgdGV4dCA9IHRleHQucmVwbGFjZShpbmNsdWRlX3JlZ2V4LCBmdW5jdGlvbiAoc3RyLCBmaWxlbmFtZSkge1xuICAgIGxldCByZXBsYWNlbWVudCA9IGluY2x1ZGVzW2ZpbGVuYW1lXTtcbiAgICBpZiAoIXJlcGxhY2VtZW50KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZXZhbHVhdGUgJHtzdHJ9YCk7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50LnRleHQ7XG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZSB1bmlmb3Jtc1xuICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQucmVwbGFjZSh1bmlmb3JtX3JlZ2V4LCBmdW5jdGlvbiAoc3RyMiwga2V5KSB7XG4gICAgICBpZiAoc3VwcGxpZWRfdW5pZm9ybXNba2V5XSkge1xuICAgICAgICByZXR1cm4gYC8vIFtyZW1vdmVkICR7a2V5fV1gO1xuICAgICAgfVxuICAgICAgc3VwcGxpZWRfdW5pZm9ybXNba2V5XSA9IHRydWU7XG4gICAgICByZXR1cm4gc3RyMjtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gIH0pO1xuICByZXR1cm4gdGV4dDtcbn1cblxuY29uc3Qgd2ViZ2wyX2hlYWRlciA9IFtcbiAgJyN2ZXJzaW9uIDMwMCBlcycsXG4gICcjZGVmaW5lIFdFQkdMMicsXG5dLmpvaW4oJ1xcbicpO1xuY29uc3Qgd2ViZ2wyX2hlYWRlcl9mcCA9IFtcbiAgd2ViZ2wyX2hlYWRlcixcbiAgJyNkZWZpbmUgdmFyeWluZyBpbicsXG4gICdvdXQgbG93cCB2ZWM0IGZyYWdDb2xvcjsnLFxuICAnI2RlZmluZSBnbF9GcmFnQ29sb3IgZnJhZ0NvbG9yJyxcbiAgJyNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUnLFxuICAnI2RlZmluZSB0ZXh0dXJlQ3ViZSB0ZXh0dXJlJyxcbiAgJydcbl0uam9pbignXFxuJyk7XG5jb25zdCB3ZWJnbDJfaGVhZGVyX3ZwID0gW1xuICB3ZWJnbDJfaGVhZGVyLFxuICAnI2RlZmluZSB2YXJ5aW5nIG91dCcsXG4gICcjZGVmaW5lIGF0dHJpYnV0ZSBpbicsXG4gICcnXG5dLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBTaGFkZXIocGFyYW1zKSB7XG4gIGxldCB7IGZpbGVuYW1lLCBkZWZpbmVzLCBub25fZmF0YWwgfSA9IHBhcmFtcztcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBmaWxlbmFtZSwgJ3N0cmluZycpO1xuICBsZXQgdHlwZSA9IGZpbGVuYW1lLmVuZHNXaXRoKCcuZnAnKSA/IGdsLkZSQUdNRU5UX1NIQURFUiA6IGZpbGVuYW1lLmVuZHNXaXRoKCcudnAnKSA/IGdsLlZFUlRFWF9TSEFERVIgOiAwO1xuICBhc3NlcnQodHlwZSk7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgdGhpcy5ub25fZmF0YWwgPSBub25fZmF0YWw7XG4gIHRoaXMuZGVmaW5lc19hcnIgPSAoZGVmaW5lcyB8fCBbXSk7XG4gIHRoaXMuZGVmaW5lcyA9IHRoaXMuZGVmaW5lc19hcnIubWFwKChhKSA9PiBgI2RlZmluZSAke2F9XFxuYCkuam9pbignJyk7XG4gIHRoaXMuc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICB0aGlzLmlkID0gKytsYXN0X2lkO1xuICBpZiAodHlwZSA9PT0gZ2wuVkVSVEVYX1NIQURFUikge1xuICAgIHRoaXMucHJvZ3JhbXMgPSB7fTtcbiAgfVxuICBzaGFkZXJzLnB1c2godGhpcyk7XG4gIHRoaXMuY29tcGlsZSgpO1xufVxuXG5TaGFkZXIucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB7IHR5cGUsIGZpbGVuYW1lIH0gPSB0aGlzO1xuICBsZXQgaGVhZGVyID0gJyc7XG4gIGxldCB0ZXh0ID0gd2ViRlNHZXRGaWxlKGZpbGVuYW1lLCAndGV4dCcpO1xuICBpZiAoZW5naW5lLndlYmdsMiAmJiB0ZXh0LmluZGV4T2YoJyNwcmFnbWEgV2ViR0wyJykgIT09IC0xKSB7XG4gICAgaGVhZGVyID0gdHlwZSA9PT0gZ2wuVkVSVEVYX1NIQURFUiA/IHdlYmdsMl9oZWFkZXJfdnAgOiB3ZWJnbDJfaGVhZGVyX2ZwO1xuICB9XG4gIHRleHQgPSBgJHtoZWFkZXJ9JHtnbG9iYWxfZGVmaW5lc30ke3RoaXMuZGVmaW5lc30ke3RleHR9YDtcbiAgdGV4dCA9IHBhcnNlSW5jbHVkZXModGV4dCk7XG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyNwcmFnbWEgV2ViR0wyPy9nLCAnJyk7XG4gIGlmICh0eXBlID09PSBnbC5WRVJURVhfU0hBREVSKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbWF0Y2hBbGwodGV4dCwgdnBfYXR0cl9yZWdleCk7XG4gICAgLy8gRW5zdXJlIHRoZXkgYXJlIGtub3duIG5hbWVzIHNvIHdlIGNhbiBnaXZlIHRoZW0gaW5kaWNlc1xuICAgIC8vIEFkZCB0byBzZW1hbnRpY1tdIGFib3ZlIGFzIG5lZWRlZFxuICAgIHRoaXMuYXR0cmlidXRlcy5mb3JFYWNoKCh2KSA9PiBhc3NlcnQoc2VtYW50aWNbdl0gIT09IHVuZGVmaW5lZCkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2FtcGxlcnMgPSBtYXRjaEFsbCh0ZXh0LCBzYW1wbGVyX3JlZ2V4KTtcbiAgICAvLyBFbnN1cmUgYWxsIHNhbXBsZXJzIGVuZCBpbiBhIHVuaXF1ZSBudW1iZXJcbiAgICBsZXQgZm91bmQgPSBbXTtcbiAgICB0aGlzLnNhbXBsZXJzLmZvckVhY2goKHYpID0+IHtcbiAgICAgIGxldCBudW0gPSBOdW1iZXIodi5zbGljZSgtMSkpO1xuICAgICAgYXNzZXJ0KCFpc05hTihudW0pKTtcbiAgICAgIGFzc2VydCghZm91bmRbbnVtXSk7XG4gICAgICBmb3VuZFtudW1dID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICB0aGlzLnVuaWZvcm1zID0gbWF0Y2hBbGwodGV4dCwgdW5pZm9ybV9yZWdleCk7XG4gIC8vIEVuc3VyZSBhIGtub3duIHR5cGVcbiAgdGhpcy51bmlmb3Jtcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgbGV0IHR5cGVfbmFtZSA9IHYuc3BsaXQoJyAnKVswXTtcbiAgICBhc3NlcnQodHlwZV9zaXplW3R5cGVfbmFtZV0pO1xuICB9KTtcbiAgZ2wuc2hhZGVyU291cmNlKHRoaXMuc2hhZGVyLCB0ZXh0KTtcbiAgZ2wuY29tcGlsZVNoYWRlcih0aGlzLnNoYWRlcik7XG5cbiAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodGhpcy5zaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JfdGV4dCA9IGdsLmdldFNoYWRlckluZm9Mb2codGhpcy5zaGFkZXIpO1xuICAgIGlmIChlcnJvcl90ZXh0KSB7IC8vIHNvbWV0aW1lcyBudWxsIG9uIGlPU1xuICAgICAgZXJyb3JfdGV4dCA9IGVycm9yX3RleHQucmVwbGFjZSgvXFwwL2csICcnKS50cmltKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlZmluZXNfYXJyLmxlbmd0aCkge1xuICAgICAgZmlsZW5hbWUgKz0gYCgke3RoaXMuZGVmaW5lc19hcnIuam9pbignLCcpfSlgO1xuICAgIH1cbiAgICBjb25zb2xlW3RoaXMubm9uX2ZhdGFsID8gJ3dhcm4nIDogJ2Vycm9yJ10oYEVycm9yIGNvbXBpbGluZyAke2ZpbGVuYW1lfTogJHtlcnJvcl90ZXh0fWApO1xuICAgIHJlcG9ydFNoYWRlckVycm9yKHRoaXMubm9uX2ZhdGFsLCBgJHtmaWxlbmFtZX06ICR7ZXJyb3JfdGV4dH1gKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3bGluZS1wZXItY2hhaW5lZC1jYWxsXG4gICAgY29uc29sZS5sb2codGV4dC5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBpZHgpID0+IGAke2lkeCsxfTogJHtsaW5lfWApLmpvaW4oJ1xcbicpKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShmaWxlbmFtZSkge1xuICBpZiAodHlwZW9mIGZpbGVuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBuZXcgU2hhZGVyKGZpbGVuYW1lKTtcbiAgfVxuICByZXR1cm4gbmV3IFNoYWRlcih7IGZpbGVuYW1lIH0pO1xufVxuXG5mdW5jdGlvbiB1bmlmb3JtU2V0VmFsdWUodW5pZikge1xuICBzd2l0Y2ggKHVuaWYud2lkdGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkZWZhdWx0LWNhc2VcbiAgICBjYXNlIDE6XG4gICAgICBnbC51bmlmb3JtMWZ2KHVuaWYubG9jYXRpb24sIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgZ2wudW5pZm9ybTJmdih1bmlmLmxvY2F0aW9uLCB1bmlmLnZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGdsLnVuaWZvcm0zZnYodW5pZi5sb2NhdGlvbiwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWYubG9jYXRpb24sIHVuaWYudmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA5OlxuICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1bmlmLmxvY2F0aW9uLCBmYWxzZSwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE2OlxuICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih1bmlmLmxvY2F0aW9uLCBmYWxzZSwgdW5pZi52YWx1ZSk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBsaW5rKHZwLCBmcCkge1xuICBsZXQgcHJvZyA9IHZwLnByb2dyYW1zW2ZwLmlkXSA9IHtcbiAgICBoYW5kbGU6IGdsLmNyZWF0ZVByb2dyYW0oKSxcbiAgICB1bmlmb3JtczogbnVsbCxcbiAgfTtcbiAgaWYgKCFwcm9nLmhhbmRsZSkge1xuICAgIGFzc2VydChmYWxzZSwgYGdsLmNyZWF0ZVByb2dyYW0oKSByZXR1cm5lZCAke3Byb2cuaGFuZGxlfSR7Z2wuY3JlYXRlUHJvZ3JhbSgpID8gJywgcmV0cnkgd291bGQgc3VjY2VlZCcgOiAnJ31gKTtcbiAgfVxuICBnbC5hdHRhY2hTaGFkZXIocHJvZy5oYW5kbGUsIHZwLnNoYWRlcik7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9nLmhhbmRsZSwgZnAuc2hhZGVyKTtcbiAgLy8gY2FsbCB0aGlzIGZvciBhbGwgcmVsZXZhbnQgc2VtYW50aWNcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHZwLmF0dHJpYnV0ZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2cuaGFuZGxlLCBzZW1hbnRpY1t2cC5hdHRyaWJ1dGVzW2lpXV0sIHZwLmF0dHJpYnV0ZXNbaWldKTtcbiAgfVxuICBnbC5saW5rUHJvZ3JhbShwcm9nLmhhbmRsZSk7XG5cbiAgcHJvZy52YWxpZCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZy5oYW5kbGUsIGdsLkxJTktfU1RBVFVTKTtcbiAgaWYgKCFwcm9nLnZhbGlkKSB7XG4gICAgcmVwb3J0U2hhZGVyRXJyb3IoZmFsc2UsIGBTaGFkZXIgbGluayBlcnJvciAoJHt2cC5maWxlbmFtZX0gJiAke2ZwLmZpbGVuYW1lfSk6YCArXG4gICAgICBgICR7Z2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZy5oYW5kbGUpfWApO1xuICAgIGNvbnNvbGUuZXJyb3IoYFNoYWRlciBsaW5rIGVycm9yOiAke2dsLmdldFByb2dyYW1JbmZvTG9nKHByb2cuaGFuZGxlKX1gKTtcbiAgfVxuXG4gIGdsLnVzZVByb2dyYW0ocHJvZy5oYW5kbGUpO1xuICBib3VuZF9wcm9nID0gcHJvZztcblxuICBsZXQgdW5pZm9ybXMgPSB2cC51bmlmb3Jtcy5zbGljZSgwKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGZwLnVuaWZvcm1zLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBuYW1lID0gZnAudW5pZm9ybXNbaWldO1xuICAgIGlmICh1bmlmb3Jtcy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgdW5pZm9ybXMucHVzaChuYW1lKTtcbiAgICB9XG4gIH1cbiAgcHJvZy51bmlmb3JtcyA9IHVuaWZvcm1zLm1hcCgodikgPT4ge1xuICAgIHYgPSB2LnNwbGl0KCcgJyk7XG4gICAgbGV0IHR5cGUgPSB2WzBdO1xuICAgIGxldCBuYW1lID0gdlsxXTtcbiAgICBsZXQgY291bnQgPSAxO1xuICAgIGxldCBtID0gbmFtZS5tYXRjaCgvKFteW10rKVxcWyhcXGQrKVxcXS8pO1xuICAgIGlmIChtKSB7XG4gICAgICBuYW1lID0gbVsxXTtcbiAgICAgIGNvdW50ID0gTnVtYmVyKG1bMl0pO1xuICAgIH1cbiAgICBsZXQgbG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZy5oYW5kbGUsIG5hbWUpO1xuICAgIGlmIChsb2NhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgLy8gTm90IGluIGVpdGhlciBzaGFkZXIsIChjb21tZW50ZWQgb3V0PyksIHJlbW92ZSAodmlhIGZpbHRlciBiZWxvdylcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgd2lkdGggPSB0eXBlX3NpemVbdHlwZV07XG4gICAgbGV0IHNpemUgPSB3aWR0aCAqIGNvdW50O1xuICAgIGxldCBnbG9iID0gZ2xvYmFsc1tuYW1lXTtcbiAgICBsZXQgdmFsdWUgPSBuZXcgRmxvYXQzMkFycmF5KHNpemUpO1xuICAgIC8vIHNldCBpbml0aWFsIHZhbHVlXG4gICAgbGV0IHVuaWYgPSB7XG4gICAgICBuYW1lLFxuICAgICAgc2l6ZSxcbiAgICAgIHdpZHRoLFxuICAgICAgY291bnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZ2xvYixcbiAgICB9O1xuICAgIHVuaWZvcm1TZXRWYWx1ZSh1bmlmKTtcbiAgICByZXR1cm4gdW5pZjtcbiAgfSkuZmlsdGVyKCh2KSA9PiB2KTtcblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZnAuc2FtcGxlcnMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG5hbWUgPSBmcC5zYW1wbGVyc1tpaV07XG4gICAgbGV0IG51bSA9IE51bWJlcihuYW1lLnNsaWNlKC0xKSk7XG4gICAgbGV0IGxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2cuaGFuZGxlLCBuYW1lKTtcbiAgICBpZiAobG9jYXRpb24gIT09IG51bGwpIHtcbiAgICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgbnVtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKHZwLCBmcCwgcGFyYW1zKSB7XG4gIGxldCBwcm9nID0gdnAucHJvZ3JhbXNbZnAuaWRdO1xuICBpZiAoIXByb2cpIHtcbiAgICBwcm9nID0gbGluayh2cCwgZnApO1xuICB9XG4gIGlmICghcHJvZy52YWxpZCkge1xuICAgIHByb2cgPSBsaW5rKHZwLCBlcnJvcl9mcCk7XG4gICAgaWYgKCFwcm9nLnZhbGlkKSB7XG4gICAgICBwcm9nID0gbGluayhlcnJvcl92cCwgZXJyb3JfZnApO1xuICAgIH1cbiAgICB2cC5wcm9ncmFtc1tmcC5pZF0gPSBwcm9nO1xuICB9XG4gIGlmIChwcm9nICE9PSBib3VuZF9wcm9nKSB7XG4gICAgYm91bmRfcHJvZyA9IHByb2c7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9nLmhhbmRsZSk7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHByb2cudW5pZm9ybXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IHVuaWYgPSBwcm9nLnVuaWZvcm1zW2lpXTtcbiAgICBsZXQgdmFsdWUgPSBwYXJhbXNbdW5pZi5uYW1lXSB8fCB1bmlmLmdsb2I7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBkaWZmID0gZmFsc2U7XG4gICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHVuaWYuc2l6ZTsgKytqaikge1xuICAgICAgaWYgKHZhbHVlW2pqXSAhPT0gdW5pZi52YWx1ZVtqal0pIHtcbiAgICAgICAgZGlmZiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlmZikge1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IHVuaWYuc2l6ZTsgKytqaikge1xuICAgICAgICB1bmlmLnZhbHVlW2pqXSA9IHZhbHVlW2pqXTtcbiAgICAgIH1cbiAgICAgIHVuaWZvcm1TZXRWYWx1ZSh1bmlmKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcmVzZXJ2ZWQgPSB7IFdFQkdMMjogMSB9O1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlc2VydmVkRGVmaW5lKGtleSkge1xuICByZXNlcnZlZFtrZXldID0gMTtcbn1cbmxldCBpbnRlcm5hbF9kZWZpbmVzID0ge307XG5mdW5jdGlvbiBhcHBseURlZmluZXMoKSB7XG4gIGdsb2JhbF9kZWZpbmVzID0gT2JqZWN0LmtleXMoZW5naW5lLmRlZmluZXMpLmZpbHRlcigodikgPT4gIXJlc2VydmVkW3ZdKVxuICAgIC5jb25jYXQoT2JqZWN0LmtleXMoaW50ZXJuYWxfZGVmaW5lcykpXG4gICAgLm1hcCgodikgPT4gYCNkZWZpbmUgJHt2fVxcbmApXG4gICAgLmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBzaGFkZXJSZWxvYWQoKSB7XG4gIGlmIChzaGFkZXJzLmxlbmd0aCkge1xuICAgIHdpbmRvdy5kZWJ1Z21zZygnJywgdHJ1ZSk7XG4gICAgZ2wudXNlUHJvZ3JhbShudWxsKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2hhZGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGxldCBwcm9ncmFtcyA9IHNoYWRlcnNbaWldLnByb2dyYW1zO1xuICAgICAgaWYgKHByb2dyYW1zKSB7XG4gICAgICAgIGZvciAobGV0IGlkIGluIHByb2dyYW1zKSB7XG4gICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtc1tpZF0uaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXJzW2lpXS5wcm9ncmFtcyA9IHt9O1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2hhZGVycy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHNoYWRlcnNbaWldLmNvbXBpbGUoKTtcbiAgICB9XG4gICAgdGV4dHVyZXNVbmxvYWREeW5hbWljKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZURlZmluZXNDaGFuZ2VkKCkge1xuICBhcHBseURlZmluZXMoKTtcbiAgc2hhZGVyUmVsb2FkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnRlcm5hbERlZmluZXMobmV3X3ZhbHVlcykge1xuICBmb3IgKGxldCBrZXkgaW4gbmV3X3ZhbHVlcykge1xuICAgIGlmIChuZXdfdmFsdWVzW2tleV0pIHtcbiAgICAgIGludGVybmFsX2RlZmluZXNba2V5XSA9IG5ld192YWx1ZXNba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIGludGVybmFsX2RlZmluZXNba2V5XTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlRGVmaW5lc0NoYW5nZWQoKTtcbn1cblxuZnVuY3Rpb24gb25TaGFkZXJDaGFuZ2UoZmlsZW5hbWUpIHtcbiAgZm9yIChsZXQga2V5IGluIGluY2x1ZGVzKSB7XG4gICAgbG9hZEluY2x1ZGUoa2V5KTtcbiAgfVxuICBzaGFkZXJSZWxvYWQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAoX2dsb2JhbHMpIHtcbiAgYXBwbHlEZWZpbmVzKCk7XG4gIGdsb2JhbHMgPSBfZ2xvYmFscztcblxuICBlcnJvcl9mcCA9IGNyZWF0ZSgnZ2xvdi9zaGFkZXJzL2Vycm9yLmZwJyk7XG4gIGVycm9yX3ZwID0gY3JlYXRlKCdnbG92L3NoYWRlcnMvZXJyb3IudnAnKTtcblxuICBmaWxld2F0Y2hPbignLmZwJywgb25TaGFkZXJDaGFuZ2UpO1xuICBmaWxld2F0Y2hPbignLnZwJywgb25TaGFkZXJDaGFuZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkR2xvYmFsKGtleSwgdmVjKSB7XG4gIGFzc2VydCghZ2xvYmFsc1trZXldKTtcbiAgZ2xvYmFsc1trZXldID0gdmVjO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGVzbGludCBjb21wbGV4aXR5Om9mZiAqL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gR2xvdlNpbXBsZU1lbnUgaXMganVzdCBhIEdsb3ZTZWxlY3Rpb25Cb3ggcGx1cyBzb21lIGxvZ2ljIHRvIGFjdGl2YXRlXG4vLyBjYWxsYmFja3MvZXRjIHVwb24gc2VsZWN0aW5nIG9mIGVsZW1lbnRzLlxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgZ2xvdl9lbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgZ2xvdl9pbnB1dCA9IHJlcXVpcmUoJy4vaW5wdXQuanMnKTtcbmNvbnN0IHNlbGVjdGlvbl9ib3ggPSByZXF1aXJlKCcuL3NlbGVjdGlvbl9ib3guanMnKTtcbmNvbnN0IGdsb3ZfdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5jb25zdCB7IGNsYW1wLCB2ZWM0IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmNvbnN0IHsgS0VZUywgUEFEIH0gPSBnbG92X2lucHV0O1xuXG5jb25zdCBjb2xvcjEwMTAxMEM4ID0gdmVjNCgweDEwLzI1NSwgMHgxMC8yNTUsIDB4MTAvMjU1LCAweEM4LzI1NSk7XG5cbmNsYXNzIEdsb3ZTaW1wbGVNZW51IHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgIHRoaXMuc2VsX2JveCA9IHNlbGVjdGlvbl9ib3guY3JlYXRlKHBhcmFtcyk7XG4gICAgdGhpcy5lZGl0X2luZGV4ID0gLTE7XG5cbiAgICAvLyBPdXRwdXQgbWVtYmVyc1xuICAgIHRoaXMuc2VsZWN0ZWQgPSAtMTsgLy8gYWN0dWFsbHkgc2VsZWN0ZWQvYWN0ZWQgb24sIG5vdCBqdXN0IGN1cnJlbnQgaGlnaGxpZ2h0LCBsaWtlIHRoaXMuc2VsX2JveC5zZWxlY3RlZFxuICB9XG5cbiAgZm9jdXMoKSB7XG4gICAgZ2xvdl91aS5mb2N1c1N0ZWFsKHRoaXMuc2VsX2JveCk7XG4gIH1cblxuICBleGVjSXRlbShpbmRleCwgZGVsdGEpIHtcbiAgICBsZXQgeyBpdGVtcyB9ID0gdGhpcy5zZWxfYm94O1xuICAgIGFzc2VydChpbmRleCA+PSAwICYmIGluZGV4IDwgaXRlbXMubGVuZ3RoKTtcbiAgICBsZXQgbWVudV9pdGVtID0gaXRlbXNbaW5kZXhdO1xuICAgIGxldCBmb3JjZSA9IGZhbHNlO1xuICAgIGlmIChkZWx0YSA9PT0gMikge1xuICAgICAgZGVsdGEgPSAxO1xuICAgICAgZm9yY2UgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobWVudV9pdGVtLmNiKSB7XG4gICAgICBtZW51X2l0ZW0uY2IoKTtcbiAgICB9XG4gICAgaWYgKCFtZW51X2l0ZW0uc3RhdGUpIHtcbiAgICAgIGlmIChtZW51X2l0ZW0udmFsdWUgIT09IG51bGwgJiYgKG1lbnVfaXRlbS5wcm9tcHRfaW50IHx8IG1lbnVfaXRlbS5wcm9tcHRfc3RyaW5nKSkge1xuICAgICAgICAvLyBPcGVuIGFuIGVkaXQgYm94XG4gICAgICAgIC8vIG1lbnUuaW50ZXJuYWwubXRlID0gR2xvdk1vZGFsVGV4dEVudHJ5OjpjcmVhdGVJbnQoc2ltcGxlTWVudUZpZWxkTmFtZShtZW51X2l0ZW0ubmFtZSksICptZW51X2l0ZW0udmFsdWUpO1xuICAgICAgICB0aGlzLmludGVybmFsLmVkaXRfaW5kZXggPSBpbmRleDtcbiAgICAgICAgLy8gZ2xvdklucHV0UmVsZWFzZUFsbCgpO1xuICAgICAgfSBlbHNlIGlmIChtZW51X2l0ZW0udmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bihLRVlTLlNISUZUKSAmJiAhZm9yY2UpIHtcbiAgICAgICAgICBkZWx0YSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIG1lbnVfaXRlbS52YWx1ZSArPSBkZWx0YSAqIG1lbnVfaXRlbS52YWx1ZV9pbmM7XG4gICAgICAgIGlmIChtZW51X2l0ZW0uc2xpZGVyIHx8IG1lbnVfaXRlbS5wbHVzX21pbnVzKSB7XG4gICAgICAgICAgLy8gaW1wbGljaXRseSBubyB3cmFwcGluZywgbWF5YmUgbWFrZSBhIHNlcGFyYXRlIGZsYWcgZm9yIHRoaXM/XG4gICAgICAgICAgbWVudV9pdGVtLnZhbHVlID0gY2xhbXAobWVudV9pdGVtLnZhbHVlLCBtZW51X2l0ZW0udmFsdWVfbWluLCBtZW51X2l0ZW0udmFsdWVfbWF4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobWVudV9pdGVtLnZhbHVlIDwgbWVudV9pdGVtLnZhbHVlX21pbikge1xuICAgICAgICAgICAgbWVudV9pdGVtLnZhbHVlID0gbWVudV9pdGVtLnZhbHVlX21heDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1lbnVfaXRlbS52YWx1ZSA+IG1lbnVfaXRlbS52YWx1ZV9tYXgpIHtcbiAgICAgICAgICAgIG1lbnVfaXRlbS52YWx1ZSA9IG1lbnVfaXRlbS52YWx1ZV9taW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHNvbWUga2luZCBvZiBjYWxsYmFjayBvbiB2YWx1ZSBjaGFuZ2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHByZXN1bWFibHkgdGFnIG9yIGV4dGVybmFsbHkgb3BlcmF0ZWQgb24sIHByb2JhYmx5IHdhbnQgdG8gc2tpcCBrZXkgcmVwZWF0IGhlcmUgdG9vP1xuICAgICAgICAvLyBnbG92SW5wdXRSZWxlYXNlQWxsKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb3ZfZW5naW5lLnNldFN0YXRlKG1lbnVfaXRlbS5zdGF0ZSk7XG4gICAgICAvLyBnbG92SW5wdXRSZWxlYXNlQWxsKCk7XG4gICAgfVxuICB9XG5cbiAgcnVuKHBhcmFtcykge1xuICAgIGxldCB7IHNlbF9ib3ggfSA9IHRoaXM7XG4gICAgc2VsX2JveC5hcHBseVBhcmFtcyhwYXJhbXMpOyAvLyBBcHBseSBuZXcgbGlzdCBvZiBpdGVtcywgcG9zaXRpb25zLCBldGNcblxuICAgIGNvbnN0IHsgaXRlbXMsIHgsIHogfSA9IHNlbF9ib3g7XG4gICAgY29uc3QgeTAgPSBzZWxfYm94Lnk7XG4gICAgbGV0IGV4aXRfaW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoaXRlbXNbaV0uZXhpdCkge1xuICAgICAgICBleGl0X2luZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayB0byBzZWUgaWYgYW55IHNlbGVjdGlvbiBoYXMgYW4gZWRpdEJveCBvcGVuIGZpcnN0XG4gICAgbGV0IHNlbGJveF9lbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5lZGl0X2luZGV4ID49IDAgJiYgdGhpcy5lZGl0X2luZGV4IDwgaXRlbXMubGVuZ3RoKSB7XG4gICAgICBzZWxib3hfZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgZ2xvdl91aS5kcmF3UmVjdChjYW1lcmEyZC54MCgpLCBjYW1lcmEyZC55MCgpLCBjYW1lcmEyZC54MSgpLCBjYW1lcmEyZC55MSgpLFxuICAgICAgICB6ICsgMiwgY29sb3IxMDEwMTBDOCk7XG4gICAgICAvLyBUT0RPOiBOZWVkIG1vZGFsIHRleHQgZW50cnkgZGlhbG9nXG4gICAgICAvLyBsZXQgcmV0ID0gdGhpcy5pbnRlcm5hbC5tdGUucnVuKHogKyAzKTtcblxuICAgICAgLy8gaWYgKHJldCA9PSAnb2snKSB7XG4gICAgICAvLyAgIGlmIChpdGVtc1t0aGlzLmVkaXRfaW5kZXhdLnByb21wdF9pbnQpIHtcbiAgICAgIC8vICAgICBpdGVtc1t0aGlzLmVkaXRfaW5kZXhdLnZhbHVlID0gdGhpcy5pbnRlcm5hbC5tdGUuZ2V0SW50KCk7XG4gICAgICAvLyAgIH0gZWxzZSB7XG4gICAgICAvLyAgICAgaXRlbXNbdGhpcy5lZGl0X2luZGV4XS5zdmFsdWUgPSB0aGlzLmludGVybmFsLm10ZS5nZXRTdHJpbmcoKTtcbiAgICAgIC8vICAgfVxuICAgICAgLy8gICB0aGlzLmVkaXRfaW5kZXggPSAtMTtcbiAgICAgIC8vIH0gZWxzZSBpZiAocmV0ID09ICdjYW5jZWwnKSB7XG4gICAgICAvLyAgIHRoaXMuZWRpdF9pbmRleCA9IC0xO1xuICAgICAgLy8gfVxuICAgIH1cbiAgICBzZWxfYm94LmRpc2FibGVkID0gIXNlbGJveF9lbmFibGVkO1xuXG4gICAgLy8gRG8gYWxsIHNsaWRlcnMsIHBsdXMtbWludXMtZXMgLSBuZWVkc1xuICAgIGxldCBkaXNwbGF5ID0gc2VsX2JveC5kaXNwbGF5O1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGxldCBtZW51X2l0ZW0gPSBpdGVtc1tpaV07XG4gICAgICBpZiAobWVudV9pdGVtLnNsaWRlcikge1xuICAgICAgICBsZXQgc2xpZGVyID0gbWVudV9pdGVtLmludGVybmFsLnNsaWRlcjtcbiAgICAgICAgaWYgKCFzbGlkZXIpIHtcbiAgICAgICAgICAvLyBzbGlkZXIgPSBtZW51X2l0ZW0uaW50ZXJuYWwuc2xpZGVyID0gZ2xvdl9zbGlkZXIuY3JlYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2xpZGVyLm5vX25vdGNoZXMgPSB0cnVlO1xuICAgICAgICAvLyBzbGlkZXIuc291bmRfcmVsZWFzZSA9IHRoaXMuc291bmRfYWNjZXB0O1xuICAgICAgICBzbGlkZXIuZGlzYWJsZWQgPSBtZW51X2l0ZW0uZGlzYWJsZWQ7XG4gICAgICAgIGxldCBzbGlkZXJfd2lkdGggPSAxNjA7XG4gICAgICAgIGxldCBzbGlkZXJfeCA9IHggKyBzZWxfYm94LndpZHRoIC0gc2xpZGVyX3dpZHRoIC0gMTI7XG4gICAgICAgIGxldCB2ID0gbWVudV9pdGVtLnZhbHVlIC0gbWVudV9pdGVtLnZhbHVlX21pbjtcbiAgICAgICAgbGV0IGNvbG9yID0gZGlzcGxheS5zdHlsZV9kZWZhdWx0LmNvbG9yO1xuICAgICAgICAvLyBpZiAoZGlzcGxheS5zdHlsZV9kZWZhdWx0LmNvbG9yX21vZGUgPT0gZ2xvdl9mb250LkNPTE9SX01PREUuR1JBRElFTlQpIHtcbiAgICAgICAgLy8gICBjb2xvciA9IGNvbG9ySW50TGVycChkaXNwbGF5LnN0eWxlX2RlZmF1bHQuY29sb3IsIGRpc3BsYXkuc3R5bGVfZGVmYXVsdC5jb2xvckxSLCAwLjUpO1xuICAgICAgICAvLyB9XG4gICAgICAgIGlmIChzbGlkZXIuZGlzYWJsZWQpIHtcbiAgICAgICAgICBjb2xvciA9IGRpc3BsYXkuc3R5bGVfZGlzYWJsZWQuY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgdiA9IHNsaWRlci5ydW4oe1xuICAgICAgICAgIHg6IHNsaWRlcl94LFxuICAgICAgICAgIHk6IHkwICsgaWkgKiAyNCArIDIsXG4gICAgICAgICAgejogeiArIDMsXG4gICAgICAgICAgdzogc2xpZGVyX3dpZHRoLFxuICAgICAgICAgIC8vIHNjYWxlOiAxLFxuICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgIHZhbHVlOiB2LFxuICAgICAgICAgIG1heDogbWVudV9pdGVtLnZhbHVlX21heCAtIG1lbnVfaXRlbS52YWx1ZV9taW5cbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnVfaXRlbS52YWx1ZSA9IHYgKyBtZW51X2l0ZW0udmFsdWVfbWluO1xuICAgICAgICBpZiAoc2xpZGVyLnJvbGxvdmVyIHx8IHNsaWRlci5ncmFiYmVkKSB7XG4gICAgICAgICAgLy8gZXhwZWN0IG91ciByb3cgdG8gYmUgc2VsZWN0ZWRcbiAgICAgICAgICBpZiAoc2VsX2JveC5zZWxlY3RlZCAhPT0gaWkpIHtcbiAgICAgICAgICAgIHNlbF9ib3guc2VsZWN0ZWQgPSBpaTtcbiAgICAgICAgICAgIGdsb3ZfdWkucGxheVVJU291bmQoJ3NlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtZW51X2l0ZW0ucGx1c19taW51cykge1xuICAgICAgICBhc3NlcnQodHlwZW9mIG1lbnVfaXRlbS52YWx1ZSA9PT0gJ251bWJlcicsICdwbHVzX21pbnVzIGl0ZW1zIHJlcXVpcmUgYSBudW1lcmljYWwgdmFsdWUnKTtcbiAgICAgICAgYXNzZXJ0KG1lbnVfaXRlbS52YWx1ZV9pbmMsICdwbHVzX21pbnVzIGl0ZW1zIHJlcXVpcmUgYSB2YWx1ZSBpbmNyZW1lbnQnKTtcbiAgICAgICAgbGV0IGJ1dHRvbnNfd2lkdGggPSA2MDtcbiAgICAgICAgbGV0IHBhZCA9IDY7XG4gICAgICAgIGxldCBidXR0b25fd2lkdGggPSAoYnV0dG9uc193aWR0aCAtIHBhZCkgLyAyO1xuICAgICAgICBsZXQgYnV0dG9uX3ggPSB4ICsgc2VsX2JveC53aWR0aCAtIGJ1dHRvbnNfd2lkdGg7XG4gICAgICAgIGxldCBkZWx0YSA9IDA7XG4gICAgICAgIC8vIGlmICghZ2xvdk1hc3RlckNvbnRyb2xsZXJBY3RpdmUoKSkgeyAvLyBEb24ndCBzaG93IGJ1dHRvbnMgaWYgdXNpbmcgYSBjb250cm9sbGVyIC8gbm8gbW91c2VcbiAgICAgICAgaWYgKGdsb3ZfdWkuYnV0dG9uVGV4dCh7XG4gICAgICAgICAgbm9fZm9jdXM6IHRydWUsXG4gICAgICAgICAgeDogYnV0dG9uX3gsXG4gICAgICAgICAgeTogeTAgKyBpaSAqIDI0ICsgMixcbiAgICAgICAgICB6OiB6ICsgMyxcbiAgICAgICAgICB3OiBidXR0b25fd2lkdGgsXG4gICAgICAgICAgaDogZ2xvdl91aS5idXR0b25faGVpZ2h0ICogMC42NixcbiAgICAgICAgICB0ZXh0OiAnLSdcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBkZWx0YSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtaW51c19vdmVyID0gZ2xvdl91aS5idXR0b25fbW91c2VvdmVyO1xuICAgICAgICBpZiAoZ2xvdl91aS5idXR0b25UZXh0KHtcbiAgICAgICAgICBub19mb2N1czogdHJ1ZSxcbiAgICAgICAgICB4OiBidXR0b25feCArIHBhZCArIGJ1dHRvbl93aWR0aCxcbiAgICAgICAgICB5OiB5MCArIGlpICogMjQgKyAyLFxuICAgICAgICAgIHo6IHogKyAzLFxuICAgICAgICAgIHc6IGJ1dHRvbl93aWR0aCxcbiAgICAgICAgICBoOiBnbG92X3VpLmJ1dHRvbl9oZWlnaHQgKiAwLjY2LFxuICAgICAgICAgIHRleHQ6ICcrJ1xuICAgICAgICB9KSkge1xuICAgICAgICAgIGRlbHRhID0gMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGx1c19vdmVyID0gZ2xvdl91aS5idXR0b25fbW91c2VvdmVyO1xuICAgICAgICAvLyB9IGVuZCBpZiAoIWdsb3ZNYXN0ZXJDb250cm9sbGVyQWN0aXZlKCkpXG4gICAgICAgIGlmIChkZWx0YSkge1xuICAgICAgICAgIG1lbnVfaXRlbS52YWx1ZSArPSBkZWx0YSAqIG1lbnVfaXRlbS52YWx1ZV9pbmM7XG4gICAgICAgICAgbWVudV9pdGVtLnZhbHVlID0gY2xhbXAobWVudV9pdGVtLnZhbHVlLCBtZW51X2l0ZW0udmFsdWVfbWluLCBtZW51X2l0ZW0udmFsdWVfbWF4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWludXNfb3ZlciB8fCBwbHVzX292ZXIpIHtcbiAgICAgICAgICAvLyBleHBlY3Qgb3VyIHJvdyB0byBiZSBzZWxlY3RlZFxuICAgICAgICAgIGlmIChzZWxfYm94LnNlbGVjdGVkICE9PSBpaSkge1xuICAgICAgICAgICAgc2VsX2JveC5zZWxlY3RlZCA9IGlpO1xuICAgICAgICAgICAgZ2xvdl91aS5wbGF5VUlTb3VuZCgnc2VsZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHkgPSB5MDtcbiAgICB5ICs9IHNlbF9ib3gucnVuKCk7XG5cbiAgICBsZXQgc2VsZWN0ZWQ9LTE7XG4gICAgaWYgKGV4aXRfaW5kZXggIT09IC0xICYmIChcbiAgICAgIGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5FU0MpIHx8XG4gICAgICAhaXRlbXNbZXhpdF9pbmRleF0ubm9fY29udHJvbGxlcl9leGl0ICYmIGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoUEFELkNBTkNFTClcbiAgICApKSB7XG4gICAgICB0aGlzLmV4ZWNJdGVtKGV4aXRfaW5kZXgsIDEpO1xuICAgICAgc2VsZWN0ZWQgPSBleGl0X2luZGV4O1xuICAgIH1cbiAgICAvLyBPbmx5IGFsbG93IGxlZnQvcmlnaHQgdG8gXCJzZWxlY3RcIiBhIG1lbnUgb3B0aW9uIGlmIGl0J3MgYSB0b2dnbGUvaW5jcmVtZW50XG4gICAgLy8ga2luZCBvZiBtZW51IG9wdGlvbiwgb3RoZXJ3aXNlIHRoaXMganVzdCBmZWVscyB3ZWlyZFxuICAgIGxldCBhbGxvd19sZWZ0X3JpZ2h0ID0gaXRlbXNbc2VsX2JveC5zZWxlY3RlZF0udmFsdWUgIT09IG51bGw7XG4gICAgaWYgKHNlbF9ib3gud2FzX2NsaWNrZWQgfHwgc2VsX2JveC5pc19mb2N1c2VkICYmIChcbiAgICAgIGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5TUEFDRSkgfHxcbiAgICAgIGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5FTlRFUikgfHxcbiAgICAgIGdsb3ZfaW5wdXQucGFkQnV0dG9uRG93bkVkZ2UoUEFELlNFTEVDVCkpXG4gICAgKSB7XG4gICAgICB0aGlzLmV4ZWNJdGVtKHNlbF9ib3guc2VsZWN0ZWQsIDEpO1xuICAgICAgc2VsZWN0ZWQgPSBzZWxfYm94LnNlbGVjdGVkO1xuICAgIH1cbiAgICBpZiAoc2VsX2JveC5pc19mb2N1c2VkICYmIGFsbG93X2xlZnRfcmlnaHQgJiYgKFxuICAgICAgZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlJJR0hUKSB8fFxuICAgICAgZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLkQpIHx8XG4gICAgICBnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKFBBRC5SSUdIVCkpXG4gICAgKSB7XG4gICAgICB0aGlzLmV4ZWNJdGVtKHNlbF9ib3guc2VsZWN0ZWQsIDIpO1xuICAgICAgc2VsZWN0ZWQgPSBzZWxfYm94LnNlbGVjdGVkO1xuICAgIH1cbiAgICBpZiAoc2VsX2JveC53YXNSaWdodENsaWNrZWQgfHwgc2VsX2JveC5pc19mb2N1c2VkICYmIGFsbG93X2xlZnRfcmlnaHQgJiYgKFxuICAgICAgLy8gVGhpcyB3YXMgVXBIaXQgYmVmb3JlLCBzb21lIHByb2JsZW0gd2l0aCBpdCB0cmlnZ2VyaW5nIGFuIHVwIG9uIHRoZSBuZXh0IHNjcmVlbj8gIFNob3VsZCBzdXByZXNzIHRoZSBuZXh0IHVwXG4gICAgICAvLyBldmVudHMgYWZ0ZXIgZWF0aW5nIGEgZG93biBmb3IgVUk/XG4gICAgICBnbG92X2lucHV0LmtleURvd25FZGdlKEtFWVMuTEVGVCkgfHxcbiAgICAgIGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoS0VZUy5BKSB8fFxuICAgICAgZ2xvdl9pbnB1dC5wYWRCdXR0b25Eb3duRWRnZShQQUQuTEVGVCkpXG4gICAgKSB7XG4gICAgICB0aGlzLmV4ZWNJdGVtKHNlbF9ib3guc2VsZWN0ZWQsIC0xKTtcbiAgICAgIHNlbGVjdGVkID0gc2VsX2JveC5zZWxlY3RlZDtcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgIGlmIChzZWxlY3RlZCAhPT0gLTEgJiYgIWl0ZW1zW3NlbGVjdGVkXS5ub19zb3VuZCkge1xuICAgICAgaWYgKGl0ZW1zW3NlbGVjdGVkXS5leGl0KSB7XG4gICAgICAgIGdsb3ZfdWkucGxheVVJU291bmQoJ2NhbmNlbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvdl91aS5wbGF5VUlTb3VuZCgnc2VsZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHkgLSB5MDtcbiAgfVxuXG4gIGlzU2VsZWN0ZWQodGFnX29yX2luZGV4KSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0YWdfb3JfaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsX2JveC5pdGVtc1t0aGlzLnNlbGVjdGVkXS50YWcgfHwgdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2VsX2JveC5pc1NlbGVjdGVkKHRhZ19vcl9pbmRleCk7XG4gIH1cblxuICBnZXRTZWxlY3RlZEluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkO1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWRJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLnNlbF9ib3guaXRlbXNbdGhpcy5zZWxlY3RlZF07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBHbG92U2ltcGxlTWVudShwYXJhbXMpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuZXhwb3J0IGNvbnN0IEZBREVfREVGQVVMVCA9IDA7XG5leHBvcnQgY29uc3QgRkFERV9PVVQgPSAxO1xuZXhwb3J0IGNvbnN0IEZBREVfSU4gPSAyO1xuZXhwb3J0IGNvbnN0IEZBREUgPSBGQURFX09VVCArIEZBREVfSU47XG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBjbWRfcGFyc2UgfSA9IHJlcXVpcmUoJy4vY21kcy5qcycpO1xuY29uc3QgeyBmaWxld2F0Y2hPbiB9ID0gcmVxdWlyZSgnLi9maWxld2F0Y2guanMnKTtcbmNvbnN0IHsgSG93bCwgSG93bGVyIH0gPSByZXF1aXJlKCdAamltYmx5L2hvd2xlci9zcmMvaG93bGVyLmNvcmUuanMnKTtcbmNvbnN0IHsgYWJzLCBmbG9vciwgbWF4LCBtaW4sIHJhbmRvbSB9ID0gTWF0aDtcbmNvbnN0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncy5qcycpO1xuY29uc3QgdXJsaGFzaCA9IHJlcXVpcmUoJy4vdXJsaGFzaC5qcycpO1xuY29uc3QgeyBkZWZhdWx0cywgcmlkeCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3V0aWwuanMnKTtcblxuY29uc3QgREVGQVVMVF9GQURFX1JBVEUgPSAwLjAwMTtcblxubGV0IHNvdW5kcyA9IHt9O1xubGV0IG51bV9sb2FkaW5nID0gMDtcblxuLy8gSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTsgLy8gRGlzYWJsZSBXZWJBdWRpbyBmb3IgdGVzdGluZyBIVE1MNSBmYWxsYmFja3NcblxuY29uc3QgZGVmYXVsdF9wYXJhbXMgPSB7XG4gIGV4dF9saXN0OiBbJ21wMycsICd3YXYnXSwgLy8gKHJlY29tbWVuZGVkKSB0cnkgbG9hZGluZyAubXAzIHZlcnNpb25zIGZpcnN0LCB0aGVuIGZhbGxiYWNrIHRvIC53YXZcbiAgLy8gIGFsc28gY292ZXJzIGFsbCBicm93c2VyczogWyd3ZWJtJywgJ21wMyddXG4gIGZhZGVfcmF0ZTogREVGQVVMVF9GQURFX1JBVEUsXG59O1xubGV0IHNvdW5kX3BhcmFtcztcblxubGV0IGxhc3RfcGxheWVkID0ge307XG5sZXQgZnJhbWVfdGltZXN0YW1wID0gMDtcbmxldCBmYWRlcyA9IFtdO1xubGV0IG11c2ljO1xuXG5sZXQgdm9sdW1lX292ZXJyaWRlID0gMTtcbmxldCB2b2x1bWVfb3ZlcnJpZGVfdGFyZ2V0ID0gMTtcblxuc2V0dGluZ3MucmVnaXN0ZXIoe1xuICB2b2x1bWU6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0ZMT0FULFxuICAgIHJhbmdlOiBbMCwxXSxcbiAgfSxcbn0pO1xuXG5zZXR0aW5ncy5yZWdpc3Rlcih7XG4gIHNvdW5kOiB7XG4gICAgZGVmYXVsdF92YWx1ZTogMSxcbiAgICB0eXBlOiBjbWRfcGFyc2UuVFlQRV9JTlQsXG4gICAgcmFuZ2U6IFswLDFdLFxuICB9LFxufSk7XG5cbnNldHRpbmdzLnJlZ2lzdGVyKHtcbiAgbXVzaWM6IHtcbiAgICBkZWZhdWx0X3ZhbHVlOiAxLFxuICAgIHR5cGU6IGNtZF9wYXJzZS5UWVBFX0lOVCxcbiAgICByYW5nZTogWzAsMV0sXG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kTG9hZChiYXNlLCBvcHRzLCBjYikge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmFzZSkpIHtcbiAgICBhc3NlcnQoIWNiKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYmFzZS5sZW5ndGg7ICsraWkpIHtcbiAgICAgIHNvdW5kTG9hZChiYXNlW2lpXSwgb3B0cyk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBsZXQga2V5ID0gYmFzZTtcbiAgaWYgKHNvdW5kc1trZXldKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG0gPSBiYXNlLm1hdGNoKC9eKC4qKVxcLihtcDN8b2dnfHdhdnx3ZWJtKSQvdSk7XG4gIGxldCBwcmVmZXJyZWRfZXh0O1xuICBpZiAobSkge1xuICAgIGJhc2UgPSBtWzFdO1xuICAgIHByZWZlcnJlZF9leHQgPSBtWzJdO1xuICB9XG4gIGxldCBzcmMgPSBgc291bmRzLyR7YmFzZX1gO1xuICBsZXQgc3JjcyA9IFtdO1xuICBsZXQgc3VmZml4ID0gJyc7XG4gIGlmIChvcHRzLmZvcl9yZWxvYWQpIHtcbiAgICBzdWZmaXggPSBgP3JsPSR7RGF0ZS5ub3coKX1gO1xuICB9XG4gIGlmIChwcmVmZXJyZWRfZXh0KSB7XG4gICAgc3Jjcy5wdXNoKGAke3VybGhhc2guZ2V0VVJMQmFzZSgpfSR7c3JjfS4ke3ByZWZlcnJlZF9leHR9JHtzdWZmaXh9YCk7XG4gIH1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNvdW5kX3BhcmFtcy5leHRfbGlzdC5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgZXh0ID0gc291bmRfcGFyYW1zLmV4dF9saXN0W2lpXTtcbiAgICBpZiAoZXh0ICE9PSBwcmVmZXJyZWRfZXh0KSB7XG4gICAgICBzcmNzLnB1c2goYCR7dXJsaGFzaC5nZXRVUkxCYXNlKCl9JHtzcmN9LiR7ZXh0fSR7c3VmZml4fWApO1xuICAgIH1cbiAgfVxuICAvLyBUcnkgbG9hZGluZyBkZXNpcmVkIHNvdW5kIHR5cGVzIG9uZSBhdCBhIHRpbWUuXG4gIC8vIENhbm5vdCByZWx5IG9uIEhvd2xlcidzIGJ1aWx0LWluIHN1cHBvcnQgZm9yIHRoaXMgYmVjYXVzZSBpdCBvbmx5IGNvbnRpbnVlc1xuICAvLyAgIHRocm91Z2ggdGhlIGxpc3Qgb24gKnNvbWUqIGxvYWQgZXJyb3JzLCBub3QgYWxsIDooLlxuICBmdW5jdGlvbiB0cnlMb2FkKGlkeCkge1xuICAgIGlmIChpZHggPT09IHNyY3MubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIHNvdW5kICR7YmFzZX06IEFsbCBmYWxsYmFja3MgZXhoYXVzdGVkLCBnaXZpbmcgdXBgKTtcbiAgICAgIGlmIChjYikge1xuICAgICAgICBjYignRXJyb3IgbG9hZGluZyBzb3VuZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICArK251bV9sb2FkaW5nO1xuICAgIGxldCBvbmNlID0gZmFsc2U7XG4gICAgbGV0IHNvdW5kID0gbmV3IEhvd2woe1xuICAgICAgc3JjOiBzcmNzLnNsaWNlKGlkeCksXG4gICAgICBodG1sNTogQm9vbGVhbihvcHRzLnN0cmVhbWluZyksXG4gICAgICBsb29wOiBCb29sZWFuKG9wdHMubG9vcCksXG4gICAgICB2b2x1bWU6IDAsXG4gICAgICBvbmxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFvbmNlKSB7XG4gICAgICAgICAgLS1udW1fbG9hZGluZztcbiAgICAgICAgICBvbmNlID0gdHJ1ZTtcbiAgICAgICAgICBzb3VuZC5nbG92X2xvYWRfb3B0cyA9IG9wdHM7XG4gICAgICAgICAgc291bmRzW2tleV0gPSBzb3VuZDtcbiAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIGNiKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9ubG9hZGVycm9yOiBmdW5jdGlvbiAoaWQsIGVyciwgZXh0cmEpIHtcbiAgICAgICAgaWYgKGlkeCA9PT0gc3Jjcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbG9hZGluZyBzb3VuZCAke3NyY3NbaWR4XX06ICR7ZXJyfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBsb2FkaW5nIHNvdW5kICR7c3Jjc1tpZHhdfTogJHtlcnJ9LCB0cnlpbmcgZmFsbGJhY2suLi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9uY2UpIHtcbiAgICAgICAgICAtLW51bV9sb2FkaW5nO1xuICAgICAgICAgIG9uY2UgPSB0cnVlO1xuICAgICAgICAgIHRyeUxvYWQoaWR4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgdHJ5TG9hZCgwKTtcbn1cblxuZnVuY3Rpb24gc291bmRSZWxvYWQoZmlsZW5hbWUpIHtcbiAgbGV0IHNvdW5kX25hbWUgPSBmaWxlbmFtZS5tYXRjaCgvXnNvdW5kc1xcLyhbXi5dKylcXC5cXHcrJC8pO1xuICBzb3VuZF9uYW1lID0gc291bmRfbmFtZSAmJiBzb3VuZF9uYW1lWzFdO1xuICBpZiAoIXNvdW5kX25hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzb3VuZHNbc291bmRfbmFtZV0pIHtcbiAgICBjb25zb2xlLmxvZyhgUmVsb2FkIHRyaWdnZWQgZm9yIG5vbi1leGlzdGVudCBzb3VuZDogJHtmaWxlbmFtZX1gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG9wdHMgPSBzb3VuZHNbc291bmRfbmFtZV0uZ2xvdl9sb2FkX29wdHM7XG4gIG9wdHMuZm9yX3JlbG9hZCA9IHRydWU7XG4gIGRlbGV0ZSBzb3VuZHNbc291bmRfbmFtZV07XG4gIHNvdW5kTG9hZChzb3VuZF9uYW1lLCBvcHRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kU3RhcnR1cChwYXJhbXMpIHtcbiAgc291bmRfcGFyYW1zID0gZGVmYXVsdHMocGFyYW1zIHx8IHt9LCBkZWZhdWx0X3BhcmFtcyk7XG5cbiAgLy8gTXVzaWNcbiAgbXVzaWMgPSBbXTsgLy8gMCBpcyBjdXJyZW50LCAxIGlzIHByZXZpb3VzIChmYWRpbmcgb3V0KVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgMjsgKytpaSkge1xuICAgIG11c2ljLnB1c2goe1xuICAgICAgc291bmQ6IG51bGwsXG4gICAgICBpZDogMCxcbiAgICAgIGN1cnJlbnRfdm9sdW1lOiAwLFxuICAgICAgdGFyZ2V0X3ZvbHVtZTogMCxcbiAgICAgIHN5c192b2x1bWU6IDAsXG4gICAgICBuZWVkX3BsYXk6IGZhbHNlLFxuICAgIH0pO1xuICB9XG4gIGZpbGV3YXRjaE9uKCcubXAzJywgc291bmRSZWxvYWQpO1xuICBmaWxld2F0Y2hPbignLm9nZycsIHNvdW5kUmVsb2FkKTtcbiAgZmlsZXdhdGNoT24oJy53YXYnLCBzb3VuZFJlbG9hZCk7XG4gIGZpbGV3YXRjaE9uKCcud2VibScsIHNvdW5kUmVsb2FkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvdW5kUGF1c2UoKSB7XG4gIHZvbHVtZV9vdmVycmlkZSA9IHZvbHVtZV9vdmVycmlkZV90YXJnZXQgPSAwO1xuICAvLyBJbW1lZGlhdGVseSBtdXRlIGFsbCB0aGUgbXVzaWNcbiAgLy8gQ2FuJ3QgZG8gYSBuaWNlIGZhZGUgb3V0IGhlcmUgYmVjYXVzZSB3ZSBzdG9wIGdldHRpbmcgdGlja2VkIHdoZW4gd2UncmUgbm90IGluIHRoZSBmb3JlZ3JvdW5kXG4gIHNvdW5kVGljaygwKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRSZXN1bWUoKSB7XG4gIHZvbHVtZV9vdmVycmlkZV90YXJnZXQgPSAxO1xuXG4gIC8vIEFjdHVhbCBjb250ZXh0IHJlc3VtaW5nIGhhbmRsZWQgaW50ZXJuYWxseSBieSBIb3dsZXIsIGxlYXZpbmcgaG9va3MgaW4gZm9yIG5vdywgdGhvdWdoXG4gIC8vIE1heWJlIG1vcmUgcmVsaWFibGUgdGhhbiBgSG93bGVyLnNhZmVUb1BsYXlgLi4uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZFJlc3VtZWQoKSB7XG4gIHJldHVybiAhSG93bGVyLm5vQXVkaW8gJiYgSG93bGVyLnNhZmVUb1BsYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZFRpY2soZHQpIHtcbiAgZnJhbWVfdGltZXN0YW1wICs9IGR0O1xuICBpZiAodm9sdW1lX292ZXJyaWRlICE9PSB2b2x1bWVfb3ZlcnJpZGVfdGFyZ2V0KSB7XG4gICAgbGV0IGRlbHRhID0gZHQgKiAwLjAwNDtcbiAgICBpZiAodm9sdW1lX292ZXJyaWRlIDwgdm9sdW1lX292ZXJyaWRlX3RhcmdldCkge1xuICAgICAgdm9sdW1lX292ZXJyaWRlID0gbWluKHZvbHVtZV9vdmVycmlkZSArIGRlbHRhLCB2b2x1bWVfb3ZlcnJpZGVfdGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm9sdW1lX292ZXJyaWRlID0gbWF4KHZvbHVtZV9vdmVycmlkZSAtIGRlbHRhLCB2b2x1bWVfb3ZlcnJpZGVfdGFyZ2V0KTtcbiAgICB9XG4gIH1cbiAgaWYgKCFzb3VuZFJlc3VtZWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBEbyBtdXNpYyBmYWRpbmdcbiAgLy8gQ2Fubm90IHJlbHkgb24gSG93bGVyJ3MgZmFkaW5nIGJlY2F1c2Ugc3RhcnRpbmcgYSBmYWRlIHdoZW4gb25lIGlzIGluIHByb2dyZXNzXG4gIC8vICAgbWVzc2VzIHRoaW5ncyB1cCwgYXMgd2VsbCBjYXVzZXMgc25hcHMgaW4gdm9sdW1lIDooXG4gIGxldCBtYXhfZmFkZSA9IGR0ICogc291bmRfcGFyYW1zLmZhZGVfcmF0ZTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG11c2ljLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBtdXMgPSBtdXNpY1tpaV07XG4gICAgaWYgKCFtdXMuc291bmQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgdGFyZ2V0ID0gc2V0dGluZ3MubXVzaWMgPyBtdXMudGFyZ2V0X3ZvbHVtZSA6IDA7XG4gICAgaWYgKG11cy5jdXJyZW50X3ZvbHVtZSAhPT0gdGFyZ2V0KSB7XG4gICAgICBsZXQgZGVsdGEgPSB0YXJnZXQgLSBtdXMuY3VycmVudF92b2x1bWU7XG4gICAgICBsZXQgZmFkZV9hbXQgPSBtaW4oYWJzKGRlbHRhKSwgbWF4X2ZhZGUpO1xuICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICBtdXMuY3VycmVudF92b2x1bWUgPSBtYXgodGFyZ2V0LCBtdXMuY3VycmVudF92b2x1bWUgLSBmYWRlX2FtdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtdXMuY3VycmVudF92b2x1bWUgPSBtaW4odGFyZ2V0LCBtdXMuY3VycmVudF92b2x1bWUgKyBmYWRlX2FtdCk7XG4gICAgICB9XG4gICAgICBpZiAoIW11cy50YXJnZXRfdm9sdW1lICYmICFtdXMuY3VycmVudF92b2x1bWUpIHtcbiAgICAgICAgaWYgKCFtdXMubmVlZF9wbGF5KSB7XG4gICAgICAgICAgbXVzLnNvdW5kLnN0b3AobXVzLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBtdXMuc291bmQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobXVzLnNvdW5kKSB7XG4gICAgICBsZXQgc3lzX3ZvbHVtZSA9IG11cy5jdXJyZW50X3ZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZSAqIHZvbHVtZV9vdmVycmlkZTtcbiAgICAgIGlmIChtdXMubmVlZF9wbGF5KSB7XG4gICAgICAgIG11cy5uZWVkX3BsYXk9IGZhbHNlO1xuICAgICAgICBtdXMuaWQgPSBtdXMuc291bmQucGxheSgpO1xuICAgICAgICBtdXMuc3lzX3ZvbHVtZSA9IC0xO1xuICAgICAgfVxuICAgICAgaWYgKG11cy5zeXNfdm9sdW1lICE9PSBzeXNfdm9sdW1lKSB7XG4gICAgICAgIG11cy5zb3VuZC52b2x1bWUoc3lzX3ZvbHVtZSwgbXVzLmlkKTtcbiAgICAgICAgbXVzLnN5c192b2x1bWUgPSBzeXNfdm9sdW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGlpID0gZmFkZXMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgLS1paSkge1xuICAgIGxldCBmYWRlID0gZmFkZXNbaWldO1xuICAgIGZhZGUudm9sdW1lID0gbWF4KDAsIGZhZGUudm9sdW1lIC0gbWF4X2ZhZGUpO1xuICAgIGZhZGUuc291bmQudm9sdW1lKGZhZGUudm9sdW1lICogc2V0dGluZ3Mudm9sdW1lICogdm9sdW1lX292ZXJyaWRlLCBmYWRlLmlkKTtcbiAgICBpZiAoIWZhZGUudm9sdW1lKSB7XG4gICAgICBmYWRlLnNvdW5kLnN0b3AoZmFkZS5pZCk7XG4gICAgICByaWR4KGZhZGVzLCBpaSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VuZFBsYXkoc291bmRuYW1lLCB2b2x1bWUsIGFzX211c2ljKSB7XG4gIHZvbHVtZSA9IHZvbHVtZSB8fCAxO1xuICBpZiAoIWFzX211c2ljICYmICFzZXR0aW5ncy5zb3VuZCB8fCBhc19tdXNpYyAmJiAhc2V0dGluZ3MubXVzaWMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIXNvdW5kUmVzdW1lZCgpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoc291bmRuYW1lKSkge1xuICAgIHNvdW5kbmFtZSA9IHNvdW5kbmFtZVtmbG9vcihyYW5kb20oKSAqIHNvdW5kbmFtZS5sZW5ndGgpXTtcbiAgfVxuICBsZXQgc291bmQgPSBzb3VuZHNbc291bmRuYW1lXTtcbiAgaWYgKCFzb3VuZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBsYXN0X3BsYXllZF90aW1lID0gbGFzdF9wbGF5ZWRbc291bmRuYW1lXSB8fCAtOWU5O1xuICBpZiAoZnJhbWVfdGltZXN0YW1wIC0gbGFzdF9wbGF5ZWRfdGltZSA8IDQ1KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgaWQgPSBzb3VuZC5wbGF5KHVuZGVmaW5lZCwgdm9sdW1lICogc2V0dGluZ3Mudm9sdW1lICogdm9sdW1lX292ZXJyaWRlKTtcbiAgLy8gc291bmQudm9sdW1lKHZvbHVtZSAqIHNldHRpbmdzLnZvbHVtZSAqIHZvbHVtZV9vdmVycmlkZSwgaWQpO1xuICBsYXN0X3BsYXllZFtzb3VuZG5hbWVdID0gZnJhbWVfdGltZXN0YW1wO1xuICByZXR1cm4ge1xuICAgIHN0b3A6IHNvdW5kLnN0b3AuYmluZChzb3VuZCwgaWQpLFxuICAgIHBsYXlpbmc6IHNvdW5kLnBsYXlpbmcuYmluZChzb3VuZCwgaWQpLCAvLyBub3QgcmVsaWFibGUgaWYgaXQgaGFzbid0IHN0YXJ0ZWQgeWV0PyA6KFxuICAgIGZhZGVPdXQ6ICh0aW1lKSA9PiB7XG4gICAgICBmYWRlcy5wdXNoKHtcbiAgICAgICAgdm9sdW1lLFxuICAgICAgICBzb3VuZCxcbiAgICAgICAgaWQsXG4gICAgICAgIHRpbWUsXG4gICAgICB9KTtcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRQbGF5TXVzaWMoc291bmRuYW1lLCB2b2x1bWUsIHRyYW5zaXRpb24pIHtcbiAgaWYgKCFzZXR0aW5ncy5tdXNpYykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodm9sdW1lID09PSB1bmRlZmluZWQpIHtcbiAgICB2b2x1bWUgPSAxO1xuICB9XG4gIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uIHx8IEZBREVfREVGQVVMVDtcbiAgc291bmRMb2FkKHNvdW5kbmFtZSwgeyBzdHJlYW1pbmc6IHRydWUsIGxvb3A6IHRydWUgfSwgKGVycikgPT4ge1xuICAgIGFzc2VydCghZXJyKTtcbiAgICBsZXQgc291bmQgPSBzb3VuZHNbc291bmRuYW1lXTtcbiAgICBhc3NlcnQoc291bmQpO1xuICAgIGlmIChtdXNpY1swXS5zb3VuZCA9PT0gc291bmQpIHtcbiAgICAgIC8vIFNhbWUgc291bmQsIGp1c3QgYWRqdXN0IHZvbHVtZSwgaWYgcmVxdWlyZWRcbiAgICAgIG11c2ljWzBdLnRhcmdldF92b2x1bWUgPSB2b2x1bWU7XG4gICAgICBpZiAoIXRyYW5zaXRpb24pIHtcbiAgICAgICAgaWYgKCF2b2x1bWUpIHtcbiAgICAgICAgICBzb3VuZC5zdG9wKG11c2ljWzBdLmlkKTtcbiAgICAgICAgICBtdXNpY1swXS5zb3VuZCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHN5c192b2x1bWUgPSBtdXNpY1swXS5zeXNfdm9sdW1lID0gdm9sdW1lICogc2V0dGluZ3Mudm9sdW1lICogdm9sdW1lX292ZXJyaWRlO1xuICAgICAgICAgIHNvdW5kLnZvbHVtZShzeXNfdm9sdW1lLCBtdXNpY1swXS5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZmFkZSBvdXQgcHJldmlvdXMgbXVzaWMsIGlmIGFueVxuICAgIGlmIChtdXNpY1swXS5jdXJyZW50X3ZvbHVtZSkge1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiBGQURFX09VVCkge1xuICAgICAgICAvLyBzd2FwIHRvIHBvc2l0aW9uIDEsIHN0YXJ0IGZhZGVvdXRcbiAgICAgICAgbGV0IHRlbXAgPSBtdXNpY1sxXTtcbiAgICAgICAgbXVzaWNbMV0gPSBtdXNpY1swXTtcbiAgICAgICAgbXVzaWNbMF0gPSB0ZW1wO1xuICAgICAgICBtdXNpY1sxXS50YXJnZXRfdm9sdW1lID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG11c2ljWzBdLnNvdW5kKSB7XG4gICAgICBtdXNpY1swXS5zb3VuZC5zdG9wKG11c2ljWzBdLmlkKTtcbiAgICB9XG4gICAgbXVzaWNbMF0uc291bmQgPSBzb3VuZDtcbiAgICBtdXNpY1swXS50YXJnZXRfdm9sdW1lID0gdm9sdW1lO1xuICAgIGxldCBzdGFydF92b2wgPSAodHJhbnNpdGlvbiAmIEZBREVfSU4pID8gMCA6IHZvbHVtZTtcbiAgICBtdXNpY1swXS5jdXJyZW50X3ZvbHVtZSA9IHN0YXJ0X3ZvbDtcbiAgICBpZiAoc291bmRSZXN1bWVkKCkpIHtcbiAgICAgIGxldCBzeXNfdm9sdW1lID0gc3RhcnRfdm9sICogc2V0dGluZ3Mudm9sdW1lICogdm9sdW1lX292ZXJyaWRlO1xuICAgICAgbXVzaWNbMF0uaWQgPSBzb3VuZC5wbGF5KHVuZGVmaW5lZCwgc3lzX3ZvbHVtZSk7XG4gICAgICAvLyBzb3VuZC52b2x1bWUoc3lzX3ZvbHVtZSwgbXVzaWNbMF0uaWQpO1xuICAgICAgbXVzaWNbMF0uc3lzX3ZvbHVtZSA9IHN5c192b2x1bWU7XG4gICAgICBtdXNpY1swXS5uZWVkX3BsYXkgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbXVzaWNbMF0ubmVlZF9wbGF5ID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc291bmRMb2FkaW5nKCkge1xuICByZXR1cm4gbnVtX2xvYWRpbmc7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCB7IGZsb29yLCByYW5kb20gfSA9IE1hdGg7XG5cbmZ1bmN0aW9uIEdsb3ZTcHJpdGVBbmltYXRpb24ocGFyYW1zKSB7XG4gIHRoaXMuZnJhbWUgPSAwO1xuICB0aGlzLnRpbWUgPSAwO1xuICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgdGhpcy5hbmltID0gbnVsbDtcbiAgdGhpcy5hbmltX2lkeCA9IDA7XG5cbiAgaWYgKHBhcmFtcyBpbnN0YW5jZW9mIEdsb3ZTcHJpdGVBbmltYXRpb24pIHtcbiAgICB0aGlzLmRhdGEgPSBwYXJhbXMuZGF0YTsgLy8gYWxyZWFkeSBpbml0aWFsaXplZFxuICAgIHRoaXMuc2V0U3RhdGUocGFyYW1zLnN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmRhdGEgPSBwYXJhbXM7XG4gICAgZm9yIChsZXQga2V5IGluIHRoaXMuZGF0YSkge1xuICAgICAgbGV0IGFuaW0gPSB0aGlzLmRhdGFba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgYW5pbS5mcmFtZXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGFuaW0uZnJhbWVzID0gW2FuaW0uZnJhbWVzXTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgYW5pbS50aW1lcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbGV0IGFyciA9IG5ldyBBcnJheShhbmltLmZyYW1lcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYW5pbS5mcmFtZXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgYXJyW2lpXSA9IGFuaW0udGltZXM7XG4gICAgICAgIH1cbiAgICAgICAgYW5pbS50aW1lcyA9IGFycjtcbiAgICAgIH1cbiAgICAgIGFuaW0udG90YWxfdGltZSA9IDA7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYW5pbS50aW1lcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgYW5pbS50b3RhbF90aW1lICs9IGFuaW0udGltZXNbaWldO1xuICAgICAgfVxuICAgICAgaWYgKGFuaW0ubG9vcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW0ubG9vcCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgR2xvdlNwcml0ZUFuaW1hdGlvbihwYXJhbXMpO1xufVxuXG5HbG92U3ByaXRlQW5pbWF0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBHbG92U3ByaXRlQW5pbWF0aW9uKHRoaXMpO1xufTtcblxuR2xvdlNwcml0ZUFuaW1hdGlvbi5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIGZvcmNlKSB7XG4gIGlmIChzdGF0ZSA9PT0gdGhpcy5zdGF0ZSAmJiAhZm9yY2UpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIHRoaXMuYW5pbSA9IHRoaXMuZGF0YVtzdGF0ZV07XG4gIGlmICh0aGlzLmFuaW0uaW5pdF90aW1lKSB7XG4gICAgdGhpcy50aW1lID0gZmxvb3IocmFuZG9tKCkgKiB0aGlzLmFuaW0uaW5pdF90aW1lKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnRpbWUgPSAwO1xuICB9XG4gIHRoaXMuYW5pbV9pZHggPSAwO1xuICB0aGlzLmZyYW1lID0gdGhpcy5hbmltLmZyYW1lc1t0aGlzLmFuaW1faWR4XTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5HbG92U3ByaXRlQW5pbWF0aW9uLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmFuaW0pIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBsZXQgdGltZSA9IHRoaXMudGltZTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuYW5pbV9pZHg7ICsraWkpIHtcbiAgICB0aW1lICs9IHRoaXMuYW5pbS50aW1lc1tpaV07XG4gIH1cbiAgcmV0dXJuIHRpbWUgLyB0aGlzLmFuaW0udG90YWxfdGltZTtcbn07XG5cbkdsb3ZTcHJpdGVBbmltYXRpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICBpZiAoIXRoaXMuYW5pbSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnRpbWUgKz0gZHQ7XG4gIGlmICh0aGlzLnRpbWUgPiB0aGlzLmFuaW0udGltZXNbdGhpcy5hbmltX2lkeF0pIHtcbiAgICB0aGlzLnRpbWUgLT0gdGhpcy5hbmltLnRpbWVzW3RoaXMuYW5pbV9pZHhdO1xuICAgIHRoaXMuYW5pbV9pZHggPSB0aGlzLmFuaW1faWR4ICsgMTtcbiAgICBpZiAodGhpcy5hbmltX2lkeCA9PT0gdGhpcy5hbmltLmZyYW1lcy5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLmFuaW0ubG9vcCkge1xuICAgICAgICB0aGlzLmFuaW1faWR4ID0gdGhpcy5hbmltX2lkeCAlIHRoaXMuYW5pbS5mcmFtZXMubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8ga2VlcCBmaW5hbCBmcmFtZVxuICAgICAgICB0aGlzLmFuaW0gPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZnJhbWUgPSB0aGlzLmFuaW0uZnJhbWVzW3RoaXMuYW5pbV9pZHhdO1xuICAgIGlmICh0aGlzLnRpbWUgPj0gdGhpcy5hbmltLnRpbWVzW3RoaXMuYW5pbV9pZHhdKSB7XG4gICAgICB0aGlzLnRpbWUgPSB0aGlzLmFuaW0udGltZXNbdGhpcy5hbmltX2lkeF0gLSAxO1xuICAgIH1cbiAgfVxufTtcblxuR2xvdlNwcml0ZUFuaW1hdGlvbi5wcm90b3R5cGUuZ2V0RnJhbWUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgaWYgKGR0ICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnVwZGF0ZShkdCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuZnJhbWU7XG59O1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8vIFNvbWUgY29kZSBmcm9tIFR1cmJ1bGVuejogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTMgVHVyYnVsZW56IExpbWl0ZWRcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGdlb20gPSByZXF1aXJlKCcuL2dlb20uanMnKTtcbmNvbnN0IHsgY29zLCBtYXgsIG1pbiwgcm91bmQsIHNpbiB9ID0gTWF0aDtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3Qgc2hhZGVycyA9IHJlcXVpcmUoJy4vc2hhZGVycy5qcycpO1xuY29uc3QgeyBuZXh0SGlnaGVzdFBvd2VyT2ZUd28gfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHZlYzIsIHZlYzQgfSA9IHJlcXVpcmUoJy4vdm1hdGguanMnKTtcblxuZXhwb3J0IGNvbnN0IEJMRU5EX0FMUEhBID0gMDtcbmV4cG9ydCBjb25zdCBCTEVORF9BRERJVElWRSA9IDE7XG5cbmxldCBzcHJpdGVfdnNoYWRlcjtcbmxldCBzcHJpdGVfZnNoYWRlcjtcbmxldCBzcHJpdGVfZHVhbF9mc2hhZGVyO1xubGV0IGNsaXBfc3BhY2UgPSB2ZWM0KCk7XG5sZXQgc3ByaXRlX3NoYWRlcl9wYXJhbXMgPSB7XG4gIGNsaXBfc3BhY2Vcbn07XG5sZXQgbGFzdF91aWQgPSAwO1xuXG5sZXQgc3ByaXRlX3F1ZXVlID0gW107XG5cbmxldCBzcHJpdGVfZnJlZWxpc3QgPSBbXTtcblxubGV0IHNwcml0ZV9xdWV1ZV9zdGFjayA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHNwcml0ZVF1ZXVlUHVzaChuZXdfbGlzdCkge1xuICBhc3NlcnQoc3ByaXRlX3F1ZXVlX3N0YWNrLmxlbmd0aCA8IDEwKTsgLy8gcHJvYmFibHkgbGVha2luZ1xuICBzcHJpdGVfcXVldWVfc3RhY2sucHVzaChzcHJpdGVfcXVldWUpO1xuICBzcHJpdGVfcXVldWUgPSBuZXdfbGlzdCB8fCBbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzcHJpdGVRdWV1ZVBvcChmb3JfcGF1c2UpIHtcbiAgYXNzZXJ0KHNwcml0ZV9xdWV1ZV9zdGFjay5sZW5ndGgpO1xuICBhc3NlcnQoZm9yX3BhdXNlIHx8ICFzcHJpdGVfcXVldWUubGVuZ3RoKTtcbiAgc3ByaXRlX3F1ZXVlID0gc3ByaXRlX3F1ZXVlX3N0YWNrLnBvcCgpO1xufVxuXG5mdW5jdGlvbiBTcHJpdGVEYXRhKCkge1xuICAvLyB4MSB5MSB4MiB5MiB4MyB5MyB4NCB5NCAtIHZlcnRpY2VzIFswLDgpXG4gIC8vIGNyIGNnIGNiIGNhIHUxIHYxIHUyIHYyIC0gbm9ybWFsaXplZCBjb2xvciArIHRleHR1cmUgWzgsMTYpXG4gIC8vIGRhdGEgZm9yIEdMIHF1ZXVpbmdcbiAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gIC8vIGRhdGEgZm9yIHNvcnRpbmcvYmluZGluZy9ldGNcbiAgdGhpcy50ZXhzID0gbnVsbDtcbiAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICB0aGlzLnNoYWRlcl9wYXJhbXMgPSBudWxsO1xuICB0aGlzLnggPSAwO1xuICB0aGlzLnkgPSAwO1xuICB0aGlzLnogPSAwO1xuICB0aGlzLmJsZW5kID0gMDsgLy8gQkxFTkRfQUxQSEFcbiAgdGhpcy51aWQgPSAwO1xufVxuXG5mdW5jdGlvbiBzcHJpdGVEYXRhQWxsb2MoKSB7XG4gIGlmIChzcHJpdGVfZnJlZWxpc3QubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHNwcml0ZV9mcmVlbGlzdC5wb3AoKTtcbiAgfVxuICByZXR1cm4gbmV3IFNwcml0ZURhdGEoKTtcbn1cblxuZnVuY3Rpb24gY21wU3ByaXRlKGEsIGIpIHtcbiAgaWYgKGEueiAhPT0gYi56KSB7XG4gICAgcmV0dXJuIGEueiAtIGIuejtcbiAgfVxuICBpZiAoYS55ICE9PSBiLnkpIHtcbiAgICByZXR1cm4gYS55IC0gYi55O1xuICB9XG4gIGlmIChhLnggIT09IGIueCkge1xuICAgIHJldHVybiBhLnggLSBiLng7XG4gIH1cbiAgcmV0dXJuIGEudWlkIC0gYi51aWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZWZuKHosIGZuKSB7XG4gIGFzc2VydChpc0Zpbml0ZSh6KSk7XG4gIHNwcml0ZV9xdWV1ZS5wdXNoKHtcbiAgICBmbixcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgeixcbiAgICB1aWQ6ICsrbGFzdF91aWQsXG4gIH0pO1xufVxuXG4vLyBjb29yZGluYXRlcyBtdXN0IGJlIGluIGNvdW50ZXItY2xvY2t3aXNlIHdpbmRpbmcgb3JkZXJcbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZXJhdzQoXG4gIHRleHMsIHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeixcbiAgdTAsIHYwLCB1MSwgdjEsXG4gIGNvbG9yLCBzaGFkZXIsIHNoYWRlcl9wYXJhbXMsIGJsZW5kXG4pIHtcbiAgYXNzZXJ0KGlzRmluaXRlKHopKTtcbiAgbGV0IGVsZW0gPSBzcHJpdGVEYXRhQWxsb2MoKTtcbiAgbGV0IGRhdGEgPSBlbGVtLmRhdGE7XG4gIC8vIHgxIHkxIHgyIHkyIHgzIHkzIHg0IHk0IC0gdmVydGljZXMgWzAsOClcbiAgLy8gY3IgY2cgY2IgY2EgdTEgdjEgdTIgdjIgLSBub3JtYWxpemVkIGNvbG9yICsgdGV4dHVyZSBbOCwxNilcbiAgLy8gTWlub3IgcGVyZiBpbXByb3ZlbWVudDogY29udmVydCBieSBjbGlwX3NwYWNlIGhlcmUgKHN0aWxsIGp1c3QgYSBzaW5nbGUgTUFEXG4gIC8vICAgaWYgcHJlLWNhbGN1bGF0ZWQgaW4gdGhlIGNhbWVyYSkgYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBzaGFkZXIuXG4gIGRhdGFbMF0gPSAoeDAgLSBjYW1lcmEyZC5kYXRhWzBdKSAqIGNhbWVyYTJkLmRhdGFbNF07XG4gIGRhdGFbMV0gPSAoeTAgLSBjYW1lcmEyZC5kYXRhWzFdKSAqIGNhbWVyYTJkLmRhdGFbNV07XG4gIGRhdGFbMl0gPSAoeDEgLSBjYW1lcmEyZC5kYXRhWzBdKSAqIGNhbWVyYTJkLmRhdGFbNF07XG4gIGRhdGFbM10gPSAoeTEgLSBjYW1lcmEyZC5kYXRhWzFdKSAqIGNhbWVyYTJkLmRhdGFbNV07XG4gIGRhdGFbNF0gPSAoeDIgLSBjYW1lcmEyZC5kYXRhWzBdKSAqIGNhbWVyYTJkLmRhdGFbNF07XG4gIGRhdGFbNV0gPSAoeTIgLSBjYW1lcmEyZC5kYXRhWzFdKSAqIGNhbWVyYTJkLmRhdGFbNV07XG4gIGRhdGFbNl0gPSAoeDMgLSBjYW1lcmEyZC5kYXRhWzBdKSAqIGNhbWVyYTJkLmRhdGFbNF07XG4gIGRhdGFbN10gPSAoeTMgLSBjYW1lcmEyZC5kYXRhWzFdKSAqIGNhbWVyYTJkLmRhdGFbNV07XG4gIGRhdGFbOF0gPSBjb2xvclswXTtcbiAgZGF0YVs5XSA9IGNvbG9yWzFdO1xuICBkYXRhWzEwXSA9IGNvbG9yWzJdO1xuICBkYXRhWzExXSA9IGNvbG9yWzNdO1xuICBkYXRhWzEyXSA9IHUwO1xuICBkYXRhWzEzXSA9IHYwO1xuICBkYXRhWzE0XSA9IHUxO1xuICBkYXRhWzE1XSA9IHYxO1xuXG4gIGVsZW0udGV4cyA9IHRleHM7XG4gIGVsZW0ueCA9IGRhdGFbMF07XG4gIGVsZW0ueSA9IGRhdGFbMV07XG4gIGVsZW0ueiA9IHo7XG4gIGVsZW0uc2hhZGVyID0gc2hhZGVyIHx8IG51bGw7XG4gIGlmIChzaGFkZXJfcGFyYW1zKSB7XG4gICAgc2hhZGVyX3BhcmFtcy5jbGlwX3NwYWNlID0gc3ByaXRlX3NoYWRlcl9wYXJhbXMuY2xpcF9zcGFjZTtcbiAgICBlbGVtLnNoYWRlcl9wYXJhbXMgPSBzaGFkZXJfcGFyYW1zO1xuICB9IGVsc2Uge1xuICAgIGVsZW0uc2hhZGVyX3BhcmFtcyA9IG51bGw7XG4gIH1cbiAgZWxlbS5ibGVuZCA9IGJsZW5kIHx8IDA7IC8vIEJMRU5EX0FMUEhBXG4gIC8vZWxlbS5idWNrZXQgPSBidWNrZXQgfHwgdGhpcy5kZWZhdWx0X2J1Y2tldDtcbiAgLy9lbGVtLnRlY2hfcGFyYW1zID0gdGVjaF9wYXJhbXMgfHwgbnVsbDtcbiAgZWxlbS51aWQgPSArK2xhc3RfdWlkO1xuICBzcHJpdGVfcXVldWUucHVzaChlbGVtKTtcbiAgcmV0dXJuIGVsZW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZXJhdyhcbiAgdGV4cywgeCwgeSwgeiwgdywgaCxcbiAgdTAsIHYwLCB1MSwgdjEsXG4gIGNvbG9yLCBzaGFkZXIsIHNoYWRlcl9wYXJhbXMsIGJsZW5kXG4pIHtcbiAgcmV0dXJuIHF1ZXVlcmF3NCh0ZXhzLFxuICAgIHgsIHksXG4gICAgeCwgeSArIGgsXG4gICAgeCArIHcsIHkgKyBoLFxuICAgIHggKyB3LCB5LFxuICAgIHosXG4gICAgdTAsIHYwLCB1MSwgdjEsXG4gICAgY29sb3IsIHNoYWRlciwgc2hhZGVyX3BhcmFtcywgYmxlbmQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVldWVzcHJpdGUoc3ByaXRlLCB4LCB5LCB6LCB3LCBoLCByb3QsIHV2cywgY29sb3IsIHNoYWRlciwgc2hhZGVyX3BhcmFtcywgbm96b29tLCBwaXhlbF9wZXJmZWN0KSB7XG4gIGFzc2VydChpc0Zpbml0ZSh6KSk7XG4gIGxldCBlbGVtID0gc3ByaXRlRGF0YUFsbG9jKCk7XG4gIGVsZW0udGV4cyA9IHNwcml0ZS50ZXhzO1xuICB4ID0gKHggLSBjYW1lcmEyZC5kYXRhWzBdKSAqIGNhbWVyYTJkLmRhdGFbNF07XG4gIHkgPSAoeSAtIGNhbWVyYTJkLmRhdGFbMV0pICogY2FtZXJhMmQuZGF0YVs1XTtcbiAgZWxlbS56ID0gejtcbiAgdyAqPSBjYW1lcmEyZC5kYXRhWzRdO1xuICBoICo9IGNhbWVyYTJkLmRhdGFbNV07XG4gIGlmIChwaXhlbF9wZXJmZWN0KSB7XG4gICAgeCB8PSAwO1xuICAgIHkgfD0gMDtcbiAgICB3IHw9IDA7XG4gICAgaCB8PSAwO1xuICB9XG4gIGVsZW0ueCA9IHg7XG4gIGVsZW0ueSA9IHk7XG4gIGNvbG9yID0gY29sb3IgfHwgc3ByaXRlLmNvbG9yO1xuICBsZXQgZGF0YSA9IGVsZW0uZGF0YTtcbiAgaWYgKCFyb3QpIHtcbiAgICBsZXQgeDEgPSB4IC0gc3ByaXRlLm9yaWdpblswXSAqIHc7XG4gICAgbGV0IHkxID0geSAtIHNwcml0ZS5vcmlnaW5bMV0gKiBoO1xuICAgIGxldCB4MiA9IHgxICsgdztcbiAgICBsZXQgeTIgPSB5MSArIGg7XG4gICAgZGF0YVswXSA9IHgxO1xuICAgIGRhdGFbMV0gPSB5MTtcbiAgICBkYXRhWzJdID0geDE7XG4gICAgZGF0YVszXSA9IHkyO1xuICAgIGRhdGFbNF0gPSB4MjtcbiAgICBkYXRhWzVdID0geTI7XG4gICAgZGF0YVs2XSA9IHgyO1xuICAgIGRhdGFbN10gPSB5MTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZHggPSBzcHJpdGUub3JpZ2luWzBdICogdztcbiAgICBsZXQgZHkgPSBzcHJpdGUub3JpZ2luWzFdICogaDtcblxuICAgIGxldCBjb3NyID0gY29zKHJvdCk7XG4gICAgbGV0IHNpbnIgPSBzaW4ocm90KTtcblxuICAgIGxldCB4MSA9IHggLSBjb3NyICogZHggKyBzaW5yICogZHk7XG4gICAgbGV0IHkxID0geSAtIHNpbnIgKiBkeCAtIGNvc3IgKiBkeTtcbiAgICBsZXQgY2ggPSBjb3NyICogaDtcbiAgICBsZXQgY3cgPSBjb3NyICogdztcbiAgICBsZXQgc2ggPSBzaW5yICogaDtcbiAgICBsZXQgc3cgPSBzaW5yICogdztcblxuICAgIGRhdGFbMF0gPSB4MTtcbiAgICBkYXRhWzFdID0geTE7XG4gICAgZGF0YVsyXSA9IHgxIC0gc2g7XG4gICAgZGF0YVszXSA9IHkxICsgY2g7XG4gICAgZGF0YVs0XSA9IHgxICsgY3cgLSBzaDtcbiAgICBkYXRhWzVdID0geTEgKyBzdyArIGNoO1xuICAgIGRhdGFbNl0gPSB4MSArIGN3O1xuICAgIGRhdGFbN10gPSB5MSArIHN3O1xuICB9XG5cbiAgZGF0YVs4XSA9IGNvbG9yWzBdO1xuICBkYXRhWzldID0gY29sb3JbMV07XG4gIGRhdGFbMTBdID0gY29sb3JbMl07XG4gIGRhdGFbMTFdID0gY29sb3JbM107XG5cbiAgbGV0IHViaWFzID0gMDtcbiAgbGV0IHZiaWFzID0gMDtcbiAgbGV0IHRleCA9IGVsZW0udGV4c1swXTtcbiAgaWYgKCFub3pvb20gJiYgIXRleC5ub3pvb20pIHtcbiAgICAvLyBCaWFzIHRoZSB0ZXh0dXJlIGNvb3JkaW5hdGVzIGRlcGVuZGluZyBvbiB0aGUgbWluaWZpY2F0aW9uL21hZ25pZmljYXRpb25cbiAgICAvLyAgIGxldmVsIHNvIHdlIGRvIG5vdCBnZXQgcGl4ZWxzIGZyb20gbmVpZ2hib3JpbmcgZnJhbWVzIGJsZWVkaW5nIGluXG4gICAgLy8gVXNlIG1pbiBoZXJlICh3YXMgbWF4IGluIGxpYkdsb3YpLCB0byBzb2x2ZSB0b29sdGlwIGVkZ2VzIGJlaW5nIHdyb25nIGluIHN0cmljdCBwaXhlbHlcbiAgICAvLyBVc2UgbWF4IGhlcmUgdG8gc29sdmUgYm94IGJ1dHRvbnMgbm90IGxpbmluZyB1cCwgYnV0IGluc3RlYWQgdXNpbmcgbm96b29tIGluIGRyYXdCb3gvZHJhd0hCb3gsXG4gICAgLy8gICBidXQsIHRoYXQgb25seSB3b3JrcyBmb3IgbWFnbmlmaWNhdGlvbiAtIG5lZWQgdGhlIG1heCBoZXJlIGZvciBtaW5pZmljYXRpb24hXG4gICAgbGV0IHpvb21fbGV2ZWwgPSBtYXgoXG4gICAgICAodXZzWzJdIC0gdXZzWzBdKSAqIHRleC53aWR0aCAvIHcsXG4gICAgICAodXZzWzNdIC0gdXZzWzFdKSAqIHRleC5oZWlnaHQgLyBoLFxuICAgICk7IC8vIGluIHRleGVscyBwZXIgcGl4ZWxcbiAgICBpZiAoem9vbV9sZXZlbCA8IDEpIHsgLy8gbWFnbmlmaWNhdGlvblxuICAgICAgaWYgKHRleC5maWx0ZXJfbWFnID09PSBnbC5MSU5FQVIpIHtcbiAgICAgICAgLy8gTmVlZCB0byBiaWFzIGJ5IGhhbGYgYSB0ZXhlbCwgc28gd2UncmUgZG9pbmcgYWJzb2x1dGVseSBubyBibGVuZGluZyB3aXRoIHRoZSBuZWlnaGJvcmluZyB0ZXhlbFxuICAgICAgICB1YmlhcyA9IHZiaWFzID0gMC41O1xuICAgICAgfSBlbHNlIGlmICh0ZXguZmlsdGVyX21hZyA9PT0gZ2wuTkVBUkVTVCAmJiBlbmdpbmUuYW50aWFsaWFzKSB7XG4gICAgICAgIC8vIFdoZW4gYW50aWFsaWFzaW5nIGlzIG9uLCBldmVuIG5lYXJlc3Qgc2FtcGxpbmcgc2FtcGxlcyBmcm9tIGFkamFjZW50IHRleGVscywgZG8gc2xpZ2h0IGJpYXNcbiAgICAgICAgLy8gV2FudCB0byBiaWFzIGJ5IG9uZSAqcGl4ZWwncyogd29ydGhcbiAgICAgICAgdWJpYXMgPSB2YmlhcyA9IHpvb21fbGV2ZWwgLyAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoem9vbV9sZXZlbCA+IDEpIHsgLy8gbWluaWZpY2F0aW9uXG4gICAgICAvLyBuZWVkIHRvIGFwcGx5IHRoaXMgYmlhcyBldmVuIHdpdGggbmVhcmVzdCBmaWx0ZXJpbmcsIG5vdCBleGFjdGx5IHN1cmUgd2h5XG4gICAgICBsZXQgbWlwcGVkX3RleGVscyA9IHpvb21fbGV2ZWwgLyAyO1xuICAgICAgdWJpYXMgPSB2YmlhcyA9IDAuNSArIG1pcHBlZF90ZXhlbHM7XG5cbiAgICB9XG4gICAgaWYgKHV2c1swXSA+IHV2c1syXSkge1xuICAgICAgdWJpYXMgKj0gLTE7XG4gICAgfVxuICAgIGlmICh1dnNbMV0gPiB1dnNbM10pIHtcbiAgICAgIHZiaWFzICo9IC0xO1xuICAgIH1cbiAgfVxuXG4gIGRhdGFbMTJdID0gdXZzWzBdICsgdWJpYXMgLyB0ZXgud2lkdGg7XG4gIGRhdGFbMTNdID0gdXZzWzFdICsgdmJpYXMgLyB0ZXguaGVpZ2h0O1xuICBkYXRhWzE0XSA9IHV2c1syXSAtIHViaWFzIC8gdGV4LndpZHRoO1xuICBkYXRhWzE1XSA9IHV2c1szXSAtIHZiaWFzIC8gdGV4LmhlaWdodDtcblxuICBlbGVtLnVpZCA9ICsrbGFzdF91aWQ7XG4gIGVsZW0uc2hhZGVyID0gc2hhZGVyIHx8IG51bGw7XG4gIGVsZW0uYmxlbmQgPSAwOyAvLyBCTEVORF9BTFBIQVxuXG4gIGlmIChzaGFkZXJfcGFyYW1zKSB7XG4gICAgc2hhZGVyX3BhcmFtcy5jbGlwX3NwYWNlID0gc3ByaXRlX3NoYWRlcl9wYXJhbXMuY2xpcF9zcGFjZTtcbiAgICBlbGVtLnNoYWRlcl9wYXJhbXMgPSBzaGFkZXJfcGFyYW1zO1xuICB9IGVsc2Uge1xuICAgIGVsZW0uc2hhZGVyX3BhcmFtcyA9IG51bGw7XG4gIH1cbiAgc3ByaXRlX3F1ZXVlLnB1c2goZWxlbSk7XG59XG5cblxubGV0IGNsaXBfdGVtcF94eSA9IHZlYzIoKTtcbmxldCBjbGlwX3RlbXBfd2ggPSB2ZWMyKCk7XG5mdW5jdGlvbiBjbGlwQ29vcmRzU2Npc3Nvcih4LCB5LCB3LCBoKSB7XG4gIGNhbWVyYTJkLnZpcnR1YWxUb0NhbnZhcyhjbGlwX3RlbXBfeHksIFt4LCB5XSk7XG4gIGNsaXBfdGVtcF94eVswXSA9IHJvdW5kKGNsaXBfdGVtcF94eVswXSk7XG4gIGNsaXBfdGVtcF94eVsxXSA9IHJvdW5kKGNsaXBfdGVtcF94eVsxXSk7XG4gIGNhbWVyYTJkLnZpcnR1YWxUb0NhbnZhcyhjbGlwX3RlbXBfd2gsIFt4ICsgdywgeSArIGhdKTtcbiAgY2xpcF90ZW1wX3doWzBdID0gcm91bmQoY2xpcF90ZW1wX3doWzBdKSAtIGNsaXBfdGVtcF94eVswXTtcbiAgY2xpcF90ZW1wX3doWzFdID0gcm91bmQoY2xpcF90ZW1wX3doWzFdKSAtIGNsaXBfdGVtcF94eVsxXTtcblxuICAvLyBsZXQgZ2RfdyA9IGVuZ2luZS5yZW5kZXJfd2lkdGggfHwgZW5naW5lLndpZHRoO1xuICBsZXQgZ2RfaCA9IGVuZ2luZS5yZW5kZXJfaGVpZ2h0IHx8IGVuZ2luZS5oZWlnaHQ7XG4gIHJldHVybiBbY2xpcF90ZW1wX3h5WzBdLCBnZF9oIC0gKGNsaXBfdGVtcF94eVsxXSArIGNsaXBfdGVtcF93aFsxXSksIGNsaXBfdGVtcF93aFswXSwgY2xpcF90ZW1wX3doWzFdXTtcbn1cblxuZnVuY3Rpb24gY2xpcENvb3Jkc0RvbSh4LCB5LCB3LCBoKSB7XG4gIGxldCB4eXdoID0gdmVjNCgpO1xuICBjYW1lcmEyZC52aXJ0dWFsVG9Eb20oeHl3aCwgW3ggKyB3LCB5ICsgaF0pO1xuICB4eXdoWzJdID0geHl3aFswXTtcbiAgeHl3aFszXSA9IHh5d2hbMV07XG4gIGNhbWVyYTJkLnZpcnR1YWxUb0RvbSh4eXdoLCBbeCwgeV0pO1xuICB4eXdoWzBdID0gcm91bmQoeHl3aFswXSk7XG4gIHh5d2hbMV0gPSByb3VuZCh4eXdoWzFdKTtcbiAgeHl3aFsyXSA9IHJvdW5kKHh5d2hbMl0pIC0geHl3aFswXTtcbiAgeHl3aFszXSA9IHJvdW5kKHh5d2hbM10pIC0geHl3aFsxXTtcblxuICByZXR1cm4geHl3aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaXAoel9zdGFydCwgel9lbmQsIHgsIHksIHcsIGgpIHtcbiAgbGV0IHNjaXNzb3IgPSBjbGlwQ29vcmRzU2Npc3Nvcih4LCB5LCB3LCBoKTtcbiAgcXVldWVmbih6X3N0YXJ0IC0gMC4wMSwgKCkgPT4ge1xuICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIGdsLnNjaXNzb3Ioc2Npc3NvclswXSwgc2Npc3NvclsxXSwgc2Npc3NvclsyXSwgc2Npc3NvclszXSk7XG4gIH0pO1xuICBxdWV1ZWZuKHpfZW5kIC0gMC4wMSwgKCkgPT4ge1xuICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgfSk7XG59XG5cbmxldCBjbGlwX3N0YWNrID0gW107XG5leHBvcnQgZnVuY3Rpb24gY2xpcHBlZCgpIHtcbiAgcmV0dXJuIGNsaXBfc3RhY2subGVuZ3RoID4gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaXBQdXNoKHosIHgsIHksIHcsIGgpIHtcbiAgYXNzZXJ0KGNsaXBfc3RhY2subGVuZ3RoIDwgMTApOyAvLyBwcm9iYWJseSBsZWFraW5nXG4gIGxldCBzY2lzc29yID0gY2xpcENvb3Jkc1NjaXNzb3IoeCwgeSwgdywgaCk7XG4gIGxldCBkb21fY2xpcCA9IGNsaXBDb29yZHNEb20oeCwgeSwgdywgaCk7XG4gIGNhbWVyYTJkLnNldElucHV0Q2xpcHBpbmcoZG9tX2NsaXApO1xuICBzcHJpdGVRdWV1ZVB1c2goKTtcbiAgY2xpcF9zdGFjay5wdXNoKHtcbiAgICB6LCBzY2lzc29yLCBkb21fY2xpcCxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwUG9wKCkge1xuICBhc3NlcnQoY2xpcHBlZCgpKTtcbiAgcXVldWVmbihaLlRPT0xUSVAgLSAwLjEsICgpID0+IHtcbiAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gIH0pO1xuICBsZXQgeyB6LCBzY2lzc29yIH0gPSBjbGlwX3N0YWNrLnBvcCgpO1xuICBsZXQgc3ByaXRlcyA9IHNwcml0ZV9xdWV1ZTtcbiAgc3ByaXRlUXVldWVQb3AodHJ1ZSk7XG4gIGlmIChjbGlwX3N0YWNrLmxlbmd0aCkge1xuICAgIGxldCB7IGRvbV9jbGlwIH0gPSBjbGlwX3N0YWNrW2NsaXBfc3RhY2subGVuZ3RoIC0gMV07XG4gICAgY2FtZXJhMmQuc2V0SW5wdXRDbGlwcGluZyhkb21fY2xpcCk7XG4gIH0gZWxzZSB7XG4gICAgY2FtZXJhMmQuc2V0SW5wdXRDbGlwcGluZyhudWxsKTtcbiAgfVxuICBxdWV1ZWZuKHosICgpID0+IHtcbiAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICBnbC5zY2lzc29yKHNjaXNzb3JbMF0sIHNjaXNzb3JbMV0sIHNjaXNzb3JbMl0sIHNjaXNzb3JbM10pO1xuICAgIHNwcml0ZVF1ZXVlUHVzaCgpO1xuICAgIHNwcml0ZV9xdWV1ZSA9IHNwcml0ZXM7XG4gICAgZXhwb3J0cy5kcmF3KCk7XG4gICAgc3ByaXRlUXVldWVQb3AoKTtcbiAgICAvLyBkb25lIGF0IFouVE9PTFRJUDogZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICB9KTtcbn1cblxubGV0IGNsaXBfcGF1c2VkO1xuZXhwb3J0IGZ1bmN0aW9uIGNsaXBQYXVzZSgpIHtcbiAgLy8gUXVldWUgYmFjayBpbnRvIHRoZSByb290IHNwcml0ZSBxdWV1ZVxuICBhc3NlcnQoY2xpcHBlZCgpKTtcbiAgYXNzZXJ0KCFjbGlwX3BhdXNlZCk7XG4gIGNsaXBfcGF1c2VkID0gdHJ1ZTtcbiAgc3ByaXRlUXVldWVQdXNoKHNwcml0ZV9xdWV1ZV9zdGFja1swXSk7XG4gIGNhbWVyYTJkLnNldElucHV0Q2xpcHBpbmcobnVsbCk7XG4gIC8vIHB1c2ggb250byB0aGUgY2xpcCBzdGFjayBzbyBpZiB0aGVyZSdzIGFub3RoZXIgY2xpcCBwdXNoL3BvcCB3ZSBnZXQgYmFjayB0b1xuICAvLyBlc2NhcGVkIHdoZW4gaXQgcG9wcy5cbiAgY2xpcF9zdGFjay5wdXNoKHsgZG9tX2NsaXA6IG51bGwgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xpcFJlc3VtZSgpIHtcbiAgYXNzZXJ0KGNsaXBwZWQoKSk7XG4gIGFzc2VydChjbGlwX3BhdXNlZCk7XG4gIGNsaXBfc3RhY2sucG9wKCk7IC8vIHJlbW92ZSB1c1xuICBjbGlwX3BhdXNlZCA9IGZhbHNlO1xuICBhc3NlcnQoY2xpcHBlZCgpKTtcbiAgbGV0IHsgZG9tX2NsaXAgfSA9IGNsaXBfc3RhY2tbY2xpcF9zdGFjay5sZW5ndGggLSAxXTtcbiAgc3ByaXRlUXVldWVQb3AodHJ1ZSk7XG4gIGNhbWVyYTJkLnNldElucHV0Q2xpcHBpbmcoZG9tX2NsaXApO1xufVxuXG5mdW5jdGlvbiBkaWZmVGV4dHVyZXModGV4c2EsIHRleHNiKSB7XG4gIGlmICh0ZXhzYS5sZW5ndGggIT09IHRleHNiLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXhzYS5sZW5ndGg7ICsraWkpIHtcbiAgICBpZiAodGV4c2FbaWldICE9PSB0ZXhzYltpaV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmxldCBiYXRjaF9zdGF0ZTtcbmxldCBzcHJpdGVfZ2VvbTtcbmxldCBzcHJpdGVfYnVmZmVyOyAvLyBGbG9hdDMyQXJyYXkgd2l0aCA4IGVudHJpZXMgcGVyIHZlcnRcbmxldCBzcHJpdGVfYnVmZmVyX2xlbiA9IDA7IC8vIGluIHZlcnRzXG5sZXQgc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCA9IDA7XG5sZXQgc3ByaXRlX2J1ZmZlcl9pZHggPSAwOyAvLyBpbiB2ZXJ0c1xubGV0IGxhc3RfYmxlbmRfbW9kZTtcbmxldCBsYXN0X2JvdW5kX3NoYWRlcjtcbmNvbnN0IE1BWF9WRVJUX0NPVU5UID0gNjU1MzY7XG5sZXQgYmF0Y2hlcyA9IFtdO1xuXG5mdW5jdGlvbiBjb21taXQoKSB7XG4gIGlmIChzcHJpdGVfYnVmZmVyX2lkeCA9PT0gc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCkge1xuICAgIHJldHVybjtcbiAgfVxuICBiYXRjaGVzLnB1c2goe1xuICAgIHN0YXRlOiBiYXRjaF9zdGF0ZSxcbiAgICBzdGFydDogc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCxcbiAgICBlbmQ6IHNwcml0ZV9idWZmZXJfaWR4LFxuICB9KTtcbiAgc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCA9IHNwcml0ZV9idWZmZXJfaWR4O1xufVxuXG5mdW5jdGlvbiBjb21taXRBbmRGbHVzaCgpIHtcbiAgY29tbWl0KCk7XG4gIGlmICghYmF0Y2hlcy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYXNzZXJ0KHNwcml0ZV9idWZmZXJfaWR4KTtcbiAgc3ByaXRlX2dlb20udXBkYXRlKHNwcml0ZV9idWZmZXIsIHNwcml0ZV9idWZmZXJfaWR4KTtcbiAgc3ByaXRlX2dlb20uYmluZCgpO1xuXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBiYXRjaGVzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBiYXRjaCA9IGJhdGNoZXNbaWldO1xuICAgIGxldCB7IHN0YXRlLCBzdGFydCwgZW5kIH0gPSBiYXRjaDtcbiAgICBpZiAobGFzdF9ib3VuZF9zaGFkZXIgIT09IHN0YXRlLnNoYWRlciB8fCBzdGF0ZS5zaGFkZXJfcGFyYW1zKSB7XG4gICAgICBzaGFkZXJzLmJpbmQoc3ByaXRlX3ZzaGFkZXIsXG4gICAgICAgIHN0YXRlLnNoYWRlciB8fCBzcHJpdGVfZnNoYWRlcixcbiAgICAgICAgc3RhdGUuc2hhZGVyX3BhcmFtcyB8fCBzcHJpdGVfc2hhZGVyX3BhcmFtcyk7XG4gICAgICBsYXN0X2JvdW5kX3NoYWRlciA9IHN0YXRlLnNoYWRlcjtcbiAgICB9XG4gICAgaWYgKGxhc3RfYmxlbmRfbW9kZSAhPT0gc3RhdGUuYmxlbmQpIHtcbiAgICAgIGxhc3RfYmxlbmRfbW9kZSA9IHN0YXRlLmJsZW5kO1xuICAgICAgaWYgKGxhc3RfYmxlbmRfbW9kZSA9PT0gQkxFTkRfQURESVRJVkUpIHtcbiAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZXh0dXJlcy5iaW5kQXJyYXkoc3RhdGUudGV4cyk7XG4gICAgZ2wuZHJhd0VsZW1lbnRzKHNwcml0ZV9nZW9tLm1vZGUsIChlbmQgLSBzdGFydCkgKiAzIC8gMiwgZ2wuVU5TSUdORURfU0hPUlQsIHN0YXJ0ICogMyk7XG4gIH1cblxuICBiYXRjaGVzLmxlbmd0aCA9IDA7XG4gIHNwcml0ZV9idWZmZXJfaWR4ID0gMDtcbiAgc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCA9IDA7XG59XG5cbmZ1bmN0aW9uIGJ1ZmZlclNwcml0ZURhdGEoZGF0YSkge1xuICBsZXQgaW5kZXggPSBzcHJpdGVfYnVmZmVyX2lkeCAqIDg7XG4gIHNwcml0ZV9idWZmZXJfaWR4ICs9IDQ7XG5cbiAgbGV0IGMxID0gZGF0YVs4XTtcbiAgbGV0IGMyID0gZGF0YVs5XTtcbiAgbGV0IGMzID0gZGF0YVsxMF07XG4gIGxldCBjNCA9IGRhdGFbMTFdO1xuICBsZXQgdTEgPSBkYXRhWzEyXTtcbiAgbGV0IHYxID0gZGF0YVsxM107XG4gIGxldCB1MiA9IGRhdGFbMTRdO1xuICBsZXQgdjIgPSBkYXRhWzE1XTtcblxuICBzcHJpdGVfYnVmZmVyW2luZGV4XSA9IGRhdGFbMF07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxXSA9IGRhdGFbMV07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyXSA9IGMxO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgM10gPSBjMjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDRdID0gYzM7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyA1XSA9IGM0O1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgNl0gPSB1MTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDddID0gdjE7XG5cbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDhdID0gZGF0YVsyXTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDldID0gZGF0YVszXTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDEwXSA9IGMxO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTFdID0gYzI7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxMl0gPSBjMztcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDEzXSA9IGM0O1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTRdID0gdTE7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxNV0gPSB2MjtcblxuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMTZdID0gZGF0YVs0XTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDE3XSA9IGRhdGFbNV07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAxOF0gPSBjMTtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDE5XSA9IGMyO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjBdID0gYzM7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyMV0gPSBjNDtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDIyXSA9IHUyO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjNdID0gdjI7XG5cbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDI0XSA9IGRhdGFbNl07XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyNV0gPSBkYXRhWzddO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjZdID0gYzE7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAyN10gPSBjMjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDI4XSA9IGMzO1xuICBzcHJpdGVfYnVmZmVyW2luZGV4ICsgMjldID0gYzQ7XG4gIHNwcml0ZV9idWZmZXJbaW5kZXggKyAzMF0gPSB1MjtcbiAgc3ByaXRlX2J1ZmZlcltpbmRleCArIDMxXSA9IHYxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhdygpIHtcbiAgaWYgKGVuZ2luZS5kZWZpbmVzLk5PU1BSSVRFUykge1xuICAgIHNwcml0ZV9xdWV1ZS5sZW5ndGggPSAwO1xuICB9XG4gIGlmICghc3ByaXRlX3F1ZXVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNsaXBfc3BhY2VbMF0gPSAyIC8gZW5naW5lLnZpZXdwb3J0WzJdO1xuICBjbGlwX3NwYWNlWzFdID0gLTIgLyBlbmdpbmUudmlld3BvcnRbM107XG5cbiAgbGFzdF9ibGVuZF9tb2RlID0gLTE7XG4gIGxhc3RfYm91bmRfc2hhZGVyID0gLTE7XG5cbiAgaWYgKCFzcHJpdGVfZ2VvbSkge1xuICAgIHNwcml0ZV9nZW9tID0gZ2VvbS5jcmVhdGUoW1xuICAgICAgW3NoYWRlcnMuc2VtYW50aWMuUE9TSVRJT04sIGdsLkZMT0FULCAyLCBmYWxzZV0sXG4gICAgICBbc2hhZGVycy5zZW1hbnRpYy5DT0xPUiwgZ2wuRkxPQVQsIDQsIGZhbHNlXSxcbiAgICAgIFtzaGFkZXJzLnNlbWFudGljLlRFWENPT1JELCBnbC5GTE9BVCwgMiwgZmFsc2VdLFxuICAgIF0sIFtdLCBudWxsLCBnZW9tLlFVQURTKTtcbiAgICBzcHJpdGVfYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheSgxMDI0KTtcbiAgICBzcHJpdGVfYnVmZmVyX2xlbiA9IHNwcml0ZV9idWZmZXIubGVuZ3RoIC8gODtcbiAgfVxuXG4gIHNwcml0ZV9xdWV1ZS5zb3J0KGNtcFNwcml0ZSk7XG5cbiAgYmF0Y2hfc3RhdGUgPSBudWxsO1xuICBhc3NlcnQuZXF1YWwoc3ByaXRlX2J1ZmZlcl9pZHgsIDApO1xuICBhc3NlcnQuZXF1YWwoc3ByaXRlX2J1ZmZlcl9iYXRjaF9zdGFydCwgMCk7XG4gIGFzc2VydC5lcXVhbChiYXRjaGVzLmxlbmd0aCwgMCk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBzcHJpdGVfcXVldWUubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGVsZW0gPSBzcHJpdGVfcXVldWVbaWldO1xuICAgIGlmIChlbGVtLmZuKSB7XG4gICAgICBjb21taXRBbmRGbHVzaCgpO1xuICAgICAgYmF0Y2hfc3RhdGUgPSBudWxsO1xuICAgICAgZWxlbS5mbigpO1xuICAgICAgbGFzdF9ib3VuZF9zaGFkZXIgPSAtMTtcbiAgICAgIGxhc3RfYmxlbmRfbW9kZSA9IC0xO1xuICAgICAgYXNzZXJ0LmVxdWFsKHNwcml0ZV9idWZmZXJfaWR4LCAwKTtcbiAgICAgIGFzc2VydC5lcXVhbChzcHJpdGVfYnVmZmVyX2JhdGNoX3N0YXJ0LCAwKTtcbiAgICAgIGFzc2VydC5lcXVhbChiYXRjaGVzLmxlbmd0aCwgMCk7XG5cbiAgICAgIGNsaXBfc3BhY2VbMF0gPSAyIC8gZW5naW5lLnZpZXdwb3J0WzJdO1xuICAgICAgY2xpcF9zcGFjZVsxXSA9IC0yIC8gZW5naW5lLnZpZXdwb3J0WzNdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWJhdGNoX3N0YXRlIHx8XG4gICAgICAgIGRpZmZUZXh0dXJlcyhlbGVtLnRleHMsIGJhdGNoX3N0YXRlLnRleHMpIHx8XG4gICAgICAgIGVsZW0uc2hhZGVyICE9PSBiYXRjaF9zdGF0ZS5zaGFkZXIgfHxcbiAgICAgICAgZWxlbS5zaGFkZXJfcGFyYW1zICE9PSBiYXRjaF9zdGF0ZS5zaGFkZXJfcGFyYW1zIHx8XG4gICAgICAgIGVsZW0uYmxlbmQgIT09IGJhdGNoX3N0YXRlLmJsZW5kXG4gICAgICApIHtcbiAgICAgICAgY29tbWl0KCk7XG4gICAgICAgIGJhdGNoX3N0YXRlID0gZWxlbTtcbiAgICAgIH1cbiAgICAgIGlmIChzcHJpdGVfYnVmZmVyX2lkeCArIDQgPiBzcHJpdGVfYnVmZmVyX2xlbikge1xuICAgICAgICBjb21taXRBbmRGbHVzaCgpO1xuICAgICAgICAvLyBiYXRjaF9zdGF0ZSBsZWZ0IGFsb25lXG4gICAgICAgIGlmIChzcHJpdGVfYnVmZmVyX2xlbiAhPT0gTUFYX1ZFUlRfQ09VTlQpIHtcbiAgICAgICAgICBsZXQgbmV3X2xlbmd0aCA9IG1pbigoc3ByaXRlX2J1ZmZlcl9sZW4gKiAxLjI1ICsgMykgJiB+MywgTUFYX1ZFUlRfQ09VTlQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICBzcHJpdGVfYnVmZmVyX2xlbiA9IG5ld19sZW5ndGg7XG4gICAgICAgICAgc3ByaXRlX2J1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkobmV3X2xlbmd0aCAqIDgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJ1ZmZlclNwcml0ZURhdGEoZWxlbS5kYXRhKTtcbiAgICAgIHNwcml0ZV9mcmVlbGlzdC5wdXNoKGVsZW0pO1xuICAgIH1cbiAgfVxuICBjb21taXRBbmRGbHVzaCgpO1xuXG4gIHNwcml0ZV9xdWV1ZS5sZW5ndGggPSAwO1xuICBpZiAobGFzdF9ibGVuZF9tb2RlICE9PSBCTEVORF9BTFBIQSkge1xuICAgIC8vIGFsd2F5cyByZXNldCB0byB0aGlzXG4gICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUmVjdHMod3MsIGhzKSB7XG4gIGxldCByZWN0cyA9IFtdO1xuICBsZXQgdG90YWxfdyA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB3cy5sZW5ndGg7ICsraWkpIHtcbiAgICB0b3RhbF93ICs9IHdzW2lpXTtcbiAgfVxuICBsZXQgdG90YWxfaCA9IDA7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBocy5sZW5ndGg7ICsraWkpIHtcbiAgICB0b3RhbF9oICs9IGhzW2lpXTtcbiAgfVxuICBsZXQgdGV4X3cgPSBuZXh0SGlnaGVzdFBvd2VyT2ZUd28odG90YWxfdyk7XG4gIGxldCB0ZXhfaCA9IG5leHRIaWdoZXN0UG93ZXJPZlR3byh0b3RhbF9oKTtcbiAgbGV0IHdoID0gW107XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB3cy5sZW5ndGg7ICsraWkpIHtcbiAgICB3aC5wdXNoKHdzW2lpXSAvIHRvdGFsX2gpO1xuICB9XG4gIGxldCBodyA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaHMubGVuZ3RoOyArK2lpKSB7XG4gICAgaHcucHVzaChoc1tpaV0gLyB0b3RhbF93KTtcbiAgfVxuICBsZXQgYXNwZWN0ID0gW107XG4gIGxldCBub25fc3F1YXJlID0gZmFsc2U7XG4gIGxldCB5ID0gMDtcbiAgZm9yIChsZXQgamogPSAwOyBqaiA8IGhzLmxlbmd0aDsgKytqaikge1xuICAgIGxldCB4ID0gMDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgd3MubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQgciA9IHZlYzQoeCAvIHRleF93LCB5IC8gdGV4X2gsXG4gICAgICAgICh4ICsgd3NbaWldKSAvIHRleF93LCAoeSArIGhzW2pqXSkgLyB0ZXhfaCk7XG4gICAgICByZWN0cy5wdXNoKHIpO1xuICAgICAgbGV0IGFzcCA9IHdzW2lpXSAvIGhzW2pqXTtcbiAgICAgIGlmIChhc3AgIT09IDEpIHtcbiAgICAgICAgbm9uX3NxdWFyZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBhc3BlY3QucHVzaChhc3ApO1xuICAgICAgeCArPSB3c1tpaV07XG4gICAgfVxuICAgIHkgKz0gaHNbampdO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGhzOiB3cyxcbiAgICBoZWlnaHRzOiBocyxcbiAgICB3aCxcbiAgICBodyxcbiAgICByZWN0cyxcbiAgICBhc3BlY3Q6IG5vbl9zcXVhcmUgPyBhc3BlY3QgOiBudWxsLFxuICAgIHRvdGFsX3csXG4gICAgdG90YWxfaCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gU3ByaXRlKHBhcmFtcykge1xuICBpZiAocGFyYW1zLnRleHMpIHtcbiAgICB0aGlzLnRleHMgPSBwYXJhbXMudGV4cztcbiAgfSBlbHNlIHtcbiAgICBsZXQgZXh0ID0gcGFyYW1zLmV4dCB8fCAnLnBuZyc7XG4gICAgdGhpcy50ZXhzID0gW107XG4gICAgaWYgKHBhcmFtcy50ZXgpIHtcbiAgICAgIHRoaXMudGV4cy5wdXNoKHBhcmFtcy50ZXgpO1xuICAgIH0gZWxzZSBpZiAocGFyYW1zLmxheWVycykge1xuICAgICAgYXNzZXJ0KHBhcmFtcy5uYW1lKTtcbiAgICAgIHRoaXMudGV4cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBhcmFtcy5sYXllcnM7ICsraWkpIHtcbiAgICAgICAgdGhpcy50ZXhzLnB1c2godGV4dHVyZXMubG9hZCh7XG4gICAgICAgICAgdXJsOiBgaW1nLyR7cGFyYW1zLm5hbWV9XyR7aWl9JHtleHR9YCxcbiAgICAgICAgICBmaWx0ZXJfbWluOiBwYXJhbXMuZmlsdGVyX21pbixcbiAgICAgICAgICBmaWx0ZXJfbWFnOiBwYXJhbXMuZmlsdGVyX21hZyxcbiAgICAgICAgICB3cmFwX3M6IHBhcmFtcy53cmFwX3MsXG4gICAgICAgICAgd3JhcF90OiBwYXJhbXMud3JhcF90LFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJhbXMubmFtZSkge1xuICAgICAgdGhpcy50ZXhzLnB1c2godGV4dHVyZXMubG9hZCh7XG4gICAgICAgIHVybDogYGltZy8ke3BhcmFtcy5uYW1lfSR7ZXh0fWAsXG4gICAgICAgIGZpbHRlcl9taW46IHBhcmFtcy5maWx0ZXJfbWluLFxuICAgICAgICBmaWx0ZXJfbWFnOiBwYXJhbXMuZmlsdGVyX21hZyxcbiAgICAgICAgd3JhcF9zOiBwYXJhbXMud3JhcF9zLFxuICAgICAgICB3cmFwX3Q6IHBhcmFtcy53cmFwX3QsXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChwYXJhbXMudXJsKTtcbiAgICAgIHRoaXMudGV4cy5wdXNoKHRleHR1cmVzLmxvYWQocGFyYW1zKSk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vcmlnaW4gPSBwYXJhbXMub3JpZ2luIHx8IHZlYzIoMCwgMCk7IC8vIFswLDFdIHJhbmdlXG4gIHRoaXMuc2l6ZSA9IHBhcmFtcy5zaXplIHx8IHZlYzIoMSwgMSk7XG4gIHRoaXMuY29sb3IgPSBwYXJhbXMuY29sb3IgfHwgdmVjNCgxLDEsMSwxKTtcbiAgdGhpcy51dnMgPSBwYXJhbXMudXZzIHx8IHZlYzQoMCwgMCwgMSwgMSk7XG4gIGlmICghcGFyYW1zLnV2cykge1xuICAgIC8vIEZpeCB1cCBub24tcG93ZXItb2YtdHdvIHRleHR1cmVzXG4gICAgdGhpcy50ZXhzWzBdLm9uTG9hZCgodGV4KSA9PiB7XG4gICAgICB0aGlzLnV2c1syXSA9IHRleC5zcmNfd2lkdGggLyB0ZXgud2lkdGg7XG4gICAgICB0aGlzLnV2c1szXSA9IHRleC5zcmNfaGVpZ2h0IC8gdGV4LmhlaWdodDtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChwYXJhbXMud3MpIHtcbiAgICB0aGlzLnVpZGF0YSA9IGJ1aWxkUmVjdHMocGFyYW1zLndzLCBwYXJhbXMuaHMpO1xuICB9XG4gIHRoaXMuc2hhZGVyID0gcGFyYW1zLnNoYWRlciB8fCBudWxsO1xufVxuXG4vLyBwYXJhbXM6XG4vLyAgIHJlcXVpcmVkOiB4LCB5XG4vLyAgIG9wdGlvbmFsOiB6LCB3LCBoLCB1dnMsIGNvbG9yLCBub3pvb20sIHBpeGVsX3BlcmZlY3RcblNwcml0ZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcy53ID09PSAwIHx8IHBhcmFtcy5oID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCB3ID0gKHBhcmFtcy53IHx8IDEpICogdGhpcy5zaXplWzBdO1xuICBsZXQgaCA9IChwYXJhbXMuaCB8fCAxKSAqIHRoaXMuc2l6ZVsxXTtcbiAgbGV0IHV2cyA9ICh0eXBlb2YgcGFyYW1zLmZyYW1lID09PSAnbnVtYmVyJykgPyB0aGlzLnVpZGF0YS5yZWN0c1twYXJhbXMuZnJhbWVdIDogKHBhcmFtcy51dnMgfHwgdGhpcy51dnMpO1xuICBxdWV1ZXNwcml0ZSh0aGlzLCBwYXJhbXMueCwgcGFyYW1zLnksIHBhcmFtcy56IHx8IFouVUksIHcsIGgsIHBhcmFtcy5yb3QsIHV2cywgcGFyYW1zLmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgcGFyYW1zLnNoYWRlciB8fCB0aGlzLnNoYWRlciwgcGFyYW1zLnNoYWRlcl9wYXJhbXMsIHBhcmFtcy5ub3pvb20sIHBhcmFtcy5waXhlbF9wZXJmZWN0KTtcbn07XG5cblNwcml0ZS5wcm90b3R5cGUuZHJhd0R1YWxUaW50ID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBwYXJhbXMuc2hhZGVyID0gc3ByaXRlX2R1YWxfZnNoYWRlcjtcbiAgcGFyYW1zLnNoYWRlcl9wYXJhbXMgPSB7XG4gICAgY29sb3IxOiBwYXJhbXMuY29sb3IxLFxuICB9O1xuICB0aGlzLmRyYXcocGFyYW1zKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgU3ByaXRlKHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKCkge1xuICBjbGlwX3NwYWNlWzJdID0gLTE7XG4gIGNsaXBfc3BhY2VbM10gPSAxO1xuICBzcHJpdGVfdnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvc3ByaXRlLnZwJyk7XG4gIHNwcml0ZV9mc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoJ2dsb3Yvc2hhZGVycy9zcHJpdGUuZnAnKTtcbiAgc3ByaXRlX2R1YWxfZnNoYWRlciA9IHNoYWRlcnMuY3JlYXRlKCdnbG92L3NoYWRlcnMvc3ByaXRlX2R1YWwuZnAnKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZG90X3Byb3AgPSByZXF1aXJlKCdkb3QtcHJvcCcpO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3RpbnktZXZlbnRzLmpzJyk7XG5jb25zdCB7IGZiR2V0TG9naW5JbmZvIH0gPSByZXF1aXJlKCcuL2ZiaW5zdGFudC5qcycpO1xuY29uc3QgbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vbG9jYWxfc3RvcmFnZS5qcycpO1xuY29uc3QgbWQ1ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL21kNS5qcycpO1xuY29uc3QgeyBpc1BhY2tldCB9ID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3BhY2tldC5qcycpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5cbi8vIHJlbGV2YW50IGV2ZW50czpcbi8vICAgLm9uKCdjaGFubmVsX2RhdGEnLCBjYihkYXRhIFssIG1vZF9rZXksIG1vZF92YWx1ZV0pKTtcblxuZnVuY3Rpb24gQ2xpZW50Q2hhbm5lbFdvcmtlcihzdWJzLCBjaGFubmVsX2lkLCBiYXNlX2hhbmRsZXJzKSB7XG4gIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICB0aGlzLnN1YnMgPSBzdWJzO1xuICB0aGlzLmNoYW5uZWxfaWQgPSBjaGFubmVsX2lkO1xuICB0aGlzLnN1YnNjcmlwdGlvbnMgPSAwO1xuICB0aGlzLnN1YnNjcmliZV9mYWlsZWQgPSBmYWxzZTtcbiAgdGhpcy5nb3Rfc3Vic2NyaWJlID0gZmFsc2U7XG4gIHRoaXMuaW1tZWRpYXRlX3N1YnNjcmliZSA9IDA7XG4gIHRoaXMuY2hhbm5lbF9kYXRhX3ZlciA9IDA7IC8vIGZvciBwb2xsaW5nIGZvciBjaGFuZ2VzXG4gIHRoaXMuaGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKGJhc2VfaGFuZGxlcnMpO1xuICB0aGlzLmRhdGEgPSB7fTtcbn1cbnV0aWwuaW5oZXJpdHMoQ2xpZW50Q2hhbm5lbFdvcmtlciwgRXZlbnRFbWl0dGVyKTtcblxuLy8gY2IoZGF0YSlcbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLm9uU3Vic2NyaWJlID0gZnVuY3Rpb24gKGNiKSB7XG4gIGFzc2VydCh0aGlzLnN1YnNjcmlwdGlvbnMgfHwgdGhpcy5hdXRvc3Vic2NyaWJlZCk7XG4gIHRoaXMub24oJ3N1YnNjcmliZScsIGNiKTtcbiAgaWYgKHRoaXMuZ290X3N1YnNjcmliZSkge1xuICAgIGNiKHRoaXMuZGF0YSk7XG4gIH1cbn07XG5cbi8vIGNiKGRhdGEpXG5DbGllbnRDaGFubmVsV29ya2VyLnByb3RvdHlwZS5vbmNlU3Vic2NyaWJlID0gZnVuY3Rpb24gKGNiKSB7XG4gIGFzc2VydCh0aGlzLnN1YnNjcmlwdGlvbnMgfHwgdGhpcy5hdXRvc3Vic2NyaWJlZCk7XG4gIGlmICh0aGlzLmdvdF9zdWJzY3JpYmUpIHtcbiAgICBjYih0aGlzLmRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub25jZSgnc3Vic2NyaWJlJywgY2IpO1xuICB9XG59O1xuXG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmhhbmRsZUNoYW5uZWxEYXRhID0gZnVuY3Rpb24gKGRhdGEsIHJlc3BfZnVuYykge1xuICBjb25zb2xlLmxvZyhgZ290IGNoYW5uZWxfZGF0YSgke3RoaXMuY2hhbm5lbF9pZH0pOiAgJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgKyt0aGlzLmNoYW5uZWxfZGF0YV92ZXI7XG4gIHRoaXMuZW1pdCgnY2hhbm5lbF9kYXRhJywgdGhpcy5kYXRhKTtcbiAgdGhpcy5nb3Rfc3Vic2NyaWJlID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdzdWJzY3JpYmUnLCB0aGlzLmRhdGEpO1xuXG4gIC8vIEdldCBjb21tYW5kIGxpc3QgdXBvbiBmaXJzdCBjb25uZWN0XG4gIGxldCBjaGFubmVsX3R5cGUgPSB0aGlzLmNoYW5uZWxfaWQuc3BsaXQoJy4nKVswXTtcbiAgbGV0IGNtZF9saXN0ID0gdGhpcy5zdWJzLmNtZHNfZmV0Y2hlZF9ieV90eXBlO1xuICBpZiAoY21kX2xpc3QgJiYgIWNtZF9saXN0W2NoYW5uZWxfdHlwZV0pIHtcbiAgICBjbWRfbGlzdFtjaGFubmVsX3R5cGVdID0gdHJ1ZTtcbiAgICB0aGlzLnNlbmQoJ2NtZHBhcnNlJywgJ2NtZF9saXN0JywgKGVyciwgcmVzcCkgPT4ge1xuICAgICAgaWYgKGVycikgeyAvLyBhbHJlYWR5IHVuc3Vic2NyaWJlZD9cbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2V0dGluZyBjbWRfbGlzdCBmb3IgJHtjaGFubmVsX3R5cGV9YCk7XG4gICAgICAgIGRlbGV0ZSBjbWRfbGlzdFtjaGFubmVsX3R5cGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdWJzLmNtZF9wYXJzZS5hZGRTZXJ2ZXJDb21tYW5kcyhyZXNwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlc3BfZnVuYygpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuaGFuZGxlQXBwbHlDaGFubmVsRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCByZXNwX2Z1bmMpIHtcbiAgLy8gYWxyZWFkeSBsb2dnZWQgaW4gaGFuZGxlQ2hhbm5lbE1lc3NhZ2VcbiAgLy8gaWYgKCFkYXRhLnEpIHtcbiAgLy8gICBjb25zb2xlLmxvZyhgZ290IGNoYW5uZWwgZGF0YSBtb2Q6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG4gIC8vIH1cbiAgaWYgKGRhdGEudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGRvdF9wcm9wLmRlbGV0ZSh0aGlzLmRhdGEsIGRhdGEua2V5KTtcbiAgfSBlbHNlIHtcbiAgICBkb3RfcHJvcC5zZXQodGhpcy5kYXRhLCBkYXRhLmtleSwgZGF0YS52YWx1ZSk7XG4gIH1cbiAgKyt0aGlzLmNoYW5uZWxfZGF0YV92ZXI7XG4gIHRoaXMuZW1pdCgnY2hhbm5lbF9kYXRhJywgdGhpcy5kYXRhLCBkYXRhLmtleSwgZGF0YS52YWx1ZSk7XG4gIHJlc3BfZnVuYygpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuZ2V0Q2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoa2V5LCBkZWZhdWx0X3ZhbHVlKSB7XG4gIHJldHVybiBkb3RfcHJvcC5nZXQodGhpcy5kYXRhLCBrZXksIGRlZmF1bHRfdmFsdWUpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuc2V0Q2hhbm5lbERhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgc2tpcF9wcmVkaWN0LCByZXNwX2Z1bmMpIHtcbiAgaWYgKCFza2lwX3ByZWRpY3QpIHtcbiAgICBkb3RfcHJvcC5zZXQodGhpcy5kYXRhLCBrZXksIHZhbHVlKTtcbiAgfVxuICBsZXQgcSA9IHZhbHVlICYmIHZhbHVlLnEgfHwgdW5kZWZpbmVkO1xuICBsZXQgcGFrID0gdGhpcy5zdWJzLmNsaWVudC5wYWsoJ3NldF9jaGFubmVsX2RhdGEnKTtcbiAgcGFrLndyaXRlQW5zaVN0cmluZyh0aGlzLmNoYW5uZWxfaWQpO1xuICBwYWsud3JpdGVCb29sKHEpO1xuICBwYWsud3JpdGVBbnNpU3RyaW5nKGtleSk7XG4gIHBhay53cml0ZUpTT04odmFsdWUpO1xuICBwYWsuc2VuZChyZXNwX2Z1bmMpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUucmVtb3ZlTXNnSGFuZGxlciA9IGZ1bmN0aW9uIChtc2csIGNiKSB7XG4gIGFzc2VydCh0aGlzLmhhbmRsZXJzW21zZ10gPT09IGNiKTtcbiAgZGVsZXRlIHRoaXMuaGFuZGxlcnNbbXNnXTtcbn07XG5cbkNsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLm9uTXNnID0gZnVuY3Rpb24gKG1zZywgY2IpIHtcbiAgYXNzZXJ0KCF0aGlzLmhhbmRsZXJzW21zZ10gfHwgdGhpcy5oYW5kbGVyc1ttc2ddID09PSBjYik7XG4gIHRoaXMuaGFuZGxlcnNbbXNnXSA9IGNiO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUucGFrID0gZnVuY3Rpb24gKG1zZykge1xuICBsZXQgcGFrID0gdGhpcy5zdWJzLmNsaWVudC5wYWsoJ2NoYW5uZWxfbXNnJyk7XG4gIHBhay53cml0ZUFuc2lTdHJpbmcodGhpcy5jaGFubmVsX2lkKTtcbiAgcGFrLndyaXRlQW5zaVN0cmluZyhtc2cpO1xuICAvLyBwYWsud3JpdGVJbnQoZmxhZ3MpO1xuICByZXR1cm4gcGFrO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChtc2csIGRhdGEsIHJlc3BfZnVuYywgb2xkX2ZvdXJ0aCkge1xuICBhc3NlcnQoIXJlc3BfZnVuYyB8fCB0eXBlb2YgcmVzcF9mdW5jID09PSAnZnVuY3Rpb24nKTtcbiAgYXNzZXJ0KCFvbGRfZm91cnRoKTtcbiAgdGhpcy5zdWJzLmNsaWVudC5zZW5kKCdjaGFubmVsX21zZycsIHtcbiAgICBjaGFubmVsX2lkOiB0aGlzLmNoYW5uZWxfaWQsXG4gICAgbXNnLCBkYXRhLFxuICB9LCByZXNwX2Z1bmMpO1xufTtcblxuQ2xpZW50Q2hhbm5lbFdvcmtlci5wcm90b3R5cGUuY21kUGFyc2UgPSBmdW5jdGlvbiAoY21kLCByZXNwX2Z1bmMpIHtcbiAgdGhpcy5zZW5kKCdjbWRwYXJzZScsIGNtZCwgcmVzcF9mdW5jKTtcbn07XG5cbmZ1bmN0aW9uIFN1YnNjcmlwdGlvbk1hbmFnZXIoY2xpZW50LCBjbWRfcGFyc2UpIHtcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICB0aGlzLmNoYW5uZWxzID0ge307XG4gIHRoaXMubG9nZ2VkX2luID0gZmFsc2U7XG4gIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSBudWxsO1xuICB0aGlzLmxvZ2dlZF9pbl91c2VybmFtZSA9IG51bGw7XG4gIHRoaXMud2FzX2xvZ2dlZF9pbiA9IGZhbHNlO1xuICB0aGlzLmxvZ2dpbmdfaW4gPSBmYWxzZTtcbiAgdGhpcy5sb2dnaW5nX291dCA9IGZhbHNlO1xuICB0aGlzLmF1dG9fY3JlYXRlX3VzZXIgPSBmYWxzZTtcbiAgdGhpcy5jbWRfcGFyc2UgPSBjbWRfcGFyc2U7XG4gIGlmIChjbWRfcGFyc2UpIHtcbiAgICB0aGlzLmNtZHNfZmV0Y2hlZF9ieV90eXBlID0ge307XG4gIH1cbiAgdGhpcy5iYXNlX2hhbmRsZXJzID0ge307XG4gIHRoaXMuY2hhbm5lbF9oYW5kbGVycyA9IHt9OyAvLyBjaGFubmVsIHR5cGUgLT4gbXNnIC0+IGhhbmRsZXJcblxuICB0aGlzLmZpcnN0X2Nvbm5lY3QgPSB0cnVlO1xuICB0aGlzLnNlcnZlcl90aW1lID0gMDtcbiAgdGhpcy5zZXJ2ZXJfdGltZV9pbnRlcnAgPSAwO1xuICBjbGllbnQub25Nc2coJ2Nvbm5lY3QnLCB0aGlzLmhhbmRsZUNvbm5lY3QuYmluZCh0aGlzKSk7XG4gIGNsaWVudC5vbk1zZygnY2hhbm5lbF9tc2cnLCB0aGlzLmhhbmRsZUNoYW5uZWxNZXNzYWdlLmJpbmQodGhpcykpO1xuICBjbGllbnQub25Nc2coJ3NlcnZlcl90aW1lJywgdGhpcy5oYW5kbGVTZXJ2ZXJUaW1lLmJpbmQodGhpcykpO1xuICBjbGllbnQub25Nc2coJ2NoYXRfYnJvYWRjYXN0JywgdGhpcy5oYW5kbGVDaGF0QnJvYWRjYXN0LmJpbmQodGhpcykpO1xuICBjbGllbnQub25Nc2coJ3Jlc3RhcnRpbmcnLCB0aGlzLmhhbmRsZVJlc3RhcnRpbmcuYmluZCh0aGlzKSk7XG4gIGlmIChjbWRfcGFyc2UpIHtcbiAgICBjbGllbnQub25Nc2coJ2Nzcl90b19jbGllbnQnLCB0aGlzLmhhbmRsZUNTUlRvQ2xpZW50LmJpbmQodGhpcykpO1xuICB9XG4gIC8vIEFkZCBoYW5kbGVycyBmb3IgYWxsIGNoYW5uZWwgdHlwZXNcbiAgdGhpcy5vbkNoYW5uZWxNc2cobnVsbCwgJ2NoYW5uZWxfZGF0YScsIENsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmhhbmRsZUNoYW5uZWxEYXRhKTtcbiAgdGhpcy5vbkNoYW5uZWxNc2cobnVsbCwgJ2FwcGx5X2NoYW5uZWxfZGF0YScsIENsaWVudENoYW5uZWxXb3JrZXIucHJvdG90eXBlLmhhbmRsZUFwcGx5Q2hhbm5lbERhdGEpO1xufVxudXRpbC5pbmhlcml0cyhTdWJzY3JpcHRpb25NYW5hZ2VyLCBFdmVudEVtaXR0ZXIpO1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5vbmNlQ29ubmVjdGVkID0gZnVuY3Rpb24gKGNiKSB7XG4gIGlmICh0aGlzLmNsaWVudC5jb25uZWN0ZWQpIHtcbiAgICByZXR1cm4gdm9pZCBjYigpO1xuICB9XG4gIHRoaXMub25jZSgnY29ubmVjdCcsIGNiKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEJhc2VIYW5kbGVycyA9IGZ1bmN0aW9uIChjaGFubmVsX3R5cGUpIHtcbiAgbGV0IGhhbmRsZXJzID0gdGhpcy5jaGFubmVsX2hhbmRsZXJzW2NoYW5uZWxfdHlwZV07XG4gIGlmICghaGFuZGxlcnMpIHtcbiAgICBoYW5kbGVycyA9IHRoaXMuY2hhbm5lbF9oYW5kbGVyc1tjaGFubmVsX3R5cGVdID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmJhc2VfaGFuZGxlcnMpO1xuICB9XG4gIHJldHVybiBoYW5kbGVycztcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uQ2hhbm5lbE1zZyA9IGZ1bmN0aW9uIChjaGFubmVsX3R5cGUsIG1zZywgY2IpIHtcbiAgbGV0IGhhbmRsZXJzID0gY2hhbm5lbF90eXBlID8gdGhpcy5nZXRCYXNlSGFuZGxlcnMoY2hhbm5lbF90eXBlKSA6IHRoaXMuYmFzZV9oYW5kbGVycztcbiAgYXNzZXJ0KCFoYW5kbGVyc1ttc2ddKTtcbiAgaGFuZGxlcnNbbXNnXSA9IGNiO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlQ2hhdEJyb2FkY2FzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnNvbGUuZXJyb3IoYFske2RhdGEuc3JjfV0gJHtkYXRhLm1zZ31gKTtcbiAgdGhpcy5lbWl0KCdjaGF0X2Jyb2FkY2FzdCcsIGRhdGEpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlUmVzdGFydGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMucmVzdGFydGluZyA9IGRhdGE7XG4gIHRoaXMuZW1pdCgncmVzdGFydGluZycsIGRhdGEpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlQ29ubmVjdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGxldCByZWNvbm5lY3QgPSBmYWxzZTtcbiAgaWYgKHRoaXMuZmlyc3RfY29ubmVjdCkge1xuICAgIHRoaXMuZmlyc3RfY29ubmVjdCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJlY29ubmVjdCA9IHRydWU7XG4gIH1cbiAgdGhpcy5yZXN0YXJ0aW5nID0gQm9vbGVhbihkYXRhLnJlc3RhcnRpbmcpO1xuXG4gIGlmICghdGhpcy5jbGllbnQuY29ubmVjdGVkIHx8IHRoaXMuY2xpZW50LnNvY2tldC5yZWFkeVN0YXRlICE9PSAxKSB7IC8vIFdlYlNvY2tldC5PUEVOXG4gICAgLy8gd2UgZ290IGRpc2Nvbm5lY3RlZCB3aGlsZSB0cnlpbmcgdG8gbG9nIGluLCB3ZSdsbCByZXRyeSBhZnRlciByZWNvbm5lY3Rpb25cbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgc3VicyA9IHRoaXM7XG4gIGZ1bmN0aW9uIHJlc3ViKCkge1xuICAgIC8vIChyZS0pc3Vic2NyaWJlIHRvIGFsbCBjaGFubmVsc1xuICAgIGZvciAobGV0IGNoYW5uZWxfaWQgaW4gc3Vicy5jaGFubmVscykge1xuICAgICAgbGV0IGNoYW5uZWwgPSBzdWJzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICAgICAgaWYgKGNoYW5uZWwuc3Vic2NyaXB0aW9ucykge1xuICAgICAgICBzdWJzLmNsaWVudC5zZW5kKCdzdWJzY3JpYmUnLCBjaGFubmVsX2lkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2hhbm5lbC5zdWJzY3JpYmVfZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHN1YnNjcmliaW5nIHRvICR7Y2hhbm5lbF9pZH06ICR7ZXJyfWApO1xuICAgICAgICAgICAgY2hhbm5lbC5lbWl0KCdzdWJzY3JpYmVfZmFpbCcsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3Vicy5lbWl0KCdjb25uZWN0JywgcmVjb25uZWN0KTtcbiAgfVxuXG4gIGlmICh0aGlzLmxvZ2dpbmdfaW4pIHtcbiAgICAvLyBhbHJlYWR5IGhhdmUgYSBsb2dpbiBpbi1mbGlnaHQsIGl0IHNob3VsZCBlcnJvciBiZWZvcmUgd2UgdHJ5IGFnYWluXG4gIH0gZWxzZSBpZiAodGhpcy53YXNfbG9nZ2VkX2luKSB7XG4gICAgLy8gVHJ5IHRvIHJlLWNvbm5lY3QgdG8gZXhpc3RpbmcgbG9naW5cbiAgICB0aGlzLmxvZ2luSW50ZXJuYWwodGhpcy5sb2dpbl9jcmVkZW50aWFscywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyciAmJiBlcnIgPT09ICdFUlJfRkFJTEFMTF9ESVNDT05ORUNUJykge1xuICAgICAgICAvLyB3ZSBnb3QgZGlzY29ubmVjdGVkIHdoaWxlIHRyeWluZyB0byBsb2cgaW4sIHdlJ2xsIHJldHJ5IGFmdGVyIHJlY29ubmVjdGlvblxuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLy8gRXJyb3IgbG9nZ2luZyBpbiB1cG9uIHJlLWNvbm5lY3Rpb24sIG5vIGdvb2Qgd2F5IHRvIGhhbmRsZSB0aGlzP1xuICAgICAgICAvLyBUT0RPOiBTaG93IHNvbWUgbWVzc2FnZSB0byB0aGUgdXNlciBhbmQgcHJvbXB0IHRoZW0gdG8gcmVmcmVzaD8gIFN0YXkgaW4gXCJkaXNjb25uZWN0ZWRcIiBzdGF0ZT9cbiAgICAgICAgYXNzZXJ0KGZhbHNlLCBlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUcnkgYXV0by1sb2dpblxuICAgIGlmICh3aW5kb3cuRkJJbnN0YW50KSB7XG4gICAgICB0aGlzLmxvZ2luRmFjZWJvb2soZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZ25vcmUgZXJyb3Igb24gYXV0by1sb2dpblxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChsb2NhbF9zdG9yYWdlLmdldCgnbmFtZScpICYmIGxvY2FsX3N0b3JhZ2UuZ2V0KCdwYXNzd29yZCcpKSB7XG4gICAgICB0aGlzLmxvZ2luKGxvY2FsX3N0b3JhZ2UuZ2V0KCduYW1lJyksIGxvY2FsX3N0b3JhZ2UuZ2V0KCdwYXNzd29yZCcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlnbm9yZSBlcnJvciBvbiBhdXRvLWxvZ2luXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXN1YigpO1xuICB9XG5cbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUNoYW5uZWxNZXNzYWdlID0gZnVuY3Rpb24gKHBhaywgcmVzcF9mdW5jKSB7XG4gIGFzc2VydChpc1BhY2tldChwYWspKTtcbiAgbGV0IGNoYW5uZWxfaWQgPSBwYWsucmVhZEFuc2lTdHJpbmcoKTtcbiAgbGV0IG1zZyA9IHBhay5yZWFkQW5zaVN0cmluZygpO1xuICBsZXQgaXNfcGFja2V0ID0gcGFrLnJlYWRCb29sKCk7XG4gIGxldCBkYXRhID0gaXNfcGFja2V0ID8gcGFrIDogcGFrLnJlYWRKU09OKCk7XG4gIGlmICghZGF0YSB8fCAhZGF0YS5xKSB7XG4gICAgbGV0IGRlYnVnX21zZztcbiAgICBpZiAoIWlzX3BhY2tldCkge1xuICAgICAgZGVidWdfbXNnID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YS5jb250ZW50cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZGVidWdfbXNnID0gZGF0YS5jb250ZW50cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z19tc2cgPSAnKHBhayknO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgZ290IGNoYW5uZWxfbXNnKCR7Y2hhbm5lbF9pZH0pICR7bXNnfTogJHtkZWJ1Z19tc2d9YCk7XG4gIH1cbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmdldENoYW5uZWwoY2hhbm5lbF9pZCk7XG4gIGxldCBoYW5kbGVyID0gY2hhbm5lbC5oYW5kbGVyc1ttc2ddO1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKGBubyBoYW5kbGVyIGZvciBjaGFubmVsX21zZygke2NoYW5uZWxfaWR9KSAke21zZ306ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGhhbmRsZXIuY2FsbChjaGFubmVsLCBkYXRhLCByZXNwX2Z1bmMpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlU2VydmVyVGltZSA9IGZ1bmN0aW9uIChwYWspIHtcbiAgdGhpcy5zZXJ2ZXJfdGltZSA9IHBhay5yZWFkSW50KCk7XG4gIGlmICh0aGlzLnNlcnZlcl90aW1lIDwgdGhpcy5zZXJ2ZXJfdGltZV9pbnRlcnAgJiYgdGhpcy5zZXJ2ZXJfdGltZSA+IHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwIC0gMjUwKSB7XG4gICAgLy8gc2xpZ2h0IHRpbWUgdHJhdmVsIGJhY2t3YXJkcywgdGhpcyBvbmUgcGFja2V0IG11c3QgaGF2ZSBiZWVuIGRlbGF5ZWQsXG4gICAgLy8gc2luY2Ugd2Ugb25jZSBnb3QgYSBwYWNrZXQgcXVpY2tlci4gSnVzdCBpZ25vcmUgdGhpcywgaW50ZXJwb2xhdGUgZnJvbVxuICAgIC8vIHdoZXJlIHdlIHdlcmUgYmVmb3JlXG4gICAgLy8gVE9ETzogSWYgdGhlIHNlcnZlciBoYWQgYSBzaG9ydCBzdGFsbCAobGVzcyB0aGFuIDI1MG1zKSB3ZSBtaWdodCBiZVxuICAgIC8vIGFoZWFkIGZyb20gbm93IG9uISAgU2xvd2x5IGludGVycCBiYWNrIHRvIHRoZSBzcGVjaWZpZWQgdGltZVxuICAgIC8vIChydW4gc3BlZWQgYXQgOTAlIHVudGlsIGl0IG1hdGNoZXM/LCBzYW1lIHRoaW5nIGZvciBjYXRjaGluZyB1cCB0b1xuICAgIC8vIHNtYWxsIGp1bXBzIGFoZWFkKVxuICB9IGVsc2Uge1xuICAgIHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwID0gdGhpcy5zZXJ2ZXJfdGltZTtcbiAgfVxufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmVyVGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSW50ZXJwb2xhdGVkIHNlcnZlciB0aW1lIGFzIG9mIHN0YXJ0IG9mIGxhc3QgdGlja1xuICByZXR1cm4gdGhpcy5zZXJ2ZXJfdGltZV9pbnRlcnA7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKGR0KSB7XG4gIHRoaXMuc2VydmVyX3RpbWVfaW50ZXJwICs9IGR0O1xuICBmb3IgKGxldCBjaGFubmVsX2lkIGluIHRoaXMuY2hhbm5lbHMpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hhbm5lbF9pZF07XG4gICAgaWYgKGNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSkge1xuICAgICAgaWYgKGR0ID49IGNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSkge1xuICAgICAgICBjaGFubmVsLmltbWVkaWF0ZV9zdWJzY3JpYmUgPSAwO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKGNoYW5uZWxfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhbm5lbC5pbW1lZGlhdGVfc3Vic2NyaWJlIC09IGR0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNoYW5uZWxfaWQpIHtcbiAgdGhpcy5nZXRDaGFubmVsKGNoYW5uZWxfaWQsIHRydWUpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0Q2hhbm5lbCA9IGZ1bmN0aW9uIChjaGFubmVsX2lkLCBkb19zdWJzY3JpYmUpIHtcbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoYW5uZWxfaWRdO1xuICBpZiAoIWNoYW5uZWwpIHtcbiAgICBsZXQgY2hhbm5lbF90eXBlID0gY2hhbm5lbF9pZC5zcGxpdCgnLicpWzBdO1xuICAgIGxldCBoYW5kbGVycyA9IHRoaXMuZ2V0QmFzZUhhbmRsZXJzKGNoYW5uZWxfdHlwZSk7XG4gICAgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hhbm5lbF9pZF0gPSBuZXcgQ2xpZW50Q2hhbm5lbFdvcmtlcih0aGlzLCBjaGFubmVsX2lkLCBoYW5kbGVycyk7XG4gIH1cbiAgaWYgKGRvX3N1YnNjcmliZSkge1xuICAgIGNoYW5uZWwuc3Vic2NyaXB0aW9ucysrO1xuICAgIGlmICh0aGlzLmNsaWVudC5jb25uZWN0ZWQgJiYgY2hhbm5lbC5zdWJzY3JpcHRpb25zID09PSAxKSB7XG4gICAgICBjaGFubmVsLnN1YnNjcmliZV9mYWlsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xpZW50LnNlbmQoJ3N1YnNjcmliZScsIGNoYW5uZWxfaWQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNoYW5uZWwuc3Vic2NyaWJlX2ZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc3Vic2NyaWJpbmcgdG8gJHtjaGFubmVsX2lkfTogJHtlcnJ9YCk7XG4gICAgICAgICAgY2hhbm5lbC5lbWl0KCdzdWJzY3JpYmVfZmFpbCcsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbm5lbDtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMubG9nZ2VkSW4oKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldE15VXNlckNoYW5uZWwgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCB1c2VyX2lkID0gdGhpcy5sb2dnZWRJbigpO1xuICBpZiAoIXVzZXJfaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgY2hhbm5lbCA9IHRoaXMuZ2V0Q2hhbm5lbChgdXNlci4ke3VzZXJfaWR9YCk7XG4gIGlmICghdGhpcy5sb2dnaW5nX291dCkge1xuICAgIGNoYW5uZWwuYXV0b3N1YnNjcmliZWQgPSB0cnVlO1xuICB9XG4gIHJldHVybiBjaGFubmVsO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2hhbm5lbF9pZCkge1xuICBsZXQgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hhbm5lbF9pZF07XG4gIGFzc2VydChjaGFubmVsKTtcbiAgYXNzZXJ0KGNoYW5uZWwuc3Vic2NyaXB0aW9ucyk7XG4gIGNoYW5uZWwuc3Vic2NyaXB0aW9ucy0tO1xuICBpZiAoIWNoYW5uZWwuc3Vic2NyaXB0aW9ucykge1xuICAgIGNoYW5uZWwuZ290X3N1YnNjcmliZSA9IGZhbHNlO1xuICB9XG4gIGlmICh0aGlzLmNsaWVudC5jb25uZWN0ZWQgJiYgIWNoYW5uZWwuc3Vic2NyaXB0aW9ucyAmJiAhY2hhbm5lbC5zdWJzY3JpYmVfZmFpbGVkKSB7XG4gICAgdGhpcy5jbGllbnQuc2VuZCgndW5zdWJzY3JpYmUnLCBjaGFubmVsX2lkKTtcbiAgfVxufTtcblxuLy8gSW1tZWRpYXRlLW1vZGUgY2hhbm5lbCBzdWJzY3JpcHRpb247IHdpbGwgdW5zdWJzY3JpYmUgYXV0b21hdGljYWxseSBvbiBsb2dvdXRcbi8vICAgb3IgaWYgbm90IGFjY2Vzc2VkIGZvciBzb21lIHRpbWVcblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldENoYW5uZWxJbW1lZGlhdGUgPSBmdW5jdGlvbiAoY2hhbm5lbF9pZCwgdGltZW91dCkge1xuICB0aW1lb3V0ID0gdGltZW91dCB8fCA2MDAwMDtcbiAgbGV0IGNoYW5uZWwgPSB0aGlzLmdldENoYW5uZWwoY2hhbm5lbF9pZCk7XG4gIGlmICghY2hhbm5lbC5pbW1lZGlhdGVfc3Vic2NyaWJlKSB7XG4gICAgdGhpcy5zdWJzY3JpYmUoY2hhbm5lbF9pZCk7XG4gIH1cbiAgY2hhbm5lbC5pbW1lZGlhdGVfc3Vic2NyaWJlID0gdGltZW91dDtcbiAgcmV0dXJuIGNoYW5uZWw7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5vbkxvZ2luID0gZnVuY3Rpb24gKGNiKSB7XG4gIHRoaXMub24oJ2xvZ2luJywgY2IpO1xuICBpZiAodGhpcy5sb2dnZWRfaW4pIHtcbiAgICByZXR1cm4gdm9pZCBjYigpO1xuICB9XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5sb2dnZWRJbiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMubG9nZ2VkX2luID8gdGhpcy5sb2dnZWRfaW5fdXNlcm5hbWUgfHwgJ21pc3NpbmdfbmFtZScgOiBmYWxzZTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmhhbmRsZUxvZ2luUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcF9mdW5jLCBlcnIsIHJlc3ApIHtcbiAgdGhpcy5sb2dnaW5nX2luID0gZmFsc2U7XG4gIGlmICghZXJyKSB7XG4gICAgdGhpcy5sb2dnZWRfaW5fdXNlcm5hbWUgPSByZXNwLnVzZXJfaWQ7XG4gICAgdGhpcy5sb2dnZWRfaW5fZGlzcGxheV9uYW1lID0gcmVzcC5kaXNwbGF5X25hbWU7XG4gICAgdGhpcy5sb2dnZWRfaW4gPSB0cnVlO1xuICAgIHRoaXMud2FzX2xvZ2dlZF9pbiA9IHRydWU7XG4gICAgbGV0IHVzZXJfY2hhbm5lbCA9IHRoaXMuZ2V0TXlVc2VyQ2hhbm5lbCgpOyAvLyBhdXRvLXN1YnNjcmliZSB0byBpdFxuICAgIHVzZXJfY2hhbm5lbC5vbmNlU3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5kaWRfbWFzdGVyX3N1YnNjcmliZSAmJiB1c2VyX2NoYW5uZWwuZ2V0Q2hhbm5lbERhdGEoJ3B1YmxpYy5wZXJtaXNzaW9ucy5zeXNhZG1pbicpKSB7XG4gICAgICAgIC8vIEZvciBjbWRfcGFyc2UgYWNjZXNzXG4gICAgICAgIHRoaXMuZGlkX21hc3Rlcl9zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgnbWFzdGVyLm1hc3RlcicpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgnbG9naW4nKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVtaXQoJ2xvZ2luX2ZhaWwnLCBlcnIpO1xuICB9XG4gIHJlc3BfZnVuYyhlcnIpO1xufTtcblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUubG9naW5JbnRlcm5hbCA9IGZ1bmN0aW9uIChsb2dpbl9jcmVkZW50aWFscywgcmVzcF9mdW5jKSB7XG4gIGlmICh0aGlzLmxvZ2dpbmdfaW4pIHtcbiAgICByZXR1cm4gdm9pZCByZXNwX2Z1bmMoJ0xvZ2luIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgfVxuICB0aGlzLmxvZ2dpbmdfaW4gPSB0cnVlO1xuICB0aGlzLmxvZ2dlZF9pbiA9IGZhbHNlO1xuXG4gIGlmIChsb2dpbl9jcmVkZW50aWFscy5mYikge1xuICAgIGZiR2V0TG9naW5JbmZvKChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gdm9pZCB0aGlzLmhhbmRsZUxvZ2luUmVzcG9uc2UocmVzcF9mdW5jLCBlcnIpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGllbnQuc2VuZCgnbG9naW5fZmFjZWJvb2snLCByZXN1bHQsIHRoaXMuaGFuZGxlTG9naW5SZXNwb25zZS5iaW5kKHRoaXMsIHJlc3BfZnVuYykpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuY2xpZW50LnNlbmQoJ2xvZ2luJywge1xuICAgICAgdXNlcl9pZDogbG9naW5fY3JlZGVudGlhbHMudXNlcl9pZCxcbiAgICAgIHBhc3N3b3JkOiBtZDUodGhpcy5jbGllbnQuc2VjcmV0ICsgbG9naW5fY3JlZGVudGlhbHMucGFzc3dvcmQpLFxuICAgIH0sIHRoaXMuaGFuZGxlTG9naW5SZXNwb25zZS5iaW5kKHRoaXMsIHJlc3BfZnVuYykpO1xuICB9XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS51c2VyQ3JlYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAocGFyYW1zLCByZXNwX2Z1bmMpIHtcbiAgaWYgKHRoaXMubG9nZ2luZ19pbikge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ0xvZ2luIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgfVxuICB0aGlzLmxvZ2dpbmdfaW4gPSB0cnVlO1xuICB0aGlzLmxvZ2dlZF9pbiA9IGZhbHNlO1xuICByZXR1cm4gdGhpcy5jbGllbnQuc2VuZCgndXNlcl9jcmVhdGUnLCBwYXJhbXMsIHRoaXMuaGFuZGxlTG9naW5SZXNwb25zZS5iaW5kKHRoaXMsIHJlc3BfZnVuYykpO1xufTtcblxuZnVuY3Rpb24gaGFzaGVkUGFzc3dvcmQodXNlcl9pZCwgcGFzc3dvcmQpIHtcbiAgaWYgKHBhc3N3b3JkLnNwbGl0KCckJCcpWzBdID09PSAncHJlaGFzaGVkJykge1xuICAgIHBhc3N3b3JkID0gcGFzc3dvcmQuc3BsaXQoJyQkJylbMV07XG4gIH0gZWxzZSB7XG4gICAgcGFzc3dvcmQgPSBtZDUobWQ1KHVzZXJfaWQudG9Mb3dlckNhc2UoKSkgKyBwYXNzd29yZCk7XG4gIH1cbiAgcmV0dXJuIHBhc3N3b3JkO1xufVxuXG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCwgcmVzcF9mdW5jKSB7XG4gIHVzZXJuYW1lID0gKHVzZXJuYW1lIHx8ICcnKS50cmltKCk7XG4gIGlmICghdXNlcm5hbWUpIHtcbiAgICByZXR1cm4gcmVzcF9mdW5jKCdNaXNzaW5nIHVzZXJuYW1lJyk7XG4gIH1cbiAgcGFzc3dvcmQgPSAocGFzc3dvcmQgfHwgJycpLnRyaW0oKTtcbiAgaWYgKCFwYXNzd29yZCkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgcGFzc3dvcmQnKTtcbiAgfVxuICBsZXQgaGFzaGVkX3Bhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgaWYgKGhhc2hlZF9wYXNzd29yZCAhPT0gcGFzc3dvcmQpIHtcbiAgICBsb2NhbF9zdG9yYWdlLnNldCgncGFzc3dvcmQnLCBgcHJlaGFzaGVkJCQke2hhc2hlZF9wYXNzd29yZH1gKTtcbiAgfVxuICB0aGlzLmxvZ2luX2NyZWRlbnRpYWxzID0geyB1c2VyX2lkOiB1c2VybmFtZSwgcGFzc3dvcmQ6IGhhc2hlZF9wYXNzd29yZCB9O1xuICBpZiAoIXRoaXMuYXV0b19jcmVhdGVfdXNlcikge1xuICAgIC8vIEp1c3QgcmV0dXJuIHJlc3VsdCBkaXJlY3RseVxuICAgIHJldHVybiB0aGlzLmxvZ2luSW50ZXJuYWwodGhpcy5sb2dpbl9jcmVkZW50aWFscywgcmVzcF9mdW5jKTtcbiAgfVxuICByZXR1cm4gdGhpcy5sb2dpbkludGVybmFsKHRoaXMubG9naW5fY3JlZGVudGlhbHMsIChlcnIsIGRhdGEpID0+IHtcbiAgICBpZiAoIWVyciB8fCBlcnIgIT09ICdFUlJfVVNFUl9OT1RfRk9VTkQnKSB7XG4gICAgICByZXR1cm4gdm9pZCByZXNwX2Z1bmMoZXJyLCBkYXRhKTtcbiAgICB9XG4gICAgLy8gdXNlciBub3QgZm91bmQsIGF1dG8tY3JlYXRlXG4gICAgdGhpcy51c2VyQ3JlYXRlKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZF9jb25maXJtOiBwYXNzd29yZCxcbiAgICAgIGVtYWlsOiAnYXV0b2NyZWF0ZUBnbG92anMub3JnJyxcbiAgICB9LCByZXNwX2Z1bmMpO1xuICB9KTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLmxvZ2luRmFjZWJvb2sgPSBmdW5jdGlvbiAocmVzcF9mdW5jKSB7XG4gIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSB7IGZiOiB0cnVlIH07XG4gIHJldHVybiB0aGlzLmxvZ2luSW50ZXJuYWwodGhpcy5sb2dpbl9jcmVkZW50aWFscywgcmVzcF9mdW5jKTtcbn07XG5cblN1YnNjcmlwdGlvbk1hbmFnZXIucHJvdG90eXBlLnVzZXJDcmVhdGUgPSBmdW5jdGlvbiAocGFyYW1zLCByZXNwX2Z1bmMpIHtcbiAgcGFyYW1zLnVzZXJfaWQgPSAocGFyYW1zLnVzZXJfaWQgfHwgJycpLnRyaW0oKTtcbiAgaWYgKCFwYXJhbXMudXNlcl9pZCkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgdXNlcm5hbWUnKTtcbiAgfVxuICBwYXJhbXMucGFzc3dvcmQgPSAocGFyYW1zLnBhc3N3b3JkIHx8ICcnKS50cmltKCk7XG4gIGlmICghcGFyYW1zLnBhc3N3b3JkKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnTWlzc2luZyBwYXNzd29yZCcpO1xuICB9XG4gIHBhcmFtcy5wYXNzd29yZF9jb25maXJtID0gKHBhcmFtcy5wYXNzd29yZF9jb25maXJtIHx8ICcnKS50cmltKCk7XG4gIGlmICghdGhpcy5hdXRvX2NyZWF0ZV91c2VyICYmICFwYXJhbXMucGFzc3dvcmRfY29uZmlybSkge1xuICAgIHJldHVybiByZXNwX2Z1bmMoJ01pc3NpbmcgcGFzc3dvcmQgY29uZmlybWF0aW9uJyk7XG4gIH1cbiAgcGFyYW1zLmVtYWlsID0gKHBhcmFtcy5lbWFpbCB8fCAnJykudHJpbSgpO1xuICBpZiAoIXRoaXMuYXV0b19jcmVhdGVfdXNlciAmJiAhcGFyYW1zLmVtYWlsKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnTWlzc2luZyBlbWFpbCcpO1xuICB9XG4gIHBhcmFtcy5kaXNwbGF5X25hbWUgPSAocGFyYW1zLmRpc3BsYXlfbmFtZSB8fCAnJykudHJpbSgpO1xuICBsZXQgaGFzaGVkX3Bhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQocGFyYW1zLnVzZXJfaWQsIHBhcmFtcy5wYXNzd29yZCk7XG4gIGlmIChoYXNoZWRfcGFzc3dvcmQgIT09IHBhcmFtcy5wYXNzd29yZCkge1xuICAgIGxvY2FsX3N0b3JhZ2Uuc2V0KCdwYXNzd29yZCcsIGBwcmVoYXNoZWQkJCR7aGFzaGVkX3Bhc3N3b3JkfWApO1xuICB9XG4gIGxldCBoYXNoZWRfcGFzc3dvcmRfY29uZmlybSA9IGhhc2hlZFBhc3N3b3JkKHBhcmFtcy51c2VyX2lkLCBwYXJhbXMucGFzc3dvcmRfY29uZmlybSk7XG4gIGlmIChoYXNoZWRfcGFzc3dvcmQgIT09IGhhc2hlZF9wYXNzd29yZF9jb25maXJtKSB7XG4gICAgcmV0dXJuIHJlc3BfZnVuYygnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcpO1xuICB9XG4gIHRoaXMubG9naW5fY3JlZGVudGlhbHMgPSB7IHVzZXJfaWQ6IHBhcmFtcy51c2VyX2lkLCBwYXNzd29yZDogaGFzaGVkX3Bhc3N3b3JkIH07XG4gIHJldHVybiB0aGlzLnVzZXJDcmVhdGVJbnRlcm5hbCh7XG4gICAgZGlzcGxheV9uYW1lOiBwYXJhbXMuZGlzcGxheV9uYW1lIHx8IHBhcmFtcy51c2VyX2lkLFxuICAgIHVzZXJfaWQ6IHBhcmFtcy51c2VyX2lkLFxuICAgIGVtYWlsOiBwYXJhbXMuZW1haWwsXG4gICAgcGFzc3dvcmQ6IGhhc2hlZF9wYXNzd29yZCxcbiAgfSwgcmVzcF9mdW5jKTtcbn07XG5cblxuU3Vic2NyaXB0aW9uTWFuYWdlci5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQodGhpcy5sb2dnZWRfaW4pO1xuICBhc3NlcnQoIXRoaXMubG9nZ2luZ19pbik7XG4gIGFzc2VydCghdGhpcy5sb2dnaW5nX291dCk7XG4gIC8vIERvbid0IGtub3cgaG93IHRvIGdyYWNlZnVsbHkgaGFuZGxlIGxvZ2dpbmcgb3V0IHdpdGggYXBwLWxldmVsIHN1YnNjcmlwdGlvbnNcbiAgLy8gICBjdXJyZW50bHksIGNsZWFuIHVwIHRob3NlIHdlIGNhbiwgYXNzZXJ0IHdlIGhhdmUgbm8gb3RoZXJzXG4gIGlmICh0aGlzLmRpZF9tYXN0ZXJfc3Vic2NyaWJlKSB7XG4gICAgdGhpcy5kaWRfbWFzdGVyX3N1YnNjcmliZSA9IGZhbHNlO1xuICAgIHRoaXMudW5zdWJzY3JpYmUoJ21hc3Rlci5tYXN0ZXInKTtcbiAgfVxuICBmb3IgKGxldCBjaGFubmVsX2lkIGluIHRoaXMuY2hhbm5lbHMpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hhbm5lbF9pZF07XG4gICAgaWYgKGNoYW5uZWwuaW1tZWRpYXRlX3N1YnNjcmliZSkge1xuICAgICAgY2hhbm5lbC5pbW1lZGlhdGVfc3Vic2NyaWJlID0gMDtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoY2hhbm5lbF9pZCk7XG4gICAgfVxuICAgIGFzc2VydCghY2hhbm5lbC5zdWJzY3JpcHRpb25zLCBgUmVtYWluaW5nIGFjdGl2ZSBzdWJzY3JpcHRpb24gZm9yICR7Y2hhbm5lbF9pZH1gKTtcbiAgICBpZiAoY2hhbm5lbC5hdXRvc3Vic2NyaWJlZCkge1xuICAgICAgY2hhbm5lbC5hdXRvc3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubG9nZ2luZ19vdXQgPSB0cnVlO1xuICB0aGlzLmNsaWVudC5zZW5kKCdsb2dvdXQnLCBudWxsLCAoZXJyKSA9PiB7XG4gICAgdGhpcy5sb2dnaW5nX291dCA9IGZhbHNlO1xuICAgIGlmICghZXJyKSB7XG4gICAgICBsb2NhbF9zdG9yYWdlLnNldCgncGFzc3dvcmQnLCB1bmRlZmluZWQpO1xuICAgICAgdGhpcy5sb2dnZWRfaW4gPSBmYWxzZTtcbiAgICAgIHRoaXMubG9nZ2VkX2luX3VzZXJuYW1lID0gbnVsbDtcbiAgICAgIHRoaXMud2FzX2xvZ2dlZF9pbiA9IGZhbHNlO1xuICAgICAgdGhpcy5sb2dpbl9jcmVkZW50aWFscyA9IG51bGw7XG4gICAgICB0aGlzLmVtaXQoJ2xvZ291dCcpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXJ2ZXJMb2cgPSBmdW5jdGlvbiAodHlwZSwgZGF0YSkge1xuICB0aGlzLmNsaWVudC5zZW5kKCdsb2cnLCB7IHR5cGUsIGRhdGEgfSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5zZW5kQ21kUGFyc2UgPSBmdW5jdGlvbiAoY29tbWFuZCwgcmVzcF9mdW5jKSB7XG4gIHRoaXMub25jZUNvbm5lY3RlZCgoKSA9PiB7XG4gICAgbGV0IHBhayA9IHRoaXMuY2xpZW50LnBhaygnY21kX3BhcnNlX2F1dG8nKTtcbiAgICBwYWsud3JpdGVTdHJpbmcoY29tbWFuZCk7XG4gICAgcGFrLnNlbmQocmVzcF9mdW5jKTtcbiAgfSk7XG59O1xuXG5TdWJzY3JpcHRpb25NYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVDU1JUb0NsaWVudCA9IGZ1bmN0aW9uIChwYWssIHJlc3BfZnVuYykge1xuICBsZXQgY21kID0gcGFrLnJlYWRTdHJpbmcoKTtcbiAgbGV0IGFjY2VzcyA9IHBhay5yZWFkSlNPTigpO1xuICB0aGlzLmNtZF9wYXJzZS5oYW5kbGUoeyBhY2Nlc3MgfSwgY21kLCAoZXJyLCByZXNwKSA9PiB7XG4gICAgaWYgKGVyciAmJiB0aGlzLmNtZF9wYXJzZS53YXNfbm90X2ZvdW5kKSB7XG4gICAgICAvLyBib3VuY2UgYmFjayB0byBzZXJ2ZXJcbiAgICAgIHJldHVybiByZXNwX2Z1bmMobnVsbCwgeyBmb3VuZDogMCwgZXJyIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcF9mdW5jKGVyciwgeyBmb3VuZDogMSwgcmVzcCB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGNsaWVudCwgY21kX3BhcnNlKSB7XG4gIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcihjbGllbnQsIGNtZF9wYXJzZSk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IHsgZmlsZXdhdGNoT24gfSA9IHJlcXVpcmUoJy4vZmlsZXdhdGNoLmpzJyk7XG5jb25zdCBsb2NhbF9zdG9yYWdlID0gcmVxdWlyZSgnLi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcbmNvbnN0IHsgY2FsbEVhY2gsIGlzUG93ZXJPZlR3bywgbmV4dEhpZ2hlc3RQb3dlck9mVHdvLCByaWR4IH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG5jb25zdCBURVhfVU5MT0FEX1RJTUUgPSA1ICogNjAgKiAxMDAwOyAvLyBmb3IgdGV4dHVyZXMgbG9hZGVkIChlYWNoIGZyYW1lKSB3aXRoIGF1dG9fdW5sb2FkOiB0cnVlXG5cbmV4cG9ydCBsZXQgdGV4dHVyZXMgPSB7fTtcbmV4cG9ydCBsZXQgbG9hZF9jb3VudCA9IDA7XG5sZXQgYW5pc28gPSA0O1xubGV0IG1heF9hbmlzbyA9IDA7XG5sZXQgYW5pc29fZW51bTtcblxubGV0IGRlZmF1bHRfZmlsdGVyX21pbjtcbmxldCBkZWZhdWx0X2ZpbHRlcl9tYWc7XG5cbmNvbnN0IGN1YmVfZmFjZXMgPSBbXG4gIHsgdGFyZ2V0OiAnVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YJywgcG9zOiBbMCwxXSB9LFxuICB7IHRhcmdldDogJ1RFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCcsIHBvczogWzAsMF0gfSxcbiAgeyB0YXJnZXQ6ICdURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1knLCBwb3M6IFsxLDBdIH0sXG4gIHsgdGFyZ2V0OiAnVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZJywgcG9zOiBbMSwxXSB9LFxuICB7IHRhcmdldDogJ1RFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWicsIHBvczogWzIsMF0gfSxcbiAgeyB0YXJnZXQ6ICdURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1onLCBwb3M6IFsyLDFdIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0ID0ge1xuICBSODogeyBjb3VudDogMSB9LFxuICBSR0I4OiB7IGNvdW50OiAzIH0sXG4gIFJHQkE4OiB7IGNvdW50OiA0IH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEZpbHRlcnMobWluLCBtYWcpIHtcbiAgZGVmYXVsdF9maWx0ZXJfbWluID0gbWluO1xuICBkZWZhdWx0X2ZpbHRlcl9tYWcgPSBtYWc7XG59XG5cbmxldCBib3VuZF91bml0ID0gbnVsbDtcbmxldCBib3VuZF90ZXggPSBbXTtcblxubGV0IGhhbmRsZV9sb2FkaW5nO1xubGV0IGhhbmRsZV9lcnJvcjtcblxubGV0IGZyYW1lX3RpbWVzdGFtcDtcblxuZnVuY3Rpb24gc2V0VW5pdCh1bml0KSB7XG4gIGlmICh1bml0ICE9PSBib3VuZF91bml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHVuaXQpO1xuICAgIGJvdW5kX3VuaXQgPSB1bml0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRIYW5kbGUodW5pdCwgdGFyZ2V0LCBoYW5kbGUpIHtcbiAgaWYgKGJvdW5kX3RleFt1bml0XSAhPT0gaGFuZGxlKSB7XG4gICAgc2V0VW5pdCh1bml0KTtcbiAgICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIGhhbmRsZSk7XG4gICAgYm91bmRfdGV4W3VuaXRdID0gaGFuZGxlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuYmluZEFsbCh0YXJnZXQpIHtcbiAgZm9yIChsZXQgdW5pdCA9IDA7IHVuaXQgPCBib3VuZF90ZXgubGVuZ3RoOyArK3VuaXQpIHtcbiAgICBzZXRVbml0KHVuaXQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEID8gaGFuZGxlX2xvYWRpbmcgOiBudWxsKTtcbiAgICBib3VuZF90ZXhbdW5pdF0gPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKHVuaXQsIHRleCkge1xuICB0ZXgubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gIC8vIE1heSBvciBtYXkgbm90IGNoYW5nZSB0aGUgdW5pdFxuICBiaW5kSGFuZGxlKHVuaXQsIHRleC50YXJnZXQsIHRleC5lZmZfaGFuZGxlKTtcbn1cblxuLy8gaG90IHBhdGggaW5saW5lZCBmb3IgcGVyZlxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRBcnJheSh0ZXhzKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXhzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCB0ZXggPSB0ZXhzW2lpXTtcbiAgICB0ZXgubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gICAgbGV0IGhhbmRsZSA9IHRleC5lZmZfaGFuZGxlO1xuICAgIGlmIChib3VuZF90ZXhbaWldICE9PSBoYW5kbGUpIHtcbiAgICAgIGlmIChpaSAhPT0gYm91bmRfdW5pdCkge1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaWkpO1xuICAgICAgICBib3VuZF91bml0ID0gaWk7XG4gICAgICB9XG4gICAgICBnbC5iaW5kVGV4dHVyZSh0ZXgudGFyZ2V0LCBoYW5kbGUpO1xuICAgICAgYm91bmRfdGV4W2lpXSA9IGhhbmRsZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCb3VuZCh0ZXhzKSB7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0ZXhzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCB0ZXggPSB0ZXhzW2lpXTtcbiAgICBsZXQgaGFuZGxlID0gdGV4LmVmZl9oYW5kbGU7XG4gICAgaWYgKGJvdW5kX3RleFtpaV0gIT09IGhhbmRsZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRleHR1cmVzUmVzZXRTdGF0ZSgpIHtcbiAgYm91bmRfdW5pdCA9IC0xO1xuICBpZiAoZW5naW5lLndlYmdsMikge1xuICAgIHVuYmluZEFsbChnbC5URVhUVVJFXzJEX0FSUkFZKTtcbiAgfVxuICB1bmJpbmRBbGwoZ2wuVEVYVFVSRV8yRCk7XG4gIHNldFVuaXQoMCk7XG4gIGdsLmdldEVycm9yKCk7XG59XG5cblxubGV0IGF1dG9fdW5sb2FkX3RleHR1cmVzID0gW107XG5cbmZ1bmN0aW9uIFRleHR1cmUocGFyYW1zKSB7XG4gIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lO1xuICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xuICB0aGlzLmxvYWRfZmFpbCA9IGZhbHNlO1xuICB0aGlzLnRhcmdldCA9IHBhcmFtcy50YXJnZXQgfHwgZ2wuVEVYVFVSRV8yRDtcbiAgdGhpcy5pc19hcnJheSA9IHRoaXMudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEX0FSUkFZO1xuICB0aGlzLmlzX2N1YmUgPSB0aGlzLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV9DVUJFX01BUDtcbiAgdGhpcy5oYW5kbGUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gIHRoaXMuZWZmX2hhbmRsZSA9IGhhbmRsZV9sb2FkaW5nO1xuICB0aGlzLnNldFNhbXBsZXJTdGF0ZShwYXJhbXMpO1xuICB0aGlzLnNyY193aWR0aCA9IHRoaXMuc3JjX2hlaWdodCA9IDE7XG4gIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IDE7XG4gIHRoaXMubm96b29tID0gcGFyYW1zLm5vem9vbSB8fCBmYWxzZTtcbiAgdGhpcy5vbl9sb2FkID0gW107XG4gIHRoaXMuZ3B1X21lbSA9IDA7XG4gIHRoaXMuc29mdF9lcnJvciA9IHBhcmFtcy5zb2Z0X2Vycm9yIHx8IGZhbHNlO1xuICB0aGlzLmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICB0aGlzLmF1dG9fdW5sb2FkID0gcGFyYW1zLmF1dG9fdW5sb2FkIHx8IGZhbHNlO1xuICBpZiAodGhpcy5hdXRvX3VubG9hZCkge1xuICAgIGF1dG9fdW5sb2FkX3RleHR1cmVzLnB1c2godGhpcyk7XG4gIH1cblxuICB0aGlzLmZvcm1hdCA9IHBhcmFtcy5mb3JtYXQgfHwgZm9ybWF0LlJHQkE4O1xuXG4gIGlmIChwYXJhbXMuZGF0YSkge1xuICAgIGxldCBlcnIgPSB0aGlzLnVwZGF0ZURhdGEocGFyYW1zLndpZHRoLCBwYXJhbXMuaGVpZ2h0LCBwYXJhbXMuZGF0YSk7XG4gICAgaWYgKGVycikge1xuICAgICAgYXNzZXJ0KGZhbHNlLCBgRXJyb3IgbG9hZGluZyAke3BhcmFtcy5uYW1lfTogR0xFcnJvcigke2Vycn0pYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHRleHR1cmUgaXMgbm90IHZhbGlkLCBkbyBub3QgbGVhdmUgYm91bmRcbiAgICB1bmJpbmRBbGwodGhpcy50YXJnZXQpO1xuICAgIGlmIChwYXJhbXMudXJsKSB7XG4gICAgICB0aGlzLnVybCA9IHBhcmFtcy51cmw7XG4gICAgICB0aGlzLmxvYWRVUkwocGFyYW1zLnVybCk7XG4gICAgfVxuICB9XG59XG5cblRleHR1cmUucHJvdG90eXBlLnVwZGF0ZUdQVU1lbSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG5ld19zaXplID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogdGhpcy5mb3JtYXQuY291bnQ7XG4gIGlmICh0aGlzLm1pcG1hcHMpIHtcbiAgICBuZXdfc2l6ZSAqPSAxLjU7XG4gIH1cbiAgbGV0IGRpZmYgPSBuZXdfc2l6ZSAtIHRoaXMuZ3B1X21lbTtcbiAgZW5naW5lLnBlcmZfc3RhdGUuZ3B1X21lbS50ZXggKz0gZGlmZjtcbiAgdGhpcy5ncHVfbWVtID0gZGlmZjtcbn07XG5cbmZ1bmN0aW9uIGJpbmRGb3JjZWQodGV4KSB7XG4gIGxldCB0YXJnZXQgPSB0ZXgudGFyZ2V0O1xuICBzZXRVbml0KDApO1xuICBib3VuZF90ZXhbMF0gPSBudWxsOyAvLyBGb3JjZSBhIHJlLWJpbmQsIG5vIG1hdHRlciB3aGF0XG4gIGJpbmRIYW5kbGUoMCwgdGFyZ2V0LCB0ZXguaGFuZGxlKTtcbn1cblxuVGV4dHVyZS5wcm90b3R5cGUuc2V0U2FtcGxlclN0YXRlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBsZXQgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG4gIGJpbmRGb3JjZWQodGhpcyk7XG5cbiAgdGhpcy5maWx0ZXJfbWluID0gcGFyYW1zLmZpbHRlcl9taW4gfHwgZGVmYXVsdF9maWx0ZXJfbWluO1xuICB0aGlzLmZpbHRlcl9tYWcgPSBwYXJhbXMuZmlsdGVyX21hZyB8fCBkZWZhdWx0X2ZpbHRlcl9tYWc7XG4gIGdsLnRleFBhcmFtZXRlcmkodGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRoaXMuZmlsdGVyX21pbik7XG4gIGdsLnRleFBhcmFtZXRlcmkodGFyZ2V0LCBnbC5URVhUVVJFX01BR19GSUxURVIsIHRoaXMuZmlsdGVyX21hZyk7XG4gIHRoaXMud3JhcF9zID0gcGFyYW1zLndyYXBfcyB8fCBnbC5SRVBFQVQ7XG4gIHRoaXMud3JhcF90ID0gcGFyYW1zLndyYXBfdCB8fCBnbC5SRVBFQVQ7XG4gIGdsLnRleFBhcmFtZXRlcmkodGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgdGhpcy53cmFwX3MpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKHRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1QsIHRoaXMud3JhcF90KTtcblxuICB0aGlzLm1pcG1hcHMgPSB0aGlzLmZpbHRlcl9taW4gPj0gMHgyNzAwICYmIHRoaXMuZmlsdGVyX21pbiA8PSAweDI3MDM7IC8vIFByb2JhYmx5IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSXG5cbiAgaWYgKG1heF9hbmlzbykge1xuICAgIGlmICh0aGlzLm1pcG1hcHMgJiYgcGFyYW1zLmZpbHRlcl9tYWcgIT09IGdsLk5FQVJFU1QpIHtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmYoZ2wuVEVYVFVSRV8yRCwgYW5pc29fZW51bSwgYW5pc28pO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsIGFuaXNvX2VudW0sIDEpO1xuICAgIH1cbiAgfVxufTtcblxuVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlRGF0YSA9IGZ1bmN0aW9uIHVwZGF0ZURhdGEodywgaCwgZGF0YSkge1xuICBhc3NlcnQoIXRoaXMuZGVzdHJveWVkKTtcbiAgYmluZEZvcmNlZCh0aGlzKTtcbiAgdGhpcy5sYXN0X3VzZSA9IGZyYW1lX3RpbWVzdGFtcDtcbiAgdGhpcy5zcmNfd2lkdGggPSB3O1xuICB0aGlzLnNyY19oZWlnaHQgPSBoO1xuICB0aGlzLndpZHRoID0gdztcbiAgdGhpcy5oZWlnaHQgPSBoO1xuICAvLyBjbGVhciB0aGUgZXJyb3IgZmxhZyhzKSBpZiB0aGVyZSBhcmUgYW55XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCAxMCAmJiBnbC5nZXRFcnJvcigpOyArK2lpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjdXJseVxuICAvLyBSZXNpemUgTlAyIGlmIHRoaXMgaXMgbm90IGJlaW5nIHVzZWQgZm9yIGEgdGV4dHVyZSBhcnJheSwgYW5kIGl0IGlzIG5vdCBleHBsaWNpdGx5IGFsbG93ZWQgKG5vbi1taXBtYXBwZWQsIHdyYXBwZWQpXG4gIGxldCBucDIgPSAoIWlzUG93ZXJPZlR3byh3KSB8fCAhaXNQb3dlck9mVHdvKGgpKSAmJiAhdGhpcy5pc19hcnJheSAmJiAhdGhpcy5pc19jdWJlICYmXG4gICAgISghdGhpcy5taXBtYXBzICYmIHRoaXMud3JhcF9zID09PSBnbC5DTEFNUF9UT19FREdFICYmIHRoaXMud3JhcF90ID09PSBnbC5DTEFNUF9UT19FREdFKTtcbiAgaWYgKG5wMikge1xuICAgIHRoaXMud2lkdGggPSBuZXh0SGlnaGVzdFBvd2VyT2ZUd28odyk7XG4gICAgdGhpcy5oZWlnaHQgPSBuZXh0SGlnaGVzdFBvd2VyT2ZUd28oaCk7XG4gICAgZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsXG4gICAgICB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBudWxsKTtcbiAgfVxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICBhc3NlcnQoZGF0YS5sZW5ndGggPj0gdyAqIGggKiB0aGlzLmZvcm1hdC5jb3VudCk7XG4gICAgYXNzZXJ0KCF0aGlzLmlzX2N1YmUpO1xuICAgIGlmICh0aGlzLmlzX2FycmF5KSB7XG4gICAgICBsZXQgbnVtX2ltYWdlcyA9IGggLyB3OyAvLyBhc3N1bWUgc3F1YXJlXG4gICAgICBnbC50ZXhJbWFnZTNEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB3LCB3LFxuICAgICAgICBudW1faW1hZ2VzLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICB9IGVsc2UgaWYgKG5wMikge1xuICAgICAgLy8gQ291bGQgZG8gbXVsdGlwbGUgdXBsb2FkIHRoaW5nIGxpa2UgYmVsb3csIGJ1dCBzbWFydGVyLCBidXQgd2UgcmVhbGx5IHNob3VsZG4ndCBiZSBkb2luZyB0aGlzIGZvclxuICAgICAgLy8gaW4tcHJvY2VzcyBnZW5lcmF0ZWQgaW1hZ2VzIVxuICAgICAgZ2wudGV4U3ViSW1hZ2UyRCh0aGlzLnRhcmdldCwgMCwgMCwgMCwgdywgaCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHcsIGgsIDAsXG4gICAgICAgIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsIGRhdGEpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoZGF0YS53aWR0aCk7IC8vIGluc3RhbmNlb2YgSW1hZ2UgZmFpbHMgd2l0aCB1YmxvY2sgQWRCbG9ja2VyOyBhbHNvLCB0aGlzIGlzIGVpdGhlciBhbiBJbWFnZSBvciBDYW52YXNcbiAgICBpZiAodGhpcy5pc19jdWJlKSB7XG4gICAgICBhc3NlcnQuZXF1YWwodyAqIDIsIGggKiAzKTtcbiAgICAgIGxldCB0ZXhfc2l6ZSA9IGggLyAyO1xuICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgY2FudmFzLndpZHRoID0gdGV4X3NpemU7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gdGV4X3NpemU7XG4gICAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgY3ViZV9mYWNlcy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgbGV0IGZhY2UgPSBjdWJlX2ZhY2VzW2lpXTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShkYXRhLCBmYWNlLnBvc1swXSAqIHRleF9zaXplLCBmYWNlLnBvc1sxXSAqIHRleF9zaXplLCB0ZXhfc2l6ZSwgdGV4X3NpemUsXG4gICAgICAgICAgMCwgMCwgdGV4X3NpemUsIHRleF9zaXplKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbFtmYWNlLnRhcmdldF0sIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsXG4gICAgICAgICAgY2FudmFzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNfYXJyYXkpIHtcbiAgICAgIGxldCBudW1faW1hZ2VzID0gaCAvIHc7XG4gICAgICBnbC50ZXhJbWFnZTNEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB3LCB3LFxuICAgICAgICBudW1faW1hZ2VzLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcblxuICAgICAgaWYgKGdsLmdldEVycm9yKCkpIHtcbiAgICAgICAgLy8gRml4IGZvciBTYW1zdW5nIGRldmljZXMgKENocmlzJ3MgYW5kIEdhbGF4eSBTOCBvbiBDcm9zc0Jyb3dzZXJUZXN0aW5nKVxuICAgICAgICAvLyBBbHNvIGZpeGVzIGxvY2FsbHkgb24gQ2hyb21lIHdoZW4gdXNpbmcgYSA4SyBzb3VyY2UgdGV4dHVyZSAod2FzIDg5Nng1NzM0NCksXG4gICAgICAgIC8vICBwZXJoYXBzIHNvbWUgYXV0by1zY2FsaW5nIGlzIGdvaW5nIG9uIGluIHRoZSBnbC50ZXhJbWFnZTNEIGNhbGwgaWYgcmVxdWlyZWQ/XG4gICAgICAgIC8vIFRyeSBkcmF3aW5nIHRvIGNhbnZhcyBmaXJzdFxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgICAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoZGF0YSwgMCwgMCk7XG4gICAgICAgIGdsLnRleEltYWdlM0QodGhpcy50YXJnZXQsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHcsIHcsXG4gICAgICAgICAgbnVtX2ltYWdlcywgMCwgdGhpcy5mb3JtYXQuaW50ZXJuYWxfdHlwZSwgdGhpcy5mb3JtYXQuZ2xfdHlwZSwgY2FudmFzKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAobnAyKSB7XG4gICAgICAvLyBQYWQgdXAgdG8gcG93ZXIgb2YgdHdvXG4gICAgICAvLyBEdXBsaWNhdGUgcmlnaHQgYW5kIGJvdHRvbSBwaXhlbCByb3cgYnkgc2VuZGluZyBpbWFnZSAzIHRpbWVzXG4gICAgICBpZiAodyAhPT0gdGhpcy53aWR0aCkge1xuICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCAxLCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGlmIChoICE9PSB0aGlzLmhlaWdodCkge1xuICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCAwLCAxLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGdsLnRleFN1YkltYWdlMkQodGhpcy50YXJnZXQsIDAsIDAsIDAsIHRoaXMuZm9ybWF0LmludGVybmFsX3R5cGUsIHRoaXMuZm9ybWF0LmdsX3R5cGUsIGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC50ZXhJbWFnZTJEKHRoaXMudGFyZ2V0LCAwLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5pbnRlcm5hbF90eXBlLCB0aGlzLmZvcm1hdC5nbF90eXBlLCBkYXRhKTtcbiAgICB9XG4gIH1cbiAgbGV0IGdsX2VyciA9IGdsLmdldEVycm9yKCk7XG4gIGlmIChnbF9lcnIpIHtcbiAgICByZXR1cm4gZ2xfZXJyO1xuICB9XG4gIGlmICh0aGlzLm1pcG1hcHMpIHtcbiAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLnRhcmdldCk7XG4gICAgZ2xfZXJyID0gZ2wuZ2V0RXJyb3IoKTtcbiAgICBpZiAoZ2xfZXJyKSB7XG4gICAgICByZXR1cm4gZ2xfZXJyO1xuICAgIH1cbiAgfVxuICB0aGlzLnVwZGF0ZUdQVU1lbSgpO1xuICB0aGlzLmVmZl9oYW5kbGUgPSB0aGlzLmhhbmRsZTtcbiAgdGhpcy5sb2FkZWQgPSB0cnVlO1xuXG4gIGNhbGxFYWNoKHRoaXMub25fbG9hZCwgdGhpcy5vbl9sb2FkID0gbnVsbCwgdGhpcyk7XG5cbiAgcmV0dXJuIDA7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgY2IodGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vbl9sb2FkLnB1c2goY2IpO1xuICB9XG59O1xuXG5sZXQgdGV4dHVyZV9iYXNlX3VybCA9ICcnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV4dGVybmFsVGV4dHVyZVVSTCh1cmwpIHtcbiAgaWYgKCF1cmwubWF0Y2goL14uezIsN306LykpIHtcbiAgICB1cmwgPSBgJHt0ZXh0dXJlX2Jhc2VfdXJsfHx1cmxoYXNoLmdldFVSTEJhc2UoKX0ke3VybH1gO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0RXh0ZXJuYWxUZXh0dXJlQmFzZVVSTChiYXNlX3VybCkge1xuICB0ZXh0dXJlX2Jhc2VfdXJsID0gYmFzZV91cmw7XG59XG5cbmNvbnN0IFRFWF9SRVRSWV9DT1VOVCA9IDQ7XG5UZXh0dXJlLnByb3RvdHlwZS5sb2FkVVJMID0gZnVuY3Rpb24gbG9hZFVSTCh1cmwsIGZpbHRlcikge1xuICBsZXQgdGV4ID0gdGhpcztcbiAgYXNzZXJ0KCF0ZXguZGVzdHJveWVkKTtcblxuICAvLyBXaGVuIG91ciBicm93c2VyJ3MgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBmcm9tICdzaXRlLmNvbS9mb28vJyB0b1xuICAvLyAgJ3NpdGUuY29tL2Zvby9iYXIvNycgb3VyIHJlbGF0aXZlIGltYWdlIFVSTHMgYXJlIHN0aWxsIHJlbGF0aXZlIHRvIHRoZVxuICAvLyAgYmFzZS4gIE1heWJlIHNob3VsZCBzZXQgc29tZSBtZXRhIHRhZyB0byBkbyB0aGlzIGluc3RlYWQ/XG4gIGlmICghdXJsLm1hdGNoKC9eLnsyLDd9Oi8pKSB7XG4gICAgdXJsID0gYCR7dXJsaGFzaC5nZXRVUkxCYXNlKCl9JHt1cmx9YDtcbiAgfVxuXG4gIGxldCBsb2FkX2dlbiA9IHRleC5sb2FkX2dlbiA9ICh0ZXgubG9hZF9nZW4gfHwgMCkgKyAxO1xuICBmdW5jdGlvbiB0cnlMb2FkKG5leHQpIHtcbiAgICBsZXQgZGlkX25leHQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBkb25lKGltZykge1xuICAgICAgaWYgKCFkaWRfbmV4dCkge1xuICAgICAgICBkaWRfbmV4dCA9IHRydWU7XG4gICAgICAgIHJldHVybiB2b2lkIG5leHQoaW1nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRvbmUoaW1nKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZhaWwoKSB7XG4gICAgICBkb25lKG51bGwpO1xuICAgIH1cbiAgICBpbWcub25lcnJvciA9IGZhaWw7XG4gICAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgaW1nLnNyYyA9IHVybDtcbiAgfVxuXG4gICsrbG9hZF9jb3VudDtcbiAgbGV0IHJldHJpZXMgPSAwO1xuICBmdW5jdGlvbiBoYW5kbGVMb2FkKGltZykge1xuICAgIGlmICh0ZXgubG9hZF9nZW4gIT09IGxvYWRfZ2VuIHx8IHRleC5kZXN0cm95ZWQpIHtcbiAgICAgIC8vIHNvbWVvbmUgZWxzZSByZXF1ZXN0ZWQgdGhpcyB0ZXh0dXJlIHRvIGJlIGxvYWRlZCEgIE9yLCBpdCB3YXMgYWxyZWFkeSB1bmxvYWRlZFxuICAgICAgLS1sb2FkX2NvdW50O1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXJyX2RldGFpbHMgPSAnJztcbiAgICBpZiAoaW1nKSB7XG4gICAgICB0ZXguZm9ybWF0ID0gZm9ybWF0LlJHQkE4O1xuICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICBpbWcgPSBmaWx0ZXIodGV4LCBpbWcpO1xuICAgICAgfVxuICAgICAgbGV0IGVyciA9IHRleC51cGRhdGVEYXRhKGltZy53aWR0aCwgaW1nLmhlaWdodCwgaW1nKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZXJyX2RldGFpbHMgPSBgOiBHTEVycm9yKCR7ZXJyfSlgO1xuICAgICAgICAvLyBTYW1zdW5nIFRWIGdldHMgMTI4MiBvbiB0ZXh0dXJlIGFycmF5c1xuICAgICAgICAvLyBTYW1zdW5nIEdhbGF4eSBTNiBnZXRzIDEyODEgb24gdGV4dHVyZSBhcnJheXNcbiAgICAgICAgLy8gTm90ZTogQW55IGZhaWxlZCBpbWFnZSBsb2FkIChwYXJ0aWFsIHJlYWQgb2YgYSBiYWQgcG5nLCBldGMpIGFsc28gcmVzdWx0cyBpbiAxMjgxIVxuICAgICAgICBpZiAodGV4LmlzX2FycmF5ICYmIChTdHJpbmcoZXJyKSA9PT0gJzEyODInIHx8IFN0cmluZyhlcnIpID09PSAnMTI4MScpICYmIGVuZ2luZS53ZWJnbDIgJiYgIWVuZ2luZS5ERUJVRykge1xuICAgICAgICAgIGxvY2FsX3N0b3JhZ2Uuc2V0SlNPTignd2ViZ2wyX2Rpc2FibGUnLCB7XG4gICAgICAgICAgICB1YTogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIHRzOiBEYXRlLm5vdygpLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgYXJyYXkgdGV4dHVyZSBcIiR7dXJsfVwiJHtlcnJfZGV0YWlsc30sIHJlbG9hZGluZyB3aXRob3V0IFdlYkdMMi4uYCk7XG4gICAgICAgICAgZW5naW5lLnJlbG9hZFNhZmUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXguZm9yX3JlbG9hZCkge1xuICAgICAgICAgIHJldHJpZXMgPSBURVhfUkVUUllfQ09VTlQ7IC8vIGRvIG5vdCByZXRyeSB0aGlzXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC0tbG9hZF9jb3VudDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgZXJyID0gYEVycm9yIGxvYWRpbmcgdGV4dHVyZSBcIiR7dXJsfVwiJHtlcnJfZGV0YWlsc31gO1xuICAgIHJldHJpZXMrKztcbiAgICBpZiAocmV0cmllcyA+IFRFWF9SRVRSWV9DT1VOVCkge1xuICAgICAgLS1sb2FkX2NvdW50O1xuICAgICAgdGV4LmVmZl9oYW5kbGUgPSBoYW5kbGVfZXJyb3I7XG4gICAgICB0ZXgubG9hZF9mYWlsID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZXJyfSR7ZXJyX2RldGFpbHMgPyAnJyA6ICcsIHJldHJpZXMgZmFpbGVkJ31gKTtcbiAgICAgIGlmICh0ZXguc29mdF9lcnJvcikge1xuICAgICAgICB0ZXguZXJyID0gJ0xvYWQgZmFpbGVkJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2VydChmYWxzZSwgZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvcihgJHtlcnJ9LCByZXRyeWluZy4uLiBgKTtcbiAgICBzZXRUaW1lb3V0KHRyeUxvYWQuYmluZChudWxsLCBoYW5kbGVMb2FkKSwgMTAwICogcmV0cmllcyAqIHJldHJpZXMpO1xuICB9XG4gIHRyeUxvYWQoaGFuZGxlTG9hZCk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5hbGxvY0ZCTyA9IGZ1bmN0aW9uICh3LCBoLCBuZWVkX2RlcHRoKSB7XG4gIGNvbnN0IGZib19mb3JtYXQgPSBzZXR0aW5ncy5mYm9fcmdiYSA/IGdsLlJHQkEgOiBnbC5SR0I7XG4gIGJpbmRGb3JjZWQodGhpcyk7XG4gIGdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsIDAsIGZib19mb3JtYXQsIHcsIGgsIDAsIGZib19mb3JtYXQsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuXG4gIHRoaXMuZmJvID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLmZibyk7XG4gIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy5oYW5kbGUsIDApO1xuXG4gIHRoaXMubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gIHRoaXMuc3JjX3dpZHRoID0gdGhpcy53aWR0aCA9IHc7XG4gIHRoaXMuc3JjX2hlaWdodCA9IHRoaXMuaGVpZ2h0ID0gaDtcbiAgdGhpcy51cGRhdGVHUFVNZW0oKTtcbn07XG5cblRleHR1cmUucHJvdG90eXBlLmNhcHR1cmVTdGFydCA9IGZ1bmN0aW9uICh3LCBoKSB7XG4gIGFzc2VydCghdGhpcy5jYXB0dXJlKTtcbiAgdGhpcy5jYXB0dXJlID0geyB3LCBoIH07XG4gIGlmICh0aGlzLmZibykge1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mYm8pO1xuICB9XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5jYXB0dXJlRW5kID0gZnVuY3Rpb24gKGZpbHRlcl9saW5lYXIsIHdyYXApIHtcbiAgYXNzZXJ0KHRoaXMuY2FwdHVyZSk7XG4gIGxldCBjYXB0dXJlID0gdGhpcy5jYXB0dXJlO1xuICB0aGlzLmNhcHR1cmUgPSBudWxsO1xuICBpZiAodGhpcy5mYm8pIHtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuY29weVRleEltYWdlKDAsIDAsIGNhcHR1cmUudywgY2FwdHVyZS5oKTtcbiAgfVxuICBsZXQgZmlsdGVyID0gZmlsdGVyX2xpbmVhciA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1Q7XG4gIHRoaXMuc2V0U2FtcGxlclN0YXRlKHtcbiAgICBmaWx0ZXJfbWluOiBmaWx0ZXIsXG4gICAgZmlsdGVyX21hZzogZmlsdGVyLFxuICAgIHdyYXBfczogd3JhcCA/IGdsLlJFUEVBVCA6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiB3cmFwID8gZ2wuUkVQRUFUIDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgfSk7XG59O1xuXG5UZXh0dXJlLnByb3RvdHlwZS5jb3B5VGV4SW1hZ2UgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCkge1xuICBhc3NlcnQoIXRoaXMuZGVzdHJveWVkKTtcbiAgYXNzZXJ0KHcgJiYgaCk7XG4gIGJpbmRIYW5kbGUoMCwgdGhpcy50YXJnZXQsIHRoaXMuaGFuZGxlKTtcbiAgZ2wuY29weVRleEltYWdlMkQodGhpcy50YXJnZXQsIDAsIGdsLlJHQiwgeCwgeSwgdywgaCwgMCk7XG4gIHRoaXMubGFzdF91c2UgPSBmcmFtZV90aW1lc3RhbXA7XG4gIHRoaXMuc3JjX3dpZHRoID0gdGhpcy53aWR0aCA9IHc7XG4gIHRoaXMuc3JjX2hlaWdodCA9IHRoaXMuaGVpZ2h0ID0gaDtcbiAgdGhpcy51cGRhdGVHUFVNZW0oKTtcbn07XG5cblRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnQodGhpcy5uYW1lKTtcbiAgbGV0IGF1dG9fdW5sb2FkID0gdGhpcy5hdXRvX3VubG9hZDtcbiAgaWYgKGF1dG9fdW5sb2FkKSB7XG4gICAgdGhpcy5hdXRvX3VubG9hZCA9IG51bGw7XG4gICAgbGV0IGlkeCA9IGF1dG9fdW5sb2FkX3RleHR1cmVzLmluZGV4T2YodGhpcyk7XG4gICAgYXNzZXJ0KGlkeCAhPT0gLTEpO1xuICAgIHJpZHgoYXV0b191bmxvYWRfdGV4dHVyZXMsIGlkeCk7XG4gIH1cbiAgZGVsZXRlIHRleHR1cmVzW3RoaXMubmFtZV07XG4gIHVuYmluZEFsbCh0aGlzLnRhcmdldCk7XG4gIGdsLmRlbGV0ZVRleHR1cmUodGhpcy5oYW5kbGUpO1xuICBpZiAodGhpcy5mYm8pIHtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZmJvKTtcbiAgfVxuICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSAwO1xuICB0aGlzLnVwZGF0ZUdQVU1lbSgpO1xuICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gIGlmICh0eXBlb2YgYXV0b191bmxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhdXRvX3VubG9hZCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XG4gIGFzc2VydChwYXJhbXMubmFtZSk7XG4gIGxldCB0ZXh0dXJlID0gbmV3IFRleHR1cmUocGFyYW1zKTtcbiAgdGV4dHVyZXNbcGFyYW1zLm5hbWVdID0gdGV4dHVyZTtcbiAgcmV0dXJuIHRleHR1cmU7XG59XG5cbmxldCBsYXN0X3RlbXBvcmFyeV9pZCA9IDA7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRm9yQ2FwdHVyZSh1bmlxdWVfbmFtZSwgYXV0b191bmxvYWQpIHtcbiAgbGV0IG5hbWUgPSB1bmlxdWVfbmFtZSB8fCBgc2NyZWVuX3RlbXBvcmFyeV90ZXhfJHsrK2xhc3RfdGVtcG9yYXJ5X2lkfWA7XG4gIGFzc2VydCghdGV4dHVyZXNbbmFtZV0pO1xuICBsZXQgdGV4dHVyZSA9IGNyZWF0ZSh7XG4gICAgZmlsdGVyX21pbjogZ2wuTkVBUkVTVCxcbiAgICBmaWx0ZXJfbWFnOiBnbC5ORUFSRVNULFxuICAgIHdyYXBfczogZ2wuQ0xBTVBfVE9fRURHRSxcbiAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgZm9ybWF0OiBmb3JtYXQuUkdCOCxcbiAgICBuYW1lLFxuICAgIGF1dG9fdW5sb2FkLFxuICB9KTtcbiAgdGV4dHVyZS5sb2FkZWQgPSB0cnVlO1xuICB0ZXh0dXJlLmVmZl9oYW5kbGUgPSB0ZXh0dXJlLmhhbmRsZTtcbiAgcmV0dXJuIHRleHR1cmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKHBhcmFtcykge1xuICBsZXQga2V5ID0gcGFyYW1zLm5hbWUgPSBwYXJhbXMubmFtZSB8fCBwYXJhbXMudXJsO1xuICBhc3NlcnQoa2V5KTtcbiAgbGV0IHRleCA9IHRleHR1cmVzW2tleV07XG4gIGlmICghdGV4KSB7XG4gICAgdGV4ID0gY3JlYXRlKHBhcmFtcyk7XG4gIH1cbiAgdGV4Lmxhc3RfdXNlID0gZnJhbWVfdGltZXN0YW1wO1xuICByZXR1cm4gdGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY25hbWUoa2V5KSB7XG4gIGxldCBpZHggPSBrZXkubGFzdEluZGV4T2YoJy8nKTtcbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICBrZXkgPSBrZXkuc2xpY2UoaWR4KzEpO1xuICB9XG4gIGlkeCA9IGtleS5pbmRleE9mKCcuJyk7XG4gIGlmIChpZHggIT09IC0xKSB7XG4gICAga2V5ID0ga2V5LnNsaWNlKDAsIGlkeCk7XG4gIH1cbiAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRUZXhGb3JSZXBsYWNlbWVudChzZWFyY2hfa2V5KSB7XG4gIHNlYXJjaF9rZXkgPSBjbmFtZShzZWFyY2hfa2V5KTtcbiAgZm9yIChsZXQga2V5IGluIHRleHR1cmVzKSB7XG4gICAgbGV0IGNvbXBhcmVfa2V5ID0gY25hbWUoa2V5KTtcbiAgICBpZiAoY29tcGFyZV9rZXkgPT09IHNlYXJjaF9rZXkpIHtcbiAgICAgIHJldHVybiB0ZXh0dXJlc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxubGV0IHRpY2tfbmV4dF90ZXggPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIHRleHR1cmVzVGljaygpIHtcbiAgZnJhbWVfdGltZXN0YW1wID0gZW5naW5lLmZyYW1lX3RpbWVzdGFtcDtcbiAgbGV0IGxlbiA9IGF1dG9fdW5sb2FkX3RleHR1cmVzLmxlbmd0aDtcbiAgaWYgKCFsZW4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRpY2tfbmV4dF90ZXggPj0gbGVuKSB7XG4gICAgdGlja19uZXh0X3RleCA9IDA7XG4gIH1cbiAgbGV0IHRleCA9IGF1dG9fdW5sb2FkX3RleHR1cmVzW3RpY2tfbmV4dF90ZXhdO1xuICBpZiAodGV4Lmxhc3RfdXNlIDwgZnJhbWVfdGltZXN0YW1wIC0gVEVYX1VOTE9BRF9USU1FKSB7XG4gICAgY29uc29sZS5sb2coYFVubG9hZGluZyB0ZXh0dXJlICR7dGV4Lm5hbWV9YCk7XG4gICAgdGV4LmRlc3Ryb3koKTtcbiAgfSBlbHNlIHtcbiAgICArK3RpY2tfbmV4dF90ZXg7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRleHR1cmVzVW5sb2FkRHluYW1pYygpIHtcbiAgd2hpbGUgKGF1dG9fdW5sb2FkX3RleHR1cmVzLmxlbmd0aCkge1xuICAgIGF1dG9fdW5sb2FkX3RleHR1cmVzWzBdLmRlc3Ryb3koKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0ZXh0dXJlUmVsb2FkKGZpbGVuYW1lKSB7XG4gIGxldCB0ZXggPSB0ZXh0dXJlc1tmaWxlbmFtZV07XG4gIGlmICh0ZXggJiYgdGV4LnVybCkge1xuICAgIHRleC5mb3JfcmVsb2FkID0gdHJ1ZTtcbiAgICB0ZXgubG9hZFVSTChgJHt0ZXgudXJsfT9ybD0ke0RhdGUubm93KCl9YCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cCgpIHtcblxuICBkZWZhdWx0X2ZpbHRlcl9taW4gPSBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUjtcbiAgZGVmYXVsdF9maWx0ZXJfbWFnID0gZ2wuTElORUFSO1xuXG4gIGZvcm1hdC5SOC5pbnRlcm5hbF90eXBlID0gZ2wuTFVNSU5BTkNFO1xuICBmb3JtYXQuUjguZ2xfdHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gIGZvcm1hdC5SR0I4LmludGVybmFsX3R5cGUgPSBnbC5SR0I7XG4gIGZvcm1hdC5SR0I4LmdsX3R5cGUgPSBnbC5VTlNJR05FRF9CWVRFO1xuICBmb3JtYXQuUkdCQTguaW50ZXJuYWxfdHlwZSA9IGdsLlJHQkE7XG4gIGZvcm1hdC5SR0JBOC5nbF90eXBlID0gZ2wuVU5TSUdORURfQllURTtcblxuICBsZXQgZXh0X2FuaXNvdHJvcGljID0gKFxuICAgIGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICBnbC5nZXRFeHRlbnNpb24oJ01PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSB8fFxuICAgIGdsLmdldEV4dGVuc2lvbignV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpXG4gICk7XG4gIGlmIChleHRfYW5pc290cm9waWMpIHtcbiAgICBhbmlzb19lbnVtID0gZXh0X2FuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUO1xuICAgIGFuaXNvID0gbWF4X2FuaXNvID0gZ2wuZ2V0UGFyYW1ldGVyKGV4dF9hbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO1xuICB9XG5cbiAgaGFuZGxlX2Vycm9yID0gbG9hZCh7XG4gICAgbmFtZTogJ2Vycm9yJyxcbiAgICB3aWR0aDogMiwgaGVpZ2h0OiAyLFxuICAgIG5vem9vbTogdHJ1ZSxcbiAgICBmb3JtYXQ6IGZvcm1hdC5SR0JBOCxcbiAgICBmaWx0ZXJfbWFnOiBnbC5ORUFSRVNULFxuICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDI1NSwgMjAsIDE0NywgMjU1LFxuICAgICAgMjU1LCAwLCAwLCAyNTUsXG4gICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsXG4gICAgICAyNTUsIDIwLCAxNDcsIDI1NVxuICAgIF0pLFxuICB9KS5oYW5kbGU7XG5cbiAgaGFuZGxlX2xvYWRpbmcgPSBsb2FkKHtcbiAgICBuYW1lOiAnbG9hZGluZycsXG4gICAgd2lkdGg6IDIsIGhlaWdodDogMixcbiAgICBub3pvb206IHRydWUsXG4gICAgZm9ybWF0OiBmb3JtYXQuUkdCQTgsXG4gICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgMTI3LCAxMjcsIDEyNywgMjU1LFxuICAgICAgMCwgMCwgMCwgMjU1LFxuICAgICAgNjQsIDY0LCA2NCwgMjU1LFxuICAgICAgMTI3LCAxMjcsIDEyNywgMjU1LFxuICAgIF0pLFxuICB9KS5oYW5kbGU7XG5cbiAgbG9hZCh7XG4gICAgbmFtZTogJ3doaXRlJyxcbiAgICB3aWR0aDogMiwgaGVpZ2h0OiAyLFxuICAgIG5vem9vbTogdHJ1ZSxcbiAgICBmb3JtYXQ6IGZvcm1hdC5SR0JBOCxcbiAgICBkYXRhOiBuZXcgVWludDhBcnJheShbXG4gICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsXG4gICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsXG4gICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsXG4gICAgICAyNTUsIDI1NSwgMjU1LCAyNTUsXG4gICAgXSksXG4gIH0pO1xuXG4gIGxvYWQoe1xuICAgIG5hbWU6ICdpbnZpc2libGUnLFxuICAgIHdpZHRoOiAyLCBoZWlnaHQ6IDIsXG4gICAgbm96b29tOiB0cnVlLFxuICAgIGZvcm1hdDogZm9ybWF0LlJHQkE4LFxuICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIDAsIDAsIDAsIDAsXG4gICAgICAwLCAwLCAwLCAwLFxuICAgICAgMCwgMCwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDAsXG4gICAgXSksXG4gIH0pO1xuXG4gIGZpbGV3YXRjaE9uKCcucG5nJywgdGV4dHVyZVJlbG9hZCk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IGNhbWVyYTJkID0gcmVxdWlyZSgnLi9jYW1lcmEyZC5qcycpO1xuY29uc3QgZ2xvdl9lbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZS5qcycpO1xuY29uc3QgeyBhcHBseUNvcHksIGVmZmVjdHNRdWV1ZSwgZWZmZWN0c0lzRmluYWwgfSA9IHJlcXVpcmUoJy4vZWZmZWN0cy5qcycpO1xuY29uc3QgeyBmcmFtZWJ1ZmZlckNhcHR1cmUsIGZyYW1lYnVmZmVyU3RhcnQsIGZyYW1lYnVmZmVyRW5kLCB0ZW1wb3JhcnlUZXh0dXJlQ2xhaW0gfSA9IHJlcXVpcmUoJy4vZnJhbWVidWZmZXIuanMnKTtcbmNvbnN0IHsgZmxvb3IsIG1pbiwgcG93LCByYW5kb20gfSA9IE1hdGg7XG5jb25zdCBzcHJpdGVzID0gcmVxdWlyZSgnLi9zcHJpdGVzLmpzJyk7XG5jb25zdCBzaGFkZXJzID0gcmVxdWlyZSgnLi9zaGFkZXJzLmpzJyk7XG5jb25zdCB0ZXh0dXJlcyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMuanMnKTtcbmNvbnN0IGdsb3ZfdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5jb25zdCB7IGVhc2VPdXQgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi91dGlsLmpzJyk7XG5jb25zdCB7IHVuaXRfdmVjLCB2ZWM0IH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmxldCB0cmFuc2l0aW9ucyA9IFtdO1xuXG5leHBvcnQgY29uc3QgSU1NRURJQVRFID0gJ2ltbWVkaWF0ZSc7XG5cbmV4cG9ydCBjb25zdCBSRU1PVkUgPSAncmVtb3ZlJztcbmV4cG9ydCBjb25zdCBDT05USU5VRSA9ICdjb250aW51ZSc7XG5cbmNvbnN0IHNoYWRlcl9kYXRhID0ge1xuICB0cmFuc2l0aW9uX3BpeGVsYXRlOiB7XG4gICAgZnA6ICdnbG92L3NoYWRlcnMvdHJhbnNpdGlvbl9waXhlbGF0ZS5mcCcsXG4gIH0sXG59O1xuXG5mdW5jdGlvbiBnZXRTaGFkZXIoa2V5KSB7XG4gIGxldCBlbGVtID0gc2hhZGVyX2RhdGFba2V5XTtcbiAgaWYgKCFlbGVtLnNoYWRlcikge1xuICAgIGVsZW0uc2hhZGVyID0gc2hhZGVycy5jcmVhdGUoZWxlbS5mcCk7XG4gIH1cbiAgcmV0dXJuIGVsZW0uc2hhZGVyO1xufVxuXG5mdW5jdGlvbiBHbG92VHJhbnNpdGlvbih6LCBmdW5jKSB7XG4gIHRoaXMueiA9IHo7XG4gIHRoaXMuY2FwdHVyZSA9IG51bGw7XG4gIHRoaXMuZnVuYyA9IGZ1bmM7XG4gIHRoaXMuYWNjdW1fdGltZSA9IDA7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25DYXB0dXJlKHRyYW5zKSB7XG4gIC8vIFdhcm5pbmc6IFNsb3cgb24gaU9TXG4gIGFzc2VydCghdHJhbnMuY2FwdHVyZSk7XG4gIHRyYW5zLmNhcHR1cmUgPSB0ZXh0dXJlcy5jcmVhdGVGb3JDYXB0dXJlKCk7XG4gIGZyYW1lYnVmZmVyQ2FwdHVyZSh0cmFucy5jYXB0dXJlKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNpdGlvbkNhcHR1cmVGcmFtZWJ1ZmZlcih0cmFucykge1xuICBhc3NlcnQoIXRyYW5zLmNhcHR1cmUpO1xuICB0cmFucy5jYXB0dXJlID0gZnJhbWVidWZmZXJFbmQoKTtcbiAgdGVtcG9yYXJ5VGV4dHVyZUNsYWltKHRyYW5zLmNhcHR1cmUpO1xuICBpZiAodHJhbnMuY2FwdHVyZS5mYm8pIHtcbiAgICAvLyBuZXcgZnJhbWVidWZmZXIgYm91bmQsIGVmZmVjdGl2ZWx5IGNsZWFyZWQsIG5lZWQgdG8gYmxpdCB0aGlzIHRvIGl0IVxuICAgIGFwcGx5Q29weSh7IHNvdXJjZTogdHJhbnMuY2FwdHVyZSwgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCkgfSk7XG4gIH0gZWxzZSB7XG4gICAgZnJhbWVidWZmZXJTdGFydCh7XG4gICAgICB3aWR0aDogdHJhbnMuY2FwdHVyZS53aWR0aCxcbiAgICAgIGhlaWdodDogdHJhbnMuY2FwdHVyZS5oZWlnaHQsXG4gICAgICBmaW5hbDogZWZmZWN0c0lzRmluYWwoKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVldWUoeiwgZm4pIHtcbiAgYXNzZXJ0KCFnbG92X2VuZ2luZS5oYWRfM2RfdGhpc19mcmFtZSk7IC8vIENhbm5vdCBxdWV1ZSBhIHRyYW5zaXRpb24gYWZ0ZXIgd2UndmUgYWxyZWFkeSBzdGFydGVkIDNkIHJlbmRlcmluZy9jbGVhcmVkXG4gIGxldCBpbW1lZGlhdGUgPSBmYWxzZTtcbiAgaWYgKHogPT09IElNTUVESUFURSkge1xuICAgIGltbWVkaWF0ZSA9IHRydWU7XG4gICAgeiA9IFouVFJBTlNJVElPTl9GSU5BTDtcbiAgfVxuXG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCB0cmFuc2l0aW9ucy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgdHJhbnMgPSB0cmFuc2l0aW9uc1tpaV07XG4gICAgaWYgKHRyYW5zLnogPT09IHopIHtcbiAgICAgIC8vIHNhbWUgWlxuICAgICAgYXNzZXJ0KHRyYW5zLmNhcHR1cmUpO1xuICAgICAgaWYgKCF0cmFucy5jYXB0dXJlKSB7XG4gICAgICAgIC8vIHR3byB0cmFuc2l0aW9ucyBhdCB0aGUgc2FtZSBaIG9uIG9uZSBmcmFtZSEgIGlnbm9yZSBzZWNvbmRcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgdHJhbnMgPSBuZXcgR2xvdlRyYW5zaXRpb24oeiwgZm4pO1xuICB0cmFuc2l0aW9ucy5wdXNoKHRyYW5zKTtcblxuICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgdHJhbnNpdGlvbkNhcHR1cmUodHJhbnMpO1xuICB9IGVsc2Uge1xuICAgIC8vIHF1ZXVlIHVwIGEgY2FwdHVyZSBwYXN0IHRoZSBzcGVjaWZpZWQgWiwgc28gdHJhbnNpdGlvbnMgcmVuZGVyaW5nIGF0IHRoYXQgWiAocGx1cyBhIGhhbmRmdWwpIGdldCBjYXB0dXJlZFxuICAgIGVmZmVjdHNRdWV1ZSh6ICsgWi5UUkFOU0lUSU9OX1JBTkdFLCB0cmFuc2l0aW9uQ2FwdHVyZUZyYW1lYnVmZmVyLmJpbmQobnVsbCwgdHJhbnMpKTtcbiAgICAvL3Nwcml0ZXMucXVldWVmbih6ICsgWi5UUkFOU0lUSU9OX1JBTkdFLCB0cmFuc2l0aW9uQ2FwdHVyZS5iaW5kKG51bGwsIHRyYW5zKSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlKHRleCkge1xuICB0ZXguZGVzdHJveSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKGR0KSB7XG4gIGR0ID0gbWluKGR0LCAxMDApOyAvLyBkZWJ1ZzogY2xhbXAgZnJhbWUgdGltZXNcbiAgZm9yIChsZXQgdHJhbnNfaWR4ID0gMDsgdHJhbnNfaWR4IDwgdHJhbnNpdGlvbnMubGVuZ3RoOyArK3RyYW5zX2lkeCkge1xuICAgIGxldCB0cmFucyA9IHRyYW5zaXRpb25zW3RyYW5zX2lkeF07XG4gICAgdHJhbnMuYWNjdW1fdGltZSArPSBkdDtcbiAgICBhc3NlcnQodHJhbnMuY2FwdHVyZSk7XG4gICAgLy8gY2FsbCB0aGUgZnVuY3Rpb24gYW5kIGdpdmUgdGhlbSB0aGUgWlxuICAgIC8vIElmIG5vdCB0aGUgbGFzdCBvbmUsIHdhbnQgaXQgdG8gZW5kIG5vdyFcbiAgICBsZXQgZm9yY2VfZW5kID0gdHJhbnNfaWR4IDwgdHJhbnNpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICBsZXQgcmV0ID0gdHJhbnMuZnVuYyh0cmFucy56LCB0cmFucy5jYXB0dXJlLCB0cmFucy5hY2N1bV90aW1lLCBmb3JjZV9lbmQpO1xuICAgIGlmIChyZXQgPT09IFJFTU9WRSkge1xuICAgICAgc2V0VGltZW91dChkZXN0cm95VGV4dHVyZS5iaW5kKG51bGwsIHRyYW5zLmNhcHR1cmUpLCAwKTtcbiAgICAgIHRyYW5zaXRpb25zLnNwbGljZSh0cmFuc19pZHgsIDEpO1xuICAgICAgdHJhbnNfaWR4LS07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3RpdmUoKSB7XG4gIHJldHVybiB0cmFuc2l0aW9ucy5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdsb3ZUcmFuc2l0aW9uRmFkZUZ1bmMoZmFkZV90aW1lLCB6LCBpbml0aWFsLCBtc19zaW5jZV9zdGFydCwgZm9yY2VfZW5kKSB7XG4gIGxldCBwcm9ncmVzcyA9IG1pbihtc19zaW5jZV9zdGFydCAvIGZhZGVfdGltZSwgMSk7XG4gIGxldCBhbHBoYSA9ICgxIC0gZWFzZU91dChwcm9ncmVzcywgMikpO1xuICBsZXQgY29sb3IgPSB2ZWM0KDEsIDEsIDEsIGFscGhhKTtcbiAgY2FtZXJhMmQuc2V0Tm9ybWFsaXplZCgpO1xuICBzcHJpdGVzLnF1ZXVlcmF3NChbaW5pdGlhbF0sXG4gICAgMCwgMCwgMCwgMSxcbiAgICAxLCAxLCAxLCAwLFxuICAgIHosXG4gICAgMCwgMSwgMSwgMCxcbiAgICBjb2xvcik7XG5cbiAgaWYgKGZvcmNlX2VuZCB8fCBwcm9ncmVzcyA9PT0gMSkge1xuICAgIHJldHVybiBSRU1PVkU7XG4gIH1cbiAgcmV0dXJuIENPTlRJTlVFO1xufVxuXG5cbi8qXG4gIC8vIERvZXNuJ3Qgd29yayBiZWNhdXNlIHdlIG5lZWQgbW9yZSB0aGFuIGp1c3QgMiBVViB2YWx1ZXMgaW4gdGhlIHF1ZXVlIGNhbGxcbmZ1bmN0aW9uIGdsb3ZUcmFuc2l0aW9uV2lwZUZ1bmMod2lwZV90aW1lLCB3aXBlX2FuZ2xlLCB6LCB0ZXgsIG1zX3NpbmNlX3N0YXJ0LCBmb3JjZV9lbmQpIHtcbiAgbGV0IHByb2dyZXNzID0gbWluKG1zX3NpbmNlX3N0YXJ0IC8gd2lwZV90aW1lLCAxKTtcblxuICBjYW1lcmEyZC5zZXROb3JtYWxpemVkKCk7XG5cbiAgbGV0IHV2cyA9IFtbMCwxXSwgWzEsMF1dO1xuXG4gIGxldCBwb2ludHMgPSBbe30sIHt9LCB7fSwge31dO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgNDsgaWkrKykge1xuICAgIGxldCB4ID0gKGlpID09PSAxIHx8IGlpID09PSAyKSA/IDEgOiAwO1xuICAgIGxldCB5ID0gKGlpID49IDIpID8gMSA6IDA7XG4gICAgcG9pbnRzW2lpXS54ID0geDtcbiAgICBwb2ludHNbaWldLnkgPSB5O1xuICB9XG5cbiAgd2hpbGUgKHdpcGVfYW5nbGUgPiBQSSkge1xuICAgIHdpcGVfYW5nbGUgLT0gKDIgKiBQSSk7XG4gIH1cbiAgd2hpbGUgKHdpcGVfYW5nbGUgPCAtUEkpIHtcbiAgICB3aXBlX2FuZ2xlICs9ICgyICogUEkpO1xuICB9XG5cbiAgLy8gVE9ETzogaWYgYW55b25lIGV2ZXIgdXNlcyB0aGlzLCBjaGFuZ2UgMCBkZWdyZWVzIHRvIGJlIHVwLCBub3QgcmlnaHQsIHRvIG1hdGNoIG90aGVyIHRoaW5ncz9cbiAgaWYgKHdpcGVfYW5nbGUgPj0gLVBJXzQgJiYgd2lwZV9hbmdsZSA8PSBQSV80KSB7XG4gICAgLy8gaG9yaXpvbnRhbCB3aXBlIGZyb20gbGVmdCB0byByaWdodFxuICAgIGxldCB4MCA9IHByb2dyZXNzICogMjsgLy8gcmlnaHRtb3N0IHhcbiAgICBsZXQgeDEgPSB4MCAtIHNpbihhYnMod2lwZV9hbmdsZSkpIC8gU1FSVDFfMjsgLy8gbGVmdG1vc3QgeFxuICAgIGlmICh3aXBlX2FuZ2xlIDwgMCkge1xuICAgICAgcG9pbnRzWzBdLnggPSB4MTtcbiAgICAgIHBvaW50c1szXS54ID0geDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50c1swXS54ID0geDA7XG4gICAgICBwb2ludHNbM10ueCA9IHgxO1xuICAgIH1cbiAgICBwb2ludHNbMV0ueCA9IHBvaW50c1syXS54ID0gMjtcbiAgfSBlbHNlIGlmICh3aXBlX2FuZ2xlID49IFBJXzIgKyBQSV80IHx8IHdpcGVfYW5nbGUgPD0gLVBJXzIgLSBQSV80KSB7XG4gICAgLy8gaG9yaXpvbnRhbCB3aXBlIGZyb20gcmlnaHQgdG8gbGVmdFxuICAgIGxldCB4MCA9IDEgLSBwcm9ncmVzcyAqIDI7IC8vIGxlZnRtb3N0IHhcbiAgICBsZXQgeDEgPSB4MCArIHNpbihhYnMod2lwZV9hbmdsZSkpIC8gU1FSVDFfMjsgLy8gcmlnaHRtb3N0IHgsXG4gICAgaWYgKHdpcGVfYW5nbGUgPCAwKSB7XG4gICAgICBwb2ludHNbMV0ueCA9IHgxO1xuICAgICAgcG9pbnRzWzJdLnggPSB4MDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRzWzFdLnggPSB4MDtcbiAgICAgIHBvaW50c1syXS54ID0geDE7XG4gICAgfVxuICAgIHBvaW50c1swXS54ID0gcG9pbnRzWzNdLnggPSAtMTtcbiAgfSBlbHNlIGlmICh3aXBlX2FuZ2xlID4gUElfNCAmJiB3aXBlX2FuZ2xlIDw9IFBJXzIgKyBQSV80KSB7XG4gICAgLy8gdmVydGljYWwgd2lwZSwgdG9wIHRvIGJvdHRvbVxuICAgIGxldCB5MCA9IHByb2dyZXNzICogMjsgLy8gYm90dG9tbW9zdCB5XG4gICAgbGV0IG9mZnMgPSBjb3Mod2lwZV9hbmdsZSkgLyBTUVJUMV8yO1xuICAgIGxldCB5MSA9IHkwIC0gYWJzKG9mZnMpOyAvLyB0b3Btb3N0IHksXG4gICAgaWYgKG9mZnMgPiAwKSB7XG4gICAgICBwb2ludHNbMF0ueSA9IHkwO1xuICAgICAgcG9pbnRzWzFdLnkgPSB5MTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRzWzBdLnkgPSB5MTtcbiAgICAgIHBvaW50c1sxXS55ID0geTA7XG4gICAgfVxuICAgIHBvaW50c1syXS55ID0gcG9pbnRzWzNdLnkgPSAyO1xuICB9IGVsc2Uge1xuICAgIC8vIHZlcnRpY2FsIHdpcGUsIGJvdHRvbSB0byB0b3BcbiAgICBsZXQgeTAgPSAxIC0gcHJvZ3Jlc3MgKiAyOyAvLyB0b3Btb3N0IHlcbiAgICBsZXQgb2ZmcyA9IGNvcyh3aXBlX2FuZ2xlKSAvIFNRUlQxXzI7XG4gICAgbGV0IHkxID0geTAgKyBhYnMob2Zmcyk7IC8vIGJvdHRvbW1vc3QgeSxcbiAgICBpZiAob2ZmcyA+IDApIHtcbiAgICAgIHBvaW50c1syXS55ID0geTE7XG4gICAgICBwb2ludHNbM10ueSA9IHkwO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludHNbMl0ueSA9IHkwO1xuICAgICAgcG9pbnRzWzNdLnkgPSB5MTtcbiAgICB9XG4gICAgcG9pbnRzWzBdLnkgPSBwb2ludHNbMV0ueSA9IC0xO1xuICB9XG4gIC8vIGludGVycCBVVnMgYmFzZWQgb24gcG9pbnRzXG4gIHBvaW50c1swXS51ID0gbGVycChwb2ludHNbMF0ueCwgdXZzWzBdWzBdLCB1dnNbMV1bMF0pO1xuICBwb2ludHNbMV0udSA9IGxlcnAocG9pbnRzWzFdLngsIHV2c1swXVswXSwgdXZzWzFdWzBdKTtcbiAgcG9pbnRzWzJdLnUgPSBsZXJwKHBvaW50c1syXS54LCB1dnNbMF1bMF0sIHV2c1sxXVswXSk7XG4gIHBvaW50c1szXS51ID0gbGVycChwb2ludHNbM10ueCwgdXZzWzBdWzBdLCB1dnNbMV1bMF0pO1xuICBwb2ludHNbMF0udiA9IGxlcnAocG9pbnRzWzBdLnksIHV2c1swXVsxXSwgdXZzWzFdWzFdKTtcbiAgcG9pbnRzWzFdLnYgPSBsZXJwKHBvaW50c1sxXS55LCB1dnNbMF1bMV0sIHV2c1sxXVsxXSk7XG4gIHBvaW50c1syXS52ID0gbGVycChwb2ludHNbMl0ueSwgdXZzWzBdWzFdLCB1dnNbMV1bMV0pO1xuICBwb2ludHNbM10udiA9IGxlcnAocG9pbnRzWzNdLnksIHV2c1swXVsxXSwgdXZzWzFdWzFdKTtcblxuICBzcHJpdGVzLnF1ZXVlcmF3NChbdGV4XSxcbiAgICBwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnksIHBvaW50c1szXS54LCBwb2ludHNbM10ueSxcbiAgICBwb2ludHNbMl0ueCwgcG9pbnRzWzJdLnksIHBvaW50c1sxXS54LCBwb2ludHNbMV0ueSxcbiAgICB6LFxuICAgIHBvaW50c1swXS51LCBwb2ludHNbMF0udiwgcG9pbnRzWzJdLnUsIHBvaW50c1syXS52LFxuICAgIHVuaXRfdmVjLCAnYWxwaGFfbmVhcmVzdCcpO1xuXG4gIGlmIChmb3JjZV9lbmQgfHwgcHJvZ3Jlc3MgPT09IDEpIHtcbiAgICByZXR1cm4gUkVNT1ZFO1xuICB9XG4gIHJldHVybiBDT05USU5VRTtcbn1cblxuKi9cblxuZnVuY3Rpb24gZ2xvdlRyYW5zaXRpb25TcGxpdFNjcmVlbkZ1bmModGltZSwgYm9yZGVyX3dpZHRoLCBzbGlkZV93aW5kb3csIHosIHRleCwgbXNfc2luY2Vfc3RhcnQsIGZvcmNlX2VuZCkge1xuICBsZXQgYm9yZGVyX2NvbG9yID0gdmVjNCgxLCAxLCAxLCAxKTtcbiAgbGV0IHByb2dyZXNzID0gZWFzZU91dChtaW4obXNfc2luY2Vfc3RhcnQgLyB0aW1lLCAxKSwgMik7XG4gIGNhbWVyYTJkLnNldE5vcm1hbGl6ZWQoKTtcblxuICBsZXQgdXZzID0gW1swLDFdLCBbMSwwXV07XG5cbiAgbGV0IHhvZmZzID0gcHJvZ3Jlc3M7XG4gIGxldCB2X2hhbGYgPSB1dnNbMF1bMV0gKyAodXZzWzFdWzFdIC0gdXZzWzBdWzFdKSAvIDI7XG4gIGlmIChzbGlkZV93aW5kb3cpIHsgLy8gc2xpZGUgd2luZG93XG4gICAgc3ByaXRlcy5xdWV1ZXJhdyhbdGV4XSwgMCwgMCwgeiwgMSAtIHhvZmZzLCAxIC8gMixcbiAgICAgIDAsIHV2c1swXVsxXSwgdXZzWzFdWzBdICogKDEgLSBwcm9ncmVzcyksIHZfaGFsZixcbiAgICAgIHVuaXRfdmVjKTtcbiAgICBzcHJpdGVzLnF1ZXVlcmF3KFt0ZXhdLCAwICsgeG9mZnMsIDEgLyAyLCB6LCAxIC0geG9mZnMsIDEgLyAyLFxuICAgICAgdXZzWzFdWzBdICogcHJvZ3Jlc3MsIHZfaGFsZiwgdXZzWzFdWzBdLCB1dnNbMV1bMV0sXG4gICAgICB1bml0X3ZlYyk7XG4gIH0gZWxzZSB7IC8vIHNsaWRlIGltYWdlXG4gICAgc3ByaXRlcy5xdWV1ZXJhdyhbdGV4XSwgMCAtIHhvZmZzLCAwLCB6LCAxLCAxIC8gMixcbiAgICAgIHV2c1swXVswXSwgdXZzWzBdWzFdLCB1dnNbMV1bMF0sIHZfaGFsZixcbiAgICAgIHVuaXRfdmVjKTtcbiAgICBzcHJpdGVzLnF1ZXVlcmF3KFt0ZXhdLCAwICsgeG9mZnMsIDEgLyAyLCB6LCAxLCAxIC8gMixcbiAgICAgIHV2c1swXVswXSwgdl9oYWxmLCB1dnNbMV1bMF0sIHV2c1sxXVsxXSxcbiAgICAgIHVuaXRfdmVjKTtcbiAgfVxuICBsZXQgYm9yZGVyX2dyb3dfcHJvZ3Jlc3MgPSBtaW4ocHJvZ3Jlc3MgKiA0LCAxKTtcbiAgYm9yZGVyX2NvbG9yWzNdID0gYm9yZGVyX2dyb3dfcHJvZ3Jlc3M7XG4gIGJvcmRlcl93aWR0aCAqPSBib3JkZXJfZ3Jvd19wcm9ncmVzcztcbiAgLy8gVE9ETzogV291bGQgbG9vayBiZXR0ZXIgaWYgdGhlIGhvcml6b250YWwgYm9yZGVyIGdyZXcgZnJvbSB0aGUgbWlkZGxlIG91dCwgc28gdGhlIG92ZXJsYXBwaW5nIGJpdCBpcyBpZGVudGljYWxcbiAgLy8gb24gYm90aCBzaWRlc1xuICBnbG92X3VpLmRyYXdSZWN0KDAsIDAuNSAtIGJvcmRlcl93aWR0aCwgMSAtIHhvZmZzLCAwLjUsIHogKyAxLCBib3JkZXJfY29sb3IpO1xuICBnbG92X3VpLmRyYXdSZWN0KDEgLSB4b2ZmcyAtIGJvcmRlcl93aWR0aCwgMCwgMSAtIHhvZmZzLCAwLjUsIHogKyAxLCBib3JkZXJfY29sb3IpO1xuICBnbG92X3VpLmRyYXdSZWN0KHhvZmZzLCAwLjUsIDEsIDAuNSArIGJvcmRlcl93aWR0aCwgeiArIDEsIGJvcmRlcl9jb2xvcik7XG4gIGdsb3ZfdWkuZHJhd1JlY3QoeG9mZnMsIDAuNSwgeG9mZnMgKyBib3JkZXJfd2lkdGgsIDEsIHogKyAxLCBib3JkZXJfY29sb3IpO1xuXG4gIGlmIChmb3JjZV9lbmQgfHwgcHJvZ3Jlc3MgPT09IDEpIHtcbiAgICByZXR1cm4gUkVNT1ZFO1xuICB9XG4gIHJldHVybiBDT05USU5VRTtcbn1cblxuY29uc3QgcmVuZGVyX3NjYWxlID0gMTtcbmxldCB0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmVzID0gW251bGxdO1xuXG5mdW5jdGlvbiB0cmFuc2l0aW9uUGl4ZWxhdGVDYXB0dXJlKCkge1xuICBsZXQgdGV4ID0gZnJhbWVidWZmZXJFbmQoKTtcbiAgZnJhbWVidWZmZXJTdGFydCh7XG4gICAgd2lkdGg6IHRleC53aWR0aCxcbiAgICBoZWlnaHQ6IHRleC5oZWlnaHQsXG4gICAgZmluYWw6IGVmZmVjdHNJc0ZpbmFsKCksXG4gIH0pO1xuICB0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmVzWzBdID0gdGV4O1xufVxuXG5mdW5jdGlvbiBnbG92VHJhbnNpdGlvblBpeGVsYXRlRnVuYyh0aW1lLCB6LCB0ZXgsIG1zX3NpbmNlX3N0YXJ0LCBmb3JjZV9lbmQpIHtcbiAgLy9tc19zaW5jZV9zdGFydCAlPSB0aW1lO1xuICAvL2xldCB2aWV3cG9ydCA9IGdsb3ZfZW5naW5lLmdyYXBoaWNzX2RldmljZS5nZXRWaWV3cG9ydCgpO1xuICAvL2xldCBnZF93aWR0aCA9IHZpZXdwb3J0WzJdO1xuICBsZXQgZ2Rfd2lkdGggPSBnbG92X2VuZ2luZS53aWR0aDtcbiAgbGV0IHByb2dyZXNzID0gbWluKG1zX3NpbmNlX3N0YXJ0IC8gdGltZSwgMSk7XG4gIGNhbWVyYTJkLnNldE5vcm1hbGl6ZWQoKTtcblxuICB0cmFuc2l0aW9uX3BpeGVsYXRlX3RleHR1cmVzWzBdID0gdGV4O1xuICBpZiAocHJvZ3Jlc3MgPiAwLjUpIHtcbiAgICBlZmZlY3RzUXVldWUoeiwgdHJhbnNpdGlvblBpeGVsYXRlQ2FwdHVyZSk7IC8vIG1vZGlmaWVzIHRyYW5zaXRpb25fcGl4ZWxhdGVfdGV4dHVyZXNbXVxuICB9XG5cbiAgbGV0IHBhcnRpYWxfcHJvZ3Jlc3MgPSAocHJvZ3Jlc3MgPiAwLjUgPyAxIC0gcHJvZ3Jlc3MgOiBwcm9ncmVzcykgKiAyO1xuICAvLyBVc2UgcG93ZXIgb2YgdHdvIHNjYWxpbmdzLCBidXQgdGhlbiBzY2FsZSByZWxhdGl2ZSB0byBhIDEwMjRweCB2aXJ0dWFsIHNjcmVlbiwgc28gdGhlIGJpZ2dlc3RcbiAgLy8gIHBpeGVsIGlzIGFib3V0IHRoZSBzYW1lIHBlcmNlbnRhZ2Ugb2YgdGhlIHNjcmVlbiByZWdhcmRsZXNzIG9mIHJlc29sdXRpb24uXG4gIGxldCBwaXhlbF9zY2FsZSA9IHBvdygyLCBmbG9vcihwYXJ0aWFsX3Byb2dyZXNzICogOC45KSkgLyAxMDI0ICogZ2Rfd2lkdGggKiByZW5kZXJfc2NhbGU7XG5cbiAgbGV0IHBhcmFtMCA9IHZlYzQodGV4LndpZHRoIC8gcGl4ZWxfc2NhbGUsIHRleC5oZWlnaHQgLyBwaXhlbF9zY2FsZSxcbiAgICBwaXhlbF9zY2FsZSAvIHRleC53aWR0aCwgcGl4ZWxfc2NhbGUgLyB0ZXguaGVpZ2h0KTtcbiAgbGV0IHBhcmFtMSA9IHZlYzQoMC41IC8gdGV4LndpZHRoLCAwLjUgLyB0ZXguaGVpZ2h0LFxuICAgICh0ZXgudGV4U2l6ZVggLSAxKSAvIHRleC53aWR0aCwgKHRleC50ZXhTaXplWSAtIDEpIC8gdGV4LmhlaWdodCk7XG5cblxuICBzcHJpdGVzLnF1ZXVlcmF3KHRyYW5zaXRpb25fcGl4ZWxhdGVfdGV4dHVyZXMsIDAsIDAsIHogKyAxLCAxLCAxLFxuICAgIDAsIDEsIDEsIDAsXG4gICAgdW5pdF92ZWMsIGdldFNoYWRlcigndHJhbnNpdGlvbl9waXhlbGF0ZScpLCB7XG4gICAgICBwYXJhbTAsXG4gICAgICBwYXJhbTEsXG4gICAgfSk7XG5cbiAgaWYgKGZvcmNlX2VuZCB8fCBwcm9ncmVzcyA9PT0gMSkge1xuICAgIHJldHVybiBSRU1PVkU7XG4gIH1cbiAgcmV0dXJuIENPTlRJTlVFO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmFkZShmYWRlX3RpbWUpIHtcbiAgcmV0dXJuIGdsb3ZUcmFuc2l0aW9uRmFkZUZ1bmMuYmluZChudWxsLCBmYWRlX3RpbWUpO1xufVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gd2lwZSh3aXBlX3RpbWUsIHdpcGVfYW5nbGUpIHtcbi8vICAgcmV0dXJuIGdsb3ZUcmFuc2l0aW9uV2lwZUZ1bmMuYmluZChudWxsLCB3aXBlX3RpbWUsIHdpcGVfYW5nbGUpO1xuLy8gfVxuXG4vLyBib3JkZXJfd2lkdGggaW4gY2FtZXJhLXJlbGF0aXZlIHNpemVcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdFNjcmVlbih0aW1lLCBib3JkZXJfd2lkdGgsIHNsaWRlX3dpbmRvdykge1xuICBib3JkZXJfd2lkdGggLz0gY2FtZXJhMmQudygpOyAvLyBjb252ZXJ0IHRvIG5vcm1hbGl6ZWQgdW5pdHNcbiAgcmV0dXJuIGdsb3ZUcmFuc2l0aW9uU3BsaXRTY3JlZW5GdW5jLmJpbmQobnVsbCwgdGltZSwgYm9yZGVyX3dpZHRoLCBzbGlkZV93aW5kb3cpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGl4ZWxhdGUoZmFkZV90aW1lKSB7XG4gIHJldHVybiBnbG92VHJhbnNpdGlvblBpeGVsYXRlRnVuYy5iaW5kKG51bGwsIGZhZGVfdGltZSk7XG59XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBsb2dvWm9vbSh0aW1lLCBsb2dvKSB7XG4vLyAgIHJldHVybiBnbG92VHJhbnNpdGlvbkxvZ29ab29tRnVuYy5iaW5kKG51bGwsIHRpbWUsIGxvZ28pO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tVHJhbnNpdGlvbihmYWRlX3RpbWVfc2NhbGUpIHtcbiAgZmFkZV90aW1lX3NjYWxlID0gZmFkZV90aW1lX3NjYWxlIHx8IDE7XG4gIGxldCBpZHggPSBmbG9vcihyYW5kb20oKSAqIDMpO1xuICBzd2l0Y2ggKGlkeCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiBmYWRlKDUwMCAqIGZhZGVfdGltZV9zY2FsZSk7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHNwbGl0U2NyZWVuKDI1MCAqIGZhZGVfdGltZV9zY2FsZSwgMiwgZmFsc2UpO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBwaXhlbGF0ZSg3NTAgKiBmYWRlX3RpbWVfc2NhbGUpO1xuICAgIC8vIGNhc2UgMzpcbiAgICAvLyAgIHJldHVybiB3aXBlKDI1MCAqIGZhZGVfdGltZV9zY2FsZSwgcmFuZG9tKCkgKiAyICogUEkpO1xuICAgIC8vIGNhc2UgNDpcbiAgICAvLyAgIGlmICghbG9nbykge1xuICAgIC8vICAgICBHbG92VGV4dHVyZUxvYWRPcHRpb25zIG9wdGlvbnM7XG4gICAgLy8gICAgIG9wdGlvbnMuY2xhbXBfcyA9IG9wdGlvbnMuY2xhbXBfdCA9IHRydWU7XG4gICAgLy8gICAgIGxvZ28gPSBHbG92VGV4dHVyZXM6OmxvYWR0ZXgoXCJkYXRhL1NhbXBsZUxvZ29UcmFuc2l0aW9uLnBuZ1wiLCAmb3B0aW9ucyk7XG4gICAgLy8gICB9XG4gICAgLy8gICBnbG92VHJhbnNpdGlvblF1ZXVlKFpfVFJBTlNJVElPTl9GSU5BTCwgZ2xvdlRyYW5zaXRpb25Mb2dvWm9vbSg1MDAsIGxvZ28pKTtcbiAgICAvLyAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBhc3NlcnQoMCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLXVuZGVyc2NvcmUtZGFuZ2xlOm9mZiAqL1xuXG53aW5kb3cuWiA9IHdpbmRvdy5aIHx8IHt9O1xuWi5CT1JERVJTID0gWi5CT1JERVJTIHx8IDkwO1xuWi5VSSA9IFouVUkgfHwgMTAwO1xuWi5NT0RBTCA9IFouTU9EQUwgfHwgMTAwMDtcblouVE9PTFRJUCA9IFouVE9PTFRJUCB8fCAyMDAwO1xuWi5ERUJVRyA9IFouREVCVUcgfHwgOTgwMDtcblxuLy8gdmVyeSBoaWdoLCBidXQgY2FuIHN0aWxsIGFkZCBpbnRlZ2Vyc1xuWi5UUkFOU0lUSU9OX0ZJTkFMID0gWi5UUkFOU0lUSU9OX0ZJTkFMIHx8IDk5MDA7XG4vLyBob3cgbXVjaCBaIHJhbmdlIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgdHJhbnNpdGlvbnMgLSB0aGUgY2FwdHVyZSBoYXBwZW5zIGF0IHogKyBaX1RSQU5TSVRJT05fUkFOR0VcblouVFJBTlNJVElPTl9SQU5HRSA9IFouVFJBTlNJVElPTl9SQU5HRSB8fCAxMDtcblxuWi5GUFNNRVRFUiA9IFouRlBTTUVURVIgfHwgMTAwMDA7XG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2NhbWVyYTJkLmpzJyk7XG5jb25zdCBnbG92X2VkaXRfYm94ID0gcmVxdWlyZSgnLi9lZGl0X2JveC5qcycpO1xuY29uc3QgZWZmZWN0cyA9IHJlcXVpcmUoJy4vZWZmZWN0cy5qcycpO1xuY29uc3QgeyBlZmZlY3RzUXVldWUgfSA9IGVmZmVjdHM7XG5jb25zdCBnbG92X2VuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2ZvbnQuanMnKTtcbmNvbnN0IGdsb3ZfaW5wdXQgPSByZXF1aXJlKCcuL2lucHV0LmpzJyk7XG5jb25zdCB7IGxpbmtUaWNrIH0gPSByZXF1aXJlKCcuL2xpbmsuanMnKTtcbmNvbnN0IHsgYWJzLCBtYXgsIG1pbiwgcm91bmQsIHNxcnQgfSA9IE1hdGg7XG5jb25zdCB7IHNvdW5kTG9hZCwgc291bmRQbGF5IH0gPSByZXF1aXJlKCcuL3NvdW5kLmpzJyk7XG5jb25zdCBnbG92X3Nwcml0ZXMgPSByZXF1aXJlKCcuL3Nwcml0ZXMuanMnKTtcbmNvbnN0IHRleHR1cmVzID0gcmVxdWlyZSgnLi90ZXh0dXJlcy5qcycpO1xuY29uc3QgeyBjbGFtcCwgY2xvbmUsIGxlcnAsIG1lcmdlIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuY29uc3QgeyBtYXQ0MywgbTQzaWRlbnRpdHksIG00M211bCB9ID0gcmVxdWlyZSgnLi9tYXQ0My5qcycpO1xuY29uc3QgeyB2ZWMyLCB2ZWM0LCB2NHNjYWxlIH0gPSByZXF1aXJlKCcuL3ZtYXRoLmpzJyk7XG5cbmNvbnN0IE1PREFMX0RBUktFTiA9IDAuNzU7XG5sZXQgS0VZUztcbmxldCBQQUQ7XG5cbmNvbnN0IG1lbnVfZmFkZV9wYXJhbXNfZGVmYXVsdCA9IHtcbiAgYmx1cjogWzAuMTI1LCAwLjg2NV0sXG4gIHNhdHVyYXRpb246IFswLjUsIDAuMV0sXG4gIGJyaWdodG5lc3M6IFsxLCAxIC0gTU9EQUxfREFSS0VOXSxcbiAgZmFsbGJhY2tfZGFya2VuOiB2ZWM0KDAsIDAsIDAsIE1PREFMX0RBUktFTiksXG4gIHo6IFouTU9EQUwsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNsb2coLi4uYXJncykge1xuICAvLyBjb25zb2xlLmxvZyhgZm9jdXNsb2coJHtnbG92X2VuZ2luZS5mcmFtZV9pbmRleH0pOiBgLCAuLi5hcmdzKTtcbn1cblxubGV0IGNvbG9yX3NldF9zaGFkZXMgPSB2ZWM0KDEsIDAuOCwgMC43LCAwLjQpO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUNvbG9yU2V0KGNvbG9yKSB7XG4gIGxldCByZXQgPSB7XG4gICAgcmVndWxhcjogdmVjNCgpLFxuICAgIHJvbGxvdmVyOiB2ZWM0KCksXG4gICAgZG93bjogdmVjNCgpLFxuICAgIGRpc2FibGVkOiB2ZWM0KCksXG4gIH07XG4gIHY0c2NhbGUocmV0LnJlZ3VsYXIsIGNvbG9yLCBjb2xvcl9zZXRfc2hhZGVzWzBdKTtcbiAgdjRzY2FsZShyZXQucm9sbG92ZXIsIGNvbG9yLCBjb2xvcl9zZXRfc2hhZGVzWzFdKTtcbiAgdjRzY2FsZShyZXQuZG93biwgY29sb3IsIGNvbG9yX3NldF9zaGFkZXNbMl0pO1xuICB2NHNjYWxlKHJldC5kaXNhYmxlZCwgY29sb3IsIGNvbG9yX3NldF9zaGFkZXNbM10pO1xuICBmb3IgKGxldCBmaWVsZCBpbiByZXQpIHtcbiAgICByZXRbZmllbGRdWzNdID0gY29sb3JbM107XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxubGV0IGhvb2tzID0gW107XG5leHBvcnQgZnVuY3Rpb24gYWRkSG9vayhkcmF3LCBjbGljaykge1xuICBob29rcy5wdXNoKHtcbiAgICBkcmF3LFxuICAgIGNsaWNrLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gZG9CbHVyRWZmZWN0KGZhY3Rvcikge1xuICBlZmZlY3RzLmFwcGx5R2F1c3NpYW5CbHVyKHtcbiAgICBibHVyOiBmYWN0b3IsXG4gICAgLy8gbWluX3NpemU6IDEyOCxcbiAgfSk7XG59XG5cbmxldCBkZXNhdHVyYXRlX3hmb3JtID0gbWF0NDMoKTtcbmxldCBkZXNhdHVyYXRlX3RtcCA9IG1hdDQzKCk7XG5mdW5jdGlvbiBkb0Rlc2F0dXJhdGVFZmZlY3Qoc2F0dXJhdGlvbiwgYnJpZ2h0bmVzcykge1xuICBtNDNpZGVudGl0eShkZXNhdHVyYXRlX3hmb3JtKTtcblxuICBlZmZlY3RzLnNhdHVyYXRpb25NYXRyaXgoZGVzYXR1cmF0ZV90bXAsIHNhdHVyYXRpb24pO1xuICBtNDNtdWwoZGVzYXR1cmF0ZV94Zm9ybSwgZGVzYXR1cmF0ZV94Zm9ybSwgZGVzYXR1cmF0ZV90bXApO1xuXG4gIGVmZmVjdHMuYnJpZ2h0bmVzc1NjYWxlTWF0cml4KGRlc2F0dXJhdGVfdG1wLCBicmlnaHRuZXNzKTtcbiAgbTQzbXVsKGRlc2F0dXJhdGVfeGZvcm0sIGRlc2F0dXJhdGVfeGZvcm0sIGRlc2F0dXJhdGVfdG1wKTtcblxuICAvLyBpZiAoKGh1ZSAlIChNYXRoLlBJICogMikpICE9PSAwKSB7XG4gIC8vICAgZWZmZWN0cy5odWVNYXRyaXgodG1wLCBodWUpO1xuICAvLyAgIG00M211bCh4Zm9ybSwgeGZvcm0sIHRtcCk7XG4gIC8vIH1cbiAgLy8gaWYgKGNvbnRyYXN0ICE9PSAxKSB7XG4gIC8vICAgZWZmZWN0cy5jb250cmFzdE1hdHJpeCh0bXAsIGNvbnRyYXN0KTtcbiAgLy8gICBtNDNtdWwoeGZvcm0sIHhmb3JtLCB0bXApO1xuICAvLyB9XG4gIC8vIGlmIChicmlnaHRuZXNzICE9PSAwKSB7XG4gIC8vICAgZWZmZWN0cy5icmlnaHRuZXNzTWF0cml4KHRtcCwgYnJpZ2h0bmVzcyk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAoYWRkaXRpdmVSR0JbMF0gIT09IDAgfHwgYWRkaXRpdmVSR0JbMV0gIT09IDAgfHwgYWRkaXRpdmVSR0JbMl0gIT09IDApIHtcbiAgLy8gICBlZmZlY3RzLmFkZGl0aXZlTWF0cml4KHRtcCwgYWRkaXRpdmVSR0IpO1xuICAvLyAgIG00M211bCh4Zm9ybSwgeGZvcm0sIHRtcCk7XG4gIC8vIH1cbiAgLy8gaWYgKGdyYXlzY2FsZSkge1xuICAvLyAgIGVmZmVjdHMuZ3JheVNjYWxlTWF0cml4KHRtcCk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAobmVnYXRpdmUpIHtcbiAgLy8gICBlZmZlY3RzLm5lZ2F0aXZlTWF0cml4KHRtcCk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICAvLyBpZiAoc2VwaWEpIHtcbiAgLy8gICBlZmZlY3RzLnNlcGlhTWF0cml4KHRtcCk7XG4gIC8vICAgbTQzbXVsKHhmb3JtLCB4Zm9ybSwgdG1wKTtcbiAgLy8gfVxuICBlZmZlY3RzLmFwcGx5Q29sb3JNYXRyaXgoe1xuICAgIGNvbG9yTWF0cml4OiBkZXNhdHVyYXRlX3hmb3JtLFxuICB9KTtcbn1cblxuLy8gb3ZlcnJpZGVhYmxlIGRlZmF1bHQgcGFyYW1ldGVyc1xuZXhwb3J0IGxldCBidXR0b25faGVpZ2h0ID0gMzI7XG5leHBvcnQgbGV0IGZvbnRfaGVpZ2h0ID0gMjQ7XG5leHBvcnQgbGV0IGJ1dHRvbl93aWR0aCA9IDIwMDtcbmV4cG9ydCBsZXQgbW9kYWxfYnV0dG9uX3dpZHRoID0gMTAwO1xuZXhwb3J0IGxldCBidXR0b25faW1nX3NpemUgPSBidXR0b25faGVpZ2h0O1xuZXhwb3J0IGxldCBtb2RhbF93aWR0aCA9IDYwMDtcbmV4cG9ydCBsZXQgbW9kYWxfeTAgPSAyMDA7XG5leHBvcnQgbGV0IG1vZGFsX3RpdGxlX3NjYWxlID0gMS4yO1xuZXhwb3J0IGxldCBtb2RhbF9wYWQgPSAxNjtcbmV4cG9ydCBsZXQgcGFuZWxfcGl4ZWxfc2NhbGUgPSAzMiAvIDEzOyAvLyBidXR0b25faGVpZ2h0IC8gYnV0dG9uIHBpeGVsIHJlc29sdXRpb25cbmV4cG9ydCBsZXQgdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSA9IHBhbmVsX3BpeGVsX3NjYWxlO1xuZXhwb3J0IGxldCB0b29sdGlwX3dpZHRoID0gNDAwO1xuZXhwb3J0IGxldCB0b29sdGlwX3BhZCA9IDg7XG5cbmV4cG9ydCBsZXQgZm9udF9zdHlsZV9mb2N1c2VkID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgY29sb3I6IDB4MDAwMDAwZmYsXG4gIG91dGxpbmVfd2lkdGg6IDIsXG4gIG91dGxpbmVfY29sb3I6IDB4RkZGRkZGZmYsXG59KTtcbmV4cG9ydCBsZXQgZm9udF9zdHlsZV9ub3JtYWwgPSBnbG92X2ZvbnQuc3R5bGVDb2xvcmVkKG51bGwsIDB4MDAwMDAwZmYpO1xuXG5leHBvcnQgbGV0IGZvbnQ7XG5leHBvcnQgbGV0IHRpdGxlX2ZvbnQ7XG5leHBvcnQgbGV0IHNwcml0ZXMgPSB7fTtcblxuZXhwb3J0IGxldCBjb2xvcl9idXR0b24gPSBtYWtlQ29sb3JTZXQoWzEsMSwxLDFdKTtcbmV4cG9ydCBsZXQgY29sb3JfcGFuZWwgPSB2ZWM0KDEsIDEsIDAuNzUsIDEpO1xuZXhwb3J0IGxldCBtb2RhbF9mb250X3N0eWxlID0gZ2xvdl9mb250LnN0eWxlQ29sb3JlZChudWxsLCAweDAwMDAwMGZmKTtcblxubGV0IHNvdW5kcyA9IHt9O1xuZXhwb3J0IGxldCBidXR0b25fbW91c2VvdmVyID0gZmFsc2U7IC8vIGZvciBjYWxsZXJzIHRvIHBvbGwgdGhlIHZlcnkgbGFzdCBidXR0b25cbmV4cG9ydCBsZXQgYnV0dG9uX2ZvY3VzZWQgPSBmYWxzZTsgLy8gZm9yIGNhbGxlcnMgdG8gcG9sbCB0aGUgdmVyeSBsYXN0IGJ1dHRvblxuZXhwb3J0IGxldCBidXR0b25fY2xpY2sgPSBudWxsOyAvLyBvbiBjbGljaywgZm9yIGNhbGxlcnMgdG8gcG9sbCB3aGljaCBtb3VzZSBidXR0b24sIGV0Y1xuZXhwb3J0IGxldCB0b3VjaF9jaGFuZ2VkX2ZvY3VzID0gZmFsc2U7IC8vIGRpZCBhIHRvdWNoIGV2ZW4gdGhpcyBmcmFtZSBjaGFuZ2UgZm9jdXM/XG4vLyBGb3IgdHJhY2tpbmcgZ2xvYmFsIG1vdXNlb3ZlciBzdGF0ZVxubGV0IGxhc3RfZnJhbWVfYnV0dG9uX21vdXNlb3ZlciA9IGZhbHNlO1xubGV0IGZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgPSBmYWxzZTtcblxubGV0IG1vZGFsX2RpYWxvZyA9IG51bGw7XG5sZXQgbW9kYWxfc3RlYWxpbmdfZm9jdXMgPSBmYWxzZTtcbmV4cG9ydCBsZXQgbWVudV91cCA9IGZhbHNlOyAvLyBCb29sZWFuIHRvIGJlIHNldCBieSBhcHAgdG8gaW1wYWN0IGJlaGF2aW9yLCBzaW1pbGFyIHRvIGEgbW9kYWxcbmxldCBtZW51X2ZhZGVfcGFyYW1zID0gbWVyZ2Uoe30sIG1lbnVfZmFkZV9wYXJhbXNfZGVmYXVsdCk7XG5sZXQgbWVudV91cF90aW1lID0gMDtcblxuZXhwb3J0cy50aGlzX2ZyYW1lX2VkaXRfYm94ZXMgPSBbXTtcbmxldCBsYXN0X2ZyYW1lX2VkaXRfYm94ZXMgPSBbXTtcbmxldCBkb21fZWxlbXMgPSBbXTtcbmxldCBkb21fZWxlbXNfaXNzdWVkID0gMDtcblxuLy8gZm9yIG1vZGFsIGRpYWxvZ3NcbmxldCBidXR0b25fa2V5cztcblxubGV0IGZvY3VzZWRfbGFzdF9mcmFtZTtcbmxldCBmb2N1c2VkX3RoaXNfZnJhbWU7XG5sZXQgZm9jdXNlZF9rZXlfbm90O1xubGV0IGZvY3VzZWRfa2V5O1xubGV0IGZvY3VzZWRfa2V5X3ByZXYxO1xubGV0IGZvY3VzZWRfa2V5X3ByZXYyO1xuXG5sZXQgcGFkX2ZvY3VzX2xlZnQ7XG5sZXQgcGFkX2ZvY3VzX3JpZ2h0O1xuXG5leHBvcnQgZnVuY3Rpb24gY29sb3JTZXRTZXRTaGFkZXMocm9sbG92ZXIsIGRvd24sIGRpc2FibGVkKSB7XG4gIGNvbG9yX3NldF9zaGFkZXNbMV0gPSByb2xsb3ZlcjtcbiAgY29sb3Jfc2V0X3NoYWRlc1syXSA9IGRvd247XG4gIGNvbG9yX3NldF9zaGFkZXNbM10gPSBkaXNhYmxlZDtcbiAgY29sb3JfYnV0dG9uID0gbWFrZUNvbG9yU2V0KFsxLDEsMSwxXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkVUlTcHJpdGUobmFtZSwgd3MsIGhzLCBvdmVycmlkZXMsIG9ubHlfb3ZlcnJpZGUpIHtcbiAgbGV0IG92ZXJyaWRlID0gb3ZlcnJpZGVzICYmIG92ZXJyaWRlc1tuYW1lXTtcbiAgaWYgKG92ZXJyaWRlID09PSBudWxsKSB7XG4gICAgLy8gc2tpcCBpdCwgYXNzdW1lIG5vdCB1c2VkXG4gIH0gZWxzZSBpZiAob3ZlcnJpZGUpIHtcbiAgICBzcHJpdGVzW25hbWVdID0gZ2xvdl9zcHJpdGVzLmNyZWF0ZSh7XG4gICAgICBuYW1lOiBvdmVycmlkZVswXSxcbiAgICAgIHdzOiBvdmVycmlkZVsxXSxcbiAgICAgIGhzOiBvdmVycmlkZVsyXSxcbiAgICB9KTtcbiAgfSBlbHNlIGlmICghb25seV9vdmVycmlkZSkge1xuICAgIHNwcml0ZXNbbmFtZV0gPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHtcbiAgICAgIG5hbWU6IGB1aS8ke25hbWV9YCxcbiAgICAgIHdzLFxuICAgICAgaHMsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXAocGFyYW0pIHtcbiAgZm9udCA9IHBhcmFtLmZvbnQ7XG4gIHRpdGxlX2ZvbnQgPSBwYXJhbS50aXRsZV9mb250IHx8IGZvbnQ7XG4gIGxldCBvdmVycmlkZXMgPSBwYXJhbS51aV9zcHJpdGVzO1xuICBLRVlTID0gZ2xvdl9pbnB1dC5LRVlTO1xuICBQQUQgPSBnbG92X2lucHV0LlBBRDtcbiAgaWYgKHBhcmFtLnBhZF9mb2N1c19kcGFkKSB7XG4gICAgcGFkX2ZvY3VzX2xlZnQgPSBQQUQuTEVGVDtcbiAgICBwYWRfZm9jdXNfcmlnaHQgPSBQQUQuUklHSFQ7XG4gIH0gZWxzZSB7XG4gICAgcGFkX2ZvY3VzX2xlZnQgPSBQQUQuTEVGVF9CVU1QRVI7XG4gICAgcGFkX2ZvY3VzX3JpZ2h0ID0gUEFELlJJR0hUX0JVTVBFUjtcbiAgfVxuXG4gIGxvYWRVSVNwcml0ZSgnYnV0dG9uJywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBzcHJpdGVzLmJ1dHRvbl9yZWd1bGFyID0gc3ByaXRlcy5idXR0b247XG4gIGxvYWRVSVNwcml0ZSgnYnV0dG9uX3JvbGxvdmVyJywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMsIHRydWUpO1xuICBsb2FkVUlTcHJpdGUoJ2J1dHRvbl9kb3duJywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ2J1dHRvbl9kaXNhYmxlZCcsIFs0LCA1LCA0XSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdwYW5lbCcsIFszLCAyLCAzXSwgWzMsIDEwLCAzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdtZW51X2VudHJ5JywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ21lbnVfc2VsZWN0ZWQnLCBbNCwgNSwgNF0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnbWVudV9kb3duJywgWzQsIDUsIDRdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ21lbnVfaGVhZGVyJywgWzQsIDUsIDEyXSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdzbGlkZXInLCBbNiwgMiwgNl0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIC8vIGxvYWRVSVNwcml0ZSgnc2xpZGVyX25vdGNoJywgWzNdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3NsaWRlcl9oYW5kbGUnLCBbOV0sIFsxM10sIG92ZXJyaWRlcyk7XG5cbiAgbG9hZFVJU3ByaXRlKCdzY3JvbGxiYXJfYm90dG9tJywgWzExXSwgWzEzXSwgb3ZlcnJpZGVzKTtcbiAgbG9hZFVJU3ByaXRlKCdzY3JvbGxiYXJfdHJvdWdoJywgWzExXSwgWzhdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3Njcm9sbGJhcl90b3AnLCBbMTFdLCBbMTNdLCBvdmVycmlkZXMpO1xuICBsb2FkVUlTcHJpdGUoJ3Njcm9sbGJhcl9oYW5kbGVfZ3JhYmJlcicsIFsxMV0sIFsxM10sIG92ZXJyaWRlcyk7XG4gIGxvYWRVSVNwcml0ZSgnc2Nyb2xsYmFyX2hhbmRsZScsIFsxMV0sIFszLCA3LCAzXSwgb3ZlcnJpZGVzKTtcblxuICBzcHJpdGVzLndoaXRlID0gZ2xvdl9zcHJpdGVzLmNyZWF0ZSh7IHVybDogJ3doaXRlJyB9KTtcblxuICBidXR0b25fa2V5cyA9IHtcbiAgICBvazogeyBrZXk6IFtLRVlTLk9dLCBwYWQ6IFtQQUQuWF0sIGxvd19rZXk6IFtLRVlTLkVTQ10gfSxcbiAgICBjYW5jZWw6IHsga2V5OiBbS0VZUy5FU0NdLCBwYWQ6IFtQQUQuQiwgUEFELlldIH0sXG4gIH07XG4gIGJ1dHRvbl9rZXlzLnllcyA9IGNsb25lKGJ1dHRvbl9rZXlzLm9rKTtcbiAgYnV0dG9uX2tleXMueWVzLmtleS5wdXNoKEtFWVMuWSk7XG4gIGJ1dHRvbl9rZXlzLm5vID0gY2xvbmUoYnV0dG9uX2tleXMuY2FuY2VsKTtcbiAgYnV0dG9uX2tleXMubm8ua2V5LnB1c2goS0VZUy5OKTtcbn1cblxubGV0IGR5bmFtaWNfdGV4dF9lbGVtO1xubGV0IHBlcl9mcmFtZV9kb21fYWxsb2MgPSBbMCwwLDAsMCwwLDAsMF07XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbShhbGxvd19tb2RhbCwgbGFzdF9lbGVtKSB7XG4gIGlmIChtb2RhbF9kaWFsb2cgJiYgIWFsbG93X21vZGFsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGRvbV9lbGVtc19pc3N1ZWQgPj0gZG9tX2VsZW1zLmxlbmd0aCB8fCAhbGFzdF9lbGVtKSB7XG4gICAgbGV0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBpZiAoZ2xvdl9lbmdpbmUuREVCVUcgJiYgIWdsb3ZfZW5naW5lLnJlc2l6aW5nKCkpIHtcbiAgICAgIHBlcl9mcmFtZV9kb21fYWxsb2NbZ2xvdl9lbmdpbmUuZnJhbWVfaW5kZXggJSBwZXJfZnJhbWVfZG9tX2FsbG9jLmxlbmd0aF0gPSAxO1xuICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcGVyX2ZyYW1lX2RvbV9hbGxvYy5sZW5ndGg7ICsraWkpIHtcbiAgICAgICAgc3VtICs9IHBlcl9mcmFtZV9kb21fYWxsb2NbaWldO1xuICAgICAgfVxuICAgICAgYXNzZXJ0KHN1bSA8IHBlcl9mcmFtZV9kb21fYWxsb2MubGVuZ3RoKTtcbiAgICB9XG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2dsb3Z1aV9keW5hbWljJyk7XG4gICAgaWYgKCFkeW5hbWljX3RleHRfZWxlbSkge1xuICAgICAgZHluYW1pY190ZXh0X2VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pY190ZXh0Jyk7XG4gICAgfVxuICAgIGR5bmFtaWNfdGV4dF9lbGVtLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIGRvbV9lbGVtcy5wdXNoKGVsZW0pO1xuICAgIGxhc3RfZWxlbSA9IGVsZW07XG4gIH1cbiAgaWYgKGRvbV9lbGVtc1tkb21fZWxlbXNfaXNzdWVkXSAhPT0gbGFzdF9lbGVtKSB7XG4gICAgZm9yIChsZXQgaWkgPSBkb21fZWxlbXNfaXNzdWVkICsgMTsgaWkgPCBkb21fZWxlbXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBpZiAoZG9tX2VsZW1zW2lpXSA9PT0gbGFzdF9lbGVtKSB7XG4gICAgICAgIGRvbV9lbGVtc1tpaV0gPSBkb21fZWxlbXNbZG9tX2VsZW1zX2lzc3VlZF07XG4gICAgICAgIGRvbV9lbGVtc1tkb21fZWxlbXNfaXNzdWVkXSA9IGxhc3RfZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGVsZW0gPSBkb21fZWxlbXNbZG9tX2VsZW1zX2lzc3VlZF07XG4gIGRvbV9lbGVtc19pc3N1ZWQrKztcbiAgcmV0dXJuIGVsZW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU291bmRzKF9zb3VuZHMpIHtcbiAgc291bmRzID0gX3NvdW5kcztcbiAgZm9yIChsZXQga2V5IGluIHNvdW5kcykge1xuICAgIHNvdW5kTG9hZChzb3VuZHNba2V5XSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdIQm94KGNvb3JkcywgcywgY29sb3IpIHtcbiAgbGV0IHVpZGF0YSA9IHMudWlkYXRhO1xuICBsZXQgd3MgPSBbdWlkYXRhLndoWzBdICogY29vcmRzLmgsIDAsIHVpZGF0YS53aFsyXSAqIGNvb3Jkcy5oXTtcbiAgbGV0IHggPSBjb29yZHMueDtcbiAgd3NbMV0gPSBtYXgoMCwgY29vcmRzLncgLSB3c1swXSAtIHdzWzJdKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHdzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBteV93ID0gd3NbaWldO1xuICAgIHMuZHJhdyh7XG4gICAgICB4LFxuICAgICAgeTogY29vcmRzLnksXG4gICAgICB6OiBjb29yZHMueixcbiAgICAgIGNvbG9yLFxuICAgICAgdzogbXlfdyxcbiAgICAgIGg6IGNvb3Jkcy5oLFxuICAgICAgdXZzOiB1aWRhdGEucmVjdHNbaWldLFxuICAgICAgLy8gbm96b29tOiB0cnVlLCAvLyBub3pvb20gc2luY2UgZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBib3ggZ2V0IHpvb21lZCBkaWZmZXJlbnRseVxuICAgIH0pO1xuICAgIHggKz0gbXlfdztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1ZCb3goY29vcmRzLCBzLCBjb2xvcikge1xuICBsZXQgdWlkYXRhID0gcy51aWRhdGE7XG4gIGxldCBocyA9IFt1aWRhdGEuaHdbMF0gKiBjb29yZHMudywgMCwgdWlkYXRhLmh3WzJdICogY29vcmRzLnddO1xuICBsZXQgeSA9IGNvb3Jkcy55O1xuICBoc1sxXSA9IG1heCgwLCBjb29yZHMuaCAtIGhzWzBdIC0gaHNbMl0pO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaHMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IG15X2ggPSBoc1tpaV07XG4gICAgcy5kcmF3KHtcbiAgICAgIHg6IGNvb3Jkcy54LFxuICAgICAgeSxcbiAgICAgIHo6IGNvb3Jkcy56LFxuICAgICAgY29sb3IsXG4gICAgICB3OiBjb29yZHMudyxcbiAgICAgIGg6IG15X2gsXG4gICAgICB1dnM6IHVpZGF0YS5yZWN0c1tpaV0sXG4gICAgICAvLyBub3pvb206IHRydWUsIC8vIG5vem9vbSBzaW5jZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGJveCBnZXQgem9vbWVkIGRpZmZlcmVudGx5XG4gICAgfSk7XG4gICAgeSArPSBteV9oO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3Qm94KGNvb3JkcywgcywgcGl4ZWxfc2NhbGUsIGNvbG9yKSB7XG4gIGxldCB1aWRhdGEgPSBzLnVpZGF0YTtcbiAgbGV0IHNjYWxlID0gcGl4ZWxfc2NhbGU7XG4gIGxldCB3cyA9IFt1aWRhdGEud2lkdGhzWzBdICogc2NhbGUsIDAsIHVpZGF0YS53aWR0aHNbMl0gKiBzY2FsZV07XG4gIHdzWzFdID0gbWF4KDAsIGNvb3Jkcy53IC0gd3NbMF0gLSB3c1syXSk7XG4gIGxldCBocyA9IFt1aWRhdGEuaGVpZ2h0c1swXSAqIHNjYWxlLCAwLCB1aWRhdGEuaGVpZ2h0c1syXSAqIHNjYWxlXTtcbiAgaHNbMV0gPSBtYXgoMCwgY29vcmRzLmggLSBoc1swXSAtIGhzWzJdKTtcbiAgbGV0IHggPSBjb29yZHMueDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHdzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBteV93ID0gd3NbaWldO1xuICAgIGlmIChteV93KSB7XG4gICAgICBsZXQgeSA9IGNvb3Jkcy55O1xuICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IGhzLmxlbmd0aDsgKytqaikge1xuICAgICAgICBsZXQgbXlfaCA9IGhzW2pqXTtcbiAgICAgICAgaWYgKG15X2gpIHtcbiAgICAgICAgICBzLmRyYXcoe1xuICAgICAgICAgICAgeCwgeSwgejogY29vcmRzLnosXG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgIHc6IG15X3csXG4gICAgICAgICAgICBoOiBteV9oLFxuICAgICAgICAgICAgdXZzOiB1aWRhdGEucmVjdHNbamogKiAzICsgaWldLFxuICAgICAgICAgICAgbm96b29tOiB0cnVlLCAvLyBub3pvb20gc2luY2UgZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBib3ggZ2V0IHpvb21lZCBkaWZmZXJlbnRseVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHkgKz0gbXlfaDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgeCArPSBteV93O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGxheVVJU291bmQobmFtZSwgdm9sdW1lKSB7XG4gIGlmIChuYW1lID09PSAnc2VsZWN0Jykge1xuICAgIG5hbWUgPSAnYnV0dG9uX2NsaWNrJztcbiAgfVxuICBpZiAoc291bmRzW25hbWVdKSB7XG4gICAgc291bmRQbGF5KHNvdW5kc1tuYW1lXSwgdm9sdW1lKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TW91c2VPdmVyKGtleSwgcXVpZXQpIHtcbiAgaWYgKGxhc3RfZnJhbWVfYnV0dG9uX21vdXNlb3ZlciAhPT0ga2V5ICYmIGZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgIT09IGtleSAmJiAhcXVpZXQpIHtcbiAgICBwbGF5VUlTb3VuZCgncm9sbG92ZXInKTtcbiAgfVxuICBmcmFtZV9idXR0b25fbW91c2VvdmVyID0ga2V5O1xuICBidXR0b25fbW91c2VvdmVyID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzU3RlYWwoa2V5KSB7XG4gIGlmIChrZXkgIT09IGZvY3VzZWRfa2V5KSB7XG4gICAgZm9jdXNsb2coJ2ZvY3VzU3RlYWwgJywga2V5KTtcbiAgfVxuICBmb2N1c2VkX3RoaXNfZnJhbWUgPSB0cnVlO1xuICBmb2N1c2VkX2tleSA9IGtleTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzQ2FudmFzKCkge1xuICBmb2N1c1N0ZWFsKCdjYW52YXMnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9jdXNlZFBlZWsoa2V5KSB7XG4gIHJldHVybiBmb2N1c2VkX2tleSA9PT0ga2V5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9jdXNlZChrZXkpIHtcbiAgaWYgKGtleSAhPT0gZm9jdXNlZF9rZXlfcHJldjIpIHtcbiAgICBmb2N1c2VkX2tleV9wcmV2MSA9IGZvY3VzZWRfa2V5X3ByZXYyO1xuICAgIGZvY3VzZWRfa2V5X3ByZXYyID0ga2V5O1xuICB9XG4gIGlmIChrZXkgPT09IGZvY3VzZWRfa2V5IHx8IGtleSAhPT0gZm9jdXNlZF9rZXlfbm90ICYmICFmb2N1c2VkX3RoaXNfZnJhbWUgJiZcbiAgICAhZm9jdXNlZF9sYXN0X2ZyYW1lXG4gICkge1xuICAgIGlmIChrZXkgIT09IGZvY3VzZWRfa2V5KSB7XG4gICAgICBmb2N1c2xvZygnaXNGb2N1c2VkLT5mb2N1c1N0ZWFsJyk7XG4gICAgfVxuICAgIGZvY3VzU3RlYWwoa2V5KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c05leHQoa2V5KSB7XG4gIGZvY3VzbG9nKCdmb2N1c05leHQgJywga2V5KTtcbiAgcGxheVVJU291bmQoJ3JvbGxvdmVyJyk7XG4gIGZvY3VzZWRfa2V5ID0gbnVsbDtcbiAgZm9jdXNlZF9sYXN0X2ZyYW1lID0gZm9jdXNlZF90aGlzX2ZyYW1lID0gZmFsc2U7XG4gIGZvY3VzZWRfa2V5X25vdCA9IGtleTtcbiAgLy8gRWF0IGlucHV0IGV2ZW50cyBzbyBhIHBhaXIgb2Yga2V5cyAoZS5nLiBTRExLX0RPV04gYW5kIFNETEtfQ09OVFJPTExFUl9ET1dOKVxuICAvLyBkb24ndCBnZXQgY29uc3VtZWQgYnkgdHdvIHNlcGFyYXRlIHdpZGdldHNcbiAgZ2xvdl9pbnB1dC5lYXRBbGxJbnB1dCh0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzUHJldihrZXkpIHtcbiAgZm9jdXNsb2coJ2ZvY3VzUHJldiAnLCBrZXkpO1xuICBwbGF5VUlTb3VuZCgncm9sbG92ZXInKTtcbiAgaWYgKGtleSA9PT0gZm9jdXNlZF9rZXlfcHJldjIpIHtcbiAgICBmb2N1c1N0ZWFsKGZvY3VzZWRfa2V5X3ByZXYxKTtcbiAgfSBlbHNlIHtcbiAgICBmb2N1c1N0ZWFsKGZvY3VzZWRfa2V5X3ByZXYyKTtcbiAgfVxuICBnbG92X2lucHV0LmVhdEFsbElucHV0KHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNDaGVjayhrZXkpIHtcbiAgaWYgKG1vZGFsX3N0ZWFsaW5nX2ZvY3VzKSB7XG4gICAgLy8gaGlkZGVuIGJ5IG1vZGFsLCBldGNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gUmV0dXJucyB0cnVlIGV2ZW4gaWYgZm9jdXNpbmcgcHJldmlvdXMgZWxlbWVudCwgc2luY2UgZm9yIHRoaXMgZnJhbWUsIHdlIGFyZSBzdGlsbCBlZmZlY3RpdmVseSBmb2N1c2VkIVxuICBsZXQgZm9jdXNlZCA9IGlzRm9jdXNlZChrZXkpO1xuICBpZiAoZm9jdXNlZCkge1xuICAgIGlmIChnbG92X2lucHV0LmtleURvd25FZGdlKEtFWVMuVEFCKSkge1xuICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bihLRVlTLlNISUZUKSkge1xuICAgICAgICBmb2N1c1ByZXYoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvY3VzTmV4dChrZXkpO1xuICAgICAgICBmb2N1c2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKHBhZF9mb2N1c19yaWdodCkpIHtcbiAgICAgIGZvY3VzTmV4dChrZXkpO1xuICAgICAgZm9jdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZ2xvdl9pbnB1dC5wYWRCdXR0b25Eb3duRWRnZShwYWRfZm9jdXNfbGVmdCkpIHtcbiAgICAgIGZvY3VzUHJldihrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm9jdXNlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhbmVsKHBhcmFtKSB7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueCA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnkgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS53ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0uaCA9PT0gJ251bWJlcicpO1xuICBwYXJhbS56ID0gcGFyYW0ueiB8fCAoWi5VSSAtIDEpO1xuICBsZXQgY29sb3IgPSBwYXJhbS5jb2xvciB8fCBjb2xvcl9wYW5lbDtcbiAgZHJhd0JveChwYXJhbSwgc3ByaXRlcy5wYW5lbCwgcGFyYW0ucGl4ZWxfc2NhbGUgfHwgcGFuZWxfcGl4ZWxfc2NhbGUsIGNvbG9yKTtcbiAgZ2xvdl9pbnB1dC5jbGljayhwYXJhbSk7XG4gIGdsb3ZfaW5wdXQubW91c2VPdmVyKHBhcmFtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUb29sdGlwKHBhcmFtKSB7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueCA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnkgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS50b29sdGlwID09PSAnc3RyaW5nJyk7XG5cbiAgbGV0IHRvb2x0aXBfdyA9IHBhcmFtLnRvb2x0aXBfd2lkdGggfHwgdG9vbHRpcF93aWR0aDtcbiAgbGV0IHggPSBwYXJhbS54O1xuICBpZiAoeCArIHRvb2x0aXBfdyA+IGNhbWVyYTJkLngxKCkpIHtcbiAgICB4ID0gY2FtZXJhMmQueDEoKSAtIHRvb2x0aXBfdztcbiAgfVxuICBsZXQgeiA9IHBhcmFtLnogfHwgWi5UT09MVElQO1xuICBsZXQgdG9vbHRpcF95MCA9IHBhcmFtLnk7XG4gIGxldCBlZmZfdG9vbHRpcF9wYWQgPSBwYXJhbS50b29sdGlwX3BhZCB8fCB0b29sdGlwX3BhZDtcbiAgbGV0IHcgPSB0b29sdGlwX3cgLSBlZmZfdG9vbHRpcF9wYWQgKiAyO1xuICBpZiAocGFyYW0udG9vbHRpcF9hYm92ZSkge1xuICAgIHRvb2x0aXBfeTAgLT0gZm9udF9oZWlnaHQgKiBmb250Lm51bUxpbmVzKG1vZGFsX2ZvbnRfc3R5bGUsIHcsIDAsIGZvbnRfaGVpZ2h0LCBwYXJhbS50b29sdGlwKSArIGVmZl90b29sdGlwX3BhZCAqIDI7XG4gIH1cbiAgbGV0IHkgPSB0b29sdGlwX3kwICsgZWZmX3Rvb2x0aXBfcGFkO1xuICB5ICs9IGZvbnQuZHJhd1NpemVkV3JhcHBlZChtb2RhbF9mb250X3N0eWxlLFxuICAgIHggKyBlZmZfdG9vbHRpcF9wYWQsIHksIHorMSwgdywgMCwgZm9udF9oZWlnaHQsXG4gICAgcGFyYW0udG9vbHRpcCk7XG4gIHkgKz0gZWZmX3Rvb2x0aXBfcGFkO1xuICBsZXQgcGl4ZWxfc2NhbGUgPSBwYXJhbS5waXhlbF9zY2FsZSB8fCB0b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlO1xuXG4gIHBhbmVsKHtcbiAgICB4LFxuICAgIHk6IHRvb2x0aXBfeTAsXG4gICAgeixcbiAgICB3OiB0b29sdGlwX3csXG4gICAgaDogeSAtIHRvb2x0aXBfeTAsXG4gICAgcGl4ZWxfc2NhbGUsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tIb29rcyhwYXJhbSwgY2xpY2spIHtcbiAgaWYgKHBhcmFtLmhvb2spIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaG9va3MubGVuZ3RoOyArK2lpKSB7XG4gICAgICBpZiAoY2xpY2spIHtcbiAgICAgICAgaG9va3NbaWldLmNsaWNrKHBhcmFtKTtcbiAgICAgIH1cbiAgICAgIGhvb2tzW2lpXS5kcmF3KHBhcmFtKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmV4cG9ydCBmdW5jdGlvbiBidXR0b25TaGFyZWQocGFyYW0pIHtcbiAgcGFyYW0ueiA9IHBhcmFtLnogfHwgWi5VSTtcbiAgbGV0IHN0YXRlID0gJ3JlZ3VsYXInO1xuICBsZXQgcmV0ID0gZmFsc2U7XG4gIGlmIChwYXJhbS5kcmF3X29ubHkpIHtcbiAgICByZXR1cm4geyByZXQsIHN0YXRlIH07XG4gIH1cbiAgbGV0IGtleSA9IHBhcmFtLmtleSB8fCBgJHtwYXJhbS54fV8ke3BhcmFtLnl9YDtcbiAgbGV0IHJvbGxvdmVyX3F1aWV0ID0gcGFyYW0ucm9sbG92ZXJfcXVpZXQ7XG4gIGxldCBmb2N1c2VkID0gIXBhcmFtLmRpc2FibGVkICYmICFwYXJhbS5ub19mb2N1cyAmJiBmb2N1c0NoZWNrKGtleSk7XG4gIGxldCBrZXlfb3B0cyA9IHBhcmFtLmluX2V2ZW50X2NiID8geyBpbl9ldmVudF9jYjogcGFyYW0uaW5fZXZlbnRfY2IgfSA6IG51bGw7XG4gIGJ1dHRvbl9tb3VzZW92ZXIgPSBmYWxzZTtcbiAgaWYgKHBhcmFtLmRpc2FibGVkKSB7XG4gICAgaWYgKGdsb3ZfaW5wdXQubW91c2VPdmVyKHBhcmFtKSkgeyAvLyBTdGlsbCBlYXQgbW91c2UgZXZlbnRzXG4gICAgICBpZiAocGFyYW0uZGlzYWJsZWRfbW91c2VvdmVyKSB7XG4gICAgICAgIHNldE1vdXNlT3ZlcihrZXksIHJvbGxvdmVyX3F1aWV0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhdGUgPSAnZGlzYWJsZWQnO1xuICB9IGVsc2UgaWYgKHBhcmFtLmRyYWdfdGFyZ2V0ICYmIChyZXQgPSBnbG92X2lucHV0LmRyYWdEcm9wKHBhcmFtKSkpIHtcbiAgICBpZiAoIWdsb3ZfaW5wdXQubW91c2VQb3NJc1RvdWNoKCkpIHtcbiAgICAgIHNldE1vdXNlT3ZlcihrZXksIHJvbGxvdmVyX3F1aWV0KTtcbiAgICB9XG4gICAgaWYgKCFwYXJhbS5ub19mb2N1cykge1xuICAgICAgZm9jdXNTdGVhbChrZXkpO1xuICAgICAgZm9jdXNlZCA9IHRydWU7XG4gICAgfVxuICAgIGJ1dHRvbl9jbGljayA9IHsgZHJhZzogdHJ1ZSB9O1xuICB9IGVsc2UgaWYgKChidXR0b25fY2xpY2sgPSBnbG92X2lucHV0LmNsaWNrKHBhcmFtKSkgfHxcbiAgICBwYXJhbS5sb25nX3ByZXNzICYmIChidXR0b25fY2xpY2sgPSBnbG92X2lucHV0LmxvbmdQcmVzcyhwYXJhbSkpXG4gICkge1xuICAgIGlmIChwYXJhbS50b3VjaF90d2ljZSAmJiAhZm9jdXNlZCAmJiBnbG92X2lucHV0Lm1vdXNlUG9zSXNUb3VjaCgpKSB7XG4gICAgICAvLyBKdXN0IGZvY3VzLCBzaG93IHRvb2x0aXBcbiAgICAgIHRvdWNoX2NoYW5nZWRfZm9jdXMgPSB0cnVlO1xuICAgICAgc2V0TW91c2VPdmVyKGtleSwgcm9sbG92ZXJfcXVpZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXBhcmFtLm5vX2ZvY3VzKSB7XG4gICAgICBmb2N1c1N0ZWFsKGtleSk7XG4gICAgICBmb2N1c2VkID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGFyYW0uZHJhZ190YXJnZXQgJiYgZ2xvdl9pbnB1dC5kcmFnT3ZlcihwYXJhbSkpIHtcbiAgICAvLyBNb3VzZW92ZXIgZXZlbiBpZiB0b3VjaD9cbiAgICBzZXRNb3VzZU92ZXIoa2V5LCByb2xsb3Zlcl9xdWlldCk7XG4gICAgc3RhdGUgPSBnbG92X2lucHV0Lm1vdXNlRG93bih7IG1heF9kaXN0OiBJbmZpbml0eSB9KSA/ICdkb3duJyA6ICdyb2xsb3Zlcic7XG4gIH0gZWxzZSBpZiAocGFyYW0uZHJhZ19vdmVyICYmIGdsb3ZfaW5wdXQuZHJhZ092ZXIocGFyYW0pKSB7XG4gICAgLy8gZG8gbm90aGluZ1xuICB9IGVsc2UgaWYgKGdsb3ZfaW5wdXQubW91c2VPdmVyKHBhcmFtKSkge1xuICAgIHN0YXRlID0gZ2xvdl9pbnB1dC5tb3VzZURvd24ocGFyYW0pID8gJ2Rvd24nIDogJ3JvbGxvdmVyJztcbiAgICAvLyBPbiB0b3VjaCwgb25seSBzZXQgbW91c2VvdmVyIGlmIGFsc28gZG93blxuICAgIGlmICghZ2xvdl9pbnB1dC5tb3VzZVBvc0lzVG91Y2goKSB8fCBzdGF0ZSA9PT0gJ2Rvd24nKSB7XG4gICAgICBzZXRNb3VzZU92ZXIoa2V5LCByb2xsb3Zlcl9xdWlldCk7XG4gICAgfVxuICB9XG4gIGJ1dHRvbl9mb2N1c2VkID0gZm9jdXNlZDtcbiAgaWYgKGZvY3VzZWQpIHtcbiAgICBpZiAoZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlNQQUNFLCBrZXlfb3B0cykgfHwgZ2xvdl9pbnB1dC5rZXlEb3duRWRnZShLRVlTLlJFVFVSTiwga2V5X29wdHMpIHx8XG4gICAgICBnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKFBBRC5BKVxuICAgICkge1xuICAgICAgYnV0dG9uX2NsaWNrID0geyBrYjogdHJ1ZSB9O1xuICAgICAgcmV0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHJldCkge1xuICAgIHN0YXRlID0gJ2Rvd24nO1xuICAgIHBsYXlVSVNvdW5kKCdidXR0b25fY2xpY2snKTtcbiAgfVxuICBpZiAoYnV0dG9uX21vdXNlb3ZlciAmJiBwYXJhbS50b29sdGlwKSB7XG4gICAgZHJhd1Rvb2x0aXAoe1xuICAgICAgeDogcGFyYW0ueCxcbiAgICAgIHk6IHBhcmFtLnRvb2x0aXBfYWJvdmUgPyBwYXJhbS55IC0gMiA6IHBhcmFtLnkgKyBwYXJhbS5oICsgMixcbiAgICAgIHRvb2x0aXBfYWJvdmU6IHBhcmFtLnRvb2x0aXBfYWJvdmUsXG4gICAgICB0b29sdGlwOiBwYXJhbS50b29sdGlwLFxuICAgICAgdG9vbHRpcF93aWR0aDogcGFyYW0udG9vbHRpcF93aWR0aCxcbiAgICB9KTtcbiAgfVxuICBwYXJhbS56ICs9IHBhcmFtLnpfYmlhcyAmJiBwYXJhbS56X2JpYXNbc3RhdGVdIHx8IDA7XG4gIGNoZWNrSG9va3MocGFyYW0sIHJldCk7XG4gIHJldHVybiB7IHJldCwgc3RhdGUsIGZvY3VzZWQgfTtcbn1cblxuZXhwb3J0IGxldCBidXR0b25fbGFzdF9jb2xvcjtcbmV4cG9ydCBmdW5jdGlvbiBidXR0b25UZXh0RHJhdyhwYXJhbSwgc3RhdGUsIGZvY3VzZWQpIHtcbiAgbGV0IGNvbG9ycyA9IHBhcmFtLmNvbG9ycyB8fCBjb2xvcl9idXR0b247XG4gIGxldCBjb2xvciA9IGJ1dHRvbl9sYXN0X2NvbG9yID0gY29sb3JzW3N0YXRlXTtcbiAgbGV0IGJhc2VfbmFtZSA9IHBhcmFtLmJhc2VfbmFtZSB8fCAnYnV0dG9uJztcbiAgbGV0IHNwcml0ZV9uYW1lID0gYCR7YmFzZV9uYW1lfV8ke3N0YXRlfWA7XG4gIGxldCBzcHJpdGUgPSBzcHJpdGVzW3Nwcml0ZV9uYW1lXTtcbiAgLy8gTm90ZTogd2FzIGlmIChzcHJpdGUpIGNvbG9yID0gY29sb3JzLnJlZ3VsYXIgZm9yIHNwZWNpZmljLXNwcml0ZSBtYXRjaGVzXG4gIGlmICghc3ByaXRlKSB7XG4gICAgc3ByaXRlID0gc3ByaXRlc1tiYXNlX25hbWVdO1xuICB9XG5cbiAgZHJhd0hCb3gocGFyYW0sIHNwcml0ZSwgY29sb3IpO1xuICBsZXQgaHBhZCA9IG1pbihwYXJhbS5mb250X2hlaWdodCAqIDAuMjUsIHBhcmFtLncgKiAwLjEpO1xuICBmb250LmRyYXdTaXplZEFsaWduZWQoXG4gICAgZm9jdXNlZCA/IGZvbnRfc3R5bGVfZm9jdXNlZCA6IGZvbnRfc3R5bGVfbm9ybWFsLFxuICAgIHBhcmFtLnggKyBocGFkLCBwYXJhbS55LCBwYXJhbS56ICsgMC4xLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgcGFyYW0uZm9udF9oZWlnaHQsIGdsb3ZfZm9udC5BTElHTi5IQ0VOVEVSRklUIHwgZ2xvdl9mb250LkFMSUdOLlZDRU5URVIsIHBhcmFtLncgLSBocGFkICogMiwgcGFyYW0uaCwgcGFyYW0udGV4dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXR0b25UZXh0KHBhcmFtKSB7XG4gIC8vIHJlcXVpcmVkIHBhcmFtc1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnggPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS55ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0udGV4dCA9PT0gJ3N0cmluZycpO1xuICAvLyBvcHRpb25hbCBwYXJhbXNcbiAgLy8gcGFyYW0ueiA9IHBhcmFtLnogfHwgWi5VSTtcbiAgcGFyYW0udyA9IHBhcmFtLncgfHwgYnV0dG9uX3dpZHRoO1xuICBwYXJhbS5oID0gcGFyYW0uaCB8fCBidXR0b25faGVpZ2h0O1xuICBwYXJhbS5mb250X2hlaWdodCA9IHBhcmFtLmZvbnRfaGVpZ2h0IHx8IGZvbnRfaGVpZ2h0O1xuXG4gIGxldCB7IHJldCwgc3RhdGUsIGZvY3VzZWQgfSA9IGJ1dHRvblNoYXJlZChwYXJhbSk7XG4gIGJ1dHRvblRleHREcmF3KHBhcmFtLCBzdGF0ZSwgZm9jdXNlZCk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXR0b25JbWFnZShwYXJhbSkge1xuICAvLyByZXF1aXJlZCBwYXJhbXNcbiAgYXNzZXJ0KHR5cGVvZiBwYXJhbS54ID09PSAnbnVtYmVyJyk7XG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueSA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQocGFyYW0uaW1nICYmIHBhcmFtLmltZy5kcmF3KTsgLy8gc2hvdWxkIGJlIGEgc3ByaXRlXG4gIC8vIG9wdGlvbmFsIHBhcmFtc1xuICBwYXJhbS56ID0gcGFyYW0ueiB8fCBaLlVJO1xuICBwYXJhbS53ID0gcGFyYW0udyB8fCBidXR0b25faW1nX3NpemU7XG4gIHBhcmFtLmggPSBwYXJhbS5oIHx8IHBhcmFtLncgfHwgYnV0dG9uX2ltZ19zaXplO1xuICBwYXJhbS5zaHJpbmsgPSBwYXJhbS5zaHJpbmsgfHwgMC43NTtcbiAgLy9wYXJhbS5pbWdfcmVjdDsgbnVsbCAtPiBmdWxsIGltYWdlXG4gIGxldCB1dnMgPSBwYXJhbS5pbWdfcmVjdDtcbiAgaWYgKHR5cGVvZiBwYXJhbS5mcmFtZSA9PT0gJ251bWJlcicpIHtcbiAgICB1dnMgPSBwYXJhbS5pbWcudWlkYXRhLnJlY3RzW3BhcmFtLmZyYW1lXTtcbiAgfVxuXG4gIGxldCB7IHJldCwgc3RhdGUgfSA9IGJ1dHRvblNoYXJlZChwYXJhbSk7XG4gIGxldCBjb2xvcnMgPSBwYXJhbS5jb2xvcnMgfHwgY29sb3JfYnV0dG9uO1xuICBsZXQgY29sb3IgPSBidXR0b25fbGFzdF9jb2xvciA9IGNvbG9yc1tzdGF0ZV07XG4gIGlmICghcGFyYW0ubm9fYmcpIHtcbiAgICBsZXQgYmFzZV9uYW1lID0gcGFyYW0uYmFzZV9uYW1lIHx8ICdidXR0b24nO1xuICAgIGxldCBzcHJpdGVfbmFtZSA9IGAke2Jhc2VfbmFtZX1fJHtzdGF0ZX1gO1xuICAgIGxldCBzcHJpdGUgPSBzcHJpdGVzW3Nwcml0ZV9uYW1lXTtcbiAgICBpZiAoIXNwcml0ZSkge1xuICAgICAgc3ByaXRlID0gc3ByaXRlc1tiYXNlX25hbWVdO1xuICAgIH1cblxuICAgIGRyYXdIQm94KHBhcmFtLCBzcHJpdGUsIGNvbG9yKTtcbiAgfVxuICBsZXQgaW1nX29yaWdpbiA9IHBhcmFtLmltZy5vcmlnaW47XG4gIGxldCBpbWdfdyA9IHBhcmFtLmltZy5zaXplWzBdO1xuICBsZXQgaW1nX2ggPSBwYXJhbS5pbWcuc2l6ZVsxXTtcbiAgbGV0IGFzcGVjdCA9IGltZ193IC8gaW1nX2g7XG4gIGlmICh0eXBlb2YgcGFyYW0uZnJhbWUgPT09ICdudW1iZXInKSB7XG4gICAgYXNwZWN0ID0gcGFyYW0uaW1nLnVpZGF0YS5hc3BlY3QgPyBwYXJhbS5pbWcudWlkYXRhLmFzcGVjdFtwYXJhbS5mcmFtZV0gOiAxO1xuICB9XG4gIGxldCBsYXJnZXN0X3dfaG9yaXogPSBwYXJhbS53ICogcGFyYW0uc2hyaW5rO1xuICBsZXQgbGFyZ2VzdF93X3ZlcnQgPSBwYXJhbS5oICogcGFyYW0uc2hyaW5rICogYXNwZWN0O1xuICBpbWdfdyA9IG1pbihsYXJnZXN0X3dfaG9yaXosIGxhcmdlc3Rfd192ZXJ0KTtcbiAgaW1nX2ggPSBpbWdfdyAvIGFzcGVjdDtcbiAgbGV0IHBhZF90b3AgPSAocGFyYW0uaCAtIGltZ19oKSAvIDI7XG4gIGxldCBkcmF3X3BhcmFtID0ge1xuICAgIHg6IHBhcmFtLnggKyAocGFyYW0ubGVmdF9hbGlnbiA/IHBhZF90b3AgOiAocGFyYW0udyAtIGltZ193KSAvIDIpICsgaW1nX29yaWdpblswXSAqIGltZ193LFxuICAgIHk6IHBhcmFtLnkgKyBwYWRfdG9wICsgaW1nX29yaWdpblsxXSAqIGltZ19oLFxuICAgIHo6IHBhcmFtLnogKyAwLjEsXG4gICAgLy8gdXNlIGltZ19jb2xvciBpZiBwcm92aWRlZCwgdXNlIGV4cGxpY2l0IHRpbnQgaWYgZG9pbmcgZHVhbC10aW50aW5nLCBvdGhlcndpc2UgYnV0dG9uIGNvbG9yXG4gICAgY29sb3I6IHBhcmFtLmltZ19jb2xvciB8fCBwYXJhbS5jb2xvcjEgJiYgcGFyYW0uY29sb3IgfHwgY29sb3IsXG4gICAgY29sb3IxOiBwYXJhbS5jb2xvcjEsXG4gICAgdzogaW1nX3cgLyBwYXJhbS5pbWcuc2l6ZVswXSxcbiAgICBoOiBpbWdfaCAvIHBhcmFtLmltZy5zaXplWzFdLFxuICAgIHV2cyxcbiAgICByb3Q6IHBhcmFtLnJvdGF0aW9uLFxuICB9O1xuICBpZiAocGFyYW0uZmxpcCkge1xuICAgIGxldCB7IHgsIHcgfSA9IGRyYXdfcGFyYW07XG4gICAgZHJhd19wYXJhbS54ID0geCArIHc7XG4gICAgZHJhd19wYXJhbS53ID0gLXc7XG4gIH1cbiAgaWYgKHBhcmFtLmNvbG9yMSkge1xuICAgIHBhcmFtLmltZy5kcmF3RHVhbFRpbnQoZHJhd19wYXJhbSk7XG4gIH0gZWxzZSB7XG4gICAgcGFyYW0uaW1nLmRyYXcoZHJhd19wYXJhbSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50KHN0eWxlLCB4LCB5LCB6LCB0ZXh0KSB7XG4gIHJldHVybiBmb250LmRyYXdTaXplZChzdHlsZSwgeCwgeSwgeiwgZm9udF9oZWlnaHQsIHRleHQpO1xufVxuXG4vLyBOb3RlOiBtb2RhbCBkaWFsb2dzIG5vdCByZWFsbHkgY29tcGF0aWJsZSB3aXRoIEhUTUwgb3ZlcmxheSBvbiB0b3Agb2YgdGhlIGNhbnZhcyFcbmV4cG9ydCBmdW5jdGlvbiBtb2RhbERpYWxvZyhwYXJhbSkge1xuICBhc3NlcnQoIXBhcmFtLnRpdGxlIHx8IHR5cGVvZiBwYXJhbS50aXRsZSA9PT0gJ3N0cmluZycpO1xuICBhc3NlcnQoIXBhcmFtLnRleHQgfHwgdHlwZW9mIHBhcmFtLnRleHQgPT09ICdzdHJpbmcnKTtcbiAgYXNzZXJ0KCFwYXJhbS5idXR0b25zIHx8IHR5cGVvZiBwYXJhbS5idXR0b25zID09PSAnb2JqZWN0Jyk7XG4gIC8vIGFzc2VydChPYmplY3Qua2V5cyhwYXJhbS5idXR0b25zKS5sZW5ndGgpO1xuXG4gIG1vZGFsX2RpYWxvZyA9IHBhcmFtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9kYWxEaWFsb2dDbGVhcigpIHtcbiAgbW9kYWxfZGlhbG9nID0gbnVsbDtcbn1cblxubGV0IGRvbV9yZXF1aXJlbWVudCA9IHZlYzIoMjQsMjQpO1xubGV0IHZpcnR1YWxfc2l6ZSA9IHZlYzIoKTtcbmZ1bmN0aW9uIG1vZGFsRGlhbG9nUnVuKCkge1xuICBjYW1lcmEyZC5kb21EZWx0YVRvVmlydHVhbCh2aXJ0dWFsX3NpemUsIGRvbV9yZXF1aXJlbWVudCk7XG4gIGxldCBmdWxsc2NyZWVuX21vZGUgPSBmYWxzZTtcbiAgbGV0IGVmZl9mb250X2hlaWdodCA9IG1vZGFsX2RpYWxvZy5mb250X2hlaWdodCB8fCBmb250X2hlaWdodDtcbiAgbGV0IGVmZl9idXR0b25faGVpZ2h0ID0gYnV0dG9uX2hlaWdodDtcbiAgbGV0IHBhZCA9IG1vZGFsX3BhZDtcbiAgbGV0IHZwYWQgPSBtb2RhbF9wYWQgKiAwLjU7XG4gIGxldCBnZW5lcmFsX3NjYWxlID0gMTtcbiAgaWYgKHZpcnR1YWxfc2l6ZVswXSA+IDAuMSAqIGNhbWVyYTJkLmgoKSAmJiBjYW1lcmEyZC53KCkgPiBjYW1lcmEyZC5oKCkgKiAyKSB7XG4gICAgLy8gSWYgYSAyNC1wdCBmb250IGlzIG1vcmUgdGhhbiAxMCUgb2YgdGhlIGNhbWVyYSBoZWlnaHQsIHdlJ3JlIHByb2JhYmx5IHN1cGVyLXdpZGUtc2NyZWVuXG4gICAgLy8gb24gYSBtb2JpbGUgZGV2aWNlIGR1ZSB0byBrZXlib2FyZCBiZWluZyB2aXNpYmxlXG4gICAgZnVsbHNjcmVlbl9tb2RlID0gdHJ1ZTtcbiAgICBlZmZfYnV0dG9uX2hlaWdodCA9IGVmZl9mb250X2hlaWdodDtcbiAgICB2cGFkID0gcGFkID0gNDtcblxuICAgIGxldCBvbGRfaCA9IGNhbWVyYTJkLmgoKTtcbiAgICBjYW1lcmEyZC5wdXNoKCk7XG4gICAgY2FtZXJhMmQuc2V0QXNwZWN0Rml4ZWQyKDEsIGVmZl9mb250X2hlaWdodCAqIChtb2RhbF90aXRsZV9zY2FsZSArIDIpICsgcGFkICogNC41KTtcbiAgICBnZW5lcmFsX3NjYWxlID0gY2FtZXJhMmQuaCgpIC8gb2xkX2g7XG4gIH1cblxuICBsZXQgeyBidXR0b25zLCBjbGlja19hbnl3aGVyZSB9ID0gbW9kYWxfZGlhbG9nO1xuICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKGJ1dHRvbnMgfHwge30pO1xuXG4gIGNvbnN0IGdhbWVfd2lkdGggPSBjYW1lcmEyZC54MSgpIC0gY2FtZXJhMmQueDAoKTtcbiAgY29uc3QgZWZmX21vZGFsX3dpZHRoID0gZnVsbHNjcmVlbl9tb2RlID8gZ2FtZV93aWR0aCA6IChtb2RhbF9kaWFsb2cud2lkdGggfHwgbW9kYWxfd2lkdGgpO1xuICBsZXQgZWZmX2J1dHRvbl93aWR0aCA9IG1vZGFsX2RpYWxvZy5idXR0b25fd2lkdGggfHwgbW9kYWxfYnV0dG9uX3dpZHRoO1xuICBsZXQgbWF4X3RvdGFsX2J1dHRvbl93aWR0aCA9IGVmZl9tb2RhbF93aWR0aCAqIDIgLyAzO1xuICBlZmZfYnV0dG9uX3dpZHRoID0gbWluKGVmZl9idXR0b25fd2lkdGgsIG1heF90b3RhbF9idXR0b25fd2lkdGggLyBrZXlzLmxlbmd0aCk7XG4gIGNvbnN0IHRleHRfdyA9IGVmZl9tb2RhbF93aWR0aCAtIHBhZCAqIDI7XG4gIGNvbnN0IHgwID0gY2FtZXJhMmQueDAoKSArIHJvdW5kKChnYW1lX3dpZHRoIC0gZWZmX21vZGFsX3dpZHRoKSAvIDIpO1xuICBsZXQgeCA9IHgwICsgcGFkO1xuICBjb25zdCB5MCA9IGZ1bGxzY3JlZW5fbW9kZSA/IDAgOiAobW9kYWxfZGlhbG9nLnkwIHx8IG1vZGFsX3kwKTtcbiAgbGV0IHkgPSByb3VuZCh5MCArIHBhZCk7XG5cbiAgaWYgKGdsb3ZfaW5wdXQucG9pbnRlckxvY2tlZCgpKSB7XG4gICAgZ2xvdl9pbnB1dC5wb2ludGVyTG9ja0V4aXQoKTtcbiAgfVxuXG4gIGlmIChtb2RhbF9kaWFsb2cudGl0bGUpIHtcbiAgICBpZiAoZnVsbHNjcmVlbl9tb2RlKSB7XG4gICAgICB0aXRsZV9mb250LmRyYXdTaXplZEFsaWduZWQobW9kYWxfZm9udF9zdHlsZSwgeCwgeSwgWi5NT0RBTCwgZWZmX2ZvbnRfaGVpZ2h0ICogbW9kYWxfdGl0bGVfc2NhbGUsXG4gICAgICAgIGdsb3ZfZm9udC5BTElHTi5IRklULCB0ZXh0X3csIDAsIG1vZGFsX2RpYWxvZy50aXRsZSk7XG4gICAgICB5ICs9IGVmZl9mb250X2hlaWdodCAqIG1vZGFsX3RpdGxlX3NjYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICB5ICs9IHRpdGxlX2ZvbnQuZHJhd1NpemVkV3JhcHBlZChtb2RhbF9mb250X3N0eWxlLFxuICAgICAgICB4LCB5LCBaLk1PREFMLCB0ZXh0X3csIDAsIGVmZl9mb250X2hlaWdodCAqIG1vZGFsX3RpdGxlX3NjYWxlLFxuICAgICAgICBtb2RhbF9kaWFsb2cudGl0bGUpO1xuICAgIH1cbiAgICB5ID0gcm91bmQoeSArIHZwYWQgKiAxLjUpO1xuICB9XG5cbiAgaWYgKG1vZGFsX2RpYWxvZy50ZXh0KSB7XG4gICAgaWYgKGZ1bGxzY3JlZW5fbW9kZSkge1xuICAgICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKG1vZGFsX2ZvbnRfc3R5bGUsIHgsIHksIFouTU9EQUwsIGVmZl9mb250X2hlaWdodCxcbiAgICAgICAgZ2xvdl9mb250LkFMSUdOLkhGSVQsIHRleHRfdywgMCwgbW9kYWxfZGlhbG9nLnRleHQpO1xuICAgICAgeSArPSBlZmZfZm9udF9oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkgKz0gZm9udC5kcmF3U2l6ZWRXcmFwcGVkKG1vZGFsX2ZvbnRfc3R5bGUsIHgsIHksIFouTU9EQUwsIHRleHRfdywgMCwgZWZmX2ZvbnRfaGVpZ2h0LFxuICAgICAgICBtb2RhbF9kaWFsb2cudGV4dCk7XG4gICAgfVxuICAgIHkgPSByb3VuZCh5ICsgdnBhZCk7XG4gIH1cblxuICBsZXQgdGlja19rZXk7XG4gIGlmIChtb2RhbF9kaWFsb2cudGljaykge1xuICAgIGxldCBhdmFpbF93aWR0aCA9IGVmZl9tb2RhbF93aWR0aCAtIHBhZCAqIDI7XG4gICAgaWYgKGZ1bGxzY3JlZW5fbW9kZSkge1xuICAgICAgYXZhaWxfd2lkdGggLT0gKHBhZCArIGVmZl9idXR0b25fd2lkdGgpICoga2V5cy5sZW5ndGg7XG4gICAgfVxuICAgIGxldCBwYXJhbSA9IHtcbiAgICAgIHgsIHksXG4gICAgICBtb2RhbF93aWR0aDogZWZmX21vZGFsX3dpZHRoLFxuICAgICAgYXZhaWxfd2lkdGgsXG4gICAgICBmb250X2hlaWdodDogZWZmX2ZvbnRfaGVpZ2h0LFxuICAgICAgZnVsbHNjcmVlbl9tb2RlLFxuICAgIH07XG4gICAgdGlja19rZXkgPSBtb2RhbF9kaWFsb2cudGljayhwYXJhbSk7XG4gICAgeSA9IHBhcmFtLnk7XG4gIH1cblxuICB4ID0geDAgKyBlZmZfbW9kYWxfd2lkdGggLSAocGFkICsgZWZmX2J1dHRvbl93aWR0aCkgKiBrZXlzLmxlbmd0aDtcbiAgbGV0IGRpZF9idXR0b24gPSAtMTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGtleXMubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGtleSA9IGtleXNbaWldO1xuICAgIGxldCBlZmZfYnV0dG9uX2tleXMgPSBidXR0b25fa2V5c1trZXkudG9Mb3dlckNhc2UoKV07XG4gICAgbGV0IHByZXNzZWQgPSAwO1xuICAgIGlmIChlZmZfYnV0dG9uX2tleXMpIHtcbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBlZmZfYnV0dG9uX2tleXMua2V5Lmxlbmd0aDsgKytqaikge1xuICAgICAgICBwcmVzc2VkICs9IGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoZWZmX2J1dHRvbl9rZXlzLmtleVtqal0pO1xuICAgICAgICBpZiAoZWZmX2J1dHRvbl9rZXlzLmtleVtqal0gPT09IHRpY2tfa2V5KSB7XG4gICAgICAgICAgcHJlc3NlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgZWZmX2J1dHRvbl9rZXlzLnBhZC5sZW5ndGg7ICsramopIHtcbiAgICAgICAgcHJlc3NlZCArPSBnbG92X2lucHV0LnBhZEJ1dHRvbkRvd25FZGdlKGVmZl9idXR0b25fa2V5cy5wYWRbampdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNsaWNrX2FueXdoZXJlICYmIGlpID09PSAwICYmIGdsb3ZfaW5wdXQuY2xpY2soKSkge1xuICAgICAgKytwcmVzc2VkO1xuICAgIH1cbiAgICBpZiAocHJlc3NlZCkge1xuICAgICAgZGlkX2J1dHRvbiA9IGlpO1xuICAgIH1cbiAgICBpZiAoYnV0dG9uVGV4dCh7XG4gICAgICB4OiB4LFxuICAgICAgeSxcbiAgICAgIHo6IFouTU9EQUwsXG4gICAgICB3OiBlZmZfYnV0dG9uX3dpZHRoLFxuICAgICAgaDogZWZmX2J1dHRvbl9oZWlnaHQsXG4gICAgICB0ZXh0OiBrZXlcbiAgICB9KSkge1xuICAgICAgZGlkX2J1dHRvbiA9IGlpO1xuICAgIH1cbiAgICB4ID0gcm91bmQoeCArIHBhZCArIGVmZl9idXR0b25fd2lkdGgpO1xuICB9XG4gIC8vIEFsc28gY2hlY2sgbG93LXByaW9yaXR5IGtleXNcbiAgaWYgKGRpZF9idXR0b24gPT09IC0xKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGtleXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBsZXQga2V5ID0ga2V5c1tpaV07XG4gICAgICBsZXQgZWZmX2J1dHRvbl9rZXlzID0gYnV0dG9uX2tleXNba2V5LnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKGVmZl9idXR0b25fa2V5cyAmJiBlZmZfYnV0dG9uX2tleXMubG93X2tleSkge1xuICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgZWZmX2J1dHRvbl9rZXlzLmxvd19rZXkubGVuZ3RoOyArK2pqKSB7XG4gICAgICAgICAgaWYgKGdsb3ZfaW5wdXQua2V5RG93bkVkZ2UoZWZmX2J1dHRvbl9rZXlzLmxvd19rZXlbampdKSB8fCBlZmZfYnV0dG9uX2tleXMubG93X2tleVtqal0gPT09IHRpY2tfa2V5KSB7XG4gICAgICAgICAgICBkaWRfYnV0dG9uID0gaWk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkaWRfYnV0dG9uICE9PSAtMSkge1xuICAgIGxldCBrZXkgPSBrZXlzW2RpZF9idXR0b25dO1xuICAgIHBsYXlVSVNvdW5kKCdidXR0b25fY2xpY2snKTtcbiAgICBtb2RhbF9kaWFsb2cgPSBudWxsO1xuICAgIGlmIChidXR0b25zW2tleV0pIHtcbiAgICAgIGJ1dHRvbnNba2V5XSgpO1xuICAgIH1cbiAgfVxuICB5ICs9IGVmZl9idXR0b25faGVpZ2h0O1xuICB5ID0gcm91bmQoeSArIHZwYWQgKyBwYWQpO1xuICBwYW5lbCh7XG4gICAgeDogeDAsXG4gICAgeTogeTAsXG4gICAgejogWi5NT0RBTCAtIDEsXG4gICAgdzogZWZmX21vZGFsX3dpZHRoLFxuICAgIGg6IChmdWxsc2NyZWVuX21vZGUgPyBjYW1lcmEyZC55MSgpIDogeSkgLSB5MCxcbiAgICBwaXhlbF9zY2FsZTogcGFuZWxfcGl4ZWxfc2NhbGUgKiBnZW5lcmFsX3NjYWxlLFxuICB9KTtcblxuICBnbG92X2lucHV0LmVhdEFsbElucHV0KCk7XG4gIG1vZGFsX3N0ZWFsaW5nX2ZvY3VzID0gdHJ1ZTtcbiAgaWYgKGZ1bGxzY3JlZW5fbW9kZSkge1xuICAgIGNhbWVyYTJkLnBvcCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2RhbFRleHRFbnRyeShwYXJhbSkge1xuICBsZXQgZWIgPSBnbG92X2VkaXRfYm94LmNyZWF0ZSh7XG4gICAgYWxsb3dfbW9kYWw6IHRydWUsXG4gICAgaW5pdGlhbF9mb2N1czogdHJ1ZSxcbiAgICBzcGVsbGNoZWNrOiBmYWxzZSxcbiAgICBpbml0aWFsX3NlbGVjdDogdHJ1ZSxcbiAgICB0ZXh0OiBwYXJhbS5lZGl0X3RleHQsXG4gICAgbWF4X2xlbjogcGFyYW0ubWF4X2xlbixcbiAgICBlc2NfY2xlYXJzOiBmYWxzZSxcbiAgfSk7XG4gIGxldCBidXR0b25zID0ge307XG4gIGZvciAobGV0IGtleSBpbiBwYXJhbS5idXR0b25zKSB7XG4gICAgbGV0IHZhbCA9IHBhcmFtLmJ1dHRvbnNba2V5XTtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsID0gKGZ1bmN0aW9uIChvbGRfZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbGRfZm4oZWIuZ2V0VGV4dCgpKTtcbiAgICAgICAgfTtcbiAgICAgIH0odmFsKSk7XG4gICAgfVxuICAgIGJ1dHRvbnNba2V5XSA9IHZhbDtcbiAgfVxuICBwYXJhbS5idXR0b25zID0gYnV0dG9ucztcbiAgcGFyYW0udGV4dCA9IGAke3BhcmFtLnRleHQgfHwgJyd9YDtcbiAgbGV0IG9sZF90aWNrID0gcGFyYW0udGljaztcbiAgcGFyYW0udGljayA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICBsZXQgZWJfcmV0ID0gZWIucnVuKHtcbiAgICAgIHg6IHBhcmFtcy54LFxuICAgICAgeTogcGFyYW1zLnksXG4gICAgICB3OiBwYXJhbXMuYXZhaWxfd2lkdGggfHwgcGFyYW0uZWRpdF93LFxuICAgICAgZm9udF9oZWlnaHQ6IHBhcmFtcy5mb250X2hlaWdodCxcbiAgICB9KTtcbiAgICBpZiAoIXBhcmFtcy5mdWxsc2NyZWVuX21vZGUpIHtcbiAgICAgIHBhcmFtcy55ICs9IHBhcmFtcy5mb250X2hlaWdodCArIG1vZGFsX3BhZDtcbiAgICB9XG4gICAgbGV0IHJldDtcbiAgICBpZiAoZWJfcmV0ID09PSBlYi5TVUJNSVQpIHtcbiAgICAgIHJldCA9IEtFWVMuTzsgLy8gRG8gT0ssIFllc1xuICAgIH0gZWxzZSBpZiAoZWJfcmV0ID09PSBlYi5DQU5DRUwpIHtcbiAgICAgIHJldCA9IEtFWVMuRVNDOyAvLyBEbyBDYW5jZWwsIE5vXG4gICAgfVxuICAgIGlmIChvbGRfdGljaykge1xuICAgICAgcmV0ID0gb2xkX3RpY2socGFyYW1zKSB8fCByZXQ7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG4gIG1vZGFsRGlhbG9nKHBhcmFtKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWRpdEJveChwYXJhbSkge1xuICByZXR1cm4gZ2xvdl9lZGl0X2JveC5jcmVhdGUocGFyYW0pO1xufVxuXG5sZXQgc2xpZGVyX2RlZmF1bHRfdnNocmluayA9IDEuMDtcbmxldCBzbGlkZXJfZGVmYXVsdF9oYW5kbGVfc2hyaW5rID0gMS4wO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNsaWRlckRlZmF1bHRTaHJpbmsodnNocmluaywgaGFuZGxlX3Nocmluaykge1xuICBzbGlkZXJfZGVmYXVsdF92c2hyaW5rID0gdnNocmluaztcbiAgc2xpZGVyX2RlZmF1bHRfaGFuZGxlX3NocmluayA9IGhhbmRsZV9zaHJpbms7XG59XG5jb25zdCBjb2xvcl9zbGlkZXJfaGFuZGxlID0gdmVjNCgxLDEsMSwxKTtcbmNvbnN0IGNvbG9yX3NsaWRlcl9oYW5kbGVfZ3JhYiA9IHZlYzQoMC41LDAuNSwwLjUsMSk7XG5jb25zdCBjb2xvcl9zbGlkZXJfaGFuZGxlX292ZXIgPSB2ZWM0KDAuNzUsMC43NSwwLjc1LDEpO1xuZXhwb3J0IGxldCBzbGlkZXJfZHJhZ2dpbmcgPSBmYWxzZTsgLy8gZm9yIGNhbGxlciBwb2xsaW5nXG4vLyBSZXR1cm5zIG5ldyB2YWx1ZVxuZXhwb3J0IGZ1bmN0aW9uIHNsaWRlcih2YWx1ZSwgcGFyYW0pIHtcbiAgLy8gcmVxdWlyZWQgcGFyYW1zXG4gIGFzc2VydCh0eXBlb2YgcGFyYW0ueCA9PT0gJ251bWJlcicpO1xuICBhc3NlcnQodHlwZW9mIHBhcmFtLnkgPT09ICdudW1iZXInKTtcbiAgYXNzZXJ0KHBhcmFtLm1pbiA8IHBhcmFtLm1heCk7IC8vIGFsc28gbXVzdCBiZSBudW1iZXJzXG4gIC8vIG9wdGlvbmFsIHBhcmFtc1xuICBwYXJhbS56ID0gcGFyYW0ueiB8fCBaLlVJO1xuICBwYXJhbS53ID0gcGFyYW0udyB8fCBidXR0b25fd2lkdGg7XG4gIHBhcmFtLmggPSBwYXJhbS5oIHx8IGJ1dHRvbl9oZWlnaHQ7XG4gIGxldCB2c2hyaW5rID0gcGFyYW0udnNocmluayB8fCBzbGlkZXJfZGVmYXVsdF92c2hyaW5rO1xuICBsZXQgaGFuZGxlX3NocmluayA9IHBhcmFtLmhhbmRsZV9zaHJpbmsgfHwgc2xpZGVyX2RlZmF1bHRfaGFuZGxlX3NocmluaztcbiAgbGV0IGRpc2FibGVkID0gcGFyYW0uZGlzYWJsZWQgfHwgZmFsc2U7XG4gIGxldCBoYW5kbGVfaCA9IHBhcmFtLmggKiBoYW5kbGVfc2hyaW5rO1xuICBsZXQgaGFuZGxlX3cgPSBzcHJpdGVzLnNsaWRlcl9oYW5kbGUudWlkYXRhLndoWzBdICogaGFuZGxlX2g7XG5cbiAgc2xpZGVyX2RyYWdnaW5nID0gZmFsc2U7XG5cbiAgbGV0IHNocmlua2RpZmYgPSBoYW5kbGVfc2hyaW5rIC0gdnNocmluaztcbiAgZHJhd0hCb3goe1xuICAgIHg6IHBhcmFtLnggKyBwYXJhbS5oICogc2hyaW5rZGlmZi8yLFxuICAgIHk6IHBhcmFtLnkgKyBwYXJhbS5oICogKDEgLSB2c2hyaW5rKS8yLFxuICAgIHc6IHBhcmFtLncgLSBwYXJhbS5oICogc2hyaW5rZGlmZixcbiAgICBoOiBwYXJhbS5oICogdnNocmluayxcbiAgfSwgc3ByaXRlcy5zbGlkZXIsIHBhcmFtLmNvbG9yKTtcblxuICBsZXQgeG9mZnMgPSByb3VuZChtYXgoc3ByaXRlcy5zbGlkZXIudWlkYXRhLndoWzBdICogcGFyYW0uaCAqIHZzaHJpbmssIGhhbmRsZV93KSAvIDIpO1xuICBsZXQgZHJhZ2dhYmxlX3dpZHRoID0gcGFyYW0udyAtIHhvZmZzICogMjtcblxuICAvLyBEcmF3IG5vdGNoZXMgLSB3b3VsZCBhbHNvIG5lZWQgdG8gcXVhbnRpemUgdGhlIHZhbHVlcyBiZWxvd1xuICAvLyBpZiAoIXNsaWRlci0+bm9fbm90Y2hlcykge1xuICAvLyAgIGZsb2F0IHNwYWNlX2Zvcl9ub3RjaGVzID0gd2lkdGggLSB4b2ZmcyAqIDQ7XG4gIC8vICAgaW50IG51bV9ub3RjaGVzID0gbWF4IC0gMTtcbiAgLy8gICBmbG9hdCBub3RjaF93ID0gdGlsZV9zY2FsZSAqIGdsb3ZfdWlfc2xpZGVyX25vdGNoLT5HZXRUaWxlV2lkdGgoKTtcbiAgLy8gICBmbG9hdCBub3RjaF9oID0gdGlsZV9zY2FsZSAqIGdsb3ZfdWlfc2xpZGVyX25vdGNoLT5HZXRUaWxlSGVpZ2h0KCk7XG4gIC8vICAgZmxvYXQgbWF4X25vdGNoZXMgPSBzcGFjZV9mb3Jfbm90Y2hlcyAvIChub3RjaF93ICsgMik7XG4gIC8vICAgaW50IG5vdGNoX2luYyA9IDE7XG4gIC8vICAgaWYgKG51bV9ub3RjaGVzID4gbWF4X25vdGNoZXMpXG4gIC8vICAgICBub3RjaF9pbmMgPSBjZWlsKG51bV9ub3RjaGVzIC8gZmxvb3IobWF4X25vdGNoZXMpKTtcblxuICAvLyAgIGZvciAoaW50IGlpID0gMTsgaWkqbm90Y2hfaW5jIDw9IG51bV9ub3RjaGVzOyBpaSsrKSB7XG4gIC8vICAgICBmbG9hdCBub3RjaF94X21pZCA9IHggKyB4b2ZmcyArIGRyYWdnYWJsZV93aWR0aCAqIGlpICogbm90Y2hfaW5jIC8gKGZsb2F0KW1heDtcbiAgLy8gICAgIGlmIChub3RjaF94X21pZCAtIG5vdGNoX3cvMiA8IHggKyB4b2ZmcyAqIDIpXG4gIC8vICAgICAgIGNvbnRpbnVlO1xuICAvLyAgICAgaWYgKG5vdGNoX3hfbWlkICsgbm90Y2hfdy8yID4geCArIHdpZHRoIC0geG9mZnMgKiAyKVxuICAvLyAgICAgICBjb250aW51ZTtcbiAgLy8gICAgIGdsb3ZfdWlfc2xpZGVyX25vdGNoLT5EcmF3U3RyZXRjaGVkQ29sb3Iobm90Y2hfeF9taWQgLSBub3RjaF93IC8gMiwgeSArIHlvZmZzLFxuICAvLyAgICAgICB6ICsgMC4yNSwgbm90Y2hfdywgbm90Y2hfaCwgMCwgY29sb3IpO1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8vIEhhbmRsZVxuICBsZXQgZHJhZyA9ICFkaXNhYmxlZCAmJiBnbG92X2lucHV0LmRyYWcocGFyYW0pO1xuICBsZXQgZ3JhYmJlZCA9IEJvb2xlYW4oZHJhZyk7XG4gIGxldCBjbGljayA9IGdsb3ZfaW5wdXQuY2xpY2socGFyYW0pO1xuICBpZiAoY2xpY2spIHtcbiAgICBncmFiYmVkID0gZmFsc2U7XG4gICAgLy8gdXBkYXRlIHBvc1xuICAgIHZhbHVlID0gKGNsaWNrLnBvc1swXSAtIChwYXJhbS54ICsgeG9mZnMpKSAvIGRyYWdnYWJsZV93aWR0aDtcbiAgICB2YWx1ZSA9IHBhcmFtLm1pbiArIChwYXJhbS5tYXggLSBwYXJhbS5taW4pICogY2xhbXAodmFsdWUsIDAsIDEpO1xuICAgIHBsYXlVSVNvdW5kKCdidXR0b25fY2xpY2snKTtcbiAgfSBlbHNlIGlmIChncmFiYmVkKSB7XG4gICAgLy8gdXBkYXRlIHBvc1xuICAgIHZhbHVlID0gKGRyYWcuY3VyX3Bvc1swXSAtIChwYXJhbS54ICsgeG9mZnMpKSAvIGRyYWdnYWJsZV93aWR0aDtcbiAgICB2YWx1ZSA9IHBhcmFtLm1pbiArIChwYXJhbS5tYXggLSBwYXJhbS5taW4pICogY2xhbXAodmFsdWUsIDAsIDEpO1xuICAgIC8vIEVhdCBhbGwgbW91c2VvdmVycyB3aGlsZSBkcmFnZ2luZ1xuICAgIGdsb3ZfaW5wdXQubW91c2VPdmVyKCk7XG4gICAgc2xpZGVyX2RyYWdnaW5nID0gdHJ1ZTtcbiAgfVxuICBsZXQgcm9sbG92ZXIgPSAhZGlzYWJsZWQgJiYgZ2xvdl9pbnB1dC5tb3VzZU92ZXIocGFyYW0pO1xuICBsZXQgaGFuZGxlX2NlbnRlcl9wb3MgPSBwYXJhbS54ICsgeG9mZnMgKyBkcmFnZ2FibGVfd2lkdGggKiAodmFsdWUgLSBwYXJhbS5taW4pIC8gKHBhcmFtLm1heCAtIHBhcmFtLm1pbik7XG4gIGxldCBoYW5kbGVfeCA9IGhhbmRsZV9jZW50ZXJfcG9zIC0gaGFuZGxlX3cgLyAyO1xuICBsZXQgaGFuZGxlX3kgPSBwYXJhbS55ICsgcGFyYW0uaCAvIDIgLSBoYW5kbGVfaCAvIDI7XG4gIGxldCBoYW5kbGVfY29sb3IgPSBjb2xvcl9zbGlkZXJfaGFuZGxlO1xuICBpZiAoZ3JhYmJlZCkge1xuICAgIGhhbmRsZV9jb2xvciA9IGNvbG9yX3NsaWRlcl9oYW5kbGVfZ3JhYjtcbiAgfSBlbHNlIGlmIChyb2xsb3Zlcikge1xuICAgIGhhbmRsZV9jb2xvciA9IGNvbG9yX3NsaWRlcl9oYW5kbGVfb3ZlcjtcbiAgfVxuXG4gIHNwcml0ZXMuc2xpZGVyX2hhbmRsZS5kcmF3KHtcbiAgICB4OiBoYW5kbGVfeCxcbiAgICB5OiBoYW5kbGVfeSxcbiAgICB6OiBwYXJhbS56ICsgMC4xLFxuICAgIHc6IGhhbmRsZV93LFxuICAgIGg6IGhhbmRsZV9oLFxuICAgIGNvbG9yOiBoYW5kbGVfY29sb3IsXG4gICAgZnJhbWU6IDAsXG4gIH0pO1xuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxubGV0IHBwX2JhZF9mcmFtZXMgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNNZW51VXAoKSB7XG4gIHJldHVybiBtb2RhbF9kaWFsb2cgfHwgbWVudV91cDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpY2tVSShkdCkge1xuICBsYXN0X2ZyYW1lX2J1dHRvbl9tb3VzZW92ZXIgPSBmcmFtZV9idXR0b25fbW91c2VvdmVyO1xuICBmcmFtZV9idXR0b25fbW91c2VvdmVyID0gZmFsc2U7XG4gIGZvY3VzZWRfbGFzdF9mcmFtZSA9IGZvY3VzZWRfdGhpc19mcmFtZTtcbiAgZm9jdXNlZF90aGlzX2ZyYW1lID0gZmFsc2U7XG4gIGZvY3VzZWRfa2V5X25vdCA9IG51bGw7XG4gIG1vZGFsX3N0ZWFsaW5nX2ZvY3VzID0gZmFsc2U7XG4gIHRvdWNoX2NoYW5nZWRfZm9jdXMgPSBmYWxzZTtcbiAgcGVyX2ZyYW1lX2RvbV9hbGxvY1tnbG92X2VuZ2luZS5mcmFtZV9pbmRleCAlIHBlcl9mcmFtZV9kb21fYWxsb2MubGVuZ3RoXSA9IDA7XG5cbiAgbGFzdF9mcmFtZV9lZGl0X2JveGVzID0gZXhwb3J0cy50aGlzX2ZyYW1lX2VkaXRfYm94ZXM7XG4gIGV4cG9ydHMudGhpc19mcmFtZV9lZGl0X2JveGVzID0gW107XG4gIGxpbmtUaWNrKCk7XG5cbiAgZG9tX2VsZW1zX2lzc3VlZCA9IDA7XG5cbiAgbGV0IHBwX3RoaXNfZnJhbWUgPSBmYWxzZTtcbiAgaWYgKG1vZGFsX2RpYWxvZyB8fCBtZW51X3VwKSB7XG4gICAgbGV0IHBhcmFtcyA9IG1lbnVfZmFkZV9wYXJhbXM7XG4gICAgaWYgKCFtZW51X3VwKSB7XG4gICAgICAvLyBNb2RhbHMgZ2V0IGRlZmF1bHRzXG4gICAgICBwYXJhbXMgPSBtZW51X2ZhZGVfcGFyYW1zX2RlZmF1bHQ7XG4gICAgfVxuICAgIG1lbnVfdXBfdGltZSArPSBkdDtcbiAgICAvLyBFZmZlY3RzIGR1cmluZyBtb2RhbCBkaWFsb2dzXG4gICAgbGV0IGZhY3RvciA9IG1pbihtZW51X3VwX3RpbWUgLyA1MDAsIDEpO1xuICAgIGlmIChnbG92X2VuZ2luZS5wb3N0cHJvY2Vzc2luZyAmJiAhZ2xvdl9lbmdpbmUuZGVmaW5lcy5OT1BQKSB7XG4gICAgICAvLyBOb3RlOiB0aGlzIGxlcnAgdXNlZCB0byBiZSBkb25lIGxhdGVyIGluIHRoZSBmcmFtZSAoZHVyaW5nIGRyYXdpbmcsIG5vdCBxdWV1ZWluZykgYSBwcm9ibGVtP1xuICAgICAgbGV0IGJsdXJfZmFjdG9yID0gbGVycChmYWN0b3IsIHBhcmFtcy5ibHVyWzBdLCBwYXJhbXMuYmx1clsxXSk7XG4gICAgICBpZiAoYmx1cl9mYWN0b3IpIHtcbiAgICAgICAgZWZmZWN0c1F1ZXVlKHBhcmFtcy56IC0gMiwgZG9CbHVyRWZmZWN0LmJpbmQobnVsbCwgYmx1cl9mYWN0b3IpKTtcbiAgICAgIH1cbiAgICAgIGxldCBzYXR1cmF0aW9uID0gbGVycChmYWN0b3IsIHBhcmFtcy5zYXR1cmF0aW9uWzBdLCBwYXJhbXMuc2F0dXJhdGlvblsxXSk7XG4gICAgICBsZXQgYnJpZ2h0bmVzcyA9IGxlcnAoZmFjdG9yLCBwYXJhbXMuYnJpZ2h0bmVzc1swXSwgcGFyYW1zLmJyaWdodG5lc3NbMV0pO1xuICAgICAgaWYgKHNhdHVyYXRpb24gIT09IDEgfHwgYnJpZ2h0bmVzcyAhPT0gMSkge1xuICAgICAgICBlZmZlY3RzUXVldWUocGFyYW1zLnogLSAxLCBkb0Rlc2F0dXJhdGVFZmZlY3QuYmluZChudWxsLCBzYXR1cmF0aW9uLCBicmlnaHRuZXNzKSk7XG4gICAgICB9XG4gICAgICBwcF90aGlzX2ZyYW1lID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3IsIGp1c3QgZGFya2VuXG4gICAgICBzcHJpdGVzLndoaXRlLmRyYXcoe1xuICAgICAgICB4OiBjYW1lcmEyZC54MFJlYWwoKSxcbiAgICAgICAgeTogY2FtZXJhMmQueTBSZWFsKCksXG4gICAgICAgIHo6IHBhcmFtcy56IC0gMixcbiAgICAgICAgY29sb3I6IHBhcmFtcy5mYWxsYmFja19kYXJrZW4sXG4gICAgICAgIHc6IGNhbWVyYTJkLndSZWFsKCksXG4gICAgICAgIGg6IGNhbWVyYTJkLmhSZWFsKCksXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbWVudV91cF90aW1lID0gMDtcbiAgfVxuICBtZW51X3VwID0gZmFsc2U7XG5cbiAgaWYgKCFnbG92X2VuZ2luZS5pc19sb2FkaW5nICYmIGdsb3ZfZW5naW5lLmdldEZyYW1lRHRBY3R1YWwoKSA+IDUwICYmIHBwX3RoaXNfZnJhbWUpIHtcbiAgICBwcF9iYWRfZnJhbWVzID0gKHBwX2JhZF9mcmFtZXMgfHwgMCkgKyAxO1xuICAgIGlmIChwcF9iYWRfZnJhbWVzID49IDYpIHsgLy8gNiBpbiBhIHJvdywgZGlzYWJsZSBzdXBlcmZsdW91cyBwb3N0cHJvY2Vzc2luZ1xuICAgICAgZ2xvdl9lbmdpbmUucG9zdHByb2Nlc3NpbmdBbGxvdyhmYWxzZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHBwX2JhZF9mcmFtZXMpIHtcbiAgICBwcF9iYWRfZnJhbWVzID0gMDtcbiAgfVxuXG5cbiAgaWYgKG1vZGFsX2RpYWxvZykge1xuICAgIG1vZGFsRGlhbG9nUnVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZEZyYW1lKCkge1xuICBpZiAoZ2xvdl9pbnB1dC5jbGljayh7XG4gICAgeDogLUluZmluaXR5LCB5OiAtSW5maW5pdHksXG4gICAgdzogSW5maW5pdHksIGg6IEluZmluaXR5LFxuICB9KSkge1xuICAgIGZvY3VzU3RlYWwoJ2NhbnZhcycpO1xuICB9XG5cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxhc3RfZnJhbWVfZWRpdF9ib3hlcy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgZWRpdF9ib3ggPSBsYXN0X2ZyYW1lX2VkaXRfYm94ZXNbaWldO1xuICAgIGxldCBpZHggPSBleHBvcnRzLnRoaXNfZnJhbWVfZWRpdF9ib3hlcy5pbmRleE9mKGVkaXRfYm94KTtcbiAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgZWRpdF9ib3gudW5ydW4oKTtcbiAgICB9XG4gIH1cblxuICB3aGlsZSAoZG9tX2VsZW1zX2lzc3VlZCA8IGRvbV9lbGVtcy5sZW5ndGgpIHtcbiAgICBsZXQgZWxlbSA9IGRvbV9lbGVtcy5wb3AoKTtcbiAgICBkeW5hbWljX3RleHRfZWxlbS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW51cERPTUVsZW1zKCkge1xuICB3aGlsZSAoZG9tX2VsZW1zLmxlbmd0aCkge1xuICAgIGxldCBlbGVtID0gZG9tX2VsZW1zLnBvcCgpO1xuICAgIGR5bmFtaWNfdGV4dF9lbGVtLnJlbW92ZUNoaWxkKGVsZW0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW51VXAocGFyYW0pIHtcbiAgbWVyZ2UobWVudV9mYWRlX3BhcmFtcywgbWVudV9mYWRlX3BhcmFtc19kZWZhdWx0KTtcbiAgaWYgKHBhcmFtKSB7XG4gICAgbWVyZ2UobWVudV9mYWRlX3BhcmFtcywgcGFyYW0pO1xuICB9XG4gIG1lbnVfdXAgPSB0cnVlO1xuICBtb2RhbF9zdGVhbGluZ19mb2N1cyA9IHRydWU7XG4gIGdsb3ZfaW5wdXQuZWF0QWxsSW5wdXQoKTtcbn1cblxuZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh0ZXh0KSB7XG4gIGxldCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgdGV4dEFyZWEuc3R5bGUudG9wID0gMDtcbiAgdGV4dEFyZWEuc3R5bGUubGVmdCA9IDA7XG4gIHRleHRBcmVhLnN0eWxlLndpZHRoID0gJzJlbSc7XG4gIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9ICcyZW0nO1xuICB0ZXh0QXJlYS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gIHRleHRBcmVhLnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gIHRleHRBcmVhLnN0eWxlLmJveFNoYWRvdyA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7XG4gIHRleHRBcmVhLnZhbHVlID0gdGV4dDtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcbiAgdGV4dEFyZWEuZm9jdXMoKTtcbiAgdGV4dEFyZWEuc2VsZWN0KCk7XG5cbiAgbGV0IHJldCA9IGZhbHNlO1xuICB0cnkge1xuICAgIHJldCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIGRvIG5vdGhpbmdcbiAgfVxuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZVVzZXJTdHJpbmcodGl0bGUsIHRoaW5nLCBzdHIpIHtcbiAgbGV0IGNvcHlfc3VjY2VzcyA9IGNvcHlUZXh0VG9DbGlwYm9hcmQoc3RyKTtcbiAgbW9kYWxUZXh0RW50cnkoe1xuICAgIGVkaXRfdzogNDAwLFxuICAgIGVkaXRfdGV4dDogc3RyLFxuICAgIHRpdGxlLFxuICAgIHRleHQ6IGNvcHlfc3VjY2VzcyA/IGAke3RoaW5nfSBjb3BpZWQgdG8gY2xpcGJvYXJkIWAgOiAnQ29weSB0byBjbGlwYm9hcmQgRkFJTEVELCBwbGVhc2UgY29weSBmcm9tIGJlbG93XFxuJyxcbiAgICBidXR0b25zOiB7XG4gICAgICBPSzogbnVsbCxcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdSZWN0KHgwLCB5MCwgeDEsIHkxLCB6LCBjb2xvcikge1xuICBsZXQgbXggPSBtaW4oeDAsIHgxKTtcbiAgbGV0IG15ID0gbWluKHkwLCB5MSk7XG4gIGxldCBNeCA9IG1heCh4MCwgeDEpO1xuICBsZXQgTXkgPSBtYXgoeTAsIHkxKTtcbiAgc3ByaXRlcy53aGl0ZS5kcmF3KHtcbiAgICB4OiBteCxcbiAgICB5OiBteSxcbiAgICB6LFxuICAgIGNvbG9yLFxuICAgIHc6IE14IC0gbXgsXG4gICAgaDogTXkgLSBteSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3UmVjdDIocGFyYW0pIHtcbiAgZHJhd1JlY3QocGFyYW0ueCwgcGFyYW0ueSwgcGFyYW0ueCArIHBhcmFtLncsIHBhcmFtLnkgKyBwYXJhbS5oLCBwYXJhbS56LCBwYXJhbS5jb2xvcik7XG59XG5cbmZ1bmN0aW9uIHNwcmVhZFRlY2hQYXJhbXMoc3ByZWFkKSB7XG4gIC8vIHNwcmVhZD0wIC0+IDFcbiAgLy8gc3ByZWFkPTAuNSAtPiAyXG4gIC8vIHNwcmVhZD0wLjc1IC0+IDRcbiAgLy8gc3ByZWFkPTEgLT4gbGFyZ2UgZW5vdWdoIHRvIEFBXG4gIHNwcmVhZCA9IG1pbihtYXgoc3ByZWFkLCAwKSwgMC45OSk7XG5cbiAgbGV0IHRlY2hfcGFyYW1zID0ge1xuICAgIHBhcmFtMDogdmVjNCgwLDAsMCwwKSxcbiAgfTtcblxuICB0ZWNoX3BhcmFtcy5wYXJhbTBbMF0gPSAxIC8gKDEgLSBzcHJlYWQpO1xuICB0ZWNoX3BhcmFtcy5wYXJhbTBbMV0gPSAtMC41ICogdGVjaF9wYXJhbXMucGFyYW0wWzBdICsgMC41O1xuICByZXR1cm4gdGVjaF9wYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGRyYXdFbGlwc2VJbnRlcm5hbChzcHJpdGUsIHgwLCB5MCwgeDEsIHkxLCB6LCBzcHJlYWQsIHR1MCwgdHYwLCB0dTEsIHR2MSwgY29sb3IpIHtcbiAgZ2xvdl9zcHJpdGVzLnF1ZXVlcmF3KHNwcml0ZS50ZXhzLFxuICAgIHgwLCB5MCwgeiwgeDEgLSB4MCwgeTEgLSB5MCxcbiAgICB0dTAsIHR2MCwgdHUxLCB0djEsXG4gICAgY29sb3IsIGdsb3ZfZm9udC5mb250X3NoYWRlcnMuZm9udF9hYSwgc3ByZWFkVGVjaFBhcmFtcyhzcHJlYWQpKTtcbn1cblxuZnVuY3Rpb24gZHJhd0NpcmNsZUludGVybmFsKHNwcml0ZSwgeCwgeSwgeiwgciwgc3ByZWFkLCB0dTAsIHR2MCwgdHUxLCB0djEsIGNvbG9yKSB7XG4gIGxldCB4MCA9IHggLSByICogMiArIHIgKiA0ICogdHUwO1xuICBsZXQgeDEgPSB4IC0gciAqIDIgKyByICogNCAqIHR1MTtcbiAgbGV0IHkwID0geSAtIHIgKiAyICsgciAqIDQgKiB0djA7XG4gIGxldCB5MSA9IHkgLSByICogMiArIHIgKiA0ICogdHYxO1xuICBkcmF3RWxpcHNlSW50ZXJuYWwoc3ByaXRlLCB4MCwgeTAsIHgxLCB5MSwgeiwgc3ByZWFkLCB0dTAsIHR2MCwgdHUxLCB0djEsIGNvbG9yKTtcbn1cblxuZnVuY3Rpb24gaW5pdENpcmNsZVNwcml0ZSgpIHtcbiAgY29uc3QgQ0lSQ0xFX1NJWkUgPSAzMjtcbiAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDSVJDTEVfU0laRSpDSVJDTEVfU0laRSk7XG4gIGxldCBtaWRwID0gKENJUkNMRV9TSVpFIC0gMSkgLyAyO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IENJUkNMRV9TSVpFOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IENJUkNMRV9TSVpFOyBqKyspIHtcbiAgICAgIGxldCBkID0gc3FydCgoaSAtIG1pZHApKihpIC0gbWlkcCkgKyAoaiAtIG1pZHApKihqIC0gbWlkcCkpIC8gbWlkcDtcbiAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgZGF0YVtpICsgaipDSVJDTEVfU0laRV0gPSB2ICogMjU1O1xuICAgIH1cbiAgfVxuICBzcHJpdGVzLmNpcmNsZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgIHVybDogJ2NpcmNsZScsXG4gICAgd2lkdGg6IENJUkNMRV9TSVpFLCBoZWlnaHQ6IENJUkNMRV9TSVpFLFxuICAgIGZvcm1hdDogdGV4dHVyZXMuZm9ybWF0LlI4LFxuICAgIGRhdGEsXG4gICAgZmlsdGVyX21pbjogZ2wuTElORUFSLFxuICAgIGZpbHRlcl9tYXg6IGdsLkxJTkVBUixcbiAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgIG9yaWdpbjogdmVjMigwLjUsIDAuNSksXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0VsaXBzZSh4MCwgeTAsIHgxLCB5MSwgeiwgc3ByZWFkLCBjb2xvcikge1xuICBpZiAoIXNwcml0ZXMuY2lyY2xlKSB7XG4gICAgaW5pdENpcmNsZVNwcml0ZSgpO1xuICB9XG4gIGRyYXdFbGlwc2VJbnRlcm5hbChzcHJpdGVzLmNpcmNsZSwgeDAsIHkwLCB4MSwgeTEsIHosIHNwcmVhZCwgMCwgMCwgMSwgMSwgY29sb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0NpcmNsZSh4LCB5LCB6LCByLCBzcHJlYWQsIGNvbG9yKSB7XG4gIGlmICghc3ByaXRlcy5jaXJjbGUpIHtcbiAgICBpbml0Q2lyY2xlU3ByaXRlKCk7XG4gIH1cbiAgZHJhd0NpcmNsZUludGVybmFsKHNwcml0ZXMuY2lyY2xlLCB4LCB5LCB6LCByLCBzcHJlYWQsIDAsIDAsIDEsIDEsIGNvbG9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdIb2xsb3dDaXJjbGUoeCwgeSwgeiwgciwgc3ByZWFkLCBjb2xvcikge1xuICBpZiAoIXNwcml0ZXMuaG9sbG93X2NpcmNsZSkge1xuICAgIGNvbnN0IENJUkNMRV9TSVpFID0gMTI4O1xuICAgIGNvbnN0IExJTkVfVyA9IDI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDSVJDTEVfU0laRSpDSVJDTEVfU0laRSk7XG4gICAgbGV0IG1pZHAgPSAoQ0lSQ0xFX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDSVJDTEVfU0laRTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IENJUkNMRV9TSVpFOyBqKyspIHtcbiAgICAgICAgbGV0IGQgPSBzcXJ0KChpIC0gbWlkcCkqKGkgLSBtaWRwKSArIChqIC0gbWlkcCkqKGogLSBtaWRwKSkgLyBtaWRwO1xuICAgICAgICBsZXQgdiA9IGNsYW1wKDEgLSBkLCAwLCAxKTtcbiAgICAgICAgaWYgKHYgPiAwLjUpIHtcbiAgICAgICAgICB2ID0gMSAtIHY7XG4gICAgICAgIH1cbiAgICAgICAgdiArPSAoTElORV9XIC8gQ0lSQ0xFX1NJWkUpO1xuICAgICAgICBkYXRhW2kgKyBqKkNJUkNMRV9TSVpFXSA9IHYgKiAyNTU7XG4gICAgICB9XG4gICAgfVxuICAgIHNwcml0ZXMuaG9sbG93X2NpcmNsZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGUoe1xuICAgICAgdXJsOiAnaG9sbG93X2NpcmNsZScsXG4gICAgICB3aWR0aDogQ0lSQ0xFX1NJWkUsIGhlaWdodDogQ0lSQ0xFX1NJWkUsXG4gICAgICBmb3JtYXQ6IHRleHR1cmVzLmZvcm1hdC5SOCxcbiAgICAgIGRhdGEsXG4gICAgICBmaWx0ZXJfbWluOiBnbC5MSU5FQVIsXG4gICAgICBmaWx0ZXJfbWF4OiBnbC5MSU5FQVIsXG4gICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICB9XG4gIGRyYXdDaXJjbGVJbnRlcm5hbChzcHJpdGVzLmhvbGxvd19jaXJjbGUsIHgsIHksIHosIHIsIHNwcmVhZCwgMCwgMCwgMSwgMSwgY29sb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0xpbmUoeDAsIHkwLCB4MSwgeTEsIHosIHcsIHNwcmVhZCwgY29sb3IpIHtcbiAgaWYgKCFzcHJpdGVzLmxpbmUpIHtcbiAgICBjb25zdCBMSU5FX1NJWkU9MzI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShMSU5FX1NJWkUqTElORV9TSVpFKTtcbiAgICBsZXQgbWlkcCA9IChMSU5FX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBMSU5FX1NJWkU7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBMSU5FX1NJWkU7IGorKykge1xuICAgICAgICBsZXQgZCA9IGFicygoaSAtIG1pZHApIC8gbWlkcCk7XG4gICAgICAgIGxldCB2ID0gY2xhbXAoMSAtIGQsIDAsIDEpO1xuICAgICAgICBkYXRhW2kgKyBqKkxJTkVfU0laRV0gPSB2ICogMjU1O1xuICAgICAgfVxuICAgIH1cbiAgICBzcHJpdGVzLmxpbmUgPSBnbG92X3Nwcml0ZXMuY3JlYXRlKHtcbiAgICAgIHVybDogJ2xpbmUnLFxuICAgICAgd2lkdGg6IExJTkVfU0laRSwgaGVpZ2h0OiBMSU5FX1NJWkUsXG4gICAgICBmb3JtYXQ6IHRleHR1cmVzLmZvcm1hdC5SOCxcbiAgICAgIGRhdGEsXG4gICAgICBmaWx0ZXJfbWluOiBnbC5MSU5FQVIsXG4gICAgICBmaWx0ZXJfbWF4OiBnbC5MSU5FQVIsXG4gICAgICB3cmFwX3M6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICB3cmFwX3Q6IGdsLkNMQU1QX1RPX0VER0UsXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGR4ID0geDEgLSB4MDtcbiAgbGV0IGR5ID0geTEgLSB5MDtcbiAgbGV0IGxlbmd0aCA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcbiAgZHggLz0gbGVuZ3RoO1xuICBkeSAvPSBsZW5ndGg7XG4gIGxldCB0YW5neCA9IC1keSAqIHc7XG4gIGxldCB0YW5neSA9IGR4ICogdztcblxuICBnbG92X3Nwcml0ZXMucXVldWVyYXc0KHNwcml0ZXMubGluZS50ZXhzLFxuICAgIHgwICsgdGFuZ3gsIHkwICsgdGFuZ3ksXG4gICAgeDEgKyB0YW5neCwgeTEgKyB0YW5neSxcbiAgICB4MSAtIHRhbmd4LCB5MSAtIHRhbmd5LFxuICAgIHgwIC0gdGFuZ3gsIHkwIC0gdGFuZ3ksXG4gICAgeixcbiAgICAwLCAwLCAxLCAxLFxuICAgIGNvbG9yLCBnbG92X2ZvbnQuZm9udF9zaGFkZXJzLmZvbnRfYWEsIHNwcmVhZFRlY2hQYXJhbXMoc3ByZWFkKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3SG9sbG93UmVjdCh4MCwgeTAsIHgxLCB5MSwgeiwgdywgc3ByZWFkLCBjb2xvcikge1xuICBkcmF3TGluZSh4MCwgeTAsIHgxLCB5MCwgeiwgdywgc3ByZWFkLCBjb2xvcik7XG4gIGRyYXdMaW5lKHgxLCB5MCwgeDEsIHkxLCB6LCB3LCBzcHJlYWQsIGNvbG9yKTtcbiAgZHJhd0xpbmUoeDEsIHkxLCB4MCwgeTEsIHosIHcsIHNwcmVhZCwgY29sb3IpO1xuICBkcmF3TGluZSh4MCwgeTEsIHgwLCB5MCwgeiwgdywgc3ByZWFkLCBjb2xvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3Q29uZSh4MCwgeTAsIHgxLCB5MSwgeiwgdzAsIHcxLCBzcHJlYWQsIGNvbG9yKSB7XG4gIGlmICghc3ByaXRlcy5jb25lKSB7XG4gICAgY29uc3QgQ09ORV9TSVpFID0gMzI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShDT05FX1NJWkUqQ09ORV9TSVpFKTtcbiAgICBsZXQgbWlkcCA9IChDT05FX1NJWkUgLSAxKSAvIDI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDT05FX1NJWkU7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBDT05FX1NJWkU7IGorKykge1xuICAgICAgICBsZXQgZHggPSAwO1xuICAgICAgICBsZXQgZHkgPSAwO1xuICAgICAgICBsZXQgZCA9IDA7XG4gICAgICAgIGlmIChpID4gbWlkcCkge1xuICAgICAgICAgIGR4ID0gKGkgLSBtaWRwKSAvIG1pZHA7XG4gICAgICAgICAgZHkgPSBhYnMoaiAtIG1pZHApIC8gbWlkcDtcbiAgICAgICAgICBsZXQgZENpcmNsZSA9IHNxcnQoZHgqZHggKyBkeSpkeSk7XG4gICAgICAgICAgZCA9IGR4ICogZENpcmNsZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdiA9IGNsYW1wKDEgLSBkLCAwLCAxKTtcbiAgICAgICAgZGF0YVtpICsgaipDT05FX1NJWkVdID0gdiAqIDI1NTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3ByaXRlcy5jb25lID0gZ2xvdl9zcHJpdGVzLmNyZWF0ZSh7XG4gICAgICB1cmw6ICdjb25lJyxcbiAgICAgIHdpZHRoOiBDT05FX1NJWkUsIGhlaWdodDogQ09ORV9TSVpFLFxuICAgICAgZm9ybWF0OiB0ZXh0dXJlcy5mb3JtYXQuUjgsXG4gICAgICBkYXRhLFxuICAgICAgZmlsdGVyX21pbjogZ2wuTElORUFSLFxuICAgICAgZmlsdGVyX21heDogZ2wuTElORUFSLFxuICAgICAgd3JhcF9zOiBnbC5DTEFNUF9UT19FREdFLFxuICAgICAgd3JhcF90OiBnbC5DTEFNUF9UT19FREdFLFxuICAgICAgb3JpZ2luOiB2ZWMyKDAuNSwgMC41KSxcbiAgICB9KTtcbiAgfVxuICBsZXQgZHggPSB4MSAtIHgwO1xuICBsZXQgZHkgPSB5MSAtIHkwO1xuICBsZXQgbGVuZ3RoID0gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpO1xuICBkeCAvPSBsZW5ndGg7XG4gIGR5IC89IGxlbmd0aDtcbiAgbGV0IHRhbmd4ID0gLWR5O1xuICBsZXQgdGFuZ3kgPSBkeDtcbiAgZ2xvdl9zcHJpdGVzLnF1ZXVlcmF3NChzcHJpdGVzLmNvbmUudGV4cyxcbiAgICB4MCAtIHRhbmd4KncwLCB5MCAtIHRhbmd5KncwLFxuICAgIHgwICsgdGFuZ3gqdzAsIHkwICsgdGFuZ3kqdzAsXG4gICAgeDEgKyB0YW5neCp3MSwgeTEgKyB0YW5neSp3MSxcbiAgICB4MSAtIHRhbmd4KncxLCB5MSAtIHRhbmd5KncxLFxuICAgIHosXG4gICAgMCwgMCwgMSwgMSxcbiAgICBjb2xvciwgZ2xvdl9mb250LmZvbnRfc2hhZGVycy5mb250X2FhLCBzcHJlYWRUZWNoUGFyYW1zKHNwcmVhZCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVTaXplcyhzY2FsZSkge1xuICBidXR0b25faGVpZ2h0ID0gcm91bmQoMzIgKiBzY2FsZSk7XG4gIGZvbnRfaGVpZ2h0ID0gcm91bmQoMjQgKiBzY2FsZSk7XG4gIGJ1dHRvbl93aWR0aCA9IHJvdW5kKDIwMCAqIHNjYWxlKTtcbiAgYnV0dG9uX2ltZ19zaXplID0gYnV0dG9uX2hlaWdodDtcbiAgbW9kYWxfYnV0dG9uX3dpZHRoID0gcm91bmQoYnV0dG9uX3dpZHRoIC8gMik7XG4gIG1vZGFsX3dpZHRoID0gcm91bmQoNjAwICogc2NhbGUpO1xuICBtb2RhbF95MCA9IHJvdW5kKDIwMCAqIHNjYWxlKTtcbiAgbW9kYWxfdGl0bGVfc2NhbGUgPSAxLjI7XG4gIG1vZGFsX3BhZCA9IHJvdW5kKDE2ICogc2NhbGUpO1xuICB0b29sdGlwX3dpZHRoID0gcm91bmQoNDAwICogc2NhbGUpO1xuICB0b29sdGlwX3BhZCA9IHJvdW5kKDggKiBzY2FsZSk7XG4gIHBhbmVsX3BpeGVsX3NjYWxlID0gYnV0dG9uX2hlaWdodCAvIDEzOyAvLyBidXR0b25faGVpZ2h0IC8gcGFuZWwgcGl4ZWwgcmVzb2x1dGlvblxuICB0b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlID0gcGFuZWxfcGl4ZWxfc2NhbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQYW5lbFBpeGVsU2NhbGUoc2NhbGUpIHtcbiAgdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSA9IHBhbmVsX3BpeGVsX3NjYWxlID0gc2NhbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNb2RhbFNpemVzKF9tb2RhbF9idXR0b25fd2lkdGgsIHdpZHRoLCB5MCwgdGl0bGVfc2NhbGUsIHBhZCkge1xuICBtb2RhbF9idXR0b25fd2lkdGggPSBfbW9kYWxfYnV0dG9uX3dpZHRoIHx8IHJvdW5kKGJ1dHRvbl93aWR0aCAvIDIpO1xuICBtb2RhbF93aWR0aCA9IHdpZHRoIHx8IDYwMDtcbiAgbW9kYWxfeTAgPSB5MCB8fCAyMDA7XG4gIG1vZGFsX3RpdGxlX3NjYWxlID0gdGl0bGVfc2NhbGUgfHwgMS4yO1xuICBtb2RhbF9wYWQgPSBwYWQgfHwgbW9kYWxfcGFkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Rm9udEhlaWdodChfZm9udF9oZWlnaHQpIHtcbiAgZm9udF9oZWlnaHQgPSBfZm9udF9oZWlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUb29sdGlwV2lkdGgoX3Rvb2x0aXBfd2lkdGgsIF90b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlKSB7XG4gIHRvb2x0aXBfd2lkdGggPSBfdG9vbHRpcF93aWR0aDtcbiAgdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZSA9IF90b29sdGlwX3BhbmVsX3BpeGVsX3NjYWxlO1xuICB0b29sdGlwX3BhZCA9IG1vZGFsX3BhZCAvIDIgKiBfdG9vbHRpcF9wYW5lbF9waXhlbF9zY2FsZTtcbn1cblxuc2NhbGVTaXplcygxKTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9lbmdpbmUuanMnKTtcbmNvbnN0IGdsb3ZfZm9udCA9IHJlcXVpcmUoJy4vZm9udC5qcycpO1xuY29uc3QgaW5wdXQgPSByZXF1aXJlKCcuL2lucHV0LmpzJyk7XG5jb25zdCB7IHNjcm9sbEFyZWFDcmVhdGUgfSA9IHJlcXVpcmUoJy4vc2Nyb2xsX2FyZWEuanMnKTtcbmNvbnN0IHNlbGVjdGlvbl9ib3ggPSByZXF1aXJlKCcuL3NlbGVjdGlvbl9ib3guanMnKTtcbmNvbnN0IHNpbXBsZV9tZW51ID0gcmVxdWlyZSgnLi9zaW1wbGVfbWVudS5qcycpO1xuY29uc3QgdWkgPSByZXF1aXJlKCcuL3VpLmpzJyk7XG5cbmNvbnN0IHsgY2VpbCwgcmFuZG9tIH0gPSBNYXRoO1xuXG5sZXQgZGVtb19tZW51O1xubGV0IGRlbW9fbWVudV91cCA9IGZhbHNlO1xubGV0IGRlbW9fcmVzdWx0O1xubGV0IGZvbnRfc3R5bGU7XG5cbmxldCBpbml0ZWQ7XG5sZXQgZWRpdF9ib3gxO1xubGV0IGVkaXRfYm94MjtcbmxldCB0ZXN0X3NlbGVjdDE7XG5sZXQgdGVzdF9zZWxlY3QyO1xubGV0IHRlc3Rfc2VsZWN0X2xhcmdlMTtcbmxldCB0ZXN0X3Njcm9sbF9hcmVhO1xubGV0IHNsaWRlcl92YWx1ZSA9IDE7XG5sZXQgdGVzdF9saW5lcyA9IDEwO1xuZnVuY3Rpb24gaW5pdCh4LCB5LCBjb2x1bW5fd2lkdGgpIHtcbiAgZWRpdF9ib3gxID0gdWkuY3JlYXRlRWRpdEJveCh7XG4gICAgeDogeCArIGNvbHVtbl93aWR0aCxcbiAgICB5OiB5LFxuICAgIHc6IGNvbHVtbl93aWR0aCAtIDgsXG4gIH0pO1xuICBlZGl0X2JveDIgPSB1aS5jcmVhdGVFZGl0Qm94KHtcbiAgICB4OiB4ICsgY29sdW1uX3dpZHRoICsgY29sdW1uX3dpZHRoLFxuICAgIHk6IHksXG4gICAgdzogY29sdW1uX3dpZHRoIC0gOCxcbiAgfSk7XG4gIGRlbW9fbWVudSA9IHNpbXBsZV9tZW51LmNyZWF0ZSh7XG4gICAgaXRlbXM6IFtcbiAgICAgICdPcHRpb24gMScsXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdPcHRpb24gMicsXG4gICAgICAgIHRhZzogJ29wdDInLFxuICAgICAgfSwge1xuICAgICAgICBuYW1lOiAnT3B0aW9uIEMnLFxuICAgICAgICBjYjogKCkgPT4ge1xuICAgICAgICAgIGRlbW9fcmVzdWx0ID0gJ0NhbGxiYWNrIHRoZSB0aGlyZCc7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF1cbiAgfSk7XG4gIGZvbnRfc3R5bGUgPSBnbG92X2ZvbnQuc3R5bGUobnVsbCwge1xuICAgIG91dGxpbmVfd2lkdGg6IDEuMCxcbiAgICBvdXRsaW5lX2NvbG9yOiAweDgwMDAwMGZmLFxuICAgIGdsb3dfeG9mZnM6IDMuMjUsXG4gICAgZ2xvd195b2ZmczogMy4yNSxcbiAgICBnbG93X2lubmVyOiAtMi41LFxuICAgIGdsb3dfb3V0ZXI6IDUsXG4gICAgZ2xvd19jb2xvcjogMHgwMDAwMDBmZixcbiAgfSk7XG5cbiAgdGVzdF9zZWxlY3QxID0gc2VsZWN0aW9uX2JveC5jcmVhdGUoe1xuICAgIGl0ZW1zOiBbJ0FwcGxlcycsICdCYW5hbmFzJywgJ0NoYW1lbGVvbiddLFxuICAgIHo6IFouVUksXG4gICAgd2lkdGg6IGNvbHVtbl93aWR0aCAtIDgsXG4gIH0pO1xuICB0ZXN0X3NlbGVjdDIgPSBzZWxlY3Rpb25fYm94LmNyZWF0ZSh7XG4gICAgaXRlbXM6IFsnQXBwbGVzJywgJ0JhbmFuYXMnLCAnQ2hhbWVsZW9uJ10sXG4gICAgaXNfZHJvcGRvd246IHRydWUsXG4gICAgejogWi5VSSxcbiAgICB3aWR0aDogY29sdW1uX3dpZHRoIC0gOCxcbiAgfSk7XG5cbiAgbGV0IGxhcmdlX3BhcmFtID0ge1xuICAgIGl0ZW1zOiBbXSxcbiAgICBpc19kcm9wZG93bjogdHJ1ZSxcbiAgICB6OiBaLlVJLFxuICAgIHdpZHRoOiBjb2x1bW5fd2lkdGggLSA4LFxuICB9O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgMTAwOyArK2lpKSB7XG4gICAgbGFyZ2VfcGFyYW0uaXRlbXMucHVzaChgaXRlbSR7aWl9YCk7XG4gIH1cbiAgdGVzdF9zZWxlY3RfbGFyZ2UxID0gc2VsZWN0aW9uX2JveC5jcmVhdGUobGFyZ2VfcGFyYW0pO1xuXG4gIHRlc3Rfc2Nyb2xsX2FyZWEgPSBzY3JvbGxBcmVhQ3JlYXRlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW4oeCwgeSwgeikge1xuICB6ID0geiB8fCBaLlVJO1xuICBsZXQgbGluZV9oZWlnaHQgPSB1aS5idXR0b25faGVpZ2h0ICsgMjtcbiAgbGV0IGNvbHVtbl93aWR0aCA9IHVpLmJ1dHRvbl93aWR0aCArIDg7XG4gIGlmIChpbml0ZWQgIT09IGAke3h9XyR7eX1fJHtjb2x1bW5fd2lkdGh9YCkge1xuICAgIGluaXQoeCwgeSwgY29sdW1uX3dpZHRoKTtcbiAgICBpbml0ZWQgPSBgJHt4fV8ke3l9XyR7Y29sdW1uX3dpZHRofWA7XG4gIH1cblxuICBpZiAoZGVtb19tZW51X3VwKSB7XG4gICAgZGVtb19yZXN1bHQgPSAnJztcbiAgICBkZW1vX21lbnUucnVuKHsgeDogeCArIHVpLmJ1dHRvbl93aWR0aCwgeTogeSArIGxpbmVfaGVpZ2h0LCB6OiBaLk1PREFMIH0pO1xuICAgIGlmIChkZW1vX21lbnUuaXNTZWxlY3RlZCgpKSB7XG4gICAgICBpZiAoZGVtb19tZW51LmlzU2VsZWN0ZWQoJ29wdDInKSkge1xuICAgICAgICBkZW1vX3Jlc3VsdCA9ICdTZWxlY3RlZCB0aGUgc2Vjb25kIG9wdGlvbic7XG4gICAgICB9XG4gICAgICBpZiAoIWRlbW9fcmVzdWx0KSB7XG4gICAgICAgIGRlbW9fcmVzdWx0ID0gYE1lbnUgc2VsZWN0ZWQ6ICR7ZGVtb19tZW51LmdldFNlbGVjdGVkSXRlbSgpLm5hbWV9YDtcbiAgICAgIH1cbiAgICAgIGRlbW9fbWVudV91cCA9IGZhbHNlO1xuICAgIH1cbiAgICB1aS5tZW51VXAoKTtcbiAgICBpbnB1dC5lYXRBbGxJbnB1dCgpO1xuICB9XG5cbiAgbGV0IHBhZCA9IDQ7XG4gIHRlc3Rfc2Nyb2xsX2FyZWEuYmVnaW4oe1xuICAgIHg6IHggKyBjb2x1bW5fd2lkdGggKyA0LFxuICAgIHk6IHkgKyAzMCxcbiAgICB6LFxuICAgIHc6IDEwMCxcbiAgICBoOiB1aS5mb250X2hlaWdodCAqIDggKyBwYWQsXG4gIH0pO1xuICBsZXQgaW50ZXJuYWxfeSA9IDI7XG4gIHVpLnByaW50KGZvbnRfc3R5bGUsIDIsIGludGVybmFsX3ksIHogKyAxLCBgRWRpdCBCb3ggVGV4dDogJHtlZGl0X2JveDEudGV4dH0rJHtlZGl0X2JveDIudGV4dH1gKTtcbiAgaW50ZXJuYWxfeSArPSB1aS5mb250X2hlaWdodCArIHBhZDtcbiAgdWkucHJpbnQoZm9udF9zdHlsZSwgMiwgaW50ZXJuYWxfeSwgeiArIDEsIGBSZXN1bHQ6ICR7ZGVtb19yZXN1bHR9YCk7XG4gIGludGVybmFsX3kgKz0gdWkuZm9udF9oZWlnaHQgKyBwYWQ7XG4gIGludGVybmFsX3kgKz0gdGVzdF9zZWxlY3RfbGFyZ2UxLnJ1bih7IHg6IDIsIHk6IGludGVybmFsX3ksIHo6IHogKyAxIH0pICsgcGFkO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGVzdF9saW5lczsgKytpaSkge1xuICAgIHVpLnByaW50KGZvbnRfc3R5bGUsIDIsIGludGVybmFsX3ksIHogKyAxLCBgTGluZSAjJHtpaX1gKTtcbiAgICBpbnRlcm5hbF95ICs9IHVpLmZvbnRfaGVpZ2h0ICsgcGFkO1xuICB9XG4gIGlmICh1aS5idXR0b25UZXh0KHsgeDogMiwgeTogaW50ZXJuYWxfeSwgejogeiArIDEsIHRleHQ6ICdBZGQgTGluZScgfSkpIHtcbiAgICArK3Rlc3RfbGluZXM7XG4gIH1cbiAgaW50ZXJuYWxfeSArPSB1aS5idXR0b25faGVpZ2h0ICsgcGFkO1xuICBpZiAodWkuYnV0dG9uVGV4dCh7IHg6IDIsIHk6IGludGVybmFsX3ksIHo6IHogKyAxLCB0ZXh0OiAnUmVtb3ZlIExpbmUnIH0pKSB7XG4gICAgLS10ZXN0X2xpbmVzO1xuICB9XG4gIGludGVybmFsX3kgKz0gdWkuYnV0dG9uX2hlaWdodCArIHBhZDtcbiAgdGVzdF9zY3JvbGxfYXJlYS5lbmQoaW50ZXJuYWxfeSk7XG4gIHVpLnBhbmVsKHsgeDogdGVzdF9zY3JvbGxfYXJlYS54IC0gcGFkLCB5OiB0ZXN0X3Njcm9sbF9hcmVhLnkgLSBwYWQsIHo6IHogLSAxLFxuICAgIHc6IHRlc3Rfc2Nyb2xsX2FyZWEudyArIHBhZCAqIDIsIGg6IHRlc3Rfc2Nyb2xsX2FyZWEuaCArIHBhZCAqIDIgfSk7XG5cbiAgaWYgKHVpLmJ1dHRvblRleHQoeyB4LCB5LCB6LCB0ZXh0OiAnTW9kYWwgRGlhbG9nJywgdG9vbHRpcDogJ1Nob3dzIGEgbW9kYWwgZGlhbG9nJyB9KSkge1xuICAgIGRlbW9fcmVzdWx0ID0gJyc7XG4gICAgdWkubW9kYWxEaWFsb2coe1xuICAgICAgdGl0bGU6ICdNb2RhbCBEaWFsb2cnLFxuICAgICAgdGV4dDogJ1RoaXMgaXMgYSBtb2RhbCBkaWFsb2chJyxcbiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgJ09LJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRlbW9fcmVzdWx0ID0gJ09LIHB1c2hlZCEnO1xuICAgICAgICB9LFxuICAgICAgICAnQ2FuY2VsJzogbnVsbCwgLy8gbm8gY2FsbGJhY2tcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgeSArPSBsaW5lX2hlaWdodDtcblxuICBpZiAoZWRpdF9ib3gxLnJ1bigpID09PSBlZGl0X2JveDEuU1VCTUlUKSB7XG4gICAgdWkubW9kYWxEaWFsb2coe1xuICAgICAgdGl0bGU6ICdNb2RhbCBEaWFsb2cnLFxuICAgICAgdGV4dDogYEVkaXQgYm94IHN1Ym1pdHRlZCB3aXRoIHRleHQgJHtlZGl0X2JveDEudGV4dH1gLFxuICAgICAgYnV0dG9uczoge1xuICAgICAgICAnT0snOiBudWxsLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuICBpZiAoZWRpdF9ib3gyLnJ1bigpID09PSBlZGl0X2JveDIuU1VCTUlUKSB7XG4gICAgZWRpdF9ib3gyLnNldFRleHQoJycpO1xuICB9XG5cbiAgaWYgKHVpLmJ1dHRvblRleHQoeyB4LCB5LCB6LCB0ZXh0OiAnTWVudScsIHRvb2x0aXA6ICdTaG93cyBhIG1lbnUnIH0pKSB7XG4gICAgZGVtb19tZW51X3VwID0gdHJ1ZTtcbiAgfVxuICB5ICs9IGxpbmVfaGVpZ2h0O1xuXG4gIGlmICh1aS5idXR0b25UZXh0KHsgeCwgeSwgeiwgdGV4dDogJ0Rpc2FibGVkJywgdG9vbHRpcDogJ0EgZGlzYWJsZWQgYnV0dG9uJywgZGlzYWJsZWQ6IHRydWUgfSkpIHtcbiAgICBhc3NlcnQoZmFsc2UpO1xuICB9XG4gIHkgKz0gbGluZV9oZWlnaHQ7XG5cbiAgeSArPSB0ZXN0X3NlbGVjdDEucnVuKHsgeCwgeSwgeiB9KTtcbiAgeSArPSB0ZXN0X3NlbGVjdDIucnVuKHsgeCwgeSwgeiB9KTtcblxuICBzbGlkZXJfdmFsdWUgPSB1aS5zbGlkZXIoc2xpZGVyX3ZhbHVlLCB7XG4gICAgeCwgeSwgeixcbiAgICBtaW46IDAsXG4gICAgbWF4OiAyLFxuICB9KTtcbiAgdWkucHJpbnQobnVsbCwgeCArIHVpLmJ1dHRvbl93aWR0aCArIHBhZCwgeSwgeiwgYCR7c2xpZGVyX3ZhbHVlLnRvRml4ZWQoMil9YCk7XG4gIHkgKz0gdWkuYnV0dG9uX2hlaWdodDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkZvbnRUZXN0KHgsIHkpIHtcbiAgY29uc3QgQ09MT1JfUkVEID0gMHhGRjAwMDBmZjtcbiAgY29uc3QgQ09MT1JfR1JFRU4gPSAweDAwRkYwMGZmO1xuICBjb25zdCBDT0xPUl9XSElURSA9IDB4RkZGRkZGZmY7XG4gIGNvbnN0IENPTE9SX0lOVklTSUJMRSA9IDB4MDAwMDAwMDA7XG4gIGxldCB6ID0gWi5VSTtcbiAgbGV0IGZvbnQgPSBlbmdpbmUuZm9udDtcblxuICBsZXQgZm9udF9zaXplID0gdWkuZm9udF9oZWlnaHQgKiAyO1xuICBmb250LmRyYXdTaXplZChudWxsLCB4LCB5LCB6LCBmb250X3NpemUsIGBEZWZhdWx0ICR7Zm9udF9zaXplfSAke3JhbmRvbSgpLnRvRml4ZWQoNyl9YCk7XG4gIHkgKz0gZm9udF9zaXplO1xuICBmb250LmRyYXdTaXplZChudWxsLCB4LCB5LCB6LCBmb250X3NpemUgLyAyLCBgRGVmYXVsdCAke2ZvbnRfc2l6ZSAvIDJ9IExvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IDxbQXxCXT5gKTtcbiAgeSArPSBjZWlsKGZvbnRfc2l6ZSAvIDIpO1xuICBmb250LmRyYXdTaXplZChudWxsLCB4LCB5LCB6LCBmb250X3NpemUgLyA0LFxuICAgIGBEZWZhdWx0ICR7Zm9udF9zaXplIC8gNH0gVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wZWQgb3ZlciB0aGUgbGF6eSBkb2cgcnV0YWJhZ2EgQWxmYWxmYWApO1xuICB5ICs9IGNlaWwoZm9udF9zaXplIC8gNCk7XG5cbiAgY29uc3QgZm9udF9zdHlsZV9vdXRsaW5lID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICBvdXRsaW5lX3dpZHRoOiAxLCBvdXRsaW5lX2NvbG9yOiBDT0xPUl9SRUQsXG4gICAgZ2xvd194b2ZmczogMCwgZ2xvd195b2ZmczogMCwgZ2xvd19pbm5lcjogMCwgZ2xvd19vdXRlcjogMCwgZ2xvd19jb2xvcjogQ09MT1JfSU5WSVNJQkxFLFxuICAgIGNvbG9yOiBDT0xPUl9XSElURVxuICB9KTtcbiAgZm9udC5kcmF3U2l6ZWQoZm9udF9zdHlsZV9vdXRsaW5lLCB4LCB5LCB6LCBmb250X3NpemUsICdPdXRsaW5lJyk7XG4gIHkgKz0gZm9udF9zaXplO1xuXG4gIGNvbnN0IGZvbnRfc3R5bGVfZ2xvdyA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgb3V0bGluZV93aWR0aDogMCwgb3V0bGluZV9jb2xvcjogQ09MT1JfSU5WSVNJQkxFLFxuICAgIGdsb3dfeG9mZnM6IDAsIGdsb3dfeW9mZnM6IDAsIGdsb3dfaW5uZXI6IC0xLCBnbG93X291dGVyOiA0LCBnbG93X2NvbG9yOiBDT0xPUl9HUkVFTixcbiAgICBjb2xvcjogQ09MT1JfV0hJVEVcbiAgfSk7XG4gIGZvbnQuZHJhd1NpemVkKGZvbnRfc3R5bGVfZ2xvdywgeCwgeSwgeiwgZm9udF9zaXplLCAnR2xvdycpO1xuICB5ICs9IGZvbnRfc2l6ZTtcblxuICBjb25zdCBmb250X3N0eWxlX3NoYWRvdyA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgb3V0bGluZV93aWR0aDogMCwgb3V0bGluZV9jb2xvcjogQ09MT1JfSU5WSVNJQkxFLFxuICAgIGdsb3dfeG9mZnM6IDMuMjUsIGdsb3dfeW9mZnM6IDMuMjUsIGdsb3dfaW5uZXI6IC0yLjUsIGdsb3dfb3V0ZXI6IDUsIGdsb3dfY29sb3I6IENPTE9SX0dSRUVOLFxuICAgIGNvbG9yOiBDT0xPUl9XSElURVxuICB9KTtcbiAgZm9udC5kcmF3U2l6ZWQoZm9udF9zdHlsZV9zaGFkb3csIHgsIHksIHosIGZvbnRfc2l6ZSwgJ0dsb3cgKFNoYWRvdykgTzBPMUlsJyk7XG4gIHkgKz0gZm9udF9zaXplO1xuXG4gIGNvbnN0IGZvbnRfc3R5bGVfYm90aCA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgb3V0bGluZV93aWR0aDogMSwgb3V0bGluZV9jb2xvcjogQ09MT1JfUkVELFxuICAgIGdsb3dfeG9mZnM6IDAsIGdsb3dfeW9mZnM6IDAsIGdsb3dfaW5uZXI6IDAsIGdsb3dfb3V0ZXI6IDYsIGdsb3dfY29sb3I6IENPTE9SX0dSRUVOLFxuICAgIGNvbG9yOiBDT0xPUl9XSElURVxuICB9KTtcbiAgZm9udC5kcmF3U2l6ZWQoZm9udF9zdHlsZV9ib3RoLCB4LCB5LCB6LCBmb250X3NpemUsICdCb3RoIDBPMCcpO1xuICB5ICs9IGZvbnRfc2l6ZTtcblxuICBsZXQgZm9udF9zaXplMiA9IDMyO1xuICBjb25zdCBmb250X3N0eWxlX2JvdGgyID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICBvdXRsaW5lX3dpZHRoOiAxLjc1LG91dGxpbmVfY29sb3I6IENPTE9SX1JFRCxcbiAgICBnbG93X3hvZmZzOiAwLjI1LCBnbG93X3lvZmZzOiAwLjI1LCBnbG93X2lubmVyOiAwLCBnbG93X291dGVyOiA1LCBnbG93X2NvbG9yOiAweDdGN0Y3RmZmLFxuICAgIGNvbG9yOiBDT0xPUl9XSElURVxuICB9KTtcbiAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKGZvbnRfc3R5bGVfYm90aDIsIHgsIHksIHosIGZvbnRfc2l6ZTIsIGdsb3ZfZm9udC5BTElHTi5IRklULCB1aS5idXR0b25fd2lkdGggKiAyLCAwLFxuICAgICdBTElHTi5IRklUIFRoZSBxdWljayBicm93biBmb3gganVtcHMgb3ZlciB0aGUgbGF6eSBkb2cnKTtcbiAgeSArPSBmb250X3NpemUyO1xuICBmb250LmRyYXdTaXplZEFsaWduZWQoZm9udF9zdHlsZV9ib3RoMiwgeCwgeSwgeiwgZm9udF9zaXplMiwgZ2xvdl9mb250LkFMSUdOLkhGSVQsIDE0MCwgMCxcbiAgICAnMCBQbGF5ZXJzICgrMSBFYXN5IEJvdHMpJyk7XG4gIHkgKz0gZm9udF9zaXplMjtcblxuICBsZXQgdGVzdCA9ICdnbG93JztcblxuICBpZiAodGVzdCA9PT0gJ291dGxpbmUnKSB7XG4gICAgY29uc3QgZm9udF9zdHlsZV9vdXRsaW5lMiA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICBvdXRsaW5lX3dpZHRoOiAxLCBvdXRsaW5lX2NvbG9yOiBDT0xPUl9SRUQsXG4gICAgICBnbG93X3hvZmZzOiAwLCBnbG93X3lvZmZzOiAwLCBnbG93X2lubmVyOiAwLCBnbG93X291dGVyOiAwLCBnbG93X2NvbG9yOiBDT0xPUl9JTlZJU0lCTEUsXG4gICAgICBjb2xvcjogQ09MT1JfV0hJVEVcbiAgICB9KTtcbiAgICBmb3IgKGxldCBpaSA9IDE7IGlpIDw9IDQ7IGlpKyspIHtcbiAgICAgIGZvbnRfc3R5bGVfb3V0bGluZTIub3V0bGluZV93aWR0aCA9IGlpICogMjtcbiAgICAgIGZvbnQuZHJhd1NpemVkQWxpZ25lZChmb250X3N0eWxlX291dGxpbmUyLCB4LCB5LCB6LCBmb250X3NpemUyLCBnbG92X2ZvbnQuQUxJR04uSExFRlQsIDQwMCwgMCxcbiAgICAgICAgYE91dGxpbmUgdGhpY2tuZXNzICR7aWkgKiAyfWApO1xuICAgICAgeSArPSBmb250X3NpemUyO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGxvd2luZyBub24tdW5pZm9ybSBzY2FsaW5nIGhlcmUsIHNpbXVsYXRlIHdpdGggY2FtZXJhP1xuICAgIC8vIGZvbnQuZHJhd1NpemVkQWxpZ25lZChmb250X3N0eWxlX291dGxpbmUyLCB4LCB5LCB6LCBmb250X3NpemUyICogMiwgZm9udF9zaXplMiwgZ2xvdl9mb250LkFMSUdOLkhMRUZULCA0MDAsIDAsXG4gICAgLy8gICAnV2lkZSB0aGljayBvdXRsaW5lJyk7XG4gICAgLy8geSArPSBmb250X3NpemUyO1xuICAgIC8vIGZvbnQuZHJhd1NpemVkQWxpZ25lZChmb250X3N0eWxlX291dGxpbmUyLCB4LCB5LCB6LCBmb250X3NpemUyLCBmb250X3NpemUyICogMiwgZ2xvdl9mb250LkFMSUdOLkhMRUZULCA0MDAsIDAsXG4gICAgLy8gICAnVGFsbCB0aGljayBvdXRsaW5lJyk7XG4gICAgLy8geSArPSBmb250X3NpemUyICogMjtcbiAgfSBlbHNlIGlmICh0ZXN0ID09PSAnZ2xvdycpIHtcbiAgICBjb25zdCBmb250X3N0eWxlX2dsb3cyID0gZ2xvdl9mb250LnN0eWxlKG51bGwsIHtcbiAgICAgIG91dGxpbmVfd2lkdGg6IDAsIG91dGxpbmVfY29sb3I6IENPTE9SX0lOVklTSUJMRSxcbiAgICAgIGdsb3dfeG9mZnM6IDAsIGdsb3dfeW9mZnM6IDAsIGdsb3dfaW5uZXI6IDAsIGdsb3dfb3V0ZXI6IDgsIGdsb3dfY29sb3I6IENPTE9SX1JFRCxcbiAgICAgIGNvbG9yOiBDT0xPUl9XSElURVxuICAgIH0pO1xuICAgIGZvciAobGV0IGlpID0gMTsgaWkgPD0gNDsgaWkrKykge1xuICAgICAgLy9mb250X3N0eWxlX2dsb3cyLmdsb3dfaW5uZXIgPSBpaSAqIDIgLSAxO1xuICAgICAgZm9udF9zdHlsZV9nbG93Mi5nbG93X291dGVyID0gaWkgKiAyO1xuICAgICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKGZvbnRfc3R5bGVfZ2xvdzIsIHgsIHksIHosIGZvbnRfc2l6ZTIsIGdsb3ZfZm9udC5BTElHTi5ITEVGVCwgNDAwLCAwLFxuICAgICAgICBgR2xvdyBvdXRlciAke2lpICogMn1gKTtcbiAgICAgIHkgKz0gZm9udF9zaXplMjtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsb3dpbmcgbm9uLXVuaWZvcm0gc2NhbGluZyBoZXJlLCBzaW11bGF0ZSB3aXRoIGNhbWVyYT9cbiAgICAvLyBmb250LmRyYXdTaXplZEFsaWduZWQoZm9udF9zdHlsZV9nbG93MiwgeCwgeSwgeiwgZm9udF9zaXplMiAqIDIsIGZvbnRfc2l6ZTIsIGdsb3ZfZm9udC5BTElHTi5ITEVGVCwgNDAwLCAwLFxuICAgIC8vICAgJ1dpZGUgdGhpY2sgZ2xvdyBcXHgwMVxceDAyXFx4ZTVcXHhhZVxceGI0XFx4ZThcXHhhZlxceGI3Jyk7XG4gICAgLy8geSArPSBmb250X3NpemUyO1xuICAgIC8vIGZvbnQuZHJhd1NpemVkQWxpZ25lZChmb250X3N0eWxlX2dsb3cyLCB4LCB5LCB6LCBmb250X3NpemUyLCBmb250X3NpemUyICogMiwgZ2xvdl9mb250LkFMSUdOLkhMRUZULCA0MDAsIDAsXG4gICAgLy8gICAnVGFsbCB0aGljayBnbG93Jyk7XG4gICAgLy8geSArPSBmb250X3NpemUyICogMjtcbiAgfSBlbHNlIGlmICh0ZXN0ID09PSAnd3JhcCcpIHtcbiAgICB5ICs9IGZvbnQuZHJhd1NpemVkV3JhcHBlZChudWxsLCB4LCB5LCB6LCA0MDAsIDI0LCBmb250X3NpemUyLCAweEZGRkZGRmZmLFxuICAgICAgJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvcicgK1xuICAgICAgJyBpbmNpZGlkdW50IHV0bGFib3JlZXRkb2xvcmVtYWduYWFsaXF1YS4nKTtcbiAgfVxuXG5cbiAgLy8gR3JhZGllbnQgbm90IHN1cHBvcnRlZFxuICAvLyB5ID0geTA7XG4gIC8vIHggKz0gZm9udF9zaXplICogODtcbiAgLy8gY29uc3QgZm9udF9zdHlsZV9ncmFkaWVudCA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gIC8vICAgb3V0bGluZV93aWR0aDogMSwgb3V0bGluZV9jb2xvcjogMHg3Nzc3NzdmZixcbiAgLy8gICBnbG93X3hvZmZzOiAwLCBnbG93X3lvZmZzOiAwLCBnbG93X2lubmVyOiAwLCBnbG93X291dGVyOiAwLCBnbG93X2NvbG9yOiBDT0xPUl9CTFVFLFxuICAvLyAgIGdyYWRpZW50OiBbQ09MT1JfV0hJVEUsIENPTE9SX1dISVRFLCBDT0xPUl9CTEFDSywgQ09MT1JfQkxBQ0tdLFxuICAvLyB9KTtcbiAgLy8gZm9udC5kcmF3U2l6ZWQoZm9udF9zdHlsZV9ncmFkaWVudCwgeCwgeSArIE1hdGguc2luKGVuZ2luZS5nZXRGcmFtZVRpbWVzdGFtcCgpICogMC4wMDUpICogMjAsIHosXG4gIC8vICAgZm9udF9zaXplKjIsICdHcmFkaWVudCcpO1xuICAvLyB5ICs9IGZvbnRfc2l6ZSoyO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuLypcbiAgQVBJIHVzYWdlOlxuICBlbmdpbmUuZGVmaW5lcyA9IHVybGhhc2gucmVnaXN0ZXIoe1xuICAgIGtleTogJ0QnLFxuICAgIHR5cGU6IFNFVCxcbiAgfSk7XG4gIHVybGhhc2gucmVnaXN0ZXIoe1xuICAgIGtleTogJ3BvcycsXG4gICAgLy8gdHlwZTogVFlQRV9TVFJJTkcsXG4gICAgY2hhbmdlOiAobmV3dmFsdWUpID0+IHt9LFxuICAgIHRpdGxlOiAodmFsdWUpID0+ICdzdHJpbmcnLFxuICAgIGRlZjogJzEsMicsXG4gICAgaGlkZXM6IHsgb3RoZXJmaWVsZDogdHJ1ZSB9LFxuICAgIHB1c2g6IHRydWUsIC8vIGRvIGEgcHVzaFN0YXRlIGluc3RlYWQgb2YgcmVwbGFjZVN0YXRlIHdoZW4gdGhpcyBjaGFuZ2VzXG4gICAgaGlkZV92YWx1ZXM6IHsgZm9vOiB0cnVlIH0sIC8vIGRvIG5vdCBhZGQgdG8gVVJMIGlmIHZhbHVlcyBpcyBpbiB0aGUgcHJvdmlkZWQgc2V0XG4gIH0pO1xuICB1cmxoYXNoLnNldCgncG9zJywgJzMsNCcpO1xuICB1cmxoYXNoLmdldCgncG9zJylcblxuICB1cmxoYXNoLnJvdXRlKCd3Lzp3JykgICAgIC8vIHVzZSBVUkxzIGxpa2UgZm9vLmNvbS93LzEgICBpbnN0ZWFkIG9mIGZvby5jb20vP3c9MVxuICB1cmxoYXNoLnJvdXRlKCd3Lzp3Lzp3ZycpICAvLyB1c2UgVVJMcyBsaWtlIGZvby5jb20vdy8xLzIgaW5zdGVhZCBvZiBmb28uY29tLz93PTEmd2c9MlxuXG4gIC8vIENhbGxlZCB3aGVuZXZlciB0aGUgVVJMIHN0YXRlIGlzIHB1c2hlZCwgZXZlbiBpZiB0byBleGFjdGx5IHRoZSBzYW1lIFVSTCAoZS5nLiBvbiBsaW5rIGNsaWNrKVxuICB1cmxoYXNoLm9uQ2hhbmdlKGNiKVxuKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGNhbGxFYWNoIH0gPSByZXF1aXJlKCcuLi8uLi9jb21tb24vdXRpbC5qcycpO1xuXG5jb25zdCBISVNUT1JZX1VQREFURV9USU1FID0gMTAwMDtcblxuZXhwb3J0IGxldCBUWVBFX1NFVCA9ICdzZXQnO1xuZXhwb3J0IGxldCBUWVBFX1NUUklORyA9ICdzdHJpbmcnO1xuXG5sZXQgcGFyYW1zID0ge307XG5cbmxldCB0aXRsZV9zdWZmaXggPSAnJztcblxubGV0IHBhZ2VfYmFzZSA9IChkb2N1bWVudC5sb2NhdGlvbi5ocmVmIHx8ICcnKS5tYXRjaCgvXlteIz9dKy8pWzBdO1xuaWYgKCFwYWdlX2Jhc2UuZW5kc1dpdGgoJy8nKSkgeyAvLyBlLmcuIGh0dHA6Ly9mb28uYmFyL2luZGV4Lmh0bWxcbiAgcGFnZV9iYXNlICs9ICc/Jztcbn1cbi8vUmVtb3ZlcyBpbmRleC5odG1sIGV0IGFsbFxubGV0IHVybF9iYXNlID0gcGFnZV9iYXNlLnJlcGxhY2UoL1teL10qJC8sJycpO1xubGV0IG9uX2NoYW5nZSA9IFtdO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VVJMQmFzZSgpIHtcbiAgcmV0dXJuIHVybF9iYXNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VVJMUGFnZUJhc2UoKSB7XG4gIHJldHVybiBwYWdlX2Jhc2U7XG59XG5cbmxldCBhcGlfcGF0aDtcbi8vIFBhdGggYmFzZSBsaWtlIGh0dHA6Ly9mb28uYmFyL2FwaS8gKHdpdGggdHJhaWxpbmcgc2xhc2hcbmV4cG9ydCBmdW5jdGlvbiBzZXRBUElQYXRoKHBhdGgpIHtcbiAgYXBpX3BhdGggPSBwYXRoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFQSVBhdGgoKSB7XG4gIHJldHVybiBhcGlfcGF0aCB8fCBgJHtnZXRVUkxCYXNlKCl9YXBpL2A7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkNoYW5nZShjYikge1xuICBvbl9jaGFuZ2UucHVzaChjYik7XG59XG5cbmZ1bmN0aW9uIGNtcE51bUtleXMoYSwgYikge1xuICBsZXQgZCA9IGIua2V5cy5sZW5ndGggLSBhLmtleXMubGVuZ3RoO1xuICBpZiAoZCkge1xuICAgIHJldHVybiBkO1xuICB9XG4gIC8vIG90aGVyd2lzZSBhbHBoYWJldGljYWwgZm9yIHN0YWJpbGl0eVxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYS5rZXlzLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChhLmtleXNbaWldIDwgYi5rZXlzW2lpXSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSBpZiAoYS5rZXlzW2lpXSA+IGIua2V5c1tpaV0pIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICBhc3NlcnQoZmFsc2UpOyAvLyB0d28gcm91dGVzIHdpdGggaWRlbnRpY2FsIGtleXNcbiAgcmV0dXJuIDA7XG59XG5cbmNvbnN0IHJvdXRlX3BhcmFtX3JlZ2V4ID0gLzooXFx3KykvZztcbmxldCByb3V0ZXMgPSBbXTtcblxuZnVuY3Rpb24gcXVlcnlTdHJpbmcoKSB7XG4gIGxldCBocmVmID0gU3RyaW5nKGRvY3VtZW50LmxvY2F0aW9uKTtcbiAgcmV0dXJuIGhyZWYuc2xpY2UocGFnZV9iYXNlLmxlbmd0aCk7XG59XG5cbmNvbnN0IHJlZ2V4X3ZhbHVlID0gL1teXFx3XVxcdys9KFteJl0rKS87XG5mdW5jdGlvbiBnZXRWYWx1ZShxdWVyeV9zdHJpbmcsIG9wdHMpIHtcbiAgaWYgKG9wdHMucm91dGVzKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG9wdHMucm91dGVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IHIgPSBvcHRzLnJvdXRlc1tpaV07XG4gICAgICBsZXQgbSA9IHF1ZXJ5X3N0cmluZy5tYXRjaChyLnJlZ2V4KTtcbiAgICAgIGlmIChtKSB7XG4gICAgICAgIGxldCBpZHggPSByLmtleXMuaW5kZXhPZihvcHRzLmtleSk7XG4gICAgICAgIHJldHVybiBtWzEgKyBpZHhdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgbSA9IHF1ZXJ5X3N0cmluZy5tYXRjaChvcHRzLnJlZ2V4KSB8fCBbXTtcbiAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQpIHtcbiAgICBsZXQgciA9IHt9O1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBtLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IG0yID0gbVtpaV0ubWF0Y2gocmVnZXhfdmFsdWUpO1xuICAgICAgYXNzZXJ0KG0yKTtcbiAgICAgIHJbbTJbMV1dID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG1bMV0gfHwgb3B0cy5kZWY7XG4gIH1cbn1cblxubGV0IGxhc3RfaGlzdG9yeV9zdHIgPSBudWxsOyAvLyBhbHdheXMgcmUtc2V0IGl0IG9uIHRoZSBmaXJzdCB1cGRhdGVcblxuZnVuY3Rpb24gZ29JbnRlcm5hbChxdWVyeV9zdHJpbmcpIHsgLy8gd2l0aCB0aGUgJz8nXG4gIC8vIFVwZGF0ZSBhbGwgdmFsdWVzLCBleGNlcHQgdGhvc2UgaGlkZGVuIGJ5IHdoYXQgaXMgY3VycmVudGx5IGluIHRoZSBxdWVyeSBzdHJpbmdcbiAgbGV0IGhpZGRlbiA9IHt9O1xuICBmb3IgKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgbGV0IG9wdHMgPSBwYXJhbXNba2V5XTtcbiAgICBpZiAob3B0cy5oaWRlcykge1xuICAgICAgaWYgKGdldFZhbHVlKHF1ZXJ5X3N0cmluZywgb3B0cykpIHtcbiAgICAgICAgZm9yIChsZXQgb3RoZXJrZXkgaW4gb3B0cy5oaWRlcykge1xuICAgICAgICAgIGhpZGRlbltvdGhlcmtleV0gPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IGRpcnR5ID0ge307XG4gIGZvciAobGV0IGtleSBpbiBwYXJhbXMpIHtcbiAgICBpZiAoaGlkZGVuW2tleV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXldO1xuICAgIGxldCBuZXdfdmFsdWUgPSBnZXRWYWx1ZShxdWVyeV9zdHJpbmcsIG9wdHMpO1xuICAgIGlmIChvcHRzLnR5cGUgPT09IFRZUEVfU0VUKSB7XG4gICAgICBmb3IgKGxldCB2IGluIG5ld192YWx1ZSkge1xuICAgICAgICBpZiAoIW9wdHMudmFsdWVbdl0pIHtcbiAgICAgICAgICBvcHRzLnZhbHVlW3ZdID0gMTtcbiAgICAgICAgICBkaXJ0eVtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgdiBpbiBvcHRzLnZhbHVlKSB7XG4gICAgICAgIGlmICghbmV3X3ZhbHVlW3ZdKSB7XG4gICAgICAgICAgZGVsZXRlIG9wdHMudmFsdWVbdl07XG4gICAgICAgICAgZGlydHlba2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5ld192YWx1ZSAhPT0gb3B0cy52YWx1ZSkge1xuICAgICAgICBkaXJ0eVtrZXldID0gdHJ1ZTtcbiAgICAgICAgb3B0cy52YWx1ZSA9IG5ld192YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDYWxsIGFsbCBjaGFuZ2UgY2FsbGJhY2tzXG4gIGZvciAobGV0IGtleSBpbiBkaXJ0eSkge1xuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gICAgaWYgKG9wdHMuY2hhbmdlKSB7XG4gICAgICBvcHRzLmNoYW5nZShvcHRzLnZhbHVlKTtcbiAgICB9XG4gIH1cbiAgY2FsbEVhY2gob25fY2hhbmdlKTtcbn1cblxubGV0IGVmZl90aXRsZTtcbmZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICBlZmZfdGl0bGUgPSAnJztcbiAgbGV0IHZhbHVlcyA9IFtdO1xuICBsZXQgaGlkZGVuID0ge307XG4gIGZvciAobGV0IGtleSBpbiBwYXJhbXMpIHtcbiAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXldO1xuICAgIGlmIChvcHRzLmhpZGVzICYmIG9wdHMudmFsdWUpIHtcbiAgICAgIGZvciAobGV0IG90aGVya2V5IGluIG9wdHMuaGlkZXMpIHtcbiAgICAgICAgaGlkZGVuW290aGVya2V5XSA9IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCByb290X3ZhbHVlID0gJyc7XG4gIG91dGVyOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxhYmVsc1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcm91dGVzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCByID0gcm91dGVzW2lpXTtcbiAgICBsZXQgcm91dGVfdGl0bGUgPSAnJztcbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgci5rZXlzLmxlbmd0aDsgKytqaikge1xuICAgICAgbGV0IGtleSA9IHIua2V5c1tqal07XG4gICAgICBpZiAoaGlkZGVuW2tleV0pIHtcbiAgICAgICAgY29udGludWUgb3V0ZXI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbGFiZWxzXG4gICAgICB9XG4gICAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXldO1xuICAgICAgaWYgKG9wdHMuaGlkZV92YWx1ZXNbb3B0cy52YWx1ZV0pIHtcbiAgICAgICAgY29udGludWUgb3V0ZXI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbGFiZWxzXG4gICAgICB9XG4gICAgICAvLyBoYXMgYSB2YWx1ZSwgaXMgbm90IGhpZGRlbiwgY29udGludWVcbiAgICAgIGlmICghcm91dGVfdGl0bGUgJiYgb3B0cy50aXRsZSkge1xuICAgICAgICByb3V0ZV90aXRsZSA9IG9wdHMudGl0bGUob3B0cy52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJvdXRlIGlzIGdvb2QhXG4gICAgcm9vdF92YWx1ZSA9IHIucm91dGVfc3RyaW5nLnJlcGxhY2Uocm91dGVfcGFyYW1fcmVnZXgsIGZ1bmN0aW9uIChpZ25vcmVkLCBrZXkpIHtcbiAgICAgIGhpZGRlbltrZXldID0gdHJ1ZTtcbiAgICAgIHJldHVybiBTdHJpbmcocGFyYW1zW2tleV0udmFsdWUpO1xuICAgIH0pO1xuICAgIGlmICghZWZmX3RpdGxlICYmIHJvdXRlX3RpdGxlKSB7XG4gICAgICBlZmZfdGl0bGUgPSByb3V0ZV90aXRsZTtcbiAgICB9XG4gICAgYnJlYWs7XG4gIH1cbiAgZm9yIChsZXQga2V5IGluIHBhcmFtcykge1xuICAgIGlmIChoaWRkZW5ba2V5XSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gICAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQpIHtcbiAgICAgIGZvciAobGV0IHYgaW4gb3B0cy52YWx1ZSkge1xuICAgICAgICB2YWx1ZXMucHVzaChgJHtrZXl9PSR7dn1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFvcHRzLmhpZGVfdmFsdWVzW29wdHMudmFsdWVdKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGAke2tleX09JHtvcHRzLnZhbHVlfWApO1xuICAgICAgICBpZiAoIWVmZl90aXRsZSAmJiBvcHRzLnRpdGxlKSB7XG4gICAgICAgICAgZWZmX3RpdGxlID0gb3B0cy50aXRsZShvcHRzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodGl0bGVfc3VmZml4KSB7XG4gICAgaWYgKGVmZl90aXRsZSkge1xuICAgICAgZWZmX3RpdGxlID0gYCR7ZWZmX3RpdGxlfSB8ICR7dGl0bGVfc3VmZml4fWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVmZl90aXRsZSA9IHRpdGxlX3N1ZmZpeDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGAke3Jvb3RfdmFsdWV9JHt2YWx1ZXMubGVuZ3RoID8gJz8nIDogJyd9JHt2YWx1ZXMuam9pbignJicpfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoVGl0bGUoKSB7XG4gIHRvU3RyaW5nKCk7XG4gIGlmIChlZmZfdGl0bGUgJiYgZWZmX3RpdGxlICE9PSBkb2N1bWVudC50aXRsZSkge1xuICAgIGRvY3VtZW50LnRpdGxlID0gZWZmX3RpdGxlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBlcmlvZGljUmVmcmVzaFRpdGxlKCkge1xuICByZWZyZXNoVGl0bGUoKTtcbiAgc2V0VGltZW91dChwZXJpb2RpY1JlZnJlc2hUaXRsZSwgMTAwMCk7XG59XG5cbmZ1bmN0aW9uIG9uUG9wU3RhdGUoKSB7XG4gIGxldCBxdWVyeV9zdHJpbmcgPSBxdWVyeVN0cmluZygpO1xuICBsYXN0X2hpc3Rvcnlfc3RyID0gcXVlcnlfc3RyaW5nO1xuICBnb0ludGVybmFsKHF1ZXJ5X3N0cmluZyk7XG4gIHJlZnJlc2hUaXRsZSgpO1xufVxuXG5sZXQgb25fdXJsX2NoYW5nZTtcbmV4cG9ydCBmdW5jdGlvbiBvblVSTENoYW5nZShjYikge1xuICBvbl91cmxfY2hhbmdlID0gY2I7XG59XG5cbmxldCBsYXN0X2hpc3Rvcnlfc2V0X3RpbWUgPSAwO1xubGV0IHNjaGVkdWxlZCA9IGZhbHNlO1xubGV0IG5lZWRfcHVzaF9zdGF0ZSA9IGZhbHNlO1xuZnVuY3Rpb24gdXBkYXRlSGlzdG9yeShuZXdfbmVlZF9wdXNoX3N0YXRlKSB7XG4gIGxldCBuZXdfc3RyID0gdG9TdHJpbmcoKTtcbiAgaWYgKGxhc3RfaGlzdG9yeV9zdHIgPT09IG5ld19zdHIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbmVlZF9wdXNoX3N0YXRlID0gbmVlZF9wdXNoX3N0YXRlIHx8IG5ld19uZWVkX3B1c2hfc3RhdGU7XG4gIGxhc3RfaGlzdG9yeV9zdHIgPSBuZXdfc3RyO1xuICBpZiAoc2NoZWR1bGVkKSB7XG4gICAgLy8gYWxyZWFkeSBxdWV1ZWQgdXBcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGRlbGF5ID0gSElTVE9SWV9VUERBVEVfVElNRTtcbiAgaWYgKERhdGUubm93KCkgLSBsYXN0X2hpc3Rvcnlfc2V0X3RpbWUgPiBISVNUT1JZX1VQREFURV9USU1FKSB7XG4gICAgLy8gQmVlbiBhd2hpbGUsIGFwcGx5IFwiaW5zdGFudGx5XCIgKGJ1dCBzdGlsbCB3YWl0IHVudGlsIG5leHQgdGljayB0byBlbnN1cmVcbiAgICAvLyAgIGFueSBvdGhlciBpbW1lZGlhdGUgY2hhbmdlcyBhcmUgcmVnaXN0ZXJlZClcbiAgICBkZWxheSA9IDE7XG4gIH1cbiAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgbGFzdF9oaXN0b3J5X3NldF90aW1lID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgdXJsID0gYCR7cGFnZV9iYXNlfSR7bGFzdF9oaXN0b3J5X3N0cn1gO1xuICAgIGlmICh1cmwuZW5kc1dpdGgoJz8nKSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChuZWVkX3B1c2hfc3RhdGUpIHtcbiAgICAgICAgbmVlZF9wdXNoX3N0YXRlID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh1bmRlZmluZWQsIGVmZl90aXRsZSwgdXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh1bmRlZmluZWQsIGVmZl90aXRsZSwgdXJsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBpZ25vcmU7IHNvbWUgYnJvd3NlcnMgZGlzYWxsb3cgdGhpcywgSSBndWVzc1xuICAgIH1cbiAgICBpZiAoZWZmX3RpdGxlKSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IGVmZl90aXRsZTtcbiAgICB9XG4gICAgaWYgKG9uX3VybF9jaGFuZ2UpIHtcbiAgICAgIG9uX3VybF9jaGFuZ2UoKTtcbiAgICB9XG4gICAgLy93aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUodW5kZWZpbmVkLCBlZmZfdGl0bGUsIGAjJHtsYXN0X2hpc3Rvcnlfc3RyfWApO1xuICB9LCBkZWxheSk7XG59XG5cbi8vIE9wdGlvbmFsIHN0YXJ0dXBcbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwKHBhcmFtKSB7XG4gIGFzc2VydCghdGl0bGVfc3VmZml4KTtcbiAgdGl0bGVfc3VmZml4ID0gcGFyYW0udGl0bGVfc3VmZml4O1xuXG4gIC8vIFJlZnJlc2ggdGhlIGN1cnJlbnQgVVJMLCBpdCBtaWdodCBiZSBpbiB0aGUgbm9uLXJvdXRlIGZvcm1hdFxuICB1cGRhdGVIaXN0b3J5KGZhbHNlKTtcblxuICBpZiAodGl0bGVfc3VmZml4KSB7XG4gICAgcmVmcmVzaFRpdGxlKCk7XG4gICAgc2V0VGltZW91dChwZXJpb2RpY1JlZnJlc2hUaXRsZSwgMTAwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlKHJvdXRlX3N0cmluZykge1xuICBsZXQga2V5cyA9IFtdO1xuICAvLyBmb28vOmtleS86YmFyID0+IGZvby8oW14vJj9dKykvKFteLyY/XSspXG4gIGxldCBiYXNlID0gcm91dGVfc3RyaW5nLnJlcGxhY2Uocm91dGVfcGFyYW1fcmVnZXgsIGZ1bmN0aW9uIChpZ25vcmVkLCBtYXRjaCkge1xuICAgIGtleXMucHVzaChtYXRjaCk7XG4gICAgcmV0dXJuICcoW14vJj9dKyknO1xuICB9KTtcbiAgbGV0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7YmFzZX0oPzokfFxcXFw/KWApO1xuICBsZXQgbmV3X3JvdXRlID0ge1xuICAgIHJvdXRlX3N0cmluZyxcbiAgICByZWdleCxcbiAgICBrZXlzLFxuICB9O1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwga2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgb3B0cyA9IHBhcmFtc1trZXlzW2lpXV07XG4gICAgLy8gTXVzdCBoYXZlIGFscmVhZHkgcmVnaXN0ZXJlZCB0aGVzZSBrZXlzXG4gICAgYXNzZXJ0KG9wdHMpO1xuICAgIG9wdHMucm91dGVzID0gb3B0cy5yb3V0ZXMgfHwgW107XG4gICAgb3B0cy5yb3V0ZXMucHVzaChuZXdfcm91dGUpO1xuICAgIC8vIFVwZGF0ZSBpbml0aWFsIHZhbHVlXG4gICAgb3B0cy52YWx1ZSA9IGdldFZhbHVlKHF1ZXJ5U3RyaW5nKCksIG9wdHMpO1xuICB9XG4gIHJvdXRlcy5wdXNoKG5ld19yb3V0ZSk7XG4gIHJvdXRlcy5zb3J0KGNtcE51bUtleXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIob3B0cykge1xuICBhc3NlcnQob3B0cy5rZXkpO1xuICBhc3NlcnQoIXBhcmFtc1tvcHRzLmtleV0pO1xuICBvcHRzLnR5cGUgPSBvcHRzLnR5cGUgfHwgVFlQRV9TVFJJTkc7XG4gIGxldCByZWdleF9zZWFyY2ggPSBgKD86W15cXFxcd10pJHtvcHRzLmtleX09KFteJl0rKWA7XG4gIGxldCByZWdleF90eXBlID0gJyc7XG4gIGlmIChvcHRzLnR5cGUgPT09IFRZUEVfU0VUKSB7XG4gICAgcmVnZXhfdHlwZSA9ICdnJztcbiAgfSBlbHNlIHtcbiAgICBvcHRzLmRlZiA9IG9wdHMuZGVmIHx8ICcnO1xuICAgIG9wdHMuaGlkZV92YWx1ZXMgPSBvcHRzLmhpZGVfdmFsdWVzIHx8IHt9O1xuICAgIG9wdHMuaGlkZV92YWx1ZXNbb3B0cy5kZWZdID0gdHJ1ZTtcbiAgfVxuICBvcHRzLnJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleF9zZWFyY2gsIHJlZ2V4X3R5cGUpO1xuICBwYXJhbXNbb3B0cy5rZXldID0gb3B0cztcbiAgLy8gR2V0IGluaXRpYWwgdmFsdWVcbiAgb3B0cy52YWx1ZSA9IGdldFZhbHVlKHF1ZXJ5U3RyaW5nKCksIG9wdHMpO1xuICBsZXQgcmV0ID0gb3B0cy52YWx1ZTtcbiAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQgJiYgdHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQXV0by1hcHBseSBjaGFuZ2VzIHRvIFVSTCBpZiBzb21lb25lIG1vZGlmaWVzIHRoZSBwcm94eVxuICAgIHJldCA9IG5ldyBQcm94eShvcHRzLnZhbHVlLCB7XG4gICAgICBzZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHRhcmdldFtwcm9wXSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHRhcmdldFtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIaXN0b3J5KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCF3aW5kb3cub25wb3BzdGF0ZSkge1xuICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gb25Qb3BTdGF0ZTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSwgdmFsdWUyKSB7XG4gIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gIGFzc2VydChvcHRzKTtcbiAgaWYgKG9wdHMudHlwZSA9PT0gVFlQRV9TRVQpIHtcbiAgICBpZiAoQm9vbGVhbihvcHRzLnZhbHVlW3ZhbHVlXSkgIT09IEJvb2xlYW4odmFsdWUyKSkge1xuICAgICAgb3B0cy52YWx1ZVt2YWx1ZV0gPSB2YWx1ZTIgPyAxIDogMDtcbiAgICAgIHVwZGF0ZUhpc3Rvcnkob3B0cy5wdXNoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9wdHMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICBvcHRzLnZhbHVlID0gdmFsdWU7XG4gICAgICB1cGRhdGVIaXN0b3J5KG9wdHMucHVzaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQoa2V5KSB7XG4gIGxldCBvcHRzID0gcGFyYW1zW2tleV07XG4gIGFzc2VydChvcHRzKTtcbiAgcmV0dXJuIG9wdHMudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnbyhxdWVyeV9zdHJpbmcpIHsgLy8gd2l0aCB0aGUgJz8nXG4gIGdvSW50ZXJuYWwocXVlcnlfc3RyaW5nKTtcbiAgdXBkYXRlSGlzdG9yeSh0cnVlKTtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYgKi9cblxuLy8gVmVjdG9yIG1hdGggZnVuY3Rpb25zIHJlcXVpcmVkIGJ5IHRoZSByZXN0IG9mIHRoZSBlbmdpbmUgdGFrZW4gcGllY2VtZWFsIGZyb21cbi8vIGdsLW1hdHJpeCBhbmQgcmVsYXRlZCwgYXMgd2VsbCBhcyBzb21lIGdlbmVyaWMgbWF0aCB1dGlsaXRpZXNcbmV4cG9ydHMubWF0MyA9IHJlcXVpcmUoJ2dsLW1hdDMvY3JlYXRlJyk7XG5leHBvcnRzLm1hdDQgPSByZXF1aXJlKCdnbC1tYXQ0L2NyZWF0ZScpO1xuXG5jb25zdCB7IGFicywgbWF4LCBtaW4sIGZsb29yLCByb3VuZCwgc3FydCB9ID0gTWF0aDtcblxuZXhwb3J0IGZ1bmN0aW9uIHZlYzEodikge1xuICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbdl0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVjMihhLCBiKSB7XG4gIGxldCByID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgaWYgKGEgfHwgYikge1xuICAgIHJbMF0gPSBhO1xuICAgIHJbMV0gPSBiO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVjMyhhLCBiLCBjKSB7XG4gIGxldCByID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgaWYgKGEgfHwgYiB8fCBjKSB7XG4gICAgclswXSA9IGE7XG4gICAgclsxXSA9IGI7XG4gICAgclsyXSA9IGM7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWM0KGEsIGIsIGMsIGQpIHtcbiAgbGV0IHIgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICBpZiAoYSB8fCBiIHx8IGMgfHwgZCkge1xuICAgIHJbMF0gPSBhO1xuICAgIHJbMV0gPSBiO1xuICAgIHJbMl0gPSBjO1xuICAgIHJbM10gPSBkO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5mdW5jdGlvbiBmcm96ZW5WZWM0KGEsYixjLGQpIHtcbiAgLy8gaWYgKGRlYnVnKSB7XG4gIC8vICAgcmV0dXJuIE9iamVjdC5mcmVlemUoW2EsYixjLGRdKTsgLy8gTm90IGEgdmVjNCwgYnV0IGxldHMgdXMgY2F0Y2ggYnVnc1xuICAvLyB9XG4gIHJldHVybiB2ZWM0KGEsYixjLGQpO1xufVxuXG5leHBvcnQgY29uc3QgdW5pdF92ZWMgPSBmcm96ZW5WZWM0KDEsMSwxLDEpO1xuZXhwb3J0IGNvbnN0IGhhbGZfdmVjID0gZnJvemVuVmVjNCgwLjUsMC41LDAuNSwwLjUpO1xuZXhwb3J0IGNvbnN0IHplcm9fdmVjID0gZnJvemVuVmVjNCgwLDAsMCwwKTtcbmV4cG9ydCBjb25zdCBpZGVudGl0eV9tYXQzID0gZXhwb3J0cy5tYXQzKCk7XG5leHBvcnQgY29uc3QgaWRlbnRpdHlfbWF0NCA9IGV4cG9ydHMubWF0NCgpO1xuZXhwb3J0IGNvbnN0IHhheGlzID0gZnJvemVuVmVjNCgxLDAsMCwwKTtcbmV4cG9ydCBjb25zdCB5YXhpcyA9IGZyb3plblZlYzQoMCwxLDAsMCk7XG5leHBvcnQgY29uc3QgemF4aXMgPSBmcm96ZW5WZWM0KDAsMCwxLDApO1xuXG5leHBvcnQgZnVuY3Rpb24gdjJhYnMob3V0LCBhKSB7XG4gIG91dFswXSA9IGFicyhhWzBdKTtcbiAgb3V0WzFdID0gYWJzKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYyYWRkU2NhbGUob3V0LCBhLCBiLCBzKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogcztcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJkaXN0U3EoYSwgYikge1xuICByZXR1cm4gKGFbMF0gLSBiWzBdKSAqIChhWzBdIC0gYlswXSkgK1xuICAgIChhWzFdIC0gYlsxXSkgKiAoYVsxXSAtIGJbMV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJkaXYob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYyZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IGZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBmbG9vcihhWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYybGVuZ3RoU3EoYSkge1xuICByZXR1cm4gYVswXSphWzBdICsgYVsxXSphWzFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJsZXJwKG91dCwgdCwgYSwgYikge1xuICBsZXQgaXQgPSAxIC0gdDtcbiAgb3V0WzBdID0gaXQgKiBhWzBdICsgdCAqIGJbMF07XG4gIG91dFsxXSA9IGl0ICogYVsxXSArIHQgKiBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJtdWwob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYybm9ybWFsaXplKG91dCwgYSkge1xuICBsZXQgbGVuID0gYVswXSphWzBdICsgYVsxXSphWzFdO1xuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBzcXJ0KGxlbik7XG4gICAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MnNhbWUoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJzY2FsZShvdXQsIGEsIHMpIHtcbiAgb3V0WzBdID0gYVswXSAqIHM7XG4gIG91dFsxXSA9IGFbMV0gKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjJzZXQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGE7XG4gIG91dFsxXSA9IGI7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2MnN1YihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lBZGQoYSwgYikge1xuICBhWzBdICs9IGJbMF07XG4gIGFbMV0gKz0gYlsxXTtcbiAgYVsyXSArPSBiWzJdO1xuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzYWRkU2NhbGUob3V0LCBhLCBiLCBzKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogcztcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2NvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2Nyb3NzKG91dCwgYSwgYikge1xuICBsZXQgYTAgPSBhWzBdO1xuICBsZXQgYTEgPSBhWzFdO1xuICBsZXQgYTIgPSBhWzJdO1xuICBsZXQgYjAgPSBiWzBdO1xuICBsZXQgYjEgPSBiWzFdO1xuICBsZXQgYjIgPSBiWzJdO1xuICBvdXRbMF0gPSAoKGExICogYjIpIC0gKGEyICogYjEpKTtcbiAgb3V0WzFdID0gKChhMiAqIGIwKSAtIChhMCAqIGIyKSk7XG4gIG91dFsyXSA9ICgoYTAgKiBiMSkgLSAoYTEgKiBiMCkpO1xuICByZXR1cm4gb3V0O1xufVxuXG4vLyBkZXRlcm1pbmFudCBvZiB0aGUgbWF0cml4IG1hZGUgYnkgKGNvbHVtbnM/KSBbYSwgYiwgY107XG5leHBvcnQgZnVuY3Rpb24gdjNkZXRlcm1pbmFudChhLCBiLCBjKSB7XG4gIC8vIGxldCBhMDAgPSBhWzBdO1xuICAvLyBsZXQgYTAxID0gYVsxXTtcbiAgLy8gbGV0IGEwMiA9IGFbMl07XG4gIC8vIGxldCBhMTAgPSBiWzBdO1xuICAvLyBsZXQgYTExID0gYlsxXTtcbiAgLy8gbGV0IGExMiA9IGJbMl07XG4gIC8vIGxldCBhMjAgPSBjWzBdO1xuICAvLyBsZXQgYTIxID0gY1syXTtcbiAgLy8gbGV0IGEyMiA9IGNbMl07XG4gIGxldCBhMDAgPSBhWzBdO1xuICBsZXQgYTAxID0gYlswXTtcbiAgbGV0IGEwMiA9IGNbMF07XG4gIGxldCBhMTAgPSBhWzFdO1xuICBsZXQgYTExID0gYlsxXTtcbiAgbGV0IGExMiA9IGNbMV07XG4gIGxldCBhMjAgPSBhWzJdO1xuICBsZXQgYTIxID0gYlsyXTtcbiAgbGV0IGEyMiA9IGNbMl07XG5cbiAgcmV0dXJuIGEwMCAqIChhMjIgKiBhMTEgLSBhMTIgKiBhMjEpICsgYTAxICogKC1hMjIgKiBhMTAgKyBhMTIgKiBhMjApICsgYTAyICogKGEyMSAqIGExMCAtIGExMSAqIGEyMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2RvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2Rpc3RTcShhLCBiKSB7XG4gIHJldHVybiAoYVswXSAtIGJbMF0pICogKGFbMF0gLSBiWzBdKSArXG4gICAgKGFbMV0gLSBiWzFdKSAqIChhWzFdIC0gYlsxXSkgK1xuICAgIChhWzJdIC0gYlsyXSkgKiAoYVsyXSAtIGJbMl0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNkaXN0KGEsYikge1xuICByZXR1cm4gc3FydCh2M2Rpc3RTcShhLGIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzZGl2KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNpRmxvb3IoYSkge1xuICBhWzBdID0gZmxvb3IoYVswXSk7XG4gIGFbMV0gPSBmbG9vcihhWzFdKTtcbiAgYVsyXSA9IGZsb29yKGFbMl0pO1xuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IGZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBmbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2xlbmd0aFNxKGEpIHtcbiAgcmV0dXJuIGFbMF0qYVswXSArIGFbMV0qYVsxXSArIGFbMl0qYVsyXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzbGVycChvdXQsIHQsIGEsIGIpIHtcbiAgbGV0IGl0ID0gMSAtIHQ7XG4gIG91dFswXSA9IGl0ICogYVswXSArIHQgKiBiWzBdO1xuICBvdXRbMV0gPSBpdCAqIGFbMV0gKyB0ICogYlsxXTtcbiAgb3V0WzJdID0gaXQgKiBhWzJdICsgdCAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lNYXgoYSwgYikge1xuICBhWzBdID0gbWF4KGFbMF0sIGJbMF0pO1xuICBhWzFdID0gbWF4KGFbMV0sIGJbMV0pO1xuICBhWzJdID0gbWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzaU1pbihhLCBiKSB7XG4gIGFbMF0gPSBtaW4oYVswXSwgYlswXSk7XG4gIGFbMV0gPSBtaW4oYVsxXSwgYlsxXSk7XG4gIGFbMl0gPSBtaW4oYVsyXSwgYlsyXSk7XG4gIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNtdWwob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M211bE1hdDQob3V0LCBhLCBtKSB7XG4gIGxldCB4ID0gYVswXTtcbiAgbGV0IHkgPSBhWzFdO1xuICBsZXQgeiA9IGFbMl07XG4gIG91dFswXSA9IHggKiBtWzBdICsgeSAqIG1bNF0gKyB6ICogbVs4XTtcbiAgb3V0WzFdID0geCAqIG1bMV0gKyB5ICogbVs1XSArIHogKiBtWzldO1xuICBvdXRbMl0gPSB4ICogbVsyXSArIHkgKiBtWzZdICsgeiAqIG1bMTBdO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNub3JtYWxpemUob3V0LCBhKSB7XG4gIGxldCBsZW4gPSBhWzBdKmFbMF0gKyBhWzFdKmFbMV0gKyBhWzJdKmFbMl07XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIHNxcnQobGVuKTtcbiAgICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICAgIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gICAgb3V0WzJdID0gYVsyXSAqIGxlbjtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNpTm9ybWFsaXplKGEpIHtcbiAgbGV0IGxlbiA9IGFbMF0qYVswXSArIGFbMV0qYVsxXSArIGFbMl0qYVsyXTtcbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gc3FydChsZW4pO1xuICAgIGFbMF0gKj0gbGVuO1xuICAgIGFbMV0gKj0gbGVuO1xuICAgIGFbMl0gKj0gbGVuO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG4vLyBUcmVhdHMgYGFgIGFzIHZlYzMgaW5wdXQgd2l0aCB3IGFzc3VtZWQgdG8gYmUgMVxuLy8gb3V0WzBdL1sxXSBoYXZlIGhhZCBwZXJzcGVjdGl2ZSBkaXZpZGUgYW5kIGNvbnZlcnRlZCB0byBub3JtYWxpemVkIDAtMSByYW5nZVxuLy8gb3V0WzJdIGlzIGRpc3RhbmNlXG5leHBvcnQgZnVuY3Rpb24gdjNwZXJzcGVjdGl2ZVByb2plY3Qob3V0LCBhLCBtKSB7XG4gIGxldCB4ID0gYVswXTtcbiAgbGV0IHkgPSBhWzFdO1xuICBsZXQgeiA9IGFbMl07XG4gIGxldCB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICBsZXQgaW52dyA9IDAuNSAvICh3IHx8IDAuMDAwMDEpO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pICogaW52dyArIDAuNTtcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAqIC1pbnZ3ICsgMC41O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3JvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSByb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gcm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IHJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNzYW1lKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNzY2FsZShvdXQsIGEsIHMpIHtcbiAgb3V0WzBdID0gYVswXSAqIHM7XG4gIG91dFsxXSA9IGFbMV0gKiBzO1xuICBvdXRbMl0gPSBhWzJdICogcztcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYzc2V0KG91dCwgYSwgYiwgYykge1xuICBvdXRbMF0gPSBhO1xuICBvdXRbMV0gPSBiO1xuICBvdXRbMl0gPSBjO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNzdWIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M2lTY2FsZShhLCBzKSB7XG4gIGFbMF0gKj0gcztcbiAgYVsxXSAqPSBzO1xuICBhWzJdICo9IHM7XG4gIHJldHVybiBhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjNpU3ViKGEsIGIpIHtcbiAgYVswXSAtPSBiWzBdO1xuICBhWzFdIC09IGJbMV07XG4gIGFbMl0gLT0gYlsyXTtcbiAgcmV0dXJuIGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2M3plcm8ob3V0KSB7XG4gIG91dFswXSA9IG91dFsxXSA9IG91dFsyXSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGNsb25lKGEpIHtcbiAgcmV0dXJuIGEuc2xpY2UoMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NGxlcnAob3V0LCB0LCBhLCBiKSB7XG4gIGxldCBpdCA9IDEgLSB0O1xuICBvdXRbMF0gPSBpdCAqIGFbMF0gKyB0ICogYlswXTtcbiAgb3V0WzFdID0gaXQgKiBhWzFdICsgdCAqIGJbMV07XG4gIG91dFsyXSA9IGl0ICogYVsyXSArIHQgKiBiWzJdO1xuICBvdXRbM10gPSBpdCAqIGFbM10gKyB0ICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0bXVsKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0bXVsQWRkKG91dCwgYSwgYiwgYykge1xuICBvdXRbMF0gPSBhWzBdICogYlswXSArIGNbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdICsgY1sxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl0gKyBjWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXSArIGNbM107XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NHNhbWUoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHY0c2NhbGUob3V0LCBhLCBzKSB7XG4gIG91dFswXSA9IGFbMF0gKiBzO1xuICBvdXRbMV0gPSBhWzFdICogcztcbiAgb3V0WzJdID0gYVsyXSAqIHM7XG4gIG91dFszXSA9IGFbM10gKiBzO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdjRzZXQob3V0LCBhLCBiLCBjLCBkKSB7XG4gIG91dFswXSA9IGE7XG4gIG91dFsxXSA9IGI7XG4gIG91dFsyXSA9IGM7XG4gIG91dFszXSA9IGQ7XG4gIHJldHVybiBvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2NHplcm8ob3V0KSB7XG4gIG91dFswXSA9IG91dFsxXSA9IG91dFsyXSA9IG91dFszXSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCB7IGZsb29yIH0gPSBNYXRoO1xuXG5sZXQgb2ZmcyA9IDA7XG5mdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBEYXRlLm5vdygpICsgb2Zmcztcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IG5vdztcbmV4cG9ydHMubm93ID0gbm93O1xuZXhwb3J0cy5zeW5jID0gZnVuY3Rpb24gKHNlcnZlcl90aW1lKSB7XG4gIG9mZnMgPSBzZXJ2ZXJfdGltZSAtIERhdGUubm93KCk7XG59O1xuZXhwb3J0cy5zZWNvbmRzID0gZnVuY3Rpb24gKCkge1xuICAvLyBTZWNvbmRzIHNpbmNlIEphbiAxc3QsIDIwMjBcbiAgcmV0dXJuIGZsb29yKG5vdygpIC8gMTAwMCkgLSAxNTc3ODM2ODAwO1xufTtcbiIsImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBmaWxld2F0Y2hPbiwgZmlsZXdhdGNoVHJpZ2dlckNoYW5nZSB9ID0gcmVxdWlyZSgnLi9maWxld2F0Y2guanMnKTtcbmNvbnN0IHVybGhhc2ggPSByZXF1aXJlKCcuL3VybGhhc2guanMnKTtcblxubGV0IGZzID0gd2luZG93Lmdsb3Zfd2ViZnMgPSB3aW5kb3cuZ2xvdl93ZWJmcyB8fCB7fTtcbmxldCBkZWNvZGVkID0ge307XG5sZXQgdXNlZCA9IHt9O1xuLy8gZXhwb3J0IGZ1bmN0aW9uIHdlYkZTUmVhZHkoKSB7XG4vLyAgIC8vIFRPRE86IGFzeW5jIHJlYWR5IHN0YXRlP1xuLy8gfVxuXG5mdW5jdGlvbiBkZWNvZGUoZGF0YSkge1xuICBsZXQgbGVuID0gZGF0YVswXTtcbiAgbGV0IHN0ciA9IGRhdGFbMV07XG4gIGxldCB1OCA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gIGxldCBpZHhvID0gMDtcbiAgbGV0IGlkeGkgPSAwO1xuICB3aGlsZSAoaWR4byA8IGxlbikge1xuICAgIGxldCBieXRlID0gc3RyLmNoYXJDb2RlQXQoaWR4aSsrKTtcbiAgICBpZiAoYnl0ZSA9PT0gMTI2KSB7XG4gICAgICBieXRlID0gMDtcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPT09IDI3KSB7XG4gICAgICBieXRlID0gc3RyLmNoYXJDb2RlQXQoaWR4aSsrKTtcbiAgICB9XG4gICAgdThbaWR4bysrXSA9IGJ5dGU7XG4gIH1cbiAgYXNzZXJ0LmVxdWFsKGlkeGksIHN0ci5sZW5ndGgpO1xuICBhc3NlcnQuZXF1YWwoaWR4bywgbGVuKTtcbiAgcmV0dXJuIHU4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2ViRlNHZXRGaWxlKGZpbGVuYW1lLCBlbmNvZGluZykge1xuICBsZXQgcmV0ID0gZGVjb2RlZFtmaWxlbmFtZV07XG4gIGlmIChyZXQpIHtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIHVzZWRbZmlsZW5hbWVdID0gdHJ1ZTtcbiAgbGV0IGRhdGEgPSBmc1tmaWxlbmFtZV07XG4gIGFzc2VydChkYXRhLCBgRXJyb3IgbG9hZGluZyBmaWxlOiAke2ZpbGVuYW1lfWApO1xuICBpZiAoZW5jb2RpbmcgPT09ICd0ZXh0Jykge1xuICAgIHJldCA9IGRhdGFbMV07XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gZGVjb2RlKGRhdGEpO1xuICB9XG4gIGRlY29kZWRbZmlsZW5hbWVdID0gcmV0O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2ViRlNFeGlzdHMoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIEJvb2xlYW4oZnNbZmlsZW5hbWVdKTtcbn1cblxuLy8gRG9uJ3QgcmVwb3J0IG9uIGZpbGVzIHdlIGtub3cgYXJlIGxvYWRlZCBkeW5hbWljYWxseSwgYW5kIGFyZSBzbWFsbFxuY29uc3QgcmVwb3J0X2lnbm9yZV9yZWdleCA9IC9cXC4oZnB8dnB8dm0pJC87XG5leHBvcnQgZnVuY3Rpb24gd2ViRlNSZXBvcnRVbnVzZWQoKSB7XG4gIGxldCB0b3Rfc2l6ZSA9IDA7XG4gIGZvciAobGV0IGZpbGVuYW1lIGluIGZzKSB7XG4gICAgaWYgKCF1c2VkW2ZpbGVuYW1lXSAmJiAhZmlsZW5hbWUubWF0Y2gocmVwb3J0X2lnbm9yZV9yZWdleCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgV2ViRlMgZmlsZSBidW5kbGVkIGJ1dCB1bnJlZmVyZW5jZWQ6ICR7ZmlsZW5hbWV9YCk7XG4gICAgICB0b3Rfc2l6ZSArPSBmc1tmaWxlbmFtZV1bMF07XG4gICAgfVxuICB9XG4gIGlmICh0b3Rfc2l6ZSkge1xuICAgIGNvbnNvbGUud2FybihgV2ViRlMgd2FzdGluZyAke3RvdF9zaXplfSBieXRlc2ApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdlYkZTUmVsb2FkKCkge1xuICB3aW5kb3cuZ2xvdl93ZWJmcyA9IHt9O1xuICBsZXQgc2NyaXB0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdFRhZy5zcmMgPSBgJHt1cmxoYXNoLmdldFVSTEJhc2UoKX1mc2RhdGEuanM/cmw9JHtEYXRlLm5vdygpfWA7XG4gIHNjcmlwdFRhZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5nbG92X3dlYmZzKSB7XG4gICAgICBsZXQgb2xkX2ZzID0gZnM7XG4gICAgICBmcyA9IHdpbmRvdy5nbG92X3dlYmZzO1xuICAgICAgZGVjb2RlZCA9IHt9O1xuICAgICAgdXNlZCA9IHt9O1xuICAgICAgZm9yIChsZXQga2V5IGluIGZzKSB7XG4gICAgICAgIGxldCBvbGRfdmFsdWUgPSBvbGRfZnNba2V5XTtcbiAgICAgICAgbGV0IG5ld192YWx1ZSA9IGZzW2tleV07XG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuZXdfdmFsdWUubGVuZ3RoOyArK2lpKSB7XG4gICAgICAgICAgaWYgKCFvbGRfdmFsdWUgfHwgbmV3X3ZhbHVlW2lpXSAhPT0gb2xkX3ZhbHVlW2lpXSkge1xuICAgICAgICAgICAgZmlsZXdhdGNoVHJpZ2dlckNoYW5nZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG59XG5cbmZpbGV3YXRjaE9uKCdmc2RhdGEuanMnLCB3ZWJGU1JlbG9hZCk7XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLy8gT3JpZ2luYWxseSBmcm9tIFNwbG9keSwgdXNlZCB3aXRoIHBlcm1pc3Npb25cbi8qIGVzbGludCBuby1tdWx0aS1zcGFjZXM6b2ZmLCBhcnJheS1icmFja2V0LXNwYWNpbmc6b2ZmICovXG5cbmNvbnN0IHsgbWFzaFN0cmluZyB9ID0gcmVxdWlyZSgnLi4vcmFuZF9hbGVhLmpzJyk7XG5jb25zdCB7IHJhbmRGYXN0Q3JlYXRlIH0gPSByZXF1aXJlKCcuLi9yYW5kX2Zhc3QuanMnKTtcbmNvbnN0IHsgcHJvZmFuaXR5RmlsdGVyQ29tbW9uLCBwcm9mYW5pdHlDb21tb25TdGFydHVwIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9jb21tb24vd29yZHMvcHJvZmFuaXR5X2NvbW1vbi5qcycpO1xuY29uc3QgeyB3ZWJGU0dldEZpbGUgfSA9IHJlcXVpcmUoJy4uL3dlYmZzLmpzJyk7XG5cbmxldCBub25fcHJvZmFuaXR5O1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvZmFuaXR5U3RhcnR1cCgpIHtcbiAgbm9uX3Byb2Zhbml0eSA9IHdlYkZTR2V0RmlsZSgnZ2xvdi93b3Jkcy9yZXBsYWNlbWVudHMudHh0JywgJ3RleHQnKS5zcGxpdCgnXFxuJykuZmlsdGVyKChhKSA9PiBhKTtcbiAgcHJvZmFuaXR5Q29tbW9uU3RhcnR1cCh3ZWJGU0dldEZpbGUoJy4uL2NvbW1vbi93b3Jkcy9maWx0ZXIuZ2tnJywgJ3RleHQnKSk7XG59XG5cbmxldCByYW5kID0gcmFuZEZhc3RDcmVhdGUoKTtcblxubGV0IGxhc3Rfd29yZDtcbmZ1bmN0aW9uIHJhbmRXb3JkKCkge1xuICBpZiAobGFzdF93b3JkID09PSAtMSkge1xuICAgIGxhc3Rfd29yZCA9IHJhbmQucmFuZ2Uobm9uX3Byb2Zhbml0eS5sZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIGxldCBjaG9pY2UgPSByYW5kLnJhbmdlKG5vbl9wcm9mYW5pdHkubGVuZ3RoIC0gMSk7XG4gICAgbGFzdF93b3JkID0gY2hvaWNlIDwgbGFzdF93b3JkID8gY2hvaWNlIDogY2hvaWNlICsgMTtcbiAgfVxuICByZXR1cm4gbm9uX3Byb2Zhbml0eVtsYXN0X3dvcmRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvZmFuaXR5RmlsdGVyKHVzZXJfc3RyKSB7XG4gIGxhc3Rfd29yZCA9IC0xO1xuICByYW5kLnNlZWQgPSBtYXNoU3RyaW5nKHVzZXJfc3RyKTtcbiAgcmV0dXJuIHByb2Zhbml0eUZpbHRlckNvbW1vbih1c2VyX3N0ciwgcmFuZFdvcmQpO1xufVxuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8qIGdsb2JhbCBXZWJTb2NrZXQsIFhNTEh0dHBSZXF1ZXN0ICovXG5cbmNvbnN0IGFjayA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9hY2suanMnKTtcbmNvbnN0IHsgYWNrSW5pdFJlY2VpdmVyIH0gPSBhY2s7XG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgZXJyb3JSZXBvcnRTZXREZXRhaWxzIH0gPSByZXF1aXJlKCcuL2Vycm9yX3JlcG9ydC5qcycpO1xuY29uc3QgeyBtaW4gfSA9IE1hdGg7XG5jb25zdCB1cmxoYXNoID0gcmVxdWlyZSgnLi91cmxoYXNoLmpzJyk7XG5jb25zdCB3YWxsdGltZSA9IHJlcXVpcmUoJy4vd2FsbHRpbWUuanMnKTtcbmNvbnN0IHdzY29tbW9uID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL3dzY29tbW9uLmpzJyk7XG5jb25zdCB7IHdzSGFuZGxlTWVzc2FnZSB9ID0gd3Njb21tb247XG5cbi8vIGxldCBuZXRfdGltZSA9IDA7XG4vLyBleHBvcnQgZnVuY3Rpb24gZ2V0TmV0VGltZSgpIHtcbi8vICAgbGV0IHIgPSBuZXRfdGltZTtcbi8vICAgbmV0X3RpbWUgPSAwO1xuLy8gICByZXR1cm4gcjtcbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIFdTQ2xpZW50KHBhdGgpIHtcbiAgdGhpcy5pZCA9IG51bGw7XG4gIHRoaXMubXlfaWRzID0ge307IC8vIHNldCBvZiBhbGwgSURzIEkndmUgYmVlbiBkdXJpbmcgdGhpcyBzZXNzaW9uXG4gIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgdGhpcy5zb2NrZXQgPSBudWxsO1xuICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICB0aGlzLnJldHJ5X3NjaGVkdWxlZCA9IGZhbHNlO1xuICB0aGlzLnJldHJ5X2NvdW50ID0gMDtcbiAgdGhpcy5kaXNjb25uZWN0X3RpbWUgPSBEYXRlLm5vdygpO1xuICB0aGlzLmxhc3RfcmVjZWl2ZV90aW1lID0gRGF0ZS5ub3coKTtcbiAgdGhpcy5pZGxlX2NvdW50ZXIgPSAwO1xuICB0aGlzLmxhc3Rfc2VuZF90aW1lID0gRGF0ZS5ub3coKTtcbiAgdGhpcy5hdXRvX3BhdGggPSAhcGF0aDtcbiAgYWNrSW5pdFJlY2VpdmVyKHRoaXMpO1xuXG4gIGlmICh0aGlzLmF1dG9fcGF0aCkge1xuXG4gICAgcGF0aCA9IGRvY3VtZW50LmxvY2F0aW9uLnRvU3RyaW5nKCkubWF0Y2goL15bXiM/XSsvKVswXTsgLy8gcmVtb3ZlIHNlYXJjaCBhbmQgYW5jaG9yXG5cblxuICAgIGlmIChwYXRoLnNsaWNlKC0xKSAhPT0gJy8nKSB7XG4gICAgICAvLyAvZmlsZS5odG1sIG9yIC9wYXRoL2ZpbGUuaHRtbCBvciAvcGF0aFxuICAgICAgbGV0IGlkeCA9IHBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGxldCBmaWxlbmFtZSA9IHBhdGguc2xpY2UoaWR4KzEpO1xuICAgICAgICBpZiAoZmlsZW5hbWUuaW5kZXhPZignLicpICE9PSAtMSkge1xuICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIGlkeCsxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRoICs9ICcvJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aCArPSAnLyc7XG4gICAgICB9XG4gICAgfVxuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15odHRwLywgJ3dzJyk7XG4gICAgdGhpcy5wYXRoID0gYCR7cGF0aH13c2A7XG5cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICB9XG5cbiAgaWYgKHBhdGgubWF0Y2goLzpcXGQrXFwvLykpIHtcbiAgICAvLyBoYXMgcG9ydCwgZG9uJ3QgdHJ5IGFueXRoaW5nIGZhbmN5XG4gICAgdGhpcy5wYXRoMiA9IHRoaXMucGF0aDtcbiAgfSBlbHNlIGlmIChwYXRoLm1hdGNoKC9ed3M6LykpIHtcbiAgICAvLyBubyBwb3J0LCB0cnkgd3NzOi8vIGlmIHRoaXMgZmFpbHNcbiAgICAvLyBTaG91bGQgZml4IENvbWNhc3QgaW5qZWN0aW9uIGlzc3VlXG4gICAgdGhpcy5wYXRoMiA9IHRoaXMucGF0aC5yZXBsYWNlKC9ed3M6LywgJ3dzczonKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVc2luZyB3c3M6Ly8gc29tZSBicm93c2VycyB3aWxsIG5vdCBhbGxvdyBjb25uZWN0aW5nIHRvIHdzOi8vLCBzbyBkb24ndCBldmVuIHRyeVxuICAgIHRoaXMucGF0aDIgPSB0aGlzLnBhdGg7XG4gIH1cblxuICB0aGlzLmNvbm5lY3QoZmFsc2UpO1xuXG4gIHRoaXMub25Nc2coJ2NhY2snLCB0aGlzLm9uQ29ubmVjdEFjay5iaW5kKHRoaXMpKTtcbiAgdGhpcy5vbk1zZygnYXBwX3ZlcicsIHRoaXMub25BcHBWZXIuYmluZCh0aGlzKSk7XG4gIHRoaXMub25Nc2coJ2Vycm9yJywgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpO1xufVxuXG5XU0NsaWVudC5wcm90b3R5cGUudGltZVNpbmNlRGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmRpc2Nvbm5lY3RfdGltZTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5vbkFwcFZlciA9IGZ1bmN0aW9uICh2ZXIpIHtcbiAgaWYgKHZlciAhPT0gQlVJTERfVElNRVNUQU1QKSB7XG4gICAgaWYgKHRoaXMub25fYXBwX3Zlcl9taXNtYXRjaCkge1xuICAgICAgdGhpcy5vbl9hcHBfdmVyX21pc21hdGNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmF1dG9fcGF0aCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBcHAgdmVyc2lvbiBtaXNtYXRjaCAoc2VydmVyOiAke3Zlcn0sIGNsaWVudDogJHtCVUlMRF9USU1FU1RBTVB9KSwgcmVsb2FkaW5nYCk7XG4gICAgICAgIGlmICh3aW5kb3cucmVsb2FkU2FmZSkge1xuICAgICAgICAgIHdpbmRvdy5yZWxvYWRTYWZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgQXBwIHZlcnNpb24gbWlzbWF0Y2ggKHNlcnZlcjogJHt2ZXJ9LCBjbGllbnQ6ICR7QlVJTERfVElNRVNUQU1QfSksIGlnbm9yaW5nYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUub25Db25uZWN0QWNrID0gZnVuY3Rpb24gKGRhdGEsIHJlc3BfZnVuYykge1xuICBsZXQgY2xpZW50ID0gdGhpcztcbiAgd2FsbHRpbWUuc3luYyhkYXRhLnRpbWUpO1xuICBjbGllbnQuY29ubmVjdGVkID0gdHJ1ZTtcbiAgY2xpZW50LmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICBjbGllbnQuaWQgPSBkYXRhLmlkO1xuICBjbGllbnQubXlfaWRzW2RhdGEuaWRdID0gdHJ1ZTtcbiAgZXJyb3JSZXBvcnRTZXREZXRhaWxzKCdjbGllbnRfaWQnLCBjbGllbnQuaWQpO1xuICBjbGllbnQuc2VjcmV0ID0gZGF0YS5zZWNyZXQ7XG4gIGlmIChkYXRhLmFwcF92ZXIpIHtcbiAgICBjbGllbnQub25BcHBWZXIoZGF0YS5hcHBfdmVyKTtcbiAgfVxuICAvLyBGaXJlIHVzZXItbGV2ZWwgY29ubmVjdCBoYW5kbGVyIGFzIHdlbGxcbiAgYXNzZXJ0KGNsaWVudC5oYW5kbGVycy5jb25uZWN0KTtcbiAgY2xpZW50LmhhbmRsZXJzLmNvbm5lY3QoY2xpZW50LCB7XG4gICAgY2xpZW50X2lkOiBjbGllbnQuaWQsXG4gICAgcmVzdGFydGluZzogZGF0YS5yZXN0YXJ0aW5nLFxuICB9KTtcbiAgcmVzcF9mdW5jKCk7XG59O1xuXG5cbldTQ2xpZW50LnByb3RvdHlwZS5wYWsgPSBmdW5jdGlvbiAobXNnKSB7XG4gIHJldHVybiB3c2NvbW1vbi53c1Bhayhtc2csIG51bGwsIHRoaXMpO1xufTtcblxuV1NDbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobXNnLCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgd3Njb21tb24uc2VuZE1lc3NhZ2UuY2FsbCh0aGlzLCBtc2csIGRhdGEsIHJlc3BfZnVuYyk7XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ1dTQ2xpZW50IEVycm9yJyk7XG4gIGNvbnNvbGUuZXJyb3IoZSk7XG4gIHRocm93IGU7XG59O1xuXG4vLyBjYihjbGllbnQsIGRhdGEsIHJlc3BfZnVuYylcbldTQ2xpZW50LnByb3RvdHlwZS5vbk1zZyA9IGZ1bmN0aW9uIChtc2csIGNiKSB7XG4gIGFzc2VydC5vayghdGhpcy5oYW5kbGVyc1ttc2ddKTtcbiAgdGhpcy5oYW5kbGVyc1ttc2ddID0gZnVuY3Rpb24gd3JhcHBlZENhbGxiYWNrKGNsaWVudCwgZGF0YSwgcmVzcF9mdW5jKSB7XG4gICAgLy8gQ2xpZW50IGludGVyZmFjZSBkb2VzIG5vdCBuZWVkIGEgY2xpZW50IHBhc3NlZCB0byBpdCFcbiAgICByZXR1cm4gY2IoZGF0YSwgcmVzcF9mdW5jKTtcbiAgfTtcbn07XG5cbldTQ2xpZW50LnByb3RvdHlwZS5jaGVja0Zvck5ld0FwcFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmFwcF92ZXJfY2hlY2tfaW5fcHJvZ3Jlc3MpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5hcHBfdmVyX2NoZWNrX2luX3Byb2dyZXNzID0gdHJ1ZTtcbiAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub3BlbignR0VUJywgYCR7dXJsaGFzaC5nZXRVUkxCYXNlKCl9YXBwLnZlci5qc29uYCwgdHJ1ZSk7XG4gIC8vIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7IC8vIGNhdXNlcyB1bi1jYXRjaGFibGUsIHVuLXJlcG9ydGVkIGVycm9yc1xuICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgIHRoaXMuYXBwX3Zlcl9jaGVja19pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICAgIGxldCB0ZXh0O1xuICAgIHRyeSB7XG4gICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgIGxldCBvYmogPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgaWYgKG9iaiAmJiBvYmoudmVyKSB7XG4gICAgICAgIHRoaXMub25BcHBWZXIob2JqLnZlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignUmVjZWl2ZWQgaW52YWxpZCByZXNwb25zZSB3aGVuIGNoZWNraW5nIGFwcCB2ZXJzaW9uOicsIHRleHQgfHwgJzxlbXB0eSByZXNwb25zZT4nKTtcbiAgICAgIC8vIFByb2JhYmx5IGludGVybmFsIHNlcnZlciBlcnJvciBvciBzdWNoIGFzIHRoZSBzZXJ2ZXIgaXMgcmVzdGFydCwgdHJ5IGFnYWluIG1vbWVudGFyaWx5XG4gICAgICAvLyBUaGlzIGlzIG5vdCB0cmlnZ2VyZWQgb24gY29ubmVjdGlvbiBlcnJvcnMsIG9ubHkgaWYgd2UgZ290IGEgKG5vbi1wYXJzZWFibGUpIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlclxuICAgICAgaWYgKCF0aGlzLmRlbGF5ZWRfcmVjaGVjaykge1xuICAgICAgICB0aGlzLmRlbGF5ZWRfcmVjaGVjayA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGVsYXllZF9yZWNoZWNrID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5jaGVja0Zvck5ld0FwcFZlcnNpb24oKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB4aHIub25lcnJvciA9ICgpID0+IHtcbiAgICB0aGlzLmFwcF92ZXJfY2hlY2tfaW5fcHJvZ3Jlc3MgPSBmYWxzZTtcbiAgfTtcbiAgeGhyLnNlbmQobnVsbCk7XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUucmV0cnlDb25uZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBsZXQgY2xpZW50ID0gdGhpcztcbiAgYXNzZXJ0KCFjbGllbnQuc29ja2V0KTtcbiAgYXNzZXJ0KCFjbGllbnQucmV0cnlfc2NoZWR1bGVkKTtcbiAgY2xpZW50LnJldHJ5X3NjaGVkdWxlZCA9IHRydWU7XG4gICsrY2xpZW50LnJldHJ5X2NvdW50O1xuICB0aGlzLmNoZWNrRm9yTmV3QXBwVmVyc2lvbigpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBhc3NlcnQoY2xpZW50LnJldHJ5X3NjaGVkdWxlZCk7XG4gICAgYXNzZXJ0KCFjbGllbnQuc29ja2V0KTtcbiAgICBjbGllbnQucmV0cnlfc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgY2xpZW50LmNvbm5lY3QodHJ1ZSk7XG4gIH0sIG1pbihjbGllbnQucmV0cnlfY291bnQgKiBjbGllbnQucmV0cnlfY291bnQgKiAxMDAsIDE1MDAwKSk7XG59O1xuXG5XU0NsaWVudC5wcm90b3R5cGUuY2hlY2tEaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jb25uZWN0ZWQgJiYgdGhpcy5zb2NrZXQucmVhZHlTdGF0ZSAhPT0gMSkgeyAvLyBXZWJTb2NrZXQuT1BFTlxuICAgIC8vIFdlIHRoaW5rIHdlJ3JlIGNvbm5lY3RlZCwgYnV0IHdlJ3JlIG5vdCwgd2UgbXVzdCBoYXZlIHJlY2VpdmVkIGFuXG4gICAgLy8gYW5pbWF0aW9uIGZyYW1lIGJlZm9yZSB0aGUgY2xvc2UgZXZlbnQgd2hlbiBwaG9uZSB3YXMgbG9ja2VkIG9yIHNvbWV0aGluZ1xuICAgIHRoaXMub25fY2xvc2UoKTtcbiAgICBhc3NlcnQoIXRoaXMuY29ubmVjdGVkKTtcbiAgfVxufTtcblxuV1NDbGllbnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoZm9yX3JlY29ubmVjdCkge1xuICBsZXQgY2xpZW50ID0gdGhpcztcblxuICBsZXQgcGF0aCA9IGAkeyhjbGllbnQucmV0cnlfY291bnQgJSAyKSA/IGNsaWVudC5wYXRoMiA6IGNsaWVudC5wYXRofT9wdmVyPSR7d3Njb21tb24uUFJPVE9DT0xfVkVSU0lPTn0ke1xuICAgIGZvcl9yZWNvbm5lY3QgJiYgY2xpZW50LmlkICYmIGNsaWVudC5zZWNyZXQgPyBgJnJlY29ubmVjdD0ke2NsaWVudC5pZH0mc2VjcmV0PSR7Y2xpZW50LnNlY3JldH1gIDogJydcbiAgfWA7XG4gIGxldCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHBhdGgpO1xuICBzb2NrZXQuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gIGNsaWVudC5zb2NrZXQgPSBzb2NrZXQ7XG5cbiAgLy8gUHJvdGVjdCBjYWxsYmFja3MgZnJvbSBldmVyIGZpcmluZyBpZiB3ZSd2ZSBhbHJlYWR5IGRpc2Nvbm5lY3RlZCB0aGlzIHNvY2tldFxuICAvLyAgIGZyb20gdGhlIFdTQ2xpZW50XG4gIGZ1bmN0aW9uIGd1YXJkKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICBpZiAoY2xpZW50LnNvY2tldCAhPT0gc29ja2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZuKC4uLmFyZ3MpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhYm9ydChza2lwX2Nsb3NlKSB7XG4gICAgY2xpZW50LnNvY2tldCA9IG51bGw7XG4gICAgaWYgKGNsaWVudC5jb25uZWN0ZWQpIHtcbiAgICAgIGNsaWVudC5kaXNjb25uZWN0X3RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY2xpZW50LmRpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICBlcnJvclJlcG9ydFNldERldGFpbHMoJ2Rpc2Nvbm5lY3RlZCcsIDEpO1xuICAgIH1cbiAgICBjbGllbnQuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgaWYgKCFza2lwX2Nsb3NlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgICB9XG4gICAgfVxuICAgIGFjay5mYWlsQWxsKGNsaWVudCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXRyeShza2lwX2Nsb3NlKSB7XG4gICAgYWJvcnQoc2tpcF9jbG9zZSk7XG4gICAgY2xpZW50LnJldHJ5Q29ubmVjdGlvbigpO1xuICB9XG5cbiAgLy8gTG9jYWwgc3RhdGUsIGZvciB0aGlzIG9uZSBjb25uZWN0aW9uXG4gIGxldCBjb25uZWN0ZWQgPSBmYWxzZTtcbiAgY2xpZW50LnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGd1YXJkKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoIWNvbm5lY3RlZCkge1xuICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBlcnJvciBkdXJpbmcgaW5pdGlhbCBjb25uZWN0aW9uLCByZXRyeWluZy4uLicsIGVycik7XG4gICAgICByZXRyeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3InLCBlcnIpO1xuICAgICAgLy8gRGlzY29ubmVjdCBhbmQgcmVjb25uZWN0IGhlcmUsIGlzIHRoaXMgYSB0ZXJtaW5hbCBlcnJvcj8gUHJvYmFibHkgbm90LCB3ZSdsbCBnZXQgYSAnY2xvc2UnIGV2ZW50IGlmIGl0IGlzP1xuICAgICAgLy8gV2Ugc29tZSBlcnJvciBvY2Nhc2lvbmFsbHkgb24gaU9TLCBub3Qgc3VyZSB3aGF0IGVycm9yLCBidXQgaXQgYXV0by1yZWNvbm5lY3RzIGZpbmUsIHNvIGxldCdzXG4gICAgICAvLyBub3QgZG8gYSB0aHJvd1xuICAgICAgLy8gY2xpZW50Lm9uRXJyb3IoZXJyKTtcbiAgICB9XG4gIH0pKTtcblxuICBjbGllbnQuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBndWFyZChmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIC8vIG5ldF90aW1lIC09IERhdGUubm93KCk7XG4gICAgYXNzZXJ0KG1lc3NhZ2UuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgICB3c0hhbmRsZU1lc3NhZ2UoY2xpZW50LCBuZXcgVWludDhBcnJheShtZXNzYWdlLmRhdGEpKTtcbiAgICAvLyBuZXRfdGltZSArPSBEYXRlLm5vdygpO1xuICB9KSk7XG5cbiAgY2xpZW50LnNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgZ3VhcmQoZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgb3BlbicpO1xuICAgIGNvbm5lY3RlZCA9IHRydWU7XG4gICAgLy8gcmVzZXQgcmV0cnkgY291bnQgc28gbmV4dCByZXRyeSBpcyBmYXN0IGlmIHdlIGdldCBkaXNjb25uZWN0ZWRcbiAgICBjbGllbnQucmV0cnlfY291bnQgPSAwO1xuICB9KSk7XG5cbiAgLy8gVGhpcyBtYXkgZ2V0IGNhbGxlZCBiZWZvcmUgdGhlIGNsb3NlIGV2ZW50IGdldHMgdG8gdXNlXG4gIGNsaWVudC5vbl9jbG9zZSA9IGd1YXJkKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNsb3NlLCByZXRyeWluZyBjb25uZWN0aW9uLi4uJyk7XG4gICAgcmV0cnkodHJ1ZSk7XG4gIH0pO1xuICBjbGllbnQuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgY2xpZW50Lm9uX2Nsb3NlKTtcblxuICBsZXQgZG9QaW5nID0gZ3VhcmQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChEYXRlLm5vdygpIC0gY2xpZW50Lmxhc3Rfc2VuZF90aW1lID4gd3Njb21tb24uUElOR19USU1FICYmIGNsaWVudC5jb25uZWN0ZWQgJiYgY2xpZW50LnNvY2tldC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICBjbGllbnQuc2VuZCgncGluZycpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KGRvUGluZywgd3Njb21tb24uUElOR19USU1FKTtcbiAgfSk7XG4gIHNldFRpbWVvdXQoZG9QaW5nLCB3c2NvbW1vbi5QSU5HX1RJTUUpO1xuXG4gIC8vIEZvciBkZWJ1Z2dpbmcgcmVjb25uZWN0IGhhbmRsaW5nXG4gIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAvLyAgIGlmIChjb25uZWN0ZWQpIHtcbiAgLy8gICAgIHNvY2tldC5jbG9zZSgpO1xuICAvLyAgIH1cbiAgLy8gfSwgNTAwMCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHM9e1wiZm9udF9zaXplXCI6OCxcImltYWdlV1wiOjEyOCxcImltYWdlSFwiOjEyOCxcInNwcmVhZFwiOjIsXCJub0ZpbHRlclwiOjEsXCJjaGFubmVsc1wiOjEsXCJjaGFyX2luZm9zXCI6W3tcImNcIjozMixcIngwXCI6NjEsXCJ5MFwiOjYzLFwieHBhZFwiOjQsXCJ3XCI6MCxcImhcIjowfSx7XCJjXCI6MzMsXCJ4MFwiOjkyLFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo1fSx7XCJjXCI6MzQsXCJ4MFwiOjE2LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6Mn0se1wiY1wiOjM1LFwieDBcIjo5OCxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjUsXCJoXCI6NX0se1wiY1wiOjM2LFwieDBcIjozOCxcInkwXCI6MixcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6Nn0se1wiY1wiOjM3LFwieDBcIjoxMDgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjozOCxcIngwXCI6MTE4LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6MzksXCJ4MFwiOjI0LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6Mn0se1wiY1wiOjQwLFwieDBcIjoyLFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6NX0se1wiY1wiOjQxLFwieDBcIjo5LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6NX0se1wiY1wiOjQyLFwieDBcIjoxMDksXCJ5MFwiOjU0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjozfSx7XCJjXCI6NDMsXCJ4MFwiOjExNyxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjN9LHtcImNcIjo0NCxcIngwXCI6MzAsXCJ5MFwiOjYzLFwieW9mZnNcIjo1LFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjoyfSx7XCJjXCI6NDUsXCJ4MFwiOjY3LFwieTBcIjo2MyxcInlvZmZzXCI6MyxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6MX0se1wiY1wiOjQ2LFwieDBcIjo3NSxcInkwXCI6NjMsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MSxcIndcIjoxLFwiaFwiOjF9LHtcImNcIjo0NyxcIngwXCI6MTYsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6NDgsXCJ4MFwiOjI2LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjQ5LFwieDBcIjozNSxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MixcIndcIjozLFwiaFwiOjV9LHtcImNcIjo1MCxcIngwXCI6NDIsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTEsXCJ4MFwiOjUxLFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjUyLFwieDBcIjo2MCxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1MyxcIngwXCI6NjksXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTQsXCJ4MFwiOjc4LFwieTBcIjoxNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjU1LFwieDBcIjo4NyxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1NixcIngwXCI6OTYsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NTcsXCJ4MFwiOjEwNSxcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo1OCxcIngwXCI6MixcInkwXCI6NjMsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjoxLFwiaFwiOjN9LHtcImNcIjo1OSxcIngwXCI6MTE1LFwieTBcIjo0NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6NH0se1wiY1wiOjYwLFwieDBcIjoxMTQsXCJ5MFwiOjE0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NjEsXCJ4MFwiOjgsXCJ5MFwiOjYzLFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjozfSx7XCJjXCI6NjIsXCJ4MFwiOjEyMixcInkwXCI6MTQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo2MyxcIngwXCI6MixcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo2NCxcIngwXCI6MTEsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6NjUsXCJ4MFwiOjIxLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjY2LFwieDBcIjozMCxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo2NyxcIngwXCI6MzksXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NjgsXCJ4MFwiOjQ3LFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjY5LFwieDBcIjo1NixcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo3MCxcIngwXCI6NjQsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NzEsXCJ4MFwiOjcyLFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjcyLFwieDBcIjo4MSxcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo3MyxcIngwXCI6OTAsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6NzQsXCJ4MFwiOjk4LFwieTBcIjoyNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjc1LFwieDBcIjoxMDcsXCJ5MFwiOjI0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NzYsXCJ4MFwiOjExNixcInkwXCI6MjQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo3NyxcIngwXCI6MixcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo3OCxcIngwXCI6MTIsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6NzksXCJ4MFwiOjIxLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjgwLFwieDBcIjozMCxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo4MSxcIngwXCI6NDcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjo4MixcIngwXCI6MzksXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODMsXCJ4MFwiOjQ4LFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjg0LFwieDBcIjo1NyxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjo4NSxcIngwXCI6NjUsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODYsXCJ4MFwiOjc0LFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjg3LFwieDBcIjo4MyxcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo1LFwiaFwiOjV9LHtcImNcIjo4OCxcIngwXCI6OTMsXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6ODksXCJ4MFwiOjEwMixcInkwXCI6MzQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjo5MCxcIngwXCI6MTExLFwieTBcIjozNCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjkxLFwieDBcIjoxMTksXCJ5MFwiOjM0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo1fSx7XCJjXCI6OTIsXCJ4MFwiOjIsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6OTMsXCJ4MFwiOjEyLFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6NX0se1wiY1wiOjk0LFwieDBcIjozNyxcInkwXCI6NjMsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjJ9LHtcImNcIjo5NSxcIngwXCI6ODEsXCJ5MFwiOjYzLFwieW9mZnNcIjo1LFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjoxfSx7XCJjXCI6OTYsXCJ4MFwiOjQ1LFwieTBcIjo2MyxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjIsXCJoXCI6Mn0se1wiY1wiOjk3LFwieDBcIjoxMjEsXCJ5MFwiOjQ0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6OTgsXCJ4MFwiOjE5LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjk5LFwieDBcIjoyLFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NH0se1wiY1wiOjEwMCxcIngwXCI6MjgsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo1fSx7XCJjXCI6MTAxLFwieDBcIjoxMCxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMDIsXCJ4MFwiOjM3LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjMsXCJoXCI6NX0se1wiY1wiOjEwMyxcIngwXCI6NTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjoxMDQsXCJ4MFwiOjQ1LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NX0se1wiY1wiOjEwNSxcIngwXCI6NTQsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MSxcImhcIjo1fSx7XCJjXCI6MTA2LFwieDBcIjoyLFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MixcImhcIjo3fSx7XCJjXCI6MTA3LFwieDBcIjo2MCxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjV9LHtcImNcIjoxMDgsXCJ4MFwiOjY5LFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6NX0se1wiY1wiOjEwOSxcIngwXCI6MTksXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo0fSx7XCJjXCI6MTEwLFwieDBcIjoyOSxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMTEsXCJ4MFwiOjM4LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExMixcIngwXCI6NjUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjZ9LHtcImNcIjoxMTMsXCJ4MFwiOjc0LFwieTBcIjoyLFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo2fSx7XCJjXCI6MTE0LFwieDBcIjo0NyxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjR9LHtcImNcIjoxMTUsXCJ4MFwiOjU1LFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExNixcIngwXCI6NzUsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6MTE3LFwieDBcIjo2NCxcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjR9LHtcImNcIjoxMTgsXCJ4MFwiOjczLFwieTBcIjo1NCxcInlvZmZzXCI6MixcInhwYWRcIjoxLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjExOSxcIngwXCI6ODIsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo0fSx7XCJjXCI6MTIwLFwieDBcIjo5MixcInkwXCI6NTQsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjR9LHtcImNcIjoxMjEsXCJ4MFwiOjgzLFwieTBcIjoyLFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo2fSx7XCJjXCI6MTIyLFwieDBcIjoxMDAsXCJ5MFwiOjU0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NCxcImhcIjo0fSx7XCJjXCI6MTIzLFwieDBcIjo4MyxcInkwXCI6NDQsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjozLFwiaFwiOjV9LHtcImNcIjoxMjQsXCJ4MFwiOjkxLFwieTBcIjo0NCxcInlvZmZzXCI6MSxcInhwYWRcIjoxLFwid1wiOjEsXCJoXCI6NX0se1wiY1wiOjEyNSxcIngwXCI6OTcsXCJ5MFwiOjQ0LFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MyxcImhcIjo1fSx7XCJjXCI6MTI2LFwieDBcIjo1MixcInkwXCI6NjMsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo0LFwiaFwiOjJ9LHtcImNcIjoxNjAsXCJ4MFwiOjkwLFwieTBcIjo2MyxcInhwYWRcIjozLFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjY1NTMzLFwieDBcIjoxMDUsXCJ5MFwiOjQ0LFwieW9mZnNcIjoyLFwieHBhZFwiOjEsXCJ3XCI6NSxcImhcIjo1fSx7XCJjXCI6MTI4MjYzLFwieDBcIjo5LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MTAsXCJoXCI6N30se1wiY1wiOjEyODI2NCxcIngwXCI6MjQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjEsXCJ4cGFkXCI6MSxcIndcIjo5LFwiaFwiOjd9XX0iLCJtb2R1bGUuZXhwb3J0cz17XCJmb250X3NpemVcIjoxNixcImltYWdlV1wiOjEwMjQsXCJpbWFnZUhcIjo2NCxcInNwcmVhZFwiOjIsXCJub0ZpbHRlclwiOjEsXCJjaGFubmVsc1wiOjEsXCJjaGFyX2luZm9zXCI6W3tcImNcIjozMixcIngwXCI6MTcyLFwieTBcIjoyMSxcInhwYWRcIjo4LFwid1wiOjAsXCJoXCI6MH0se1wiY1wiOjMzLFwieDBcIjoxMzcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MzQsXCJ4MFwiOjgxLFwieTBcIjoyMSxcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6NH0se1wiY1wiOjM1LFwieDBcIjoxNDQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjM2LFwieDBcIjo1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTJ9LHtcImNcIjozNyxcIngwXCI6MTU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjozOCxcIngwXCI6MTc0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjozOSxcIngwXCI6OTIsXCJ5MFwiOjIxLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MixcImhcIjo0fSx7XCJjXCI6NDAsXCJ4MFwiOjE4OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6MTB9LHtcImNcIjo0MSxcIngwXCI6MTk4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxMH0se1wiY1wiOjQyLFwieDBcIjo0MSxcInkwXCI6MjEsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo0MyxcIngwXCI6NTIsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjo2fSx7XCJjXCI6NDQsXCJ4MFwiOjk5LFwieTBcIjoyMSxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjR9LHtcImNcIjo0NSxcIngwXCI6MTQxLFwieTBcIjoyMSxcInlvZmZzXCI6NyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6Mn0se1wiY1wiOjQ2LFwieDBcIjoxNTIsXCJ5MFwiOjIxLFwieW9mZnNcIjoxMSxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6Mn0se1wiY1wiOjQ3LFwieDBcIjoyMDcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjQ4LFwieDBcIjoyMjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NDksXCJ4MFwiOjIzNSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjo2LFwid1wiOjQsXCJoXCI6MTB9LHtcImNcIjo1MCxcIngwXCI6MjQ0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjUxLFwieDBcIjoyNTcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTIsXCJ4MFwiOjI3MCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1MyxcIngwXCI6MjgzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjU0LFwieDBcIjoyOTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTUsXCJ4MFwiOjMwOSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo1NixcIngwXCI6MzIyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjU3LFwieDBcIjozMzUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NTgsXCJ4MFwiOjYzLFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjIsXCJoXCI6Nn0se1wiY1wiOjU5LFwieDBcIjo4NzcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjh9LHtcImNcIjo2MCxcIngwXCI6MzQ4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjYxLFwieDBcIjo3MCxcInkwXCI6MjEsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo2MixcIngwXCI6MzU5LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjYzLFwieDBcIjozNzAsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6NjQsXCJ4MFwiOjM4MyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6NjUsXCJ4MFwiOjM5OCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo2NixcIngwXCI6NDExLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjY3LFwieDBcIjo0MjQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NjgsXCJ4MFwiOjQzNSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo2OSxcIngwXCI6NDQ4LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjcwLFwieDBcIjo0NTksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzEsXCJ4MFwiOjQ3MCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo3MixcIngwXCI6NDgzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjczLFwieDBcIjo0OTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzQsXCJ4MFwiOjUwNyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo3NSxcIngwXCI6NTIwLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjc2LFwieDBcIjo1MzMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6NzcsXCJ4MFwiOjU0NCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjEwfSx7XCJjXCI6NzgsXCJ4MFwiOjU1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo3OSxcIngwXCI6NTcyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjgwLFwieDBcIjo1ODUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODEsXCJ4MFwiOjcyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjgyLFwieDBcIjo1OTgsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODMsXCJ4MFwiOjYxMSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4NCxcIngwXCI6NjI0LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjg1LFwieDBcIjo2MzUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6ODYsXCJ4MFwiOjY0OCxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjo4NyxcIngwXCI6NjYxLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6MTB9LHtcImNcIjo4OCxcIngwXCI6Njc2LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjg5LFwieDBcIjo2ODksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6OTAsXCJ4MFwiOjcwMixcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjo5MSxcIngwXCI6NzEzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxMH0se1wiY1wiOjkyLFwieDBcIjo3MjIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoxMCxcImhcIjoxMH0se1wiY1wiOjkzLFwieDBcIjo3MzcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo0LFwiaFwiOjEwfSx7XCJjXCI6OTQsXCJ4MFwiOjEwOCxcInkwXCI6MjEsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjR9LHtcImNcIjo5NSxcIngwXCI6MTU5LFwieTBcIjoyMSxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjJ9LHtcImNcIjo5NixcIngwXCI6MTE5LFwieTBcIjoyMSxcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjQsXCJoXCI6NH0se1wiY1wiOjk3LFwieDBcIjo4ODQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjo5OCxcIngwXCI6NzQ2LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjk5LFwieDBcIjo4OTcsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjh9LHtcImNcIjoxMDAsXCJ4MFwiOjc1OSxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6MTB9LHtcImNcIjoxMDEsXCJ4MFwiOjkwOCxcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjEwMixcIngwXCI6NzcyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjoxMH0se1wiY1wiOjEwMyxcIngwXCI6ODUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEyfSx7XCJjXCI6MTA0LFwieDBcIjo3ODMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjEwfSx7XCJjXCI6MTA1LFwieDBcIjo3OTYsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MTA2LFwieDBcIjoyLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6NCxcImhcIjoxNH0se1wiY1wiOjEwNyxcIngwXCI6ODAzLFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMH0se1wiY1wiOjEwOCxcIngwXCI6ODE2LFwieTBcIjoyLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6MixcImhcIjoxMH0se1wiY1wiOjEwOSxcIngwXCI6OTIxLFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6MTAsXCJoXCI6OH0se1wiY1wiOjExMCxcIngwXCI6OTM2LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTExLFwieDBcIjo5NDksXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMTIsXCJ4MFwiOjk4LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjExMyxcIngwXCI6MTExLFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjExNCxcIngwXCI6OTYyLFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6NixcImhcIjo4fSx7XCJjXCI6MTE1LFwieDBcIjo5NzMsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MixcIndcIjo4LFwiaFwiOjh9LHtcImNcIjoxMTYsXCJ4MFwiOjgyMyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6MTB9LHtcImNcIjoxMTcsXCJ4MFwiOjk4NixcInkwXCI6MixcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjgsXCJoXCI6OH0se1wiY1wiOjExOCxcIngwXCI6OTk5LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTE5LFwieDBcIjoyLFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjEwLFwiaFwiOjh9LHtcImNcIjoxMjAsXCJ4MFwiOjE3LFwieTBcIjoyMSxcInlvZmZzXCI6NSxcInhwYWRcIjoyLFwid1wiOjYsXCJoXCI6OH0se1wiY1wiOjEyMSxcIngwXCI6MTI0LFwieTBcIjoyLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjoxMn0se1wiY1wiOjEyMixcIngwXCI6MjgsXCJ5MFwiOjIxLFwieW9mZnNcIjo1LFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo4fSx7XCJjXCI6MTIzLFwieDBcIjo4MzQsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6MTI0LFwieDBcIjo4NDUsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjoyLFwiaFwiOjEwfSx7XCJjXCI6MTI1LFwieDBcIjo4NTIsXCJ5MFwiOjIsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MixcIndcIjo2LFwiaFwiOjEwfSx7XCJjXCI6MTI2LFwieDBcIjoxMjgsXCJ5MFwiOjIxLFwieW9mZnNcIjozLFwieHBhZFwiOjIsXCJ3XCI6OCxcImhcIjo0fSx7XCJjXCI6MTYwLFwieDBcIjoxNzgsXCJ5MFwiOjIxLFwieHBhZFwiOjcsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6NjU1MzMsXCJ4MFwiOjg2MyxcInkwXCI6MixcInlvZmZzXCI6MyxcInhwYWRcIjoxLFwid1wiOjksXCJoXCI6MTB9LHtcImNcIjoxMjgyNjMsXCJ4MFwiOjExLFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MTksXCJoXCI6MTR9LHtcImNcIjoxMjgyNjQsXCJ4MFwiOjM1LFwieTBcIjoyLFwieW9mZnNcIjoxLFwieHBhZFwiOjEsXCJ3XCI6MTksXCJoXCI6MTR9XX0iLCJtb2R1bGUuZXhwb3J0cz17XCJmb250X3NpemVcIjozMixcImltYWdlV1wiOjEwMjQsXCJpbWFnZUhcIjo1MTIsXCJzcHJlYWRcIjo4LFwiY2hhbm5lbHNcIjoxLFwiY2hhcl9pbmZvc1wiOlt7XCJjXCI6MTMsXCJ4MFwiOjMwNyxcInkwXCI6MzgxLFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjMyLFwieDBcIjozMjUsXCJ5MFwiOjM4MSxcInhwYWRcIjo2LjEwMTU2LFwid1wiOjEsXCJoXCI6MX0se1wiY1wiOjMzLFwieDBcIjo0MzYsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjEzMjgxLFwid1wiOjYsXCJoXCI6MjJ9LHtcImNcIjozNCxcIngwXCI6ODc5LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTAsXCJoXCI6OH0se1wiY1wiOjM1LFwieDBcIjo2NzMsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ3XCI6MTYsXCJoXCI6MTd9LHtcImNcIjozNixcIngwXCI6MjE1LFwieTBcIjo4LFwieW9mZnNcIjoxLFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6Mjl9LHtcImNcIjozNyxcIngwXCI6OTMzLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC43NzM0MzgsXCJ3XCI6MjYsXCJoXCI6MjN9LHtcImNcIjozOCxcIngwXCI6OTc2LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC41NzAzMTMsXCJ3XCI6MjAsXCJoXCI6MjN9LHtcImNcIjozOSxcIngwXCI6OTA2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjQsXCJ3XCI6NSxcImhcIjo4fSx7XCJjXCI6NDAsXCJ4MFwiOjgsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NSxcIndcIjo4LFwiaFwiOjIzfSx7XCJjXCI6NDEsXCJ4MFwiOjMzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC44OTA2MjUsXCJ3XCI6NyxcImhcIjoyM30se1wiY1wiOjQyLFwieDBcIjo2NDUsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcIndcIjoxMSxcImhcIjoxMX0se1wiY1wiOjQzLFwieDBcIjo3MDYsXCJ5MFwiOjMwOSxcInlvZmZzXCI6OSxcInhwYWRcIjowLjQxNDA2MyxcIndcIjoxNSxcImhcIjoxN30se1wiY1wiOjQ0LFwieDBcIjo5MjgsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MjIsXCJ3XCI6NSxcImhcIjo4fSx7XCJjXCI6NDUsXCJ4MFwiOjI1MixcInkwXCI6MzgxLFwieW9mZnNcIjoxNixcIndcIjo5LFwiaFwiOjN9LHtcImNcIjo0NixcIngwXCI6MTU2LFwieTBcIjozODEsXCJ5b2Zmc1wiOjIyLFwid1wiOjUsXCJoXCI6NH0se1wiY1wiOjQ3LFwieDBcIjo1NyxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwid1wiOjEzLFwiaFwiOjIzfSx7XCJjXCI6NDgsXCJ4MFwiOjQ1OSxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjcxODc1LFwid1wiOjE3LFwiaFwiOjIyfSx7XCJjXCI6NDksXCJ4MFwiOjQwMixcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjUuNjcxODgsXCJ3XCI6MTIsXCJoXCI6MjF9LHtcImNcIjo1MCxcIngwXCI6NDMxLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS42NzE4OCxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjUxLFwieDBcIjo0OTMsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjY3MTg4LFwid1wiOjE2LFwiaFwiOjIyfSx7XCJjXCI6NTIsXCJ4MFwiOjQ2NCxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjcxODc1LFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6NTMsXCJ4MFwiOjUyNixcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjEuNjcxODgsXCJ3XCI6MTYsXCJoXCI6MjJ9LHtcImNcIjo1NCxcIngwXCI6NTU5LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC42NzE4NzUsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjo1NSxcIngwXCI6NDk4LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS42NzE4OCxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjU2LFwieDBcIjo1OTMsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjY3MTg3NSxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjU3LFwieDBcIjo2MjcsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjY3MTg3NSxcIndcIjoxNyxcImhcIjoyMn0se1wiY1wiOjU4LFwieDBcIjo0MDEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTIsXCJ3XCI6NSxcImhcIjoxNH0se1wiY1wiOjU5LFwieDBcIjo2NTEsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTIsXCJ3XCI6NSxcImhcIjoxOH0se1wiY1wiOjYwLFwieDBcIjo4NjcsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyNX0se1wiY1wiOjYxLFwieDBcIjo4NDcsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTQsXCJ3XCI6MTUsXCJoXCI6OX0se1wiY1wiOjYyLFwieDBcIjo4OTYsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyNX0se1wiY1wiOjYzLFwieDBcIjo2NjEsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjE5NTMxMyxcIndcIjoxMixcImhcIjoyMn0se1wiY1wiOjY0LFwieDBcIjo4NyxcInkwXCI6MTkwLFwieW9mZnNcIjo3LFwieHBhZFwiOjEuMjEwOTQsXCJ3XCI6MjMsXCJoXCI6MjN9LHtcImNcIjo2NSxcIngwXCI6NTMxLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo2NixcIngwXCI6NTY3LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjo2NyxcIngwXCI6NjkwLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC45NDUzMTMsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjo2OCxcIngwXCI6NjAyLFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS4wMTU2MyxcIndcIjoyMCxcImhcIjoyMX0se1wiY1wiOjY5LFwieDBcIjo2MzksXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjcwLFwieDBcIjo2NzIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxNSxcImhcIjoyMX0se1wiY1wiOjcxLFwieDBcIjo3MjQsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjc1LFwid1wiOjE4LFwiaFwiOjIyfSx7XCJjXCI6NzIsXCJ4MFwiOjcwNCxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuNTM5MDYsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjo3MyxcIngwXCI6NzM5LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi41NDY4OCxcIndcIjo2LFwiaFwiOjIxfSx7XCJjXCI6NzQsXCJ4MFwiOjc1OSxcInkwXCI6MjMwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuNzU3ODEsXCJ3XCI6NixcImhcIjoyMn0se1wiY1wiOjc1LFwieDBcIjo3NjIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxOSxcImhcIjoyMX0se1wiY1wiOjc2LFwieDBcIjo3OTgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcIndcIjoxNixcImhcIjoyMX0se1wiY1wiOjc3LFwieDBcIjo4MzEsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjI3MzQ0LFwid1wiOjIxLFwiaFwiOjIxfSx7XCJjXCI6NzgsXCJ4MFwiOjg2OSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwieHBhZFwiOjIuNzQyMTksXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo3OSxcIngwXCI6MTI3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyM30se1wiY1wiOjgwLFwieDBcIjo5MDUsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNyxcImhcIjoyMX0se1wiY1wiOjgxLFwieDBcIjoxNjUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjIzfSx7XCJjXCI6ODIsXCJ4MFwiOjkzOSxcInkwXCI6MjcwLFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjIxfSx7XCJjXCI6ODMsXCJ4MFwiOjIwMyxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjo4NCxcIngwXCI6OTc1LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTcsXCJoXCI6MjF9LHtcImNcIjo4NSxcIngwXCI6NzgyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyMn0se1wiY1wiOjg2LFwieDBcIjo4LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ3XCI6MTksXCJoXCI6MjF9LHtcImNcIjo4NyxcIngwXCI6NDQsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcIndcIjozMCxcImhcIjoyMX0se1wiY1wiOjg4LFwieDBcIjo4MTgsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NSxcIndcIjoyMCxcImhcIjoyMn0se1wiY1wiOjg5LFwieDBcIjo5MSxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwid1wiOjE4LFwiaFwiOjIxfSx7XCJjXCI6OTAsXCJ4MFwiOjEyNixcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6OTEsXCJ4MFwiOjkyNSxcInkwXCI6MTAzLFwieW9mZnNcIjo0LFwid1wiOjksXCJoXCI6MjV9LHtcImNcIjo5MixcIngwXCI6MjM1LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTMsXCJoXCI6MjN9LHtcImNcIjo5MyxcIngwXCI6OTUxLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS43MDMxMyxcIndcIjo3LFwiaFwiOjI1fSx7XCJjXCI6OTQsXCJ4MFwiOjk1MCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxNCxcInhwYWRcIjowLjE4NzUsXCJ3XCI6MTMsXCJoXCI6OH0se1wiY1wiOjk1LFwieDBcIjoyNzgsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MjMsXCJ4cGFkXCI6MC40Mzc1LFwid1wiOjEyLFwiaFwiOjN9LHtcImNcIjo5NixcIngwXCI6NTcsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MyxcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjo5NyxcIngwXCI6NzM4LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MTd9LHtcImNcIjo5OCxcIngwXCI6MjY1LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC44OTA2MjUsXCJ3XCI6MTYsXCJoXCI6MjN9LHtcImNcIjo5OSxcIngwXCI6NzY5LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjczNDM4LFwid1wiOjE0LFwiaFwiOjE3fSx7XCJjXCI6MTAwLFwieDBcIjoyOTgsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MTAxLFwieDBcIjo4MDAsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MS4wNDY4OCxcIndcIjoxNSxcImhcIjoxN30se1wiY1wiOjEwMixcIngwXCI6ODU1LFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTAsXCJoXCI6MjJ9LHtcImNcIjoxMDMsXCJ4MFwiOjMzMCxcInkwXCI6MTkwLFwieW9mZnNcIjoxMCxcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MTA0LFwieDBcIjo4ODIsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjEwMTU2LFwid1wiOjE2LFwiaFwiOjIyfSx7XCJjXCI6MTA1LFwieDBcIjoxNjAsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjM0Mzc1LFwid1wiOjYsXCJoXCI6MjF9LHtcImNcIjoxMDYsXCJ4MFwiOjc4LFwieTBcIjo1NyxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjA3MDMxLFwid1wiOjcsXCJoXCI6Mjh9LHtcImNcIjoxMDcsXCJ4MFwiOjkxNSxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuMTcxODc1LFwid1wiOjE1LFwiaFwiOjIyfSx7XCJjXCI6MTA4LFwieDBcIjo5NDcsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjQ2ODc1LFwid1wiOjYsXCJoXCI6MjJ9LHtcImNcIjoxMDksXCJ4MFwiOjUwLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjEuMTQwNjMsXCJ3XCI6MjUsXCJoXCI6MTZ9LHtcImNcIjoxMTAsXCJ4MFwiOjkyLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MTZ9LHtcImNcIjoxMTEsXCJ4MFwiOjgzMixcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoxN30se1wiY1wiOjExMixcIngwXCI6MzYyLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuODkwNjI1LFwid1wiOjE2LFwiaFwiOjIzfSx7XCJjXCI6MTEzLFwieDBcIjozOTUsXCJ5MFwiOjE5MCxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6Mi4wNzAzMSxcIndcIjoxNSxcImhcIjoyM30se1wiY1wiOjExNCxcIngwXCI6MTg0LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuMjAzMTI1LFwid1wiOjEwLFwiaFwiOjE1fSx7XCJjXCI6MTE1LFwieDBcIjo4NjUsXCJ5MFwiOjMwOSxcInlvZmZzXCI6MTAsXCJ4cGFkXCI6MC4yODEyNSxcIndcIjoxMyxcImhcIjoxN30se1wiY1wiOjExNixcIngwXCI6NTg3LFwieTBcIjozMDksXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yMzQzNzUsXCJ3XCI6MTAsXCJoXCI6MjB9LHtcImNcIjoxMTcsXCJ4MFwiOjEyNCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjE2fSx7XCJjXCI6MTE4LFwieDBcIjoyMTEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ3XCI6MTUsXCJoXCI6MTV9LHtcImNcIjoxMTksXCJ4MFwiOjI0MyxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcIndcIjoyMyxcImhcIjoxNX0se1wiY1wiOjEyMCxcIngwXCI6MjgzLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwid1wiOjE2LFwiaFwiOjE1fSx7XCJjXCI6MTIxLFwieDBcIjo5NzAsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MTEsXCJ3XCI6MTUsXCJoXCI6MjJ9LHtcImNcIjoxMjIsXCJ4MFwiOjMxNixcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoxNX0se1wiY1wiOjEyMyxcIngwXCI6MTAwMixcInkwXCI6MjMwLFwieW9mZnNcIjo2LFwid1wiOjksXCJoXCI6MjJ9LHtcImNcIjoxMjQsXCJ4MFwiOjgsXCJ5MFwiOjgsXCJ3XCI6NyxcImhcIjozMn0se1wiY1wiOjEyNSxcIngwXCI6OCxcInkwXCI6MjcwLFwieW9mZnNcIjo2LFwieHBhZFwiOjAuNDYwOTM4LFwid1wiOjgsXCJoXCI6MjJ9LHtcImNcIjoxMjYsXCJ4MFwiOjEyNyxcInkwXCI6MzgxLFwieW9mZnNcIjoxNixcInhwYWRcIjowLjMxMjUsXCJ3XCI6MTIsXCJoXCI6NX0se1wiY1wiOjE0NCxcIngwXCI6OTgwLFwieTBcIjozNDcsXCJ5b2Zmc1wiOi01LFwid1wiOjE0LFwiaFwiOjh9LHtcImNcIjoxNjAsXCJ4MFwiOjM0MyxcInkwXCI6MzgxLFwieHBhZFwiOjYuMTAxNTYsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6MTYxLFwieDBcIjozMyxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMTMyODEsXCJ3XCI6NixcImhcIjoyMn0se1wiY1wiOjE2MixcIngwXCI6NDI3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoxNjMsXCJ4MFwiOjE4MyxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuMzA0Njg4LFwid1wiOjE0LFwiaFwiOjIxfSx7XCJjXCI6MTY0LFwieDBcIjo2MTQsXCJ5MFwiOjMwOSxcInlvZmZzXCI6OSxcInhwYWRcIjowLjMyODEyNSxcIndcIjoyMCxcImhcIjoyMH0se1wiY1wiOjE2NSxcIngwXCI6MjE0LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ3XCI6MTgsXCJoXCI6MjF9LHtcImNcIjoxNjYsXCJ4MFwiOjQ1OCxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjIuMTAxNTYsXCJ3XCI6NixcImhcIjoyM30se1wiY1wiOjE2NyxcIngwXCI6MTAyLFwieTBcIjo1NyxcInlvZmZzXCI6MixcInhwYWRcIjoxLjI1LFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MTY4LFwieDBcIjoxNzgsXCJ5MFwiOjM4MSxcInlvZmZzXCI6NCxcInhwYWRcIjowLjQ1MzEyNSxcIndcIjo5LFwiaFwiOjR9LHtcImNcIjoxNjksXCJ4MFwiOjQ4MSxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuNjI1LFwid1wiOjI1LFwiaFwiOjIzfSx7XCJjXCI6MTcwLFwieDBcIjo1NTEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6NCxcInhwYWRcIjowLjI5Njg3NSxcIndcIjoxMCxcImhcIjoxMn0se1wiY1wiOjE3MSxcIngwXCI6NjczLFwieTBcIjozNDcsXCJ5b2Zmc1wiOjEzLFwieHBhZFwiOjAuMTQwNjI1LFwid1wiOjExLFwiaFwiOjExfSx7XCJjXCI6MTcyLFwieDBcIjo3MjksXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTMsXCJ4cGFkXCI6MC4zODI4MTMsXCJ3XCI6MTUsXCJoXCI6MTB9LHtcImNcIjoxNzMsXCJ4MFwiOjM2MSxcInkwXCI6MzgxLFwieHBhZFwiOjIuOTQ1MzEsXCJ3XCI6MSxcImhcIjoxfSx7XCJjXCI6MTc0LFwieDBcIjoyNDksXCJ5MFwiOjMwOSxcInlvZmZzXCI6MSxcInhwYWRcIjowLjMxMjUsXCJ3XCI6MjIsXCJoXCI6MjF9LHtcImNcIjoxNzUsXCJ4MFwiOjIwNCxcInkwXCI6MzgxLFwieW9mZnNcIjo0LFwid1wiOjksXCJoXCI6NH0se1wiY1wiOjE3NixcIngwXCI6MzIsXCJ5MFwiOjM4MSxcInlvZmZzXCI6NCxcIndcIjo4LFwiaFwiOjd9LHtcImNcIjoxNzcsXCJ4MFwiOjg5NSxcInkwXCI6MzA5LFwieW9mZnNcIjo5LFwid1wiOjE0LFwiaFwiOjE3fSx7XCJjXCI6MTc4LFwieDBcIjo0MjMsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcInhwYWRcIjowLjg5MDYyNSxcIndcIjoxMSxcImhcIjoxNH0se1wiY1wiOjE3OSxcIngwXCI6MTU2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MS41MjM0NCxcIndcIjoxMSxcImhcIjoxNn0se1wiY1wiOjE4MCxcIngwXCI6ODAsXCJ5MFwiOjM4MSxcInlvZmZzXCI6MyxcIndcIjo2LFwiaFwiOjZ9LHtcImNcIjoxODEsXCJ4MFwiOjU2LFwieTBcIjoyNzAsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjEuODU5MzgsXCJ3XCI6MTUsXCJoXCI6MjJ9LHtcImNcIjoxODIsXCJ4MFwiOjI4OCxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNSxcIndcIjoyNixcImhcIjoyMX0se1wiY1wiOjE4MyxcIngwXCI6MjMwLFwieTBcIjozODEsXCJ5b2Zmc1wiOjE2LFwid1wiOjUsXCJoXCI6NH0se1wiY1wiOjE4NCxcIngwXCI6OCxcInkwXCI6MzgxLFwieW9mZnNcIjoyNSxcInhwYWRcIjowLjA3MDMxMjUsXCJ3XCI6NyxcImhcIjo4fSx7XCJjXCI6MTg1LFwieDBcIjo0NTEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MixcInhwYWRcIjowLjY4NzUsXCJ3XCI6MTAsXCJoXCI6MTR9LHtcImNcIjoxODYsXCJ4MFwiOjU3OCxcInkwXCI6MzQ3LFwieW9mZnNcIjo0LFwieHBhZFwiOjAuNjI1LFwid1wiOjExLFwiaFwiOjEyfSx7XCJjXCI6MTg3LFwieDBcIjo3MDEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTMsXCJ4cGFkXCI6MC4xNDA2MjUsXCJ3XCI6MTEsXCJoXCI6MTF9LHtcImNcIjoxODgsXCJ4MFwiOjI0NyxcInkwXCI6OCxcInlvZmZzXCI6MixcInhwYWRcIjowLjA1NDY4NzUsXCJ3XCI6MjUsXCJoXCI6Mjl9LHtcImNcIjoxODksXCJ4MFwiOjEzNixcInkwXCI6NTcsXCJ5b2Zmc1wiOjIsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyNSxcImhcIjoyOH0se1wiY1wiOjE5MCxcIngwXCI6Mjg5LFwieTBcIjo4LFwieW9mZnNcIjoyLFwieHBhZFwiOjAuMTA5Mzc1LFwid1wiOjI2LFwiaFwiOjI5fSx7XCJjXCI6MTkxLFwieDBcIjo4OCxcInkwXCI6MjcwLFwieW9mZnNcIjo2LFwieHBhZFwiOjAuMDkzNzUsXCJ3XCI6MTMsXCJoXCI6MjJ9LHtcImNcIjoxOTIsXCJ4MFwiOjE3OCxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MTkzLFwieDBcIjoyMTQsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcIndcIjoxOSxcImhcIjoyOH0se1wiY1wiOjE5NCxcIngwXCI6MjUwLFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjoxOTUsXCJ4MFwiOjY0OCxcInkwXCI6MTAzLFwid1wiOjE5LFwiaFwiOjI2fSx7XCJjXCI6MTk2LFwieDBcIjoyNTIsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ3XCI6MTksXCJoXCI6Mjd9LHtcImNcIjoxOTcsXCJ4MFwiOjI4NixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MTk4LFwieDBcIjozMzEsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjowLjI4MTI1LFwid1wiOjI3LFwiaFwiOjIxfSx7XCJjXCI6MTk5LFwieDBcIjozMjIsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuOTQ1MzEzLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MjAwLFwieDBcIjozNTYsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyOH0se1wiY1wiOjIwMSxcIngwXCI6Mzg5LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC42MTcxODgsXCJ3XCI6MTYsXCJoXCI6Mjh9LHtcImNcIjoyMDIsXCJ4MFwiOjQyMixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MjAzLFwieDBcIjoyODgsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6MC42MTcxODgsXCJ3XCI6MTYsXCJoXCI6Mjd9LHtcImNcIjoyMDQsXCJ4MFwiOjQ1NSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuNTQ2ODgsXCJ3XCI6NyxcImhcIjoyOH0se1wiY1wiOjIwNSxcIngwXCI6NDc5LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC41NDY4NzUsXCJ3XCI6OCxcImhcIjoyOH0se1wiY1wiOjIwNixcIngwXCI6NTA0LFwieTBcIjo1NyxcInlvZmZzXCI6LTIsXCJ3XCI6MTEsXCJoXCI6Mjh9LHtcImNcIjoyMDcsXCJ4MFwiOjMyMSxcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcIndcIjo5LFwiaFwiOjI3fSx7XCJjXCI6MjA4LFwieDBcIjozNzUsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIwLFwiaFwiOjIxfSx7XCJjXCI6MjA5LFwieDBcIjo2ODQsXCJ5MFwiOjEwMyxcInhwYWRcIjoyLjc0MjE5LFwid1wiOjE5LFwiaFwiOjI2fSx7XCJjXCI6MjEwLFwieDBcIjozMzIsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjl9LHtcImNcIjoyMTEsXCJ4MFwiOjM3MCxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMSxcImhcIjoyOX0se1wiY1wiOjIxMixcIngwXCI6NDA4LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI5fSx7XCJjXCI6MjEzLFwieDBcIjozNDcsXCJ5MFwiOjEwMyxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI3fSx7XCJjXCI6MjE0LFwieDBcIjo1MzIsXCJ5MFwiOjU3LFwieW9mZnNcIjotMSxcInhwYWRcIjoxLjIyNjU2LFwid1wiOjIxLFwiaFwiOjI4fSx7XCJjXCI6MjE1LFwieDBcIjozNDYsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC4zNTkzNzUsXCJ3XCI6MTUsXCJoXCI6MTV9LHtcImNcIjoyMTYsXCJ4MFwiOjUyMyxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6MjN9LHtcImNcIjoyMTcsXCJ4MFwiOjQ0NixcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjIxOCxcIngwXCI6NDgyLFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MjE5LFwieDBcIjo1MTgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjl9LHtcImNcIjoyMjAsXCJ4MFwiOjU3MCxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjoyMjEsXCJ4MFwiOjYwNixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE4LFwiaFwiOjI4fSx7XCJjXCI6MjIyLFwieDBcIjo0MTIsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjAwNzgxLFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6MjIzLFwieDBcIjo0NDYsXCJ5MFwiOjMwOSxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjMwNDY5LFwid1wiOjE3LFwiaFwiOjIxfSx7XCJjXCI6MjI0LFwieDBcIjo2OSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyMjUsXCJ4MFwiOjEwMCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyMjYsXCJ4MFwiOjEzMSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyMjcsXCJ4MFwiOjU2MSxcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoyMjgsXCJ4MFwiOjU5MixcInkwXCI6MTkwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjN9LHtcImNcIjoyMjksXCJ4MFwiOjk3NSxcInkwXCI6MTAzLFwieW9mZnNcIjoyLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjV9LHtcImNcIjoyMzAsXCJ4MFwiOjkyNixcInkwXCI6MzA5LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjk2MDkzOCxcIndcIjoyNCxcImhcIjoxN30se1wiY1wiOjIzMSxcIngwXCI6NjIzLFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjczNDM4LFwid1wiOjE0LFwiaFwiOjIzfSx7XCJjXCI6MjMyLFwieDBcIjoxNjIsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjMzLFwieDBcIjoxOTQsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjM0LFwieDBcIjoyMjYsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjM1LFwieDBcIjo2NTQsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjM2LFwieDBcIjo2ODYsXCJ5MFwiOjE5MCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjM0Mzc1LFwid1wiOjYsXCJoXCI6MjN9LHtcImNcIjoyMzcsXCJ4MFwiOjcwOSxcInkwXCI6MTkwLFwieW9mZnNcIjozLFwid1wiOjgsXCJoXCI6MjN9LHtcImNcIjoyMzgsXCJ4MFwiOjczNCxcInkwXCI6MTkwLFwieW9mZnNcIjozLFwid1wiOjExLFwiaFwiOjIzfSx7XCJjXCI6MjM5LFwieDBcIjoxMTgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcIndcIjo5LFwiaFwiOjIyfSx7XCJjXCI6MjQwLFwieDBcIjo3NjIsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjUzMTI1LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjQxLFwieDBcIjoxNDQsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcInhwYWRcIjoyLjAzOTA2LFwid1wiOjE1LFwiaFwiOjIyfSx7XCJjXCI6MjQyLFwieDBcIjoyNTgsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoyNH0se1wiY1wiOjI0MyxcIngwXCI6MjkxLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjR9LHtcImNcIjoyNDQsXCJ4MFwiOjMyNCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjI0fSx7XCJjXCI6MjQ1LFwieDBcIjo3OTQsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjgyODEyNSxcIndcIjoxNixcImhcIjoyM30se1wiY1wiOjI0NixcIngwXCI6ODI3LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC44MjgxMjUsXCJ3XCI6MTYsXCJoXCI6MjN9LHtcImNcIjoyNDcsXCJ4MFwiOjQ3OCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjQ1MzEyNSxcIndcIjoxNCxcImhcIjoxNH0se1wiY1wiOjI0OCxcIngwXCI6OTY3LFwieTBcIjozMDksXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjE3fSx7XCJjXCI6MjQ5LFwieDBcIjozNTcsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjUwLFwieDBcIjozODksXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjUxLFwieDBcIjo0MjEsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MjUyLFwieDBcIjo4NjAsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjUzLFwieDBcIjo2NCxcInkwXCI6OCxcInlvZmZzXCI6MyxcIndcIjoxNSxcImhcIjozMH0se1wiY1wiOjI1NCxcIngwXCI6NTU0LFwieTBcIjo4LFwieW9mZnNcIjo0LFwieHBhZFwiOjAuODkwNjI1LFwid1wiOjE2LFwiaFwiOjI5fSx7XCJjXCI6MjU1LFwieDBcIjo1ODcsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTUsXCJoXCI6Mjl9LHtcImNcIjoyNTYsXCJ4MFwiOjcyMCxcInkwXCI6MTAzLFwid1wiOjE5LFwiaFwiOjI2fSx7XCJjXCI6MjU3LFwieDBcIjo4OTIsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjI5Njg4LFwid1wiOjE0LFwiaFwiOjIzfSx7XCJjXCI6MjU4LFwieDBcIjozODUsXCJ5MFwiOjEwMyxcInlvZmZzXCI6LTEsXCJ3XCI6MTksXCJoXCI6Mjd9LHtcImNcIjoyNTksXCJ4MFwiOjQ1MyxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjEuMjk2ODgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyNjAsXCJ4MFwiOjY0MSxcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ3XCI6MjEsXCJoXCI6Mjh9LHtcImNcIjoyNjEsXCJ4MFwiOjkyMyxcInkwXCI6MTkwLFwieW9mZnNcIjoxMCxcIndcIjoxNixcImhcIjoyM30se1wiY1wiOjI2MixcIngwXCI6NjE5LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjowLjk0NTMxMyxcIndcIjoxNyxcImhcIjoyOX0se1wiY1wiOjI2MyxcIngwXCI6NDg0LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC4yNzM0MzgsXCJ3XCI6MTQsXCJoXCI6MjR9LHtcImNcIjoyNjgsXCJ4MFwiOjY1MyxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MC45NDUzMTMsXCJ3XCI6MTcsXCJoXCI6Mjl9LHtcImNcIjoyNjksXCJ4MFwiOjUxNSxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuMjczNDM4LFwid1wiOjE0LFwiaFwiOjI0fSx7XCJjXCI6MjcwLFwieDBcIjo2NzksXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjAxNTYzLFwid1wiOjIwLFwiaFwiOjI4fSx7XCJjXCI6MjcxLFwieDBcIjo5NTYsXCJ5MFwiOjE5MCxcInlvZmZzXCI6NCxcIndcIjoyMixcImhcIjoyM30se1wiY1wiOjI3MixcIngwXCI6NDgwLFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MS4yMjY1NixcIndcIjoyMCxcImhcIjoyMX0se1wiY1wiOjI3MyxcIngwXCI6OTk1LFwieTBcIjoxOTAsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC4wNzAzMTI1LFwid1wiOjE3LFwiaFwiOjIzfSx7XCJjXCI6Mjc0LFwieDBcIjo3NTYsXCJ5MFwiOjEwMyxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyNn0se1wiY1wiOjI3NSxcIngwXCI6OCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMDQ2ODgsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjoyNzgsXCJ4MFwiOjQyMSxcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyN30se1wiY1wiOjI3OSxcIngwXCI6NDAsXCJ5MFwiOjIzMCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjgwLFwieDBcIjo3MTYsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNjE3MTg4LFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MjgxLFwieDBcIjo3MixcInkwXCI6MjMwLFwieW9mZnNcIjoxMCxcInhwYWRcIjoxLjA0Njg4LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MjgyLFwieDBcIjo3NDksXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjowLjYxNzE4OCxcIndcIjoxNixcImhcIjoyOH0se1wiY1wiOjI4MyxcIngwXCI6NTQ2LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MS4wNDY4OCxcIndcIjoxNSxcImhcIjoyNH0se1wiY1wiOjI4NixcIngwXCI6NzgyLFwieTBcIjo1NyxcInlvZmZzXCI6LTEsXCJ4cGFkXCI6MS43NSxcIndcIjoxOCxcImhcIjoyOH0se1wiY1wiOjI4NyxcIngwXCI6OTYsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6Mi4wNzAzMSxcIndcIjoxNSxcImhcIjozMH0se1wiY1wiOjI5MCxcIngwXCI6ODE3LFwieTBcIjo1NyxcInlvZmZzXCI6NSxcInhwYWRcIjoxLjc1LFwid1wiOjE4LFwiaFwiOjI4fSx7XCJjXCI6MjkxLFwieDBcIjozMixcInkwXCI6OCxcInlvZmZzXCI6MixcInhwYWRcIjoyLjA3MDMxLFwid1wiOjE1LFwiaFwiOjMxfSx7XCJjXCI6Mjk4LFwieDBcIjo3ODksXCJ5MFwiOjEwMyxcIndcIjo5LFwiaFwiOjI2fSx7XCJjXCI6Mjk5LFwieDBcIjoxNzYsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcIndcIjo5LFwiaFwiOjIyfSx7XCJjXCI6MzAyLFwieDBcIjo4NTIsXCJ5MFwiOjU3LFwieW9mZnNcIjo1LFwieHBhZFwiOjAuNTQ2ODc1LFwid1wiOjgsXCJoXCI6Mjh9LHtcImNcIjozMDMsXCJ4MFwiOjg3NyxcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ3XCI6OCxcImhcIjoyOH0se1wiY1wiOjMwNCxcIngwXCI6NDU0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjEuNTQ2ODgsXCJ3XCI6NyxcImhcIjoyN30se1wiY1wiOjMwNSxcIngwXCI6Mzc4LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjEuMzQzNzUsXCJ3XCI6NixcImhcIjoxNX0se1wiY1wiOjMxMCxcIngwXCI6Njg3LFwieTBcIjo4LFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzExLFwieDBcIjoxMjgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MC4xNzE4NzUsXCJ3XCI6MTUsXCJoXCI6MzB9LHtcImNcIjozMTMsXCJ4MFwiOjkwMixcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwid1wiOjE2LFwiaFwiOjI4fSx7XCJjXCI6MzE0LFwieDBcIjo4MTUsXCJ5MFwiOjEwMyxcIndcIjo4LFwiaFwiOjI2fSx7XCJjXCI6MzE1LFwieDBcIjo3MjMsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTYsXCJoXCI6Mjl9LHtcImNcIjozMTYsXCJ4MFwiOjE2MCxcInkwXCI6OCxcInlvZmZzXCI6NCxcInhwYWRcIjoxLjQ2ODc1LFwid1wiOjYsXCJoXCI6MzB9LHtcImNcIjozMTcsXCJ4MFwiOjIwMixcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjE2LFwiaFwiOjIyfSx7XCJjXCI6MzE4LFwieDBcIjoyMzUsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyMn0se1wiY1wiOjMyMSxcIngwXCI6NTE3LFwieTBcIjozMDksXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC4wNDY4NzUsXCJ3XCI6MTYsXCJoXCI6MjF9LHtcImNcIjozMjIsXCJ4MFwiOjI2NCxcInkwXCI6MjcwLFwieW9mZnNcIjo0LFwid1wiOjExLFwiaFwiOjIyfSx7XCJjXCI6MzIzLFwieDBcIjo5MzUsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjc0MjE5LFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzI0LFwieDBcIjoxMDQsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjoyLjAzOTA2LFwid1wiOjE1LFwiaFwiOjIzfSx7XCJjXCI6MzI1LFwieDBcIjo3NTYsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6Mi43NDIxOSxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjMyNixcIngwXCI6NTc4LFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MjR9LHtcImNcIjozMjcsXCJ4MFwiOjk3MSxcInkwXCI6NTcsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjIuNzQyMTksXCJ3XCI6MTksXCJoXCI6Mjh9LHtcImNcIjozMjgsXCJ4MFwiOjEzNixcInkwXCI6MjMwLFwieW9mZnNcIjozLFwieHBhZFwiOjIuMDM5MDYsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozMzIsXCJ4MFwiOjQ3OCxcInkwXCI6MTAzLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjd9LHtcImNcIjozMzMsXCJ4MFwiOjE2OCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjIzfSx7XCJjXCI6MzM2LFwieDBcIjo3OTIsXCJ5MFwiOjgsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjEuMjI2NTYsXCJ3XCI6MjEsXCJoXCI6Mjl9LHtcImNcIjozMzcsXCJ4MFwiOjYxMCxcInkwXCI6MTQ4LFwieW9mZnNcIjozLFwieHBhZFwiOjAuODI4MTI1LFwid1wiOjE2LFwiaFwiOjI0fSx7XCJjXCI6MzM4LFwieDBcIjoyOTIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NSxcInhwYWRcIjowLjM5MDYyNSxcIndcIjoyOSxcImhcIjoyMn0se1wiY1wiOjMzOSxcIngwXCI6OCxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjY1NjI1LFwid1wiOjI1LFwiaFwiOjE3fSx7XCJjXCI6MzQwLFwieDBcIjo4LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzQxLFwieDBcIjoyMDEsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjIwMzEyNSxcIndcIjoxMCxcImhcIjoyM30se1wiY1wiOjM0MixcIngwXCI6ODMwLFwieTBcIjo4LFwieW9mZnNcIjo1LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzQzLFwieDBcIjoyMjgsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC4yMDMxMjUsXCJ3XCI6MTAsXCJoXCI6MjN9LHtcImNcIjozNDQsXCJ4MFwiOjQ0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzQ1LFwieDBcIjoyNTUsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjIwMzEyNSxcIndcIjoxMCxcImhcIjoyM30se1wiY1wiOjM0NixcIngwXCI6ODY2LFwieTBcIjo4LFwieW9mZnNcIjotMixcInhwYWRcIjoxLjMyMDMxLFwid1wiOjE1LFwiaFwiOjI5fSx7XCJjXCI6MzQ3LFwieDBcIjo2NDMsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjI4MTI1LFwid1wiOjEzLFwiaFwiOjI0fSx7XCJjXCI6MzUwLFwieDBcIjo4OTgsXCJ5MFwiOjgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjoyOX0se1wiY1wiOjM1MSxcIngwXCI6MjgyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjEwLFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6MTMsXCJoXCI6MjN9LHtcImNcIjozNTIsXCJ4MFwiOjkzMCxcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6MS4zMjAzMSxcIndcIjoxNSxcImhcIjoyOX0se1wiY1wiOjM1MyxcIngwXCI6NjczLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjMsXCJ4cGFkXCI6MC4yODEyNSxcIndcIjoxMyxcImhcIjoyNH0se1wiY1wiOjM1NCxcIngwXCI6ODAsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NSxcIndcIjoxNyxcImhcIjoyOH0se1wiY1wiOjM1NSxcIngwXCI6ODQwLFwieTBcIjoxMDMsXCJ5b2Zmc1wiOjcsXCJ4cGFkXCI6MC4yMzQzNzUsXCJ3XCI6MTAsXCJoXCI6MjZ9LHtcImNcIjozNTYsXCJ4MFwiOjExNCxcInkwXCI6MTAzLFwieW9mZnNcIjotMixcIndcIjoxNyxcImhcIjoyOH0se1wiY1wiOjM1NyxcIngwXCI6MzEyLFwieTBcIjoyMzAsXCJ5b2Zmc1wiOjQsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozNjIsXCJ4MFwiOjUxNixcInkwXCI6MTAzLFwieHBhZFwiOjIuMDQ2ODgsXCJ3XCI6MTksXCJoXCI6Mjd9LHtcImNcIjozNjMsXCJ4MFwiOjM0NCxcInkwXCI6MjMwLFwieW9mZnNcIjo0LFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjN9LHtcImNcIjozNjYsXCJ4MFwiOjk2MixcInkwXCI6OCxcInlvZmZzXCI6LTIsXCJ4cGFkXCI6Mi4wNDY4OCxcIndcIjoxOSxcImhcIjoyOX0se1wiY1wiOjM2NyxcIngwXCI6OCxcInkwXCI6MTQ4LFwieW9mZnNcIjoyLFwieHBhZFwiOjEuNjQ4NDQsXCJ3XCI6MTUsXCJoXCI6MjV9LHtcImNcIjozNjgsXCJ4MFwiOjgsXCJ5MFwiOjU3LFwieW9mZnNcIjotMixcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI5fSx7XCJjXCI6MzY5LFwieDBcIjo3MDMsXCJ5MFwiOjE0OCxcInlvZmZzXCI6MyxcInhwYWRcIjoxLjY0ODQ0LFwid1wiOjE1LFwiaFwiOjI0fSx7XCJjXCI6MzcwLFwieDBcIjoxNDgsXCJ5MFwiOjEwMyxcInlvZmZzXCI6NSxcInhwYWRcIjoyLjA0Njg4LFwid1wiOjE5LFwiaFwiOjI4fSx7XCJjXCI6MzcxLFwieDBcIjozMzgsXCJ5MFwiOjI3MCxcInlvZmZzXCI6MTEsXCJ3XCI6MTcsXCJoXCI6MjJ9LHtcImNcIjozNzYsXCJ4MFwiOjU1MixcInkwXCI6MTAzLFwieW9mZnNcIjotMSxcIndcIjoxOCxcImhcIjoyN30se1wiY1wiOjM3NyxcIngwXCI6MTg0LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6Mzc4LFwieDBcIjozNzYsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoyM30se1wiY1wiOjM3OSxcIngwXCI6NTg3LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0xLFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjI3fSx7XCJjXCI6MzgwLFwieDBcIjozNzIsXCJ5MFwiOjI3MCxcInlvZmZzXCI6NCxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoyMn0se1wiY1wiOjM4MSxcIngwXCI6MjE4LFwieTBcIjoxMDMsXCJ5b2Zmc1wiOi0yLFwieHBhZFwiOjAuMjI2NTYzLFwid1wiOjE3LFwiaFwiOjI4fSx7XCJjXCI6MzgyLFwieDBcIjo0MDYsXCJ5MFwiOjIzMCxcInlvZmZzXCI6MyxcInhwYWRcIjowLjg1MTU2MyxcIndcIjoxMyxcImhcIjoyM30se1wiY1wiOjQwMixcIngwXCI6NDAsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcIndcIjoxMixcImhcIjoyNX0se1wiY1wiOjUzNixcIngwXCI6MTgzLFwieTBcIjo4LFwieW9mZnNcIjo0LFwieHBhZFwiOjEuMzIwMzEsXCJ3XCI6MTUsXCJoXCI6MzB9LHtcImNcIjo1MzcsXCJ4MFwiOjczNSxcInkwXCI6MTQ4LFwieW9mZnNcIjoxMCxcInhwYWRcIjowLjI4MTI1LFwid1wiOjEzLFwiaFwiOjI0fSx7XCJjXCI6NTM4LFwieDBcIjo0NCxcInkwXCI6NTcsXCJ5b2Zmc1wiOjUsXCJ3XCI6MTcsXCJoXCI6Mjl9LHtcImNcIjo1MzksXCJ4MFwiOjYyMSxcInkwXCI6MTAzLFwieW9mZnNcIjo3LFwieHBhZFwiOjAuMjM0Mzc1LFwid1wiOjEwLFwiaFwiOjI3fSx7XCJjXCI6ODIyNixcIngwXCI6MTAzLFwieTBcIjozODEsXCJ5b2Zmc1wiOjEzLFwieHBhZFwiOjAuMjgxMjUsXCJ3XCI6NyxcImhcIjo2fSx7XCJjXCI6ODQ4MixcIngwXCI6NjA2LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjUsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MjIsXCJoXCI6MTJ9LHtcImNcIjo4NTkyLFwieDBcIjo3NjEsXCJ5MFwiOjM0NyxcInlvZmZzXCI6MTEsXCJ4cGFkXCI6MC44ODI4MTMsXCJ3XCI6MjYsXCJoXCI6MTB9LHtcImNcIjo4NTkzLFwieDBcIjo3NjUsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcInhwYWRcIjo3Ljg4MjgxLFwid1wiOjE5LFwiaFwiOjI0fSx7XCJjXCI6ODU5NCxcIngwXCI6ODA0LFwieTBcIjozNDcsXCJ5b2Zmc1wiOjExLFwieHBhZFwiOjAuODgyODEzLFwid1wiOjI2LFwiaFwiOjEwfSx7XCJjXCI6ODU5NSxcIngwXCI6ODAxLFwieTBcIjoxNDgsXCJ5b2Zmc1wiOjQsXCJ4cGFkXCI6Ny44ODI4MSxcIndcIjoxOSxcImhcIjoyNH0se1wiY1wiOjg3MzQsXCJ4MFwiOjUwOSxcInkwXCI6MzQ3LFwieW9mZnNcIjoxMSxcInhwYWRcIjowLjY4NzUsXCJ3XCI6MjUsXCJoXCI6MTR9LHtcImNcIjo5NzQyLFwieDBcIjo4MzcsXCJ5MFwiOjE0OCxcInlvZmZzXCI6NCxcIndcIjozMSxcImhcIjoyNH0se1wiY1wiOjk3NDMsXCJ4MFwiOjg4NSxcInkwXCI6MTQ4LFwieW9mZnNcIjo0LFwid1wiOjMxLFwiaFwiOjI0fSx7XCJjXCI6NjU1MzMsXCJ4MFwiOjU1MCxcInkwXCI6MzA5LFwieW9mZnNcIjo1LFwid1wiOjIwLFwiaFwiOjIxfV19IiwiLyplc2xpbnQgZ2xvYmFsLXJlcXVpcmU6b2ZmKi9cbmNvbnN0IGdsb3ZfbG9jYWxfc3RvcmFnZSA9IHJlcXVpcmUoJy4vZ2xvdi9sb2NhbF9zdG9yYWdlLmpzJyk7XG5nbG92X2xvY2FsX3N0b3JhZ2Uuc3RvcmFnZV9wcmVmaXggPSAnZ2xvdmpzLXBsYXlncm91bmQnOyAvLyBCZWZvcmUgcmVxdWlyaW5nIGFueXRoaW5nIGVsc2UgdGhhdCBtaWdodCBsb2FkIGZyb20gdGhpc1xuXG5jb25zdCBlbmdpbmUgPSByZXF1aXJlKCcuL2dsb3YvZW5naW5lLmpzJyk7XG5jb25zdCBnbG92X2ZvbnQgPSByZXF1aXJlKCcuL2dsb3YvZm9udC5qcycpO1xuY29uc3QgaW5wdXQgPSByZXF1aXJlKCcuL2dsb3YvaW5wdXQuanMnKTtcbmNvbnN0IHsgZmxvb3IgfSA9IE1hdGg7XG5jb25zdCBuZXQgPSByZXF1aXJlKCcuL2dsb3YvbmV0LmpzJyk7XG5jb25zdCBwYXJ0aWNsZXMgPSByZXF1aXJlKCcuL2dsb3YvcGFydGljbGVzLmpzJyk7XG5jb25zdCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vZ2xvdi9zZXR0aW5ncy5qcycpO1xuY29uc3QgZ2xvdl9zcHJpdGVzID0gcmVxdWlyZSgnLi9nbG92L3Nwcml0ZXMuanMnKTtcbmNvbnN0IHNwcml0ZV9hbmltYXRpb24gPSByZXF1aXJlKCcuL2dsb3Yvc3ByaXRlX2FuaW1hdGlvbi5qcycpO1xuY29uc3QgdHJhbnNpdGlvbiA9IHJlcXVpcmUoJy4vZ2xvdi90cmFuc2l0aW9uLmpzJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vZ2xvdi91aS5qcycpO1xuY29uc3QgdWlfdGVzdCA9IHJlcXVpcmUoJy4vZ2xvdi91aV90ZXN0LmpzJyk7XG5jb25zdCBwYXJ0aWNsZV9kYXRhID0gcmVxdWlyZSgnLi9wYXJ0aWNsZV9kYXRhLmpzJyk7XG5jb25zdCB7IHNvdW5kTG9hZCwgc291bmRQbGF5LCBzb3VuZFBsYXlNdXNpYywgRkFERV9JTiwgRkFERV9PVVQgfSA9IHJlcXVpcmUoJy4vZ2xvdi9zb3VuZC5qcycpO1xuY29uc3QgeyB0ZXN0M0QgfSA9IHJlcXVpcmUoJy4vdGVzdF8zZC5qcycpO1xuY29uc3QgeyB2ZWMyLCB2ZWM0LCB2NGNsb25lLCB2NGNvcHkgfSA9IHJlcXVpcmUoJy4vZ2xvdi92bWF0aC5qcycpO1xuXG53aW5kb3cuWiA9IHdpbmRvdy5aIHx8IHt9O1xuWi5CQUNLR1JPVU5EID0gMTtcblouU1BSSVRFUyA9IDEwO1xuWi5QQVJUSUNMRVMgPSAyMDtcblouVUlfVEVTVCA9IDIwMDtcblxuLy8gbGV0IGFwcCA9IGV4cG9ydHM7XG4vLyBWaXJ0dWFsIHZpZXdwb3J0IGZvciBvdXIgZ2FtZSBsb2dpY1xuZXhwb3J0IGNvbnN0IGdhbWVfd2lkdGggPSAzMjA7XG5leHBvcnQgY29uc3QgZ2FtZV9oZWlnaHQgPSAyNDA7XG5cbmV4cG9ydCBsZXQgc3ByaXRlcyA9IHt9O1xuXG5jb25zdCBtdXNpY19maWxlID0gJ211c2ljX3Rlc3Qud2VibSc7XG5cbi8vIFBlcnNpc3RlbnQgZmxhZ3Mgc3lzdGVtIGZvciB0ZXN0aW5nIHBhcmFtZXRlcnNcbmxldCBmbGFncyA9IHt9O1xuZnVuY3Rpb24gZmxhZ0dldChrZXksIGRmbHQpIHtcbiAgaWYgKGZsYWdzW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgIGZsYWdzW2tleV0gPSBnbG92X2xvY2FsX3N0b3JhZ2UuZ2V0SlNPTihgZmxhZ18ke2tleX1gLCBkZmx0KSB8fCBmYWxzZTtcbiAgfVxuICByZXR1cm4gZmxhZ3Nba2V5XTtcbn1cbmZ1bmN0aW9uIGZsYWdUb2dnbGUoa2V5KSB7XG4gIGZsYWdzW2tleV0gPSAhZmxhZ0dldChrZXkpO1xuICBnbG92X2xvY2FsX3N0b3JhZ2Uuc2V0SlNPTihgZmxhZ18ke2tleX1gLCBmbGFnc1trZXldKTtcbn1cbmZ1bmN0aW9uIGZsYWdTZXQoa2V5LCB2YWx1ZSkge1xuICBmbGFnc1trZXldID0gdmFsdWU7XG4gIGdsb3ZfbG9jYWxfc3RvcmFnZS5zZXRKU09OKGBmbGFnXyR7a2V5fWAsIGZsYWdzW2tleV0pO1xufVxuXG5jb25zdCBjb2xvcl93aGl0ZSA9IHZlYzQoMSwgMSwgMSwgMSk7XG5jb25zdCBjb2xvcnNfYWN0aXZlID0gdWkubWFrZUNvbG9yU2V0KHZlYzQoMC41LCAxLCAwLjUsIDEpKTtcbmNvbnN0IGNvbG9yc19pbmFjdGl2ZSA9IHVpLm1ha2VDb2xvclNldCh2ZWM0KDAuNSwgMC41LCAwLjUsIDEpKTtcblxuZnVuY3Rpb24gcGVyZlRlc3RTcHJpdGVzKCkge1xuICBpZiAoIXNwcml0ZXMudGVzdCkge1xuICAgIHNwcml0ZXMudGVzdCA9IFtcbiAgICAgIGdsb3Zfc3ByaXRlcy5jcmVhdGUoeyBuYW1lOiAndGVzdCcsIHNpemU6IHZlYzIoMSwgMSksIG9yaWdpbjogdmVjMigwLjUsIDAuNSkgfSksXG4gICAgICBnbG92X3Nwcml0ZXMuY3JlYXRlKHsgdXJsOiAnaW1nL3Rlc3QucG5nPzEnLCBzaXplOiB2ZWMyKDEsIDEpLCBvcmlnaW46IHZlYzIoMC41LCAwLjUpIH0pLFxuICAgIF07XG4gIH1cblxuICBsZXQgbW9kZSA9IDI7XG4gIGxldCBjb3VudCA9IFtcbiAgICA4MDAwMCwgLy8gb25lIHNwcml0ZSwgcHJlLXNvcnRlZFxuICAgIDQwMDAwLCAvLyBvbmUgc3ByaXRlLCB1bnNvcnRlZFxuICAgIDIwMDAwLCAvLyB0d28gc3ByaXRlcywgdW5zb3J0ZWQsIHNtYWxsIGJhdGNoZXNcbiAgICA2MDAwMCwgLy8gdHdvIHNwcml0ZXMsIHNvcnRlZCwgYmlnZ2VyIGJhdGNoZXMsIHNwcml0ZSBBUElcbiAgICA2MDAwMCwgLy8gdHdvIHNwcml0ZXMsIHNvcnRlZCwgYmlnZ2VyIGJhdGNoZXMsIHJhdyBBUElcbiAgXVttb2RlXTtcbiAgaWYgKG1vZGUgPT09IDMgfHwgbW9kZSA9PT0gNCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBjb3VudDspIHtcbiAgICAgIGxldCBzdWJjID0gZmxvb3IoNTAwICsgTWF0aC5yYW5kb20oKSAqIDEwMCk7XG4gICAgICBsZXQgaWR4ID0gbW9kZSA8PSAxID8gMCA6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSk7XG4gICAgICBsZXQgc3ByaXRlID0gc3ByaXRlcy50ZXN0W2lkeF07XG4gICAgICBsZXQgeiA9IE1hdGgucmFuZG9tKCk7XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgc3ViYzsgKytqaikge1xuICAgICAgICBpZiAobW9kZSA9PT0gNCkge1xuICAgICAgICAgIC8vIGdsb3Zfc3ByaXRlcy5xdWV1ZXJhdyhzcHJpdGUudGV4cyxcbiAgICAgICAgICAvLyAgIE1hdGgucmFuZG9tKCkgKiBnYW1lX3dpZHRoIC0gMywgTWF0aC5yYW5kb20oKSAqIGdhbWVfaGVpZ2h0IC0gMywgeixcbiAgICAgICAgICAvLyAgIDYsIDYsIDAsIDAsIDEsIDEsIGNvbG9yX3doaXRlKTtcbiAgICAgICAgICBnbG92X3Nwcml0ZXMucXVldWVzcHJpdGUoc3ByaXRlLFxuICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAqIGdhbWVfd2lkdGgsIE1hdGgucmFuZG9tKCkgKiBnYW1lX2hlaWdodCwgeixcbiAgICAgICAgICAgIDYgKiBzcHJpdGUuc2l6ZVswXSwgNiAqIHNwcml0ZS5zaXplWzFdLCAwLCBzcHJpdGUudXZzLCBjb2xvcl93aGl0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3ByaXRlcy50ZXN0W2lkeF0uZHJhdyh7XG4gICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogZ2FtZV93aWR0aCxcbiAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBnYW1lX2hlaWdodCxcbiAgICAgICAgICAgIHosXG4gICAgICAgICAgICB3OiA2LCBoOiA2LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpaSArPSBzdWJjO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgY291bnQ7ICsraWkpIHtcbiAgICAgIGxldCBpZHggPSBtb2RlIDw9IDEgPyAwIDogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKTtcbiAgICAgIHNwcml0ZXMudGVzdFtpZHhdLmRyYXcoe1xuICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogZ2FtZV93aWR0aCxcbiAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIGdhbWVfaGVpZ2h0LFxuICAgICAgICB6OiBtb2RlID09PSAwID8gaWkgOiBNYXRoLnJhbmRvbSgpLFxuICAgICAgICB3OiA2LCBoOiA2LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWluKCkge1xuICBpZiAoZW5naW5lLkRFQlVHKSB7XG4gICAgLy8gRW5hYmxlIGF1dG8tcmVsb2FkLCBldGNcbiAgICBuZXQuaW5pdCh7IGVuZ2luZSB9KTtcbiAgfVxuXG4gIGNvbnN0IGZvbnRfaW5mb18wNGIwM3gyID0gcmVxdWlyZSgnLi9pbWcvZm9udC8wNGIwM184eDIuanNvbicpO1xuICBjb25zdCBmb250X2luZm9fMDRiMDN4MSA9IHJlcXVpcmUoJy4vaW1nL2ZvbnQvMDRiMDNfOHgxLmpzb24nKTtcbiAgY29uc3QgZm9udF9pbmZvX3BhbGFucXVpbjMyID0gcmVxdWlyZSgnLi9pbWcvZm9udC9wYWxhbnF1aW4zMi5qc29uJyk7XG4gIGxldCBwaXhlbHkgPSBmbGFnR2V0KCdwaXhlbHknLCAnb24nKTtcbiAgbGV0IGZvbnQ7XG4gIGlmIChwaXhlbHkgPT09ICdzdHJpY3QnKSB7XG4gICAgZm9udCA9IHsgaW5mbzogZm9udF9pbmZvXzA0YjAzeDEsIHRleHR1cmU6ICdmb250LzA0YjAzXzh4MScgfTtcbiAgfSBlbHNlIGlmIChwaXhlbHkgJiYgcGl4ZWx5ICE9PSAnb2ZmJykge1xuICAgIGZvbnQgPSB7IGluZm86IGZvbnRfaW5mb18wNGIwM3gyLCB0ZXh0dXJlOiAnZm9udC8wNGIwM184eDInIH07XG4gIH0gZWxzZSB7XG4gICAgZm9udCA9IHsgaW5mbzogZm9udF9pbmZvX3BhbGFucXVpbjMyLCB0ZXh0dXJlOiAnZm9udC9wYWxhbnF1aW4zMicgfTtcbiAgfVxuXG4gIGlmICghZW5naW5lLnN0YXJ0dXAoe1xuICAgIGdhbWVfd2lkdGgsXG4gICAgZ2FtZV9oZWlnaHQsXG4gICAgcGl4ZWx5LFxuICAgIGZvbnQsXG4gICAgdmlld3BvcnRfcG9zdHByb2Nlc3M6IGZhbHNlLFxuICB9KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb250ID0gZW5naW5lLmZvbnQ7XG5cbiAgLy8gY29uc3QgZm9udCA9IGVuZ2luZS5mb250O1xuXG4gIC8vIFBlcmZlY3Qgc2l6ZXMgZm9yIHBpeGVseSBtb2Rlc1xuICB1aS5zY2FsZVNpemVzKDEzIC8gMzIpO1xuICB1aS5zZXRGb250SGVpZ2h0KDgpO1xuXG4gIGNvbnN0IGNyZWF0ZVNwcml0ZSA9IGdsb3Zfc3ByaXRlcy5jcmVhdGU7XG4gIGNvbnN0IGNyZWF0ZUFuaW1hdGlvbiA9IHNwcml0ZV9hbmltYXRpb24uY3JlYXRlO1xuXG4gIGNvbnN0IGNvbG9yX3JlZCA9IHZlYzQoMSwgMCwgMCwgMSk7XG4gIGNvbnN0IGNvbG9yX3llbGxvdyA9IHZlYzQoMSwgMSwgMCwgMSk7XG5cbiAgLy8gQ2FjaGUgS0VZU1xuICBjb25zdCBLRVlTID0gaW5wdXQuS0VZUztcbiAgY29uc3QgUEFEID0gaW5wdXQuUEFEO1xuXG4gIGNvbnN0IHNwcml0ZV9zaXplID0gNjQ7XG4gIGZ1bmN0aW9uIGluaXRHcmFwaGljcygpIHtcbiAgICBwYXJ0aWNsZXMucHJlbG9hZFBhcnRpY2xlRGF0YShwYXJ0aWNsZV9kYXRhKTtcblxuICAgIHNvdW5kTG9hZCgndGVzdCcpO1xuXG4gICAgc3ByaXRlcy53aGl0ZSA9IGNyZWF0ZVNwcml0ZSh7IHVybDogJ3doaXRlJyB9KTtcblxuICAgIHNwcml0ZXMudGVzdF90aW50ID0gY3JlYXRlU3ByaXRlKHtcbiAgICAgIG5hbWU6ICd0aW50ZWQnLFxuICAgICAgd3M6IFsxNiwgMTYsIDE2LCAxNl0sXG4gICAgICBoczogWzE2LCAxNiwgMTZdLFxuICAgICAgc2l6ZTogdmVjMihzcHJpdGVfc2l6ZSwgc3ByaXRlX3NpemUpLFxuICAgICAgbGF5ZXJzOiAyLFxuICAgICAgb3JpZ2luOiB2ZWMyKDAuNSwgMC41KSxcbiAgICB9KTtcbiAgICBzcHJpdGVzLmFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbih7XG4gICAgICBpZGxlX2xlZnQ6IHtcbiAgICAgICAgZnJhbWVzOiBbMCwxXSxcbiAgICAgICAgdGltZXM6IFsyMDAsIDUwMF0sXG4gICAgICB9LFxuICAgICAgaWRsZV9yaWdodDoge1xuICAgICAgICBmcmFtZXM6IFszLDJdLFxuICAgICAgICB0aW1lczogWzIwMCwgNTAwXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgc3ByaXRlcy5hbmltYXRpb24uc2V0U3RhdGUoJ2lkbGVfbGVmdCcpO1xuXG4gICAgc3ByaXRlcy5nYW1lX2JnID0gY3JlYXRlU3ByaXRlKHtcbiAgICAgIHVybDogJ3doaXRlJyxcbiAgICAgIHNpemU6IHZlYzIoZ2FtZV93aWR0aCwgZ2FtZV9oZWlnaHQpLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGxhc3RfcGFydGljbGVzID0gMDtcblxuICBmdW5jdGlvbiB0ZXN0KGR0KSB7XG4gICAgZ2wuY2xlYXJDb2xvcigwLCAwLjcyLCAxLCAxKTtcbiAgICBpZiAoIXRlc3QuY29sb3Jfc3ByaXRlKSB7XG4gICAgICB0ZXN0LmNvbG9yX3Nwcml0ZSA9IHY0Y2xvbmUoY29sb3Jfd2hpdGUpO1xuICAgICAgdGVzdC5jaGFyYWN0ZXIgPSB7XG4gICAgICAgIHg6IChNYXRoLnJhbmRvbSgpICogKGdhbWVfd2lkdGggLSBzcHJpdGVfc2l6ZSAtIDIwMCkgKyAoc3ByaXRlX3NpemUgKiAwLjUpICsgMjAwKSxcbiAgICAgICAgeTogKE1hdGgucmFuZG9tKCkgKiAoZ2FtZV9oZWlnaHQgLSBzcHJpdGVfc2l6ZSkgKyAoc3ByaXRlX3NpemUgKiAwLjUpKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGZsYWdHZXQoJ3VpX3Rlc3QnKSkge1xuICAgICAgLy8gbGV0IGNsaXBfdGVzdCA9IDMwO1xuICAgICAgLy8gZ2xvdl9zcHJpdGVzLmNsaXAoWi5VSV9URVNUIC0gMTAsIFouVUlfVEVTVCArIDEwLCBjbGlwX3Rlc3QsIGNsaXBfdGVzdCwgMzIwLWNsaXBfdGVzdCAqIDIsIDI0MC1jbGlwX3Rlc3QgKiAyKTtcbiAgICAgIHVpX3Rlc3QucnVuKDEwLCAxMCwgWi5VSV9URVNUKTtcbiAgICB9XG4gICAgaWYgKGZsYWdHZXQoJ2ZvbnRfdGVzdCcpKSB7XG4gICAgICB1aV90ZXN0LnJ1bkZvbnRUZXN0KDEwNSwgODUpO1xuICAgIH1cblxuICAgIHRlc3QuY2hhcmFjdGVyLmR4ID0gMDtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keCAtPSBpbnB1dC5rZXlEb3duKEtFWVMuTEVGVCkgKyBpbnB1dC5rZXlEb3duKEtFWVMuQSkgKyBpbnB1dC5wYWRCdXR0b25Eb3duKFBBRC5MRUZUKTtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keCArPSBpbnB1dC5rZXlEb3duKEtFWVMuUklHSFQpICsgaW5wdXQua2V5RG93bihLRVlTLkQpICsgaW5wdXQucGFkQnV0dG9uRG93bihQQUQuUklHSFQpO1xuICAgIHRlc3QuY2hhcmFjdGVyLmR5ID0gMDtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keSAtPSBpbnB1dC5rZXlEb3duKEtFWVMuVVApICsgaW5wdXQua2V5RG93bihLRVlTLlcpICsgaW5wdXQucGFkQnV0dG9uRG93bihQQUQuVVApO1xuICAgIHRlc3QuY2hhcmFjdGVyLmR5ICs9IGlucHV0LmtleURvd24oS0VZUy5ET1dOKSArIGlucHV0LmtleURvd24oS0VZUy5TKSArIGlucHV0LnBhZEJ1dHRvbkRvd24oUEFELkRPV04pO1xuICAgIGlmICh0ZXN0LmNoYXJhY3Rlci5keCA8IDApIHtcbiAgICAgIHNwcml0ZXMuYW5pbWF0aW9uLnNldFN0YXRlKCdpZGxlX2xlZnQnKTtcbiAgICB9IGVsc2UgaWYgKHRlc3QuY2hhcmFjdGVyLmR4ID4gMCkge1xuICAgICAgc3ByaXRlcy5hbmltYXRpb24uc2V0U3RhdGUoJ2lkbGVfcmlnaHQnKTtcbiAgICB9XG5cbiAgICB0ZXN0LmNoYXJhY3Rlci54ICs9IHRlc3QuY2hhcmFjdGVyLmR4ICogMC4wNTtcbiAgICB0ZXN0LmNoYXJhY3Rlci55ICs9IHRlc3QuY2hhcmFjdGVyLmR5ICogMC4wNTtcbiAgICBsZXQgYm91bmRzID0ge1xuICAgICAgeDogdGVzdC5jaGFyYWN0ZXIueCAtIHNwcml0ZV9zaXplLzIsXG4gICAgICB5OiB0ZXN0LmNoYXJhY3Rlci55IC0gc3ByaXRlX3NpemUvMixcbiAgICAgIHc6IHNwcml0ZV9zaXplLFxuICAgICAgaDogc3ByaXRlX3NpemUsXG4gICAgfTtcbiAgICBpZiAoaW5wdXQubW91c2VEb3duKGJvdW5kcykpIHtcbiAgICAgIHY0Y29weSh0ZXN0LmNvbG9yX3Nwcml0ZSwgY29sb3JfeWVsbG93KTtcbiAgICB9IGVsc2UgaWYgKGlucHV0LmNsaWNrKGJvdW5kcykpIHtcbiAgICAgIHY0Y29weSh0ZXN0LmNvbG9yX3Nwcml0ZSwgKHRlc3QuY29sb3Jfc3ByaXRlWzJdID09PSAwKSA/IGNvbG9yX3doaXRlIDogY29sb3JfcmVkKTtcbiAgICAgIHNvdW5kUGxheSgndGVzdCcpO1xuICAgIH0gZWxzZSBpZiAoaW5wdXQubW91c2VPdmVyKGJvdW5kcykpIHtcbiAgICAgIHY0Y29weSh0ZXN0LmNvbG9yX3Nwcml0ZSwgY29sb3Jfd2hpdGUpO1xuICAgICAgdGVzdC5jb2xvcl9zcHJpdGVbM10gPSAwLjU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHY0Y29weSh0ZXN0LmNvbG9yX3Nwcml0ZSwgY29sb3Jfd2hpdGUpO1xuICAgICAgdGVzdC5jb2xvcl9zcHJpdGVbM10gPSAxO1xuICAgIH1cblxuICAgIC8vIHNwcml0ZXMuZ2FtZV9iZy5kcmF3KHtcbiAgICAvLyAgIHg6IDAsIHk6IDAsIHo6IFouQkFDS0dST1VORCxcbiAgICAvLyAgIGNvbG9yOiBbMCwgMC43MiwgMSwgMV1cbiAgICAvLyB9KTtcbiAgICBzcHJpdGVzLnRlc3RfdGludC5kcmF3RHVhbFRpbnQoe1xuICAgICAgeDogdGVzdC5jaGFyYWN0ZXIueCxcbiAgICAgIHk6IHRlc3QuY2hhcmFjdGVyLnksXG4gICAgICB6OiBaLlNQUklURVMsXG4gICAgICBjb2xvcjogWzEsIDEsIDAsIDFdLFxuICAgICAgY29sb3IxOiBbMSwgMCwgMSwgMV0sXG4gICAgICBmcmFtZTogc3ByaXRlcy5hbmltYXRpb24uZ2V0RnJhbWUoZHQpLFxuICAgIH0pO1xuXG4gICAgbGV0IGZvbnRfdGVzdF9pZHggPSAwO1xuXG4gICAgdWkucHJpbnQoZ2xvdl9mb250LnN0eWxlQ29sb3JlZChudWxsLCAweDAwMDAwMGZmKSxcbiAgICAgIHRlc3QuY2hhcmFjdGVyLngsIHRlc3QuY2hhcmFjdGVyLnkgKyAoKytmb250X3Rlc3RfaWR4ICogMjApLCBaLlNQUklURVMsXG4gICAgICAnVEVYVCEnKTtcbiAgICBsZXQgZm9udF9zdHlsZSA9IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICBvdXRsaW5lX3dpZHRoOiAxLjAsXG4gICAgICBvdXRsaW5lX2NvbG9yOiAweDgwMDAwMGZmLFxuICAgICAgZ2xvd194b2ZmczogMy4yNSxcbiAgICAgIGdsb3dfeW9mZnM6IDMuMjUsXG4gICAgICBnbG93X2lubmVyOiAtMi41LFxuICAgICAgZ2xvd19vdXRlcjogNSxcbiAgICAgIGdsb3dfY29sb3I6IDB4MDAwMDAwZmYsXG4gICAgfSk7XG4gICAgdWkucHJpbnQoZm9udF9zdHlsZSxcbiAgICAgIHRlc3QuY2hhcmFjdGVyLngsIHRlc3QuY2hhcmFjdGVyLnkgKyAoKytmb250X3Rlc3RfaWR4ICogdWkuZm9udF9oZWlnaHQpLCBaLlNQUklURVMsXG4gICAgICAnT3V0bGluZSBhbmQgRHJvcCBTaGFkb3cnKTtcblxuICAgIGxldCB4ID0gdWkuYnV0dG9uX2hlaWdodDtcbiAgICBsZXQgYnV0dG9uX3NwYWNpbmcgPSB1aS5idXR0b25faGVpZ2h0ICsgMjtcbiAgICBsZXQgeSA9IGdhbWVfaGVpZ2h0IC0gMTAgLSBidXR0b25fc3BhY2luZyAqIDY7XG4gICAgbGV0IG1pbmlfYnV0dG9uX3cgPSBmbG9vcigodWkuYnV0dG9uX3dpZHRoIC0gMikgLyAyKTtcblxuICAgIGZ1bmN0aW9uIG1pbmlCdXR0b24odGV4dCwgdG9vbHRpcCwgYWN0aXZlKSB7XG4gICAgICBsZXQgcmV0ID0gdWkuYnV0dG9uVGV4dCh7XG4gICAgICAgIHgsIHksIHRleHQsIHRvb2x0aXAsXG4gICAgICAgIHc6IG1pbmlfYnV0dG9uX3csXG4gICAgICAgIGNvbG9yczogYWN0aXZlID8gY29sb3JzX2FjdGl2ZSA6IGNvbG9yc19pbmFjdGl2ZSxcbiAgICAgIH0pO1xuICAgICAgeCArPSAyICsgbWluaV9idXR0b25fdztcbiAgICAgIGlmICh4ID49IHVpLmJ1dHRvbl93aWR0aCkge1xuICAgICAgICB4ID0gdWkuYnV0dG9uX2hlaWdodDtcbiAgICAgICAgeSArPSBidXR0b25fc3BhY2luZztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgaWYgKHVpLmJ1dHRvblRleHQoeyB4LCB5LCB0ZXh0OiBgUGl4ZWx5OiAke2ZsYWdHZXQoJ3BpeGVseScpIHx8ICdPZmYnfWAsXG4gICAgICB0b29sdGlwOiAnVG9nZ2xlcyBwaXhlbHkgb3IgcmVndWxhciBtb2RlIChyZXF1aXJlcyByZWxvYWQpJyB9KVxuICAgICkge1xuICAgICAgaWYgKGZsYWdHZXQoJ3BpeGVseScpID09PSAnc3RyaWN0Jykge1xuICAgICAgICBmbGFnU2V0KCdwaXhlbHknLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGZsYWdHZXQoJ3BpeGVseScpID09PSAnb24nKSB7XG4gICAgICAgIGZsYWdTZXQoJ3BpeGVseScsICdzdHJpY3QnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZsYWdTZXQoJ3BpeGVseScsICdvbicpO1xuICAgICAgfVxuICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCkge1xuICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gU3RyaW5nKGRvY3VtZW50LmxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgeSArPSBidXR0b25fc3BhY2luZztcblxuICAgIGxldCByczNkX2Rpc2FibGVkID0gIWZsYWdHZXQoJzNkX3Rlc3QnKSB8fCBlbmdpbmUucmVuZGVyX3dpZHRoO1xuICAgIGlmICh1aS5idXR0b25UZXh0KHsgeCwgeSwgdGV4dDogYFJlbmRlclNjYWxlM0Q6ICR7cnMzZF9kaXNhYmxlZCA/ICcnIDogc2V0dGluZ3MucmVuZGVyX3NjYWxlfWAsXG4gICAgICB0b29sdGlwOiAnQ2hhbmdlcyByZW5kZXJfc2NhbGUnLFxuICAgICAgZGlzYWJsZWQ6IHJzM2RfZGlzYWJsZWQgfSlcbiAgICApIHtcbiAgICAgIGlmIChzZXR0aW5ncy5yZW5kZXJfc2NhbGUgPT09IDEpIHtcbiAgICAgICAgc2V0dGluZ3Muc2V0KCdyZW5kZXJfc2NhbGUnLCAwLjI1KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRpbmdzLnNldCgncmVuZGVyX3NjYWxlJywgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHkgKz0gYnV0dG9uX3NwYWNpbmc7XG5cbiAgICBpZiAodWkuYnV0dG9uVGV4dCh7IHgsIHksIHRleHQ6IGBSZW5kZXJTY2FsZUFsbDogJHtzZXR0aW5ncy5yZW5kZXJfc2NhbGVfYWxsfWAsXG4gICAgICB0b29sdGlwOiAnQ2hhbmdlcyByZW5kZXJfc2NhbGVfYWxsJyB9KVxuICAgICkge1xuICAgICAgaWYgKHNldHRpbmdzLnJlbmRlcl9zY2FsZV9hbGwgPT09IDEpIHtcbiAgICAgICAgc2V0dGluZ3Muc2V0KCdyZW5kZXJfc2NhbGVfYWxsJywgMC41KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRpbmdzLnNldCgncmVuZGVyX3NjYWxlX2FsbCcsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuXG4gICAgZm9udC5kcmF3U2l6ZWRBbGlnbmVkKG51bGwsIHgsIHksIFouVUksIHVpLmZvbnRfaGVpZ2h0LCBmb250LkFMSUdOLkhDRU5URVIsIHVpLmJ1dHRvbl93aWR0aCwgMCwgJ1Rlc3RzJyk7XG4gICAgeSArPSB1aS5mb250X2hlaWdodCArIDE7XG5cbiAgICBsZXQgZG9fM2QgPSBmbGFnR2V0KCczZF90ZXN0Jyk7IC8vIGJlZm9yZSB0aGUgdG9nZ2xlLCBzbyB0cmFuc2l0aW9uIGxvb2tzIGdvb2RcbiAgICBpZiAobWluaUJ1dHRvbignM0QnLCAnVG9nZ2xlcyB2aXNpYmlsaXR5IG9mIGEgM0QgdGVzdCcsIGZsYWdHZXQoJzNkX3Rlc3QnKSkpIHtcbiAgICAgIGZsYWdUb2dnbGUoJzNkX3Rlc3QnKTtcbiAgICAgIHRyYW5zaXRpb24ucXVldWUoWi5UUkFOU0lUSU9OX0ZJTkFMLCB0cmFuc2l0aW9uLmZhZGUoNTAwKSk7XG4gICAgfVxuXG4gICAgaWYgKG1pbmlCdXR0b24oJ0ZvbnQnLCAnVG9nZ2xlcyB2aXNpYmlsaXR5IG9mIGdlbmVyYWwgRm9udCB0ZXN0cycsIGZsYWdHZXQoJ2ZvbnRfdGVzdCcpKSkge1xuICAgICAgZmxhZ1RvZ2dsZSgnZm9udF90ZXN0Jyk7XG4gICAgICB0cmFuc2l0aW9uLnF1ZXVlKFouVFJBTlNJVElPTl9GSU5BTCwgdHJhbnNpdGlvbi5yYW5kb21UcmFuc2l0aW9uKCkpO1xuICAgIH1cblxuICAgIGlmIChtaW5pQnV0dG9uKCdVSScsICdUb2dnbGVzIHZpc2liaWxpdHkgb2YgZ2VuZXJhbCBVSSB0ZXN0cycsIGZsYWdHZXQoJ3VpX3Rlc3QnKSkpIHtcbiAgICAgIGZsYWdUb2dnbGUoJ3VpX3Rlc3QnKTtcbiAgICB9XG5cbiAgICBpZiAobWluaUJ1dHRvbignRlgnLCAnVG9nZ2xlcyBwYXJ0aWNsZXMnLCBmbGFnR2V0KCdwYXJ0aWNsZXMnLCB0cnVlKSkpIHtcbiAgICAgIGZsYWdUb2dnbGUoJ3BhcnRpY2xlcycpO1xuICAgIH1cblxuICAgIGlmIChtaW5pQnV0dG9uKCdNdXNpYycsICdUb2dnbGVzIHBsYXlpbmcgYSBsb29waW5nIGJhY2tncm91bmQgbXVzaWMgdHJhY2snLCBmbGFnR2V0KCdtdXNpYycpKSkge1xuICAgICAgZmxhZ1RvZ2dsZSgnbXVzaWMnKTtcbiAgICAgIGlmIChmbGFnR2V0KCdtdXNpYycpKSB7XG4gICAgICAgIHNvdW5kUGxheU11c2ljKG11c2ljX2ZpbGUsIDEsIEZBREVfSU4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmRQbGF5TXVzaWMobXVzaWNfZmlsZSwgMCwgRkFERV9PVVQpO1xuICAgICAgfVxuICAgIH1cbiAgICB5ICs9IGJ1dHRvbl9zcGFjaW5nO1xuXG4gICAgaWYgKGZsYWdHZXQoJ3BhcnRpY2xlcycpKSB7XG4gICAgICBpZiAoZW5naW5lLmdldEZyYW1lVGltZXN0YW1wKCkgLSBsYXN0X3BhcnRpY2xlcyA+IDEwMDApIHtcbiAgICAgICAgbGFzdF9wYXJ0aWNsZXMgPSBlbmdpbmUuZ2V0RnJhbWVUaW1lc3RhbXAoKTtcbiAgICAgICAgZW5naW5lLmdsb3ZfcGFydGljbGVzLmNyZWF0ZVN5c3RlbShwYXJ0aWNsZV9kYXRhLmRlZnMuZXhwbG9zaW9uLFxuICAgICAgICAgIC8vW3Rlc3QuY2hhcmFjdGVyLngsIHRlc3QuY2hhcmFjdGVyLnksIFouUEFSVElDTEVTXVxuICAgICAgICAgIFsxMDAgKyBNYXRoLnJhbmRvbSgpICogMTIwLCAxMDAgKyBNYXRoLnJhbmRvbSgpICogMTQwLCBaLlBBUlRJQ0xFU11cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmxhZ0dldCgncGVyZl90ZXN0JykpIHtcbiAgICAgIHBlcmZUZXN0U3ByaXRlcygpO1xuICAgIH1cblxuICAgIGlmIChkb18zZCkge1xuICAgICAgdGVzdDNEKCk7XG4gICAgfVxuXG5cbiAgICAvLyBEZWJ1Z2dpbiBmdWxsIGNhbnZhcyBzdHJldGNoaW5nXG4gICAgLy8gY29uc3QgY2FtZXJhMmQgPSByZXF1aXJlKCcuL2dsb3YvY2FtZXJhMmQuanMnKTtcbiAgICAvLyB1aS5kcmF3TGluZShjYW1lcmEyZC54MCgpLCBjYW1lcmEyZC55MCgpLCBjYW1lcmEyZC54MSgpLCBjYW1lcmEyZC55MSgpLCBaLkJPUkRFUlMgKyAxLCAxLCAwLjk1LFsxLDAsMSwwLjVdKTtcbiAgICAvLyB1aS5kcmF3TGluZShjYW1lcmEyZC54MSgpLCBjYW1lcmEyZC55MCgpLCBjYW1lcmEyZC54MCgpLCBjYW1lcmEyZC55MSgpLCBaLkJPUkRFUlMgKyAxLCAxLCAwLjk1LFsxLDAsMSwwLjVdKTtcblxuICAgIC8vIERlYnVnZ2luZyB0b3VjaCBzdGF0ZSBvbiBtb2JpbGVcbiAgICAvLyBjb25zdCBnbG92X2NhbWVyYTJkID0gcmVxdWlyZSgnLi9nbG92L2NhbWVyYTJkLmpzJyk7XG4gICAgLy8gZW5naW5lLmZvbnQuZHJhd1NpemVkV3JhcHBlZChlbmdpbmUuZnBzX3N0eWxlLCBnbG92X2NhbWVyYTJkLngwKCksIGdsb3ZfY2FtZXJhMmQueTAoKSwgWi5GUFNNRVRFUixcbiAgICAvLyAgIGdsb3ZfY2FtZXJhMmQudygpLCAwLCAyMiwgSlNPTi5zdHJpbmdpZnkoe1xuICAgIC8vICAgICBsYXN0X3RvdWNoX3N0YXRlOiBpbnB1dC5sYXN0X3RvdWNoX3N0YXRlLFxuICAgIC8vICAgICB0b3VjaF9zdGF0ZTogaW5wdXQudG91Y2hfc3RhdGUsXG4gICAgLy8gICB9LCB1bmRlZmluZWQsIDIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRlc3RJbml0KGR0KSB7XG4gICAgZW5naW5lLnNldFN0YXRlKHRlc3QpO1xuICAgIGlmIChmbGFnR2V0KCdtdXNpYycpKSB7XG4gICAgICBzb3VuZFBsYXlNdXNpYyhtdXNpY19maWxlKTtcbiAgICB9XG4gICAgdGVzdChkdCk7XG4gIH1cblxuICBpbml0R3JhcGhpY3MoKTtcbiAgZW5naW5lLnNldFN0YXRlKHRlc3RJbml0KTtcbn1cbiIsIi8qZXNsaW50IGdsb2JhbC1yZXF1aXJlOm9mZiovXG5jb25zdCBsb2NhbF9zdG9yYWdlID0gcmVxdWlyZSgnLi9nbG92L2xvY2FsX3N0b3JhZ2UuanMnKTtcbmxvY2FsX3N0b3JhZ2Uuc3RvcmFnZV9wcmVmaXggPSAnZ2xvdmpzLW11bHRpcGxheWVyJzsgLy8gQmVmb3JlIHJlcXVpcmluZyBhbnl0aGluZyBlbHNlIHRoYXQgbWlnaHQgbG9hZCBmcm9tIHRoaXNcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGNtZF9wYXJzZSB9ID0gcmVxdWlyZSgnLi9nbG92L2NtZHMuanMnKTtcbmNvbnN0IGVuZ2luZSA9IHJlcXVpcmUoJy4vZ2xvdi9lbmdpbmUuanMnKTtcbmNvbnN0IGdsb3ZfZm9udCA9IHJlcXVpcmUoJy4vZ2xvdi9mb250LmpzJyk7XG5jb25zdCBpbnB1dCA9IHJlcXVpcmUoJy4vZ2xvdi9pbnB1dC5qcycpO1xuY29uc3QgeyBhdGFuMiwgcmFuZG9tIH0gPSBNYXRoO1xuY29uc3QgbmV0ID0gcmVxdWlyZSgnLi9nbG92L25ldC5qcycpO1xuY29uc3QgbmV0X3Bvc2l0aW9uX21hbmFnZXIgPSByZXF1aXJlKCcuL2dsb3YvbmV0X3Bvc2l0aW9uX21hbmFnZXIuanMnKTtcbmNvbnN0IHBhcnRpY2xlcyA9IHJlcXVpcmUoJy4vZ2xvdi9wYXJ0aWNsZXMuanMnKTtcbmNvbnN0IHNoYWRlcnMgPSByZXF1aXJlKCcuL2dsb3Yvc2hhZGVycy5qcycpO1xuY29uc3QgeyBzb3VuZExvYWQsIHNvdW5kUGxheSB9ID0gcmVxdWlyZSgnLi9nbG92L3NvdW5kLmpzJyk7XG5jb25zdCBnbG92X3Nwcml0ZXMgPSByZXF1aXJlKCcuL2dsb3Yvc3ByaXRlcy5qcycpO1xuY29uc3Qgc3ByaXRlX2FuaW1hdGlvbiA9IHJlcXVpcmUoJy4vZ2xvdi9zcHJpdGVfYW5pbWF0aW9uLmpzJyk7XG5jb25zdCB1aSA9IHJlcXVpcmUoJy4vZ2xvdi91aS5qcycpO1xuY29uc3QgeyB0b051bWJlciB9ID0gcmVxdWlyZSgnLi4vY29tbW9uL3V0aWwuanMnKTtcblxuY29uc3QgcGFydGljbGVfZGF0YSA9IHJlcXVpcmUoJy4vcGFydGljbGVfZGF0YS5qcycpO1xuY29uc3QgeyB2ZWMyLCB2ZWMzLCB2MnN1YiwgdmVjNCwgdjRjb3B5IH0gPSByZXF1aXJlKCcuL2dsb3Yvdm1hdGguanMnKTtcblxud2luZG93LlogPSB3aW5kb3cuWiB8fCB7fTtcblouQkFDS0dST1VORCA9IDE7XG5aLlNQUklURVMgPSAxMDtcblouUEFSVElDTEVTID0gMjA7XG5cbmxldCBhcHAgPSBleHBvcnRzO1xud2luZG93LmFwcCA9IGFwcDsgLy8gZm9yIGRlYnVnZ2luZ1xuXG5jb25zdCBwb3NfbWFuYWdlciA9IG5ldF9wb3NpdGlvbl9tYW5hZ2VyLmNyZWF0ZSh7IG46IDMsIGRpbV9wb3M6IDIsIGRpbV9yb3Q6IDEgfSk7XG5cbmNvbnN0IFJPT01fUkVRVUlSRVNfTE9HSU4gPSB0cnVlO1xuXG4vLyBWaXJ0dWFsIHZpZXdwb3J0IGZvciBvdXIgZ2FtZSBsb2dpY1xuZXhwb3J0IGNvbnN0IGdhbWVfd2lkdGggPSAxMjgwO1xuZXhwb3J0IGNvbnN0IGdhbWVfaGVpZ2h0ID0gOTYwO1xuXG5leHBvcnQgbGV0IHNwcml0ZXMgPSB7fTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnYmluX2dldCcsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIGFwcC5jaGF0X3VpLmNoYW5uZWwucGFrKCdiaW5fZ2V0Jykuc2VuZChmdW5jdGlvbiAoZXJyLCBwYWspIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgcmVzcF9mdW5jKGVycik7XG4gICAgICB9XG4gICAgICByZXNwX2Z1bmMobnVsbCwgcGFrLnJlYWRCdWZmZXIoZmFsc2UpLmpvaW4oJywnKSk7XG4gICAgfSk7XG4gIH0sXG59KTtcblxuY21kX3BhcnNlLnJlZ2lzdGVyKHtcbiAgY21kOiAnYmluX3NldCcsXG4gIGZ1bmM6IGZ1bmN0aW9uIChzdHIsIHJlc3BfZnVuYykge1xuICAgIGxldCBwYWsgPSBhcHAuY2hhdF91aS5jaGFubmVsLnBhaygnYmluX3NldCcpO1xuICAgIHBhay53cml0ZUJ1ZmZlcihuZXcgVWludDhBcnJheShzdHIuc3BsaXQoJyAnKS5tYXAodG9OdW1iZXIpKSk7XG4gICAgcGFrLnNlbmQocmVzcF9mdW5jKTtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFpbigpIHtcbiAgbmV0LmluaXQoe1xuICAgIGVuZ2luZSxcbiAgICBjbWRfcGFyc2UsXG4gICAgYXV0b19jcmVhdGVfdXNlcjogZmFsc2UsXG4gIH0pO1xuXG4gIGlmICghZW5naW5lLnN0YXJ0dXAoe1xuICAgIGdhbWVfd2lkdGgsXG4gICAgZ2FtZV9oZWlnaHQsXG4gICAgcGl4ZWx5OiBmYWxzZSxcbiAgICBmb250OiB7XG4gICAgICBpbmZvOiByZXF1aXJlKCcuL2ltZy9mb250L3BhbGFucXVpbjMyLmpzb24nKSxcbiAgICAgIHRleHR1cmU6ICdmb250L3BhbGFucXVpbjMyJyxcbiAgICB9LFxuICAgIHNhZmVhcmVhX2lnbm9yZV9ib3R0b206IHRydWUsIC8vIFdlIGtlZXAgdGhlIGNoYXQgYnV0dG9uIG91dCBvZiB0aGUgYm90dG9tIGNlbnRlciBzYWZlIGFyZWEgdHJvdWJsZSBzcG90XG4gICAgdWlfc291bmRzOiB7XG4gICAgICBtc2dfZXJyOiAnbXNnX2VycicsXG4gICAgICBtc2dfaW46ICdtc2dfaW4nLFxuICAgICAgbXNnX291dDogJ21zZ19vdXQnLFxuICAgICAgbXNnX291dF9lcnI6ICdtc2dfb3V0X2VycicsXG4gICAgICB1c2VyX2pvaW46ICd1c2VyX2pvaW4nLFxuICAgICAgdXNlcl9sZWF2ZTogJ3VzZXJfbGVhdmUnLFxuICAgIH0sXG4gIH0pKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdGVzdF9zaGFkZXIgPSBzaGFkZXJzLmNyZWF0ZSgnc2hhZGVycy90ZXN0LmZwJyk7XG5cbiAgLy8gY29uc3QgZm9udCA9IGVuZ2luZS5mb250O1xuXG5cbiAgY29uc3QgY3JlYXRlU3ByaXRlID0gZ2xvdl9zcHJpdGVzLmNyZWF0ZTtcbiAgY29uc3QgY3JlYXRlQW5pbWF0aW9uID0gc3ByaXRlX2FuaW1hdGlvbi5jcmVhdGU7XG5cbiAgYXBwLmFjY291bnRfdWkgPSByZXF1aXJlKCcuL2FjY291bnRfdWkuanMnKS5jcmVhdGUoKTtcbiAgYXBwLmNoYXRfdWkgPSByZXF1aXJlKCcuL2dsb3YvY2hhdF91aS5qcycpLmNyZWF0ZSh7IG1heF9sZW46IDEwMDAgfSk7XG5cbiAgY29uc3QgY29sb3Jfd2hpdGUgPSB2ZWM0KDEsIDEsIDEsIDEpO1xuICBjb25zdCBjb2xvcl9ncmF5ID0gdmVjNCgwLjUsIDAuNSwgMC41LCAxKTtcbiAgY29uc3QgY29sb3JfcmVkID0gdmVjNCgxLCAwLCAwLCAxKTtcbiAgY29uc3QgY29sb3JfeWVsbG93ID0gdmVjNCgxLCAxLCAwLCAxKTtcblxuICAvLyBDYWNoZSBLRVlTXG4gIGNvbnN0IEtFWVMgPSBpbnB1dC5LRVlTO1xuICBjb25zdCBQQUQgPSBpbnB1dC5QQUQ7XG5cbiAgY29uc3Qgc3ByaXRlX3NpemUgPSA2NDtcbiAgZnVuY3Rpb24gaW5pdEdyYXBoaWNzKCkge1xuICAgIHBhcnRpY2xlcy5wcmVsb2FkUGFydGljbGVEYXRhKHBhcnRpY2xlX2RhdGEpO1xuXG4gICAgc291bmRMb2FkKCd0ZXN0Jyk7XG5cbiAgICBzcHJpdGVzLndoaXRlID0gY3JlYXRlU3ByaXRlKHsgdXJsOiAnd2hpdGUnIH0pO1xuXG4gICAgc3ByaXRlcy50ZXN0ID0gY3JlYXRlU3ByaXRlKHtcbiAgICAgIG5hbWU6ICd0ZXN0JyxcbiAgICAgIHNpemU6IHZlYzIoc3ByaXRlX3NpemUsIHNwcml0ZV9zaXplKSxcbiAgICAgIG9yaWdpbjogdmVjMigwLjUsIDAuNSksXG4gICAgfSk7XG4gICAgc3ByaXRlcy50ZXN0X3RpbnQgPSBjcmVhdGVTcHJpdGUoe1xuICAgICAgbmFtZTogJ3RpbnRlZCcsXG4gICAgICB3czogWzE2LCAxNiwgMTYsIDE2XSxcbiAgICAgIGhzOiBbMTYsIDE2LCAxNl0sXG4gICAgICBzaXplOiB2ZWMyKHNwcml0ZV9zaXplLCBzcHJpdGVfc2l6ZSksXG4gICAgICBsYXllcnM6IDIsXG4gICAgICBvcmlnaW46IHZlYzIoMC41LCAwLjUpLFxuICAgIH0pO1xuICAgIHNwcml0ZXMuYW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKHtcbiAgICAgIGlkbGVfbGVmdDoge1xuICAgICAgICBmcmFtZXM6IFswLDFdLFxuICAgICAgICB0aW1lczogWzIwMCwgNTAwXSxcbiAgICAgIH0sXG4gICAgICBpZGxlX3JpZ2h0OiB7XG4gICAgICAgIGZyYW1lczogWzMsMl0sXG4gICAgICAgIHRpbWVzOiBbMjAwLCA1MDBdLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBzcHJpdGVzLmFuaW1hdGlvbi5zZXRTdGF0ZSgnaWRsZV9sZWZ0Jyk7XG5cbiAgICBzcHJpdGVzLmdhbWVfYmcgPSBjcmVhdGVTcHJpdGUoe1xuICAgICAgdXJsOiAnd2hpdGUnLFxuICAgICAgc2l6ZTogdmVjMihnYW1lX3dpZHRoLCBnYW1lX2hlaWdodCksXG4gICAgfSk7XG4gIH1cblxuXG4gIGxldCB0ZXN0X3Jvb207XG4gIGxldCB0ZXN0O1xuXG4gIGZ1bmN0aW9uIHBsYXllck1vdGlvbihkdCkge1xuICAgIC8vIE5ldHdvcmsgc2VuZFxuICAgIGlmIChwb3NfbWFuYWdlci5jaGVja05ldCgocG9zKSA9PiB7XG4gICAgICB0ZXN0LmNoYXJhY3Rlci54ID0gcG9zWzBdO1xuICAgICAgdGVzdC5jaGFyYWN0ZXIueSA9IHBvc1sxXTtcbiAgICAgIHRlc3QuY2hhcmFjdGVyLnJvdCA9IHBvc1syXTtcbiAgICB9KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRlc3QuY2hhcmFjdGVyLmR4ID0gMDtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keCAtPSBpbnB1dC5rZXlEb3duKEtFWVMuTEVGVCkgKyBpbnB1dC5rZXlEb3duKEtFWVMuQSkgKyBpbnB1dC5wYWRCdXR0b25Eb3duKFBBRC5MRUZUKTtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keCArPSBpbnB1dC5rZXlEb3duKEtFWVMuUklHSFQpICsgaW5wdXQua2V5RG93bihLRVlTLkQpICsgaW5wdXQucGFkQnV0dG9uRG93bihQQUQuUklHSFQpO1xuICAgIHRlc3QuY2hhcmFjdGVyLmR5ID0gMDtcbiAgICB0ZXN0LmNoYXJhY3Rlci5keSAtPSBpbnB1dC5rZXlEb3duKEtFWVMuVVApICsgaW5wdXQua2V5RG93bihLRVlTLlcpICsgaW5wdXQucGFkQnV0dG9uRG93bihQQUQuVVApO1xuICAgIHRlc3QuY2hhcmFjdGVyLmR5ICs9IGlucHV0LmtleURvd24oS0VZUy5ET1dOKSArIGlucHV0LmtleURvd24oS0VZUy5TKSArIGlucHV0LnBhZEJ1dHRvbkRvd24oUEFELkRPV04pO1xuICAgIGlmICh0ZXN0LmNoYXJhY3Rlci5keCA8IDApIHtcbiAgICAgIHNwcml0ZXMuYW5pbWF0aW9uLnNldFN0YXRlKCdpZGxlX2xlZnQnKTtcbiAgICB9IGVsc2UgaWYgKHRlc3QuY2hhcmFjdGVyLmR4ID4gMCkge1xuICAgICAgc3ByaXRlcy5hbmltYXRpb24uc2V0U3RhdGUoJ2lkbGVfcmlnaHQnKTtcbiAgICB9XG5cbiAgICB0ZXN0LmNoYXJhY3Rlci54ICs9IHRlc3QuY2hhcmFjdGVyLmR4ICogMC4yO1xuICAgIHRlc3QuY2hhcmFjdGVyLnkgKz0gdGVzdC5jaGFyYWN0ZXIuZHkgKiAwLjI7XG4gICAgbGV0IGJvdW5kcyA9IHtcbiAgICAgIHg6IHRlc3QuY2hhcmFjdGVyLnggLSBzcHJpdGVfc2l6ZS8yLFxuICAgICAgeTogdGVzdC5jaGFyYWN0ZXIueSAtIHNwcml0ZV9zaXplLzIsXG4gICAgICB3OiBzcHJpdGVfc2l6ZSxcbiAgICAgIGg6IHNwcml0ZV9zaXplLFxuICAgIH07XG4gICAgaWYgKGlucHV0Lm1vdXNlRG93bihib3VuZHMpKSB7XG4gICAgICB2NGNvcHkodGVzdC5jb2xvcl9zcHJpdGUsIGNvbG9yX3llbGxvdyk7XG4gICAgfSBlbHNlIGlmIChpbnB1dC5jbGljayhib3VuZHMpKSB7XG4gICAgICB2NGNvcHkodGVzdC5jb2xvcl9zcHJpdGUsICh0ZXN0LmNvbG9yX3Nwcml0ZVsyXSA9PT0gMCkgPyBjb2xvcl93aGl0ZSA6IGNvbG9yX3JlZCk7XG4gICAgICBzb3VuZFBsYXkoJ3Rlc3QnKTtcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm1vdXNlT3Zlcihib3VuZHMpKSB7XG4gICAgICB2NGNvcHkodGVzdC5jb2xvcl9zcHJpdGUsIGNvbG9yX3doaXRlKTtcbiAgICAgIHRlc3QuY29sb3Jfc3ByaXRlWzNdID0gMC41O1xuICAgIH0gZWxzZSB7XG4gICAgICB2NGNvcHkodGVzdC5jb2xvcl9zcHJpdGUsIGNvbG9yX3doaXRlKTtcbiAgICAgIHRlc3QuY29sb3Jfc3ByaXRlWzNdID0gMTtcbiAgICB9XG5cbiAgICBsZXQgYWltID0gdjJzdWIodmVjMigpLCBpbnB1dC5tb3VzZVBvcygpLCBbdGVzdC5jaGFyYWN0ZXIueCwgdGVzdC5jaGFyYWN0ZXIueV0pO1xuICAgIHRlc3QuY2hhcmFjdGVyLnJvdCA9IGF0YW4yKGFpbVswXSwgLWFpbVsxXSk7XG5cbiAgICAvLyBOZXR3b3JrIHNlbmRcbiAgICBwb3NfbWFuYWdlci51cGRhdGVNeVBvcyhuZXcgRmxvYXQ2NEFycmF5KFt0ZXN0LmNoYXJhY3Rlci54LCB0ZXN0LmNoYXJhY3Rlci55LCB0ZXN0LmNoYXJhY3Rlci5yb3RdKSwgJ2lkbGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJvb20oKSB7XG4gICAgaWYgKCF0ZXN0X3Jvb20pIHtcbiAgICAgIHRlc3Rfcm9vbSA9IG5ldC5zdWJzLmdldENoYW5uZWwoJ3Rlc3QudGVzdCcsIHRydWUpO1xuICAgICAgcG9zX21hbmFnZXIucmVpbml0KHtcbiAgICAgICAgY2hhbm5lbDogdGVzdF9yb29tLFxuICAgICAgICBkZWZhdWx0X3BvczogdmVjMyhcbiAgICAgICAgICAocmFuZG9tKCkgKiAoZ2FtZV93aWR0aCAtIHNwcml0ZV9zaXplKSArIChzcHJpdGVfc2l6ZSAqIDAuNSkpLFxuICAgICAgICAgIChyYW5kb20oKSAqIChnYW1lX2hlaWdodCAtIHNwcml0ZV9zaXplKSArIChzcHJpdGVfc2l6ZSAqIDAuNSkpLFxuICAgICAgICAgIDBcbiAgICAgICAgKSxcbiAgICAgIH0pO1xuICAgICAgYXBwLmNoYXRfdWkuc2V0Q2hhbm5lbCh0ZXN0X3Jvb20pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByZUxvZ291dCgpIHtcbiAgICBpZiAodGVzdF9yb29tKSB7XG4gICAgICBhc3NlcnQodGVzdF9yb29tLnN1YnNjcmlwdGlvbnMpO1xuICAgICAgbmV0LnN1YnMudW5zdWJzY3JpYmUodGVzdF9yb29tLmNoYW5uZWxfaWQpO1xuICAgICAgYXBwLmNoYXRfdWkuc2V0Q2hhbm5lbChudWxsKTtcbiAgICAgIHRlc3Rfcm9vbSA9IG51bGw7XG4gICAgICBpZiAoIVJPT01fUkVRVUlSRVNfTE9HSU4pIHtcbiAgICAgICAgc2V0VGltZW91dChnZXRSb29tLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0ZXN0ID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgLy8gQWxsb3cgZm9jdXNpbmcgdGhlIGNhbnZhcywgYW5kIGJlZm9yZSBjaGF0LlxuICAgIHVpLmZvY3VzQ2hlY2soJ2NhbnZhcycpO1xuXG4gICAgYXBwLmNoYXRfdWkucnVuKGR0KTtcbiAgICBhcHAuYWNjb3VudF91aS5zaG93TG9naW4oe1xuICAgICAgeDogMCwgeTogMCxcbiAgICAgIHByZWxvZ291dDogcHJlTG9nb3V0LCBjZW50ZXI6IGZhbHNlLFxuICAgICAgc3R5bGU6IGdsb3ZfZm9udC5zdHlsZShudWxsLCB7XG4gICAgICAgIG91dGxpbmVfd2lkdGg6IDIsXG4gICAgICAgIG91dGxpbmVfY29sb3I6IDB4RkZGRkZGZmYsXG4gICAgICAgIGNvbG9yOiAweDAwMDAwMGZmLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBpZiAoIXRlc3QuY29sb3Jfc3ByaXRlKSB7XG4gICAgICB0ZXN0LmNvbG9yX3Nwcml0ZSA9IHY0Y29weSh2ZWM0KCksIGNvbG9yX3doaXRlKTtcbiAgICAgIHRlc3QuY2hhcmFjdGVyID0geyB4OiAwLCB5OiAwLCByb3Q6IDAgfTtcbiAgICB9XG5cbiAgICBpZiAodGVzdF9yb29tICYmIHRlc3Rfcm9vbS5zdWJzY3JpcHRpb25zKSB7XG4gICAgICBwbGF5ZXJNb3Rpb24oZHQpO1xuXG4gICAgICBzcHJpdGVzLmdhbWVfYmcuZHJhdyh7XG4gICAgICAgIHg6IDAsIHk6IDAsIHo6IFouQkFDS0dST1VORCxcbiAgICAgICAgY29sb3I6IFswLjUsIDAuNiwgMC43LCAxXSxcbiAgICAgICAgc2hhZGVyOiB0ZXN0X3NoYWRlcixcbiAgICAgICAgc2hhZGVyX3BhcmFtczoge1xuICAgICAgICAgIHBhcmFtczogWzEuMCwgMS4wLCAxLjAsIGVuZ2luZS5nZXRGcmFtZVRpbWVzdGFtcCgpICogMC4wMDA1ICUgMTAwMF0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgc3ByaXRlcy50ZXN0X3RpbnQuZHJhd0R1YWxUaW50KHtcbiAgICAgICAgeDogdGVzdC5jaGFyYWN0ZXIueCxcbiAgICAgICAgeTogdGVzdC5jaGFyYWN0ZXIueSxcbiAgICAgICAgejogWi5TUFJJVEVTLFxuICAgICAgICByb3Q6IHRlc3QuY2hhcmFjdGVyLnJvdCxcbiAgICAgICAgY29sb3I6IFsxLCAxLCAwLCAxXSxcbiAgICAgICAgY29sb3IxOiBbMSwgMCwgMSwgMV0sXG4gICAgICAgIHNpemU6IFtzcHJpdGVfc2l6ZSwgc3ByaXRlX3NpemVdLFxuICAgICAgICBmcmFtZTogc3ByaXRlcy5hbmltYXRpb24uZ2V0RnJhbWUoZHQpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIERyYXcgb3RoZXIgdXNlcnNcbiAgICAgIGxldCByb29tX2NsaWVudHMgPSB0ZXN0X3Jvb20uZ2V0Q2hhbm5lbERhdGEoJ3B1YmxpYy5jbGllbnRzJywge30pO1xuICAgICAgZm9yIChsZXQgY2xpZW50X2lkIGluIHJvb21fY2xpZW50cykge1xuICAgICAgICBsZXQgb3RoZXJfY2xpZW50ID0gcm9vbV9jbGllbnRzW2NsaWVudF9pZF07XG4gICAgICAgIGlmIChvdGhlcl9jbGllbnQucG9zICYmIG90aGVyX2NsaWVudC5pZHMpIHtcbiAgICAgICAgICBsZXQgcGNkID0gcG9zX21hbmFnZXIudXBkYXRlT3RoZXJDbGllbnQoY2xpZW50X2lkLCBkdCk7XG4gICAgICAgICAgaWYgKHBjZCkge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHBjZC5wb3M7XG4gICAgICAgICAgICBzcHJpdGVzLnRlc3QuZHJhdyh7XG4gICAgICAgICAgICAgIHg6IHBvc1swXSwgeTogcG9zWzFdLCB6OiBaLlNQUklURVMgLSAxLFxuICAgICAgICAgICAgICByb3Q6IHBvc1syXSxcbiAgICAgICAgICAgICAgY29sb3I6IGNvbG9yX2dyYXksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVpLmZvbnQuZHJhd1NpemVkQWxpZ25lZChnbG92X2ZvbnQuc3R5bGVDb2xvcmVkKG51bGwsIDB4MDAwMDAwODApLFxuICAgICAgICAgICAgICBwb3NbMF0sIHBvc1sxXSAtIDY0LCBaLlNQUklURVMgLSAxLFxuICAgICAgICAgICAgICB1aS5mb250X2hlaWdodCwgZ2xvdl9mb250LkFMSUdOLkhDRU5URVIsIDAsIDAsXG4gICAgICAgICAgICAgIG90aGVyX2NsaWVudC5pZHMuZGlzcGxheV9uYW1lIHx8IGBjbGllbnRfJHtjbGllbnRfaWR9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXBwLmNoYXRfdWkucnVuTGF0ZShkdCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdGVzdEluaXQoZHQpIHtcbiAgICBlbmdpbmUuc2V0U3RhdGUodGVzdCk7XG4gICAgaWYgKCFST09NX1JFUVVJUkVTX0xPR0lOKSB7XG4gICAgICBnZXRSb29tKCk7XG4gICAgfVxuXG4gICAgbmV0LnN1YnMub25Mb2dpbihnZXRSb29tKTtcblxuICAgIHRlc3QoZHQpO1xuICB9XG5cbiAgaW5pdEdyYXBoaWNzKCk7XG4gIGVuZ2luZS5zZXRTdGF0ZSh0ZXN0SW5pdCk7XG59XG4iLCJleHBvcnQgbGV0IGRlZnMgPSB7fTtcblxuZGVmcy5leHBsb3Npb24gPSB7XG4gIHBhcnRpY2xlczoge1xuICAgIHBhcnQwOiB7XG4gICAgICBibGVuZDogJ2FscGhhJyxcbiAgICAgIHRleHR1cmU6ICdwYXJ0aWNsZXMvY2lyY2xlNjQnLFxuICAgICAgY29sb3I6IFsxLDEsMSwxXSwgLy8gbXVsdGlwbGllZCBieSBhbmltYXRpb24gdHJhY2ssIGRlZmF1bHQgMSwxLDEsMSwgY2FuIGJlIG9taXR0ZWRcbiAgICAgIGNvbG9yX3RyYWNrOiBbXG4gICAgICAgIC8vIGp1c3QgdmFsdWVzLCBOT1QgcmFuZG9tIHJhbmdlXG4gICAgICAgIHsgdDogMC4wLCB2OiBbMSwxLDEsMF0gfSxcbiAgICAgICAgeyB0OiAwLjIsIHY6IFsxLDEsMSwxXSB9LFxuICAgICAgICB7IHQ6IDAuNCwgdjogWzEsMSwwLjUsMC41XSB9LFxuICAgICAgICB7IHQ6IDEuMCwgdjogWzEsMCwwLDBdIH0sXG4gICAgICBdLFxuICAgICAgc2l6ZTogW1s0OCw4XSwgWzQ4LDhdXSwgLy8gbXVsdGlwbGllZCBieSBhbmltYXRpb24gdHJhY2tcbiAgICAgIHNpemVfdHJhY2s6IFtcbiAgICAgICAgLy8ganVzdCB2YWx1ZXMsIE5PVCByYW5kb20gcmFuZ2VcbiAgICAgICAgeyB0OiAwLjAsIHY6IFsxLDFdIH0sXG4gICAgICAgIHsgdDogMC4yLCB2OiBbMiwyXSB9LFxuICAgICAgICB7IHQ6IDAuNCwgdjogWzEsMV0gfSxcbiAgICAgICAgeyB0OiAxLjAsIHY6IFsxLjUsMS41XSB9LFxuICAgICAgXSxcbiAgICAgIGFjY2VsOiBbMCwwLDBdLFxuICAgICAgcm90OiBbMCwzNjBdLCAvLyBkZWdyZWVzXG4gICAgICByb3RfdmVsOiBbMTAsMl0sIC8vIGRlZ3JlZXMgcGVyIHNlY29uZFxuICAgICAgbGlmZXNwYW46IFsyNTAwLDBdLCAvLyBtaWxsaXNlY29uZHNcbiAgICAgIGtpbGxfdGltZV9hY2NlbDogNSxcbiAgICB9LFxuICB9LFxuICBlbWl0dGVyczoge1xuICAgIHBhcnQwOiB7XG4gICAgICBwYXJ0aWNsZTogJ3BhcnQwJyxcbiAgICAgIC8vIFJhbmRvbSByYW5nZXMgYWZmZWN0IGVhY2ggZW1pdHRlZCBwYXJ0aWNsZTpcbiAgICAgIHBvczogW1stMTYsMzJdLCBbLTE2LDMyXSwgMF0sXG4gICAgICB2ZWw6IFswLDAsMF0sXG4gICAgICBlbWl0X3JhdGU6IFsxNSwwXSwgLy8gZW1pc3Npb25zIHBlciBzZWNvbmRcbiAgICAgIC8vIFJhbmRvbSByYW5nZXMgb25seSBjYWxjdWxhdGVkIHVwb24gaW5zdGFudGlhdGlvbjpcbiAgICAgIGVtaXRfdGltZTogWzAsMTAwMF0sXG4gICAgICBlbWl0X2luaXRpYWw6IDEwLFxuICAgICAgbWF4X3BhcnRzOiBJbmZpbml0eSxcbiAgICB9LFxuICB9LFxuICBzeXN0ZW1fbGlmZXNwYW46IDI1MDAsXG59O1xuIiwiY29uc3QgZW5naW5lID0gcmVxdWlyZSgnLi9nbG92L2VuZ2luZS5qcycpO1xuY29uc3QgbWF0NExvb2tBdCA9IHJlcXVpcmUoJ2dsLW1hdDQvbG9va2F0Jyk7XG5jb25zdCBtYXQ0U2NhbGVSb3RhdGVUcmFuc2xhdGUgPSByZXF1aXJlKCcuL2dsb3YvbWF0NFNjYWxlUm90YXRlVHJhbnNsYXRlLmpzJyk7XG5jb25zdCBtb2RlbHMgPSByZXF1aXJlKCcuL2dsb3YvbW9kZWxzLmpzJyk7XG5jb25zdCB7IHF1YXQsIHFSb3RhdGVaIH0gPSByZXF1aXJlKCcuL2dsb3YvcXVhdC5qcycpO1xuY29uc3QgdGV4dHVyZXMgPSByZXF1aXJlKCcuL2dsb3YvdGV4dHVyZXMuanMnKTtcbmNvbnN0IHsgbWF0NCwgemF4aXMsIHplcm9fdmVjIH0gPSByZXF1aXJlKCcuL2dsb3Yvdm1hdGguanMnKTtcblxubGV0IG1hdF92aWV3ID0gbWF0NCgpO1xubGV0IG1hdF9vYmogPSBtYXQ0KCk7XG5sZXQgcm90ID0gcXVhdCgpO1xuXG5leHBvcnQgZnVuY3Rpb24gdGVzdDNEKCkge1xuICBpZiAoIW1vZGVscy5tb2RlbHMuYm94KSB7XG4gICAgbW9kZWxzLnN0YXJ0dXAoKTtcbiAgfVxuICBlbmdpbmUuc3RhcnQzRFJlbmRlcmluZygpO1xuICBtYXQ0TG9va0F0KG1hdF92aWV3LCBbNSw0LDNdLCB6ZXJvX3ZlYywgemF4aXMpO1xuICBlbmdpbmUuc2V0R2xvYmFsTWF0cmljZXMobWF0X3ZpZXcpO1xuICBxUm90YXRlWihyb3QsIHJvdCwgZW5naW5lLmZyYW1lX2R0ICogMC4wMDEpO1xuICB0ZXh0dXJlcy5iaW5kKDAsIHRleHR1cmVzLnRleHR1cmVzLmVycm9yKTtcbiAgbWF0NFNjYWxlUm90YXRlVHJhbnNsYXRlKG1hdF9vYmosIDEsIHJvdCwgWzEsMSwwLjAzXSk7XG4gIG1vZGVscy5tb2RlbHMuYm94LmRyYXcobWF0X29iaik7XG4gIG1hdDRTY2FsZVJvdGF0ZVRyYW5zbGF0ZShtYXRfb2JqLCAxLCByb3QsIFswLDAsMF0pO1xuICBtb2RlbHMubW9kZWxzLmJveC5kcmF3KG1hdF9vYmopO1xuICBtYXQ0U2NhbGVSb3RhdGVUcmFuc2xhdGUobWF0X29iaiwgMSwgcm90LCBbMSwwLDAuMDFdKTtcbiAgbW9kZWxzLm1vZGVscy5ib3guZHJhdyhtYXRfb2JqKTtcbiAgbWF0NFNjYWxlUm90YXRlVHJhbnNsYXRlKG1hdF9vYmosIDEsIHJvdCwgWzAsMSwwLjAyXSk7XG4gIG1vZGVscy5tb2RlbHMuYm94LmRyYXcobWF0X29iaik7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBpc1BhY2tldCB9ID0gcmVxdWlyZSgnLi9wYWNrZXQuanMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFja0luaXRSZWNlaXZlcihyZWNlaXZlcikge1xuICByZWNlaXZlci5sYXN0X3Bha19pZCA9IDA7XG4gIHJlY2VpdmVyLnJlc3BfY2JzID0ge307XG4gIHJlY2VpdmVyLnJlc3BvbnNlc193YWl0aW5nID0gMDtcbn1cblxuY29uc3QgRVJSX0ZBSUxBTExfRElTQ09OTkVDVCA9ICdFUlJfRkFJTEFMTF9ESVNDT05ORUNUJztcblxuY29uc3QgQUNLRkxBR19JU19SRVNQID0gMTw8MztcbmNvbnN0IEFDS0ZMQUdfRVJSID0gMTw8NDtcbmNvbnN0IEFDS0ZMQUdfREFUQV9KU09OID0gMTw8NTtcbi8vIGByZWNlaXZlcmAgaXMgcmVhbGx5IHRoZSBzZW5kZXIsIGhlcmUsIGJ1dCB3aWxsIHJlY2VpdmUgYW55IHJlc3BvbnNlXG5leHBvcnQgZnVuY3Rpb24gYWNrV3JhcFBha1N0YXJ0KHBhaywgcmVjZWl2ZXIsIG1zZykge1xuICBsZXQgZmxhZ3MgPSAwO1xuXG4gIHBhay5hY2tfZGF0YSA9IHtcbiAgICByZWNlaXZlcixcbiAgfTtcblxuICBpZiAodHlwZW9mIG1zZyA9PT0gJ251bWJlcicpIHtcbiAgICBmbGFncyB8PSBBQ0tGTEFHX0lTX1JFU1A7XG4gICAgcGFrLndyaXRlSW50KG1zZyk7XG4gIH0gZWxzZSB7XG4gICAgcGFrLndyaXRlQW5zaVN0cmluZyhtc2cpO1xuICB9XG4gIGxldCByZXNwX3Bha19pZCA9IHJlY2VpdmVyID8gKytyZWNlaXZlci5sYXN0X3Bha19pZCA6IDA7XG4gIHBhay5hY2tfZGF0YS5yZXNwX3Bha19pZCA9IHJlc3BfcGFrX2lkO1xuICBwYWsuYWNrX2RhdGEucmVzcF9wYWtfaWRfb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgcGFrLndyaXRlSW50KHJlc3BfcGFrX2lkKTtcblxuICBwYWsuYWNrX2RhdGEuZGF0YV9vZmZzID0gcGFrLmdldE9mZnNldCgpO1xuICBwYWsuYWNrX2RhdGEuZmxhZ3MgPSBmbGFncztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFja1dyYXBQYWtQYXlsb2FkKHBhaywgZGF0YSkge1xuICBpZiAoaXNQYWNrZXQoZGF0YSkpIHtcbiAgICBwYWsuYXBwZW5kUmVtYWluaW5nKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHBhay5hY2tfZGF0YS5mbGFncyB8PSBBQ0tGTEFHX0RBVEFfSlNPTjtcbiAgICBwYWsud3JpdGVKU09OKGRhdGEpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2tXcmFwUGFrRmluaXNoKHBhaywgZXJyLCByZXNwX2Z1bmMpIHtcbiAgbGV0IGZsYWdzID0gcGFrLmFja19kYXRhLmZsYWdzO1xuICBsZXQgb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgaWYgKGVycikge1xuICAgIC8vIE5vdGhpbmcgZWxzZSBtdXN0IGhhdmUgYmVlbiB3cml0dGVuXG4gICAgYXNzZXJ0LmVxdWFsKHBhay5hY2tfZGF0YS5kYXRhX29mZnMsIG9mZnMpO1xuICAgIGZsYWdzIHw9IEFDS0ZMQUdfRVJSO1xuICAgIHBhay53cml0ZVN0cmluZyhTdHJpbmcoZXJyKSk7XG4gICAgb2ZmcyA9IHBhay5nZXRPZmZzZXQoKTtcbiAgfVxuICBwYWsubWFrZVJlYWRhYmxlKCk7XG4gIGxldCByZXNwX3Bha19pZCA9IDA7XG4gIGlmIChyZXNwX2Z1bmMgJiYgcmVzcF9mdW5jLmV4cGVjdGluZ19yZXNwb25zZSAhPT0gZmFsc2UpIHtcbiAgICByZXNwX3Bha19pZCA9IHBhay5hY2tfZGF0YS5yZXNwX3Bha19pZDtcbiAgICBhc3NlcnQocmVzcF9wYWtfaWQpO1xuICAgIGFzc2VydChwYWsuYWNrX2RhdGEucmVjZWl2ZXIpO1xuICAgIHBhay5hY2tfZGF0YS5yZWNlaXZlci5yZXNwX2Nic1tyZXNwX3Bha19pZF0gPSByZXNwX2Z1bmM7XG4gIH0gZWxzZSB7XG4gICAgcGFrLnNlZWsocGFrLmFja19kYXRhLnJlc3BfcGFrX2lkX29mZnMpO1xuICAgIHBhay56ZXJvSW50KCk7XG4gICAgcGFrLnNlZWsob2Zmcyk7XG4gIH1cbiAgcGFrLnVwZGF0ZUZsYWdzKGZsYWdzKTtcbiAgZGVsZXRlIHBhay5hY2tfZGF0YTtcbiAgcmV0dXJuIHJlc3BfcGFrX2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWNrUmVhZEhlYWRlcihwYWspIHtcbiAgbGV0IGZsYWdzID0gcGFrLmdldEZsYWdzKCk7XG4gIGxldCBtc2cgPSAoZmxhZ3MgJiBBQ0tGTEFHX0lTX1JFU1ApID8gcGFrLnJlYWRJbnQoKSA6IHBhay5yZWFkQW5zaVN0cmluZygpO1xuICBsZXQgcGFrX2lkID0gcGFrLnJlYWRJbnQoKTtcbiAgbGV0IGVyciA9IChmbGFncyAmIEFDS0ZMQUdfRVJSKSA/IHBhay5yZWFkU3RyaW5nKCkgOiB1bmRlZmluZWQ7XG4gIGxldCBkYXRhO1xuICBpZiAoZmxhZ3MgJiBBQ0tGTEFHX0RBVEFfSlNPTikge1xuICAgIGRhdGEgPSBwYWsucmVhZEpTT04oKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhID0gcGFrO1xuICB9XG4gIHJldHVybiB7XG4gICAgbXNnLFxuICAgIGVycixcbiAgICBkYXRhLFxuICAgIHBha19pZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZhaWxBbGwocmVjZWl2ZXIsIGVycikge1xuICBlcnIgPSBlcnIgfHwgRVJSX0ZBSUxBTExfRElTQ09OTkVDVDtcbiAgbGV0IGNicyA9IHJlY2VpdmVyLnJlc3BfY2JzO1xuICByZWNlaXZlci5yZXNwX2NicyA9IHt9O1xuICByZWNlaXZlci5yZXNwb25zZXNfd2FpdGluZyA9IDA7XG4gIGZvciAobGV0IHBha19pZCBpbiBjYnMpIHtcbiAgICBjYnNbcGFrX2lkXShlcnIpO1xuICB9XG59XG5cbi8vIGBzb3VyY2VgIGlzIGEgc3RyaW5nIGZvciBkZWJ1Zy9sb2dnaW5nIG9ubHlcbi8vIGByZWNlaXZlcmAgbmVlZHMgaW5pdFJlY2VpY3ZlciBjYWxsZWQgb24gaXQsIGhhdmUgLm9uRXJyb3IoKSBpbiB0aGUgcHJvdG90eXBlIGFuZCBvcHRpb25hbGx5IC5sb2coKVxuLy8gc2VuZEZ1bmMobXNnLCBlcnIsIGRhdGEsIHJlc3BfZnVuYylcbi8vIGhhbmRsZUZ1bmMobXNnLCBkYXRhLCByZXNwX2Z1bmMpXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBhY2tIYW5kbGVNZXNzYWdlKHJlY2VpdmVyLCBzb3VyY2UsIG5ldF9kYXRhX29yX3Bhaywgc2VuZF9mdW5jLCBwYWtfZnVuYywgaGFuZGxlX2Z1bmMsIGZpbHRlcl9mdW5jKSB7XG4gIGlmIChyZWNlaXZlci5sb2dQYWNrZXREaXNwYXRjaCkge1xuICAgIHJlY2VpdmVyLmxvZ1BhY2tldERpc3BhdGNoKHNvdXJjZSwgbmV0X2RhdGFfb3JfcGFrKTtcbiAgfVxuICBsZXQgbmV0X2RhdGEgPSBpc1BhY2tldChuZXRfZGF0YV9vcl9wYWspID8gYWNrUmVhZEhlYWRlcihuZXRfZGF0YV9vcl9wYWspIDogbmV0X2RhdGFfb3JfcGFrO1xuICBsZXQgeyBlcnIsIGRhdGEsIG1zZywgcGFrX2lkIH0gPSBuZXRfZGF0YTtcbiAgbGV0IG5vdyA9IERhdGUubm93KCk7XG4gIGxldCBleHBlY3RpbmdfcmVzcG9uc2UgPSBCb29sZWFuKHBha19pZCk7XG4gIGxldCB0aW1lb3V0X2lkO1xuICBpZiAoZXhwZWN0aW5nX3Jlc3BvbnNlKSB7XG4gICAgdGltZW91dF9pZCA9ICdwZW5kaW5nJztcbiAgfVxuICBsZXQgc2VudF9yZXNwb25zZSA9IGZhbHNlO1xuICBsZXQgc3RhcnRfdGltZSA9IG5vdztcblxuICBpZiAoZmlsdGVyX2Z1bmMgJiYgIWZpbHRlcl9mdW5jKHJlY2VpdmVyLCBtc2csIGRhdGEpKSB7XG4gICAgLy8gU2ltcGx5IGRpc2NhcmQgdGhpcyBtZXNzYWdlXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlU2VuZFJlc3AoZXJyKSB7XG4gICAgYXNzZXJ0KCFzZW50X3Jlc3BvbnNlLCAnUmVzcG9uc2UgZnVuY3Rpb24gY2FsbGVkIHR3aWNlJyk7XG4gICAgc2VudF9yZXNwb25zZSA9IHRydWU7XG5cbiAgICBpZiAoZXhwZWN0aW5nX3Jlc3BvbnNlKSB7XG4gICAgICBpZiAodGltZW91dF9pZCkge1xuICAgICAgICBpZiAodGltZW91dF9pZCAhPT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRfaWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZXJyID09PSBFUlJfRkFJTEFMTF9ESVNDT05ORUNUKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyB0aGUgcmVzdWx0IG9mIGEgZmFpbEFsbCgpIGNhbGwsIGEgcmVzcG9uc2Ugd2FzIG5vdCBhY3R1YWxseSBzZW50IVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChyZWNlaXZlci5sb2cgPyByZWNlaXZlciA6IGNvbnNvbGUpLmxvZyhgUmVzcG9uc2UgZmluYWxseSBzZW50IGZvciAke21zZ1xuICAgICAgICAgIH0gYWZ0ZXIgJHsoKERhdGUubm93KCkgLSBzdGFydF90aW1lKSAvIDEwMDApLnRvRml4ZWQoMSl9c2ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWNlaXZlci5yZXNwb25zZXNfd2FpdGluZy0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3BGdW5jKGVyciwgcmVzcF9kYXRhLCByZXNwX2Z1bmMpIHtcbiAgICBwcmVTZW5kUmVzcChlcnIpO1xuICAgIC8vIHRoZSBjYWxsYmFjayB3YW50cyB0byBzZW5kIGEgcmVzcG9uc2UsIGFuZCBwb3NzaWJseSBnZXQgYSByZXNwb25zZSBmcm9tIHRoYXQhXG4gICAgaWYgKCFleHBlY3RpbmdfcmVzcG9uc2UpIHtcbiAgICAgIC8vIEJ1dCwgdGhlIG90aGVyIGVuZCBpcyBub3QgZXhwZWN0aW5nIGEgcmVzcG9uc2UgZnJvbSB0aGlzIHBhY2tldCwgYmxhY2staG9sZSBpdFxuICAgICAgaWYgKHJlc3BfZnVuYykge1xuICAgICAgICAvLyBXZSBiZXR0ZXIgbm90IGJlIGV4cGVjdGluZyBhIHJlc3BvbnNlIHRvIG91ciByZXNwb25zZSFcbiAgICAgICAgcmVjZWl2ZXIub25FcnJvcihgU2VuZGluZyBhIHJlc3BvbnNlIHRvIGEgcGFja2V0ICgke21zZ30pIHRoYXQgZGlkIG5vdCBleHBlY3RgICtcbiAgICAgICAgICAnIG9uZSwgYnV0IHdlIGFyZSBleHBlY3RpbmcgYSByZXNwb25zZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBob3dldmVyLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IsIGxldCdzIGZvcndhcmQgdGhhdCBhbG9uZyBhcyBhbiBlcnJvciBtZXNzYWdlXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbmRfZnVuYygnZXJyb3InLCBudWxsLCBlcnIsIG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZW5kX2Z1bmMocGFrX2lkLCBlcnIsIHJlc3BfZGF0YSwgcmVzcF9mdW5jKTtcbiAgfVxuICByZXNwRnVuYy5leHBlY3RpbmdfcmVzcG9uc2UgPSBleHBlY3RpbmdfcmVzcG9uc2U7XG4gIHJlc3BGdW5jLnBhayA9IGZ1bmN0aW9uIChyZWZfcGFrKSB7XG4gICAgYXNzZXJ0KGV4cGVjdGluZ19yZXNwb25zZSk7XG4gICAgbGV0IHBhayA9IHBha19mdW5jKHBha19pZCwgcmVmX3Bhayk7XG4gICAgbGV0IG9yaWdfc2VuZCA9IHBhay5zZW5kO1xuICAgIHBhay5zZW5kID0gZnVuY3Rpb24gKGVyciwgcmVzcF9mdW5jKSB7XG4gICAgICBwcmVTZW5kUmVzcChlcnIpO1xuICAgICAgb3JpZ19zZW5kLmNhbGwocGFrLCBlcnIsIHJlc3BfZnVuYyk7XG4gICAgfTtcbiAgICByZXR1cm4gcGFrO1xuICB9O1xuXG4gIGlmICh0eXBlb2YgbXNnID09PSAnbnVtYmVyJykge1xuICAgIGxldCBjYiA9IHJlY2VpdmVyLnJlc3BfY2JzW21zZ107XG4gICAgaWYgKCFjYikge1xuICAgICAgcmV0dXJuIHZvaWQgcmVjZWl2ZXIub25FcnJvcihgUmVjZWl2ZWQgcmVzcG9uc2UgdG8gdW5rbm93biBwYWNrZXQgd2l0aCBpZCAke21zZ30gZnJvbSAke3NvdXJjZX1gKTtcbiAgICB9XG4gICAgZGVsZXRlIHJlY2VpdmVyLnJlc3BfY2JzW21zZ107XG4gICAgY2IoZXJyLCBkYXRhLCByZXNwRnVuYyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIHJldHVybiB2b2lkIHJlY2VpdmVyLm9uRXJyb3IoYFJlY2VpdmVkIG1lc3NhZ2Ugd2l0aCBubyAubXNnIGZyb20gJHtzb3VyY2V9YCk7XG4gICAgfVxuICAgIGhhbmRsZV9mdW5jKG1zZywgZGF0YSwgcmVzcEZ1bmMpO1xuICB9XG4gIGlmIChleHBlY3RpbmdfcmVzcG9uc2UpIHtcbiAgICAvLyBOb3RlLCB0aGlzIG1heSBiZSAtMSBpZiByZXNwRnVuYyBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgIHJlY2VpdmVyLnJlc3BvbnNlc193YWl0aW5nKys7XG4gICAgaWYgKCFzZW50X3Jlc3BvbnNlICYmICFyZXNwRnVuYy5zdXBwcmVzc190aW1lb3V0KSB7XG4gICAgICAvLyB0aW1lb3V0IHdhcm5pbmcgZm9yIHJlc3BvbnNlXG4gICAgICB0aW1lb3V0X2lkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRpbWVvdXRfaWQgPSBudWxsO1xuICAgICAgICBpZiAoIXJlc3BGdW5jLnN1cHByZXNzX3RpbWVvdXQpIHtcbiAgICAgICAgICAocmVjZWl2ZXIubG9nID8gcmVjZWl2ZXIgOiBjb25zb2xlKS5sb2coYFJlc3BvbnNlIG5vdCBzZW50IGZvciAke21zZ1xuICAgICAgICAgIH0gZnJvbSAke3NvdXJjZX0gYWZ0ZXIgJHsoKERhdGUubm93KCkgLSBzdGFydF90aW1lKSAvIDEwMDApLnRvRml4ZWQoMSl9c2ApO1xuICAgICAgICB9XG4gICAgICB9LCAxNSoxMDAwKTtcbiAgICB9XG4gIH1cbn1cbiIsImNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG4vLyBWYXJpb3VzIGFzeW5jIGZ1bmN0aW9uc1xuXG4vLyBEbyAqbm90KiBuZXh0VGljayB1cG9uIGVtcHR5IHJlcXVlc3QsIHRoaXMgY2F1c2VzIGRpZmZlcmVudCBiZWhhdmlvciB3aGVuIGVtcHR5IVxuLy8gbGV0IG5leHRUaWNrID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID9cbi8vICAgcHJvY2Vzcy5uZXh0VGljayA6XG4vLyAgIHdpbmRvdy5zZXRJbW1lZGlhdGUgPyB3aW5kb3cuc2V0SW1tZWRpYXRlIDogKGZuKSA9PiBzZXRUaW1lb3V0KGZuLCAxKTtcblxuLy8gRGVyaXZlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9odWdoc2svYXN5bmMtc2VyaWVzIC0gTUlUIExpY2Vuc2VkXG5mdW5jdGlvbiBzZXJpZXMoYXJyLCBkb25lKSB7XG4gIGxldCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gIGlmICghbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHZvaWQgZG9uZSgpOyAvLyB2b2lkIG5leHRUaWNrKGRvbmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSXRlbShpZHgpIHtcbiAgICBhcnJbaWR4XShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycik7XG4gICAgICB9XG4gICAgICBpZiAoaWR4IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgICByZXR1cm4gaGFuZGxlSXRlbShpZHggKyAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVJdGVtKDApO1xufVxuZXhwb3J0cy5zZXJpZXMgPSBzZXJpZXM7XG5cbi8vIE9yaWdpbmFsbHkgZGVyaXZlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvcnVuLXBhcmFsbGVsLWxpbWl0IC0gTUlUIGxpY2Vuc2VkXG5mdW5jdGlvbiBlYWNoTGltaXQoYXJyLCBsaW1pdCwgcHJvYywgZG9uZSkge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIGxpbWl0LCAnbnVtYmVyJyk7XG4gIGFzc2VydChBcnJheS5pc0FycmF5KGFycikpO1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHByb2MsICdmdW5jdGlvbicpO1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIGRvbmUsICdmdW5jdGlvbicpO1xuICBsZXQgbGVuID0gYXJyLmxlbmd0aDtcbiAgbGV0IHBlbmRpbmcgPSBsZW47XG4gIGxldCBpc19lcnJvcmVkO1xuXG4gIGxldCBuZXh0O1xuICBsZXQgcmVzdWx0cyA9IFtdO1xuICBmdW5jdGlvbiBkb05leHQoaWR4LCBlcnIsIHJlc3VsdCkge1xuICAgIHJlc3VsdHNbaWR4XSA9IHJlc3VsdDtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpc19lcnJvcmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKC0tcGVuZGluZyA9PT0gMCB8fCBlcnIpIHtcbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGRvbmUoZXJyLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICAgIGRvbmUgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoIWlzX2Vycm9yZWQgJiYgbmV4dCA8IGxlbikge1xuICAgICAgbGV0IGtleSA9IG5leHQrKztcbiAgICAgIHByb2MoYXJyW2tleV0sIGRvTmV4dC5iaW5kKG51bGwsIGtleSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghcGVuZGluZykge1xuICAgIC8vIGVtcHR5XG4gICAgcmV0dXJuIHZvaWQgZG9uZShudWxsLCByZXN1bHRzKTsgLy8gdm9pZCBuZXh0VGljayhkb25lLmJpbmQobnVsbCwgbnVsbCwgcmVzdWx0cykpO1xuICB9XG4gIG5leHQgPSBsaW1pdDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyci5sZW5ndGggJiYgaWkgPCBsaW1pdDsgKytpaSkge1xuICAgIHByb2MoYXJyW2lpXSwgZG9OZXh0LmJpbmQobnVsbCwgaWkpKTtcbiAgfVxufVxuZXhwb3J0cy5lYWNoTGltaXQgPSBlYWNoTGltaXQ7XG5cbmZ1bmN0aW9uIGVhY2goYXJyLCBwcm9jLCBkb25lKSB7XG4gIGVhY2hMaW1pdChhcnIsIEluZmluaXR5LCBwcm9jLCBkb25lKTtcbn1cbmV4cG9ydHMuZWFjaCA9IGVhY2g7XG5cbmZ1bmN0aW9uIHBhcmFsbGVsTGltaXQodGFza3MsIGxpbWl0LCBkb25lKSB7XG4gIGVhY2hMaW1pdCh0YXNrcywgbGltaXQsIGZ1bmN0aW9uICh0YXNrLCBuZXh0KSB7XG4gICAgdGFzayhuZXh0KTtcbiAgfSwgZG9uZSk7XG59XG5leHBvcnRzLnBhcmFsbGVsTGltaXQgPSBwYXJhbGxlbExpbWl0O1xuXG5mdW5jdGlvbiBwYXJhbGxlbCh0YXNrcywgZG9uZSkge1xuICBwYXJhbGxlbExpbWl0KHRhc2tzLCBJbmZpbml0eSwgZG9uZSk7XG59XG5leHBvcnRzLnBhcmFsbGVsID0gcGFyYWxsZWw7XG5cbmZ1bmN0aW9uIGxpbWl0ZXIobWF4X3BhcmFsbGVsKSB7XG4gIGxldCBhdmFpbCA9IG1heF9wYXJhbGxlbDtcbiAgbGV0IGhlYWQgPSBudWxsO1xuICBsZXQgdGFpbCA9IG51bGw7XG4gIGZ1bmN0aW9uIG9uRmluaXNoKCkge1xuICAgIGlmICghaGVhZCkge1xuICAgICAgKythdmFpbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5leHQgPSBoZWFkO1xuICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgaWYgKCFoZWFkKSB7XG4gICAgICB0YWlsID0gbnVsbDtcbiAgICB9XG4gICAgbmV4dChvbkZpbmlzaCk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGxpbWl0ZXJSdW4oZXhlYykge1xuICAgIGlmICghYXZhaWwpIHtcbiAgICAgIGlmICghaGVhZCkge1xuICAgICAgICBoZWFkID0gdGFpbCA9IGV4ZWM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWlsLm5leHQgPSBleGVjO1xuICAgICAgICB0YWlsID0gZXhlYztcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLS1hdmFpbDtcbiAgICBleGVjKG9uRmluaXNoKTtcbiAgfTtcbn1cbmV4cG9ydHMubGltaXRlciA9IGxpbWl0ZXI7XG5cbk9iamVjdC5rZXlzKGV4cG9ydHMpLmZvckVhY2goKGtleSkgPT4ge1xuICBleHBvcnRzW2Bhc3luYyR7a2V5WzBdLnRvVXBwZXJDYXNlKCl9JHtrZXkuc2xpY2UoMSl9YF0gPSBleHBvcnRzW2tleV07XG59KTtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgbm8tYml0d2lzZTpvZmYgKi9cbi8qIGdsb2JhbHMgYXRvYiAqL1xuXG4vLyBFbmNvZGluZyBpcyBmYXN0ZXN0IHdpdGggbm9uLW5hdGl2ZSBjYWxsczogaHR0cDovL2pzcGVyZi5jb20vYmFzZTY0LWVuY29kZVxuLy8gRGVjb2RpbmcgaXMgZmFzdGVzdCB1c2luZyB3aW5kb3cuYnRvYTogaHR0cDovL2pzcGVyZi5jb20vYmFzZTY0LWRlY29kZVxuXG5jb25zdCB7IGZsb29yIH0gPSBNYXRoO1xuXG5jb25zdCBjaHJfdGFibGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycuc3BsaXQoJycpO1xuY29uc3QgUEFEID0gJz0nO1xuXG4vLyBkdiBpcyBhIERhdGFWaWV3IHdpdGggYSAudTggcHJvcGVydHlcbmZ1bmN0aW9uIGVuY29kZShkdiwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgbGV0IGRhdGEgPSBkdi51ODtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBsZXQgaTtcbiAgbGV0IGVmZmk7XG4gIC8vIENvbnZlcnQgZXZlcnkgdGhyZWUgYnl0ZXMgdG8gNCBhc2NpaSBjaGFyYWN0ZXJzLlxuICBmb3IgKGkgPSAwOyBpIDwgKGxlbmd0aCAtIDIpOyBpICs9IDMpIHtcbiAgICBlZmZpID0gb2Zmc2V0ICsgaTtcbiAgICByZXN1bHQgKz0gY2hyX3RhYmxlW2RhdGFbZWZmaV0gPj4gMl07XG4gICAgcmVzdWx0ICs9IGNocl90YWJsZVsoKGRhdGFbZWZmaV0gJiAweDAzKSA8PCA0KSArIChkYXRhW2VmZmkgKyAxXSA+PiA0KV07XG4gICAgcmVzdWx0ICs9IGNocl90YWJsZVsoKGRhdGFbZWZmaSArIDFdICYgMHgwZikgPDwgMikgKyAoZGF0YVtlZmZpICsgMl0gPj4gNildO1xuICAgIHJlc3VsdCArPSBjaHJfdGFibGVbZGF0YVtlZmZpICsgMl0gJiAweDNmXTtcbiAgfVxuXG4gIC8vIENvbnZlcnQgdGhlIHJlbWFpbmluZyAxIG9yIDIgYnl0ZXMsIHBhZCBvdXQgdG8gNCBjaGFyYWN0ZXJzLlxuICBpZiAobGVuZ3RoICUgMykge1xuICAgIGkgPSBsZW5ndGggLSAobGVuZ3RoICUgMyk7XG4gICAgZWZmaSA9IG9mZnNldCArIGk7XG4gICAgcmVzdWx0ICs9IGNocl90YWJsZVtkYXRhW2VmZmldID4+IDJdO1xuICAgIGlmICgobGVuZ3RoICUgMykgPT09IDIpIHtcbiAgICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKChkYXRhW2VmZmldICYgMHgwMykgPDwgNCkgKyAoZGF0YVtlZmZpICsgMV0gPj4gNCldO1xuICAgICAgcmVzdWx0ICs9IGNocl90YWJsZVsoZGF0YVtlZmZpICsgMV0gJiAweDBmKSA8PCAyXTtcbiAgICAgIHJlc3VsdCArPSBQQUQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCArPSBjaHJfdGFibGVbKGRhdGFbZWZmaV0gJiAweDAzKSA8PCA0XTtcbiAgICAgIHJlc3VsdCArPSBQQUQgKyBQQUQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZGVjb2RlTmF0aXZlQnJvd3NlcihkYXRhLCBhbGxvY2F0b3IpIHtcbiAgbGV0IHN0ciA9IGF0b2IoZGF0YSk7XG4gIGxldCBsZW4gPSBzdHIubGVuZ3RoO1xuICBsZXQgZHYgPSBhbGxvY2F0b3IobGVuKTtcbiAgbGV0IHU4ID0gZHYudTg7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW47ICsraWkpIHtcbiAgICB1OFtpaV0gPSBzdHIuY2hhckNvZGVBdChpaSk7XG4gIH1cbiAgZHYuZGVjb2RlX3NpemUgPSBsZW47XG4gIHJldHVybiBkdjtcbn1cblxuZnVuY3Rpb24gZW5jb2RlTmF0aXZlTm9kZShkdiwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgLy8gQWxsb2NhdGVzIGEgQnVmZmVyKCkgb2JqZWN0IGVhY2ggdGltZSAtIGNvdWxkIGhhdmUgb3VyIGFsbG9jRGF0YVZpZXcgZG8gdGhhdCBpZiBuZWVkZWQgZm9yIHBlcmZcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGR2LmJ1ZmZlcikudG9TdHJpbmcoJ2Jhc2U2NCcsIG9mZnNldCwgb2Zmc2V0ICsgbGVuZ3RoKTtcbn1cbi8vIEZhc3RlciwgYnV0IHVzZXMgYW4gaW50ZXJuYWwgZnVuY3Rpb24gdGhhdCBtaWdodCBicmVhazpcbi8vIGZ1bmN0aW9uIGVuY29kZU5hdGl2ZU5vZGUoZHYsIG9mZnNldCwgbGVuZ3RoKSB7XG4vLyAgIHJldHVybiBCdWZmZXIucHJvdG90eXBlLmJhc2U2NFNsaWNlLmNhbGwoZHYudTgsIG9mZnNldCwgb2Zmc2V0ICsgbGVuZ3RoKTtcbi8vIH1cblxuZnVuY3Rpb24gZGVjb2RlTmF0aXZlTm9kZShkYXRhLCBhbGxvY2F0b3IpIHtcbiAgbGV0IGJ1ZmZlcl9sZW4gPSAoZGF0YS5sZW5ndGggPj4gMikgKiAzICsgZmxvb3IoKGRhdGEubGVuZ3RoICUgNCkgLyAxLjUpO1xuICBsZXQgZHYgPSBhbGxvY2F0b3IoYnVmZmVyX2xlbik7XG4gIGxldCBidWZmZXIgPSBCdWZmZXIuZnJvbShkdi5idWZmZXIpO1xuICBkdi5kZWNvZGVfc2l6ZSA9IGJ1ZmZlci53cml0ZShkYXRhLCAnYmFzZTY0Jyk7XG4gIHJldHVybiBkdjtcbn1cblxuY29uc3QgQlJPV1NFUiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBzdHJpbmcgLT4gVWludDhBcnJheSBvciBCdWZmZXJcbmV4cG9ydHMuYmFzZTY0RGVjb2RlID0gQlJPV1NFUiA/IGRlY29kZU5hdGl2ZUJyb3dzZXIgOiBkZWNvZGVOYXRpdmVOb2RlO1xuLy8gVWludDhBcnJheSBvciBCdWZmZXIgLT4gc3RyaW5nXG5leHBvcnRzLmJhc2U2NEVuY29kZSA9IEJST1dTRVIgPyBlbmNvZGUgOiBlbmNvZGVOYXRpdmVOb2RlO1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGlzSW50ZWdlciB9ID0gcmVxdWlyZSgnLi91dGlsLmpzJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5vbmljYWwoY21kKSB7XG4gIHJldHVybiBjbWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXy5dL2csICcnKTtcbn1cblxuZXhwb3J0IGNvbnN0IFRZUEVfSU5UID0gMDtcbmV4cG9ydCBjb25zdCBUWVBFX0ZMT0FUID0gMTtcbmV4cG9ydCBjb25zdCBUWVBFX1NUUklORyA9IDI7XG5jb25zdCBUWVBFX05BTUUgPSBbJ0lOVEVHRVInLCAnTlVNQkVSJywgJ1NUUklORyddO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEhhbmRsZXIoZXJyLCByZXNwKSB7XG4gIGlmIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVyciwgcmVzcCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5pbmZvKHJlc3ApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrQWNjZXNzKGFjY2VzcywgbGlzdCkge1xuICBpZiAobGlzdCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBsaXN0Lmxlbmd0aDsgKytpaSkge1xuICAgICAgaWYgKCFhY2Nlc3MgfHwgIWFjY2Vzc1tsaXN0W2lpXV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gQ21kUGFyc2UocGFyYW1zKSB7XG4gIHRoaXMuY21kcyA9IHt9O1xuICB0aGlzLmNtZHNfZm9yX2NvbXBsZXRlID0gdGhpcy5jbWRzO1xuICB0aGlzLndhc19ub3RfZm91bmQgPSBmYWxzZTtcbiAgdGhpcy5zdG9yYWdlID0gcGFyYW1zICYmIHBhcmFtcy5zdG9yYWdlOyAvLyBleHBlY3RzIC5zZXRKU09OKCksIC5nZXRKU09OKClcbiAgdGhpcy5kZWZhdWx0X2hhbmRsZXIgPSBkZWZhdWx0SGFuZGxlcjtcbiAgdGhpcy5yZWdpc3Rlcih7XG4gICAgY21kOiAnY21kX2xpc3QnLFxuICAgIGZ1bmM6IHRoaXMuY21kTGlzdC5iaW5kKHRoaXMpLFxuICAgIGFjY2Vzc19zaG93OiBbJ2hpZGRlbiddLFxuICB9KTtcbn1cbkNtZFBhcnNlLnByb3RvdHlwZS5jbWRMaXN0ID0gZnVuY3Rpb24gKHN0ciwgcmVzcF9mdW5jKSB7XG4gIGlmICghdGhpcy5jbWRfbGlzdCkge1xuICAgIGxldCBsaXN0ID0gdGhpcy5jbWRfbGlzdCA9IHt9O1xuICAgIGZvciAobGV0IGNtZCBpbiB0aGlzLmNtZHMpIHtcbiAgICAgIGxldCBjbWRfZGF0YSA9IHRoaXMuY21kc1tjbWRdO1xuICAgICAgbGV0IGFjY2VzcyA9IFtdOyAvLyBjb21iaW5lIGZvciBkYXRhIGNvbXBhY3Rpb25cbiAgICAgIGlmIChjbWRfZGF0YS5hY2Nlc3Nfc2hvdykge1xuICAgICAgICBhY2Nlc3MgPSBhY2Nlc3MuY29uY2F0KGNtZF9kYXRhLmFjY2Vzc19zaG93KTtcbiAgICAgIH1cbiAgICAgIGlmIChjbWRfZGF0YS5hY2Nlc3NfcnVuKSB7XG4gICAgICAgIGFjY2VzcyA9IGFjY2Vzcy5jb25jYXQoY21kX2RhdGEuYWNjZXNzX3J1bik7XG4gICAgICB9XG4gICAgICBpZiAoYWNjZXNzLmluZGV4T2YoJ2hpZGRlbicpICE9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICBuYW1lOiBjbWRfZGF0YS5uYW1lLFxuICAgICAgICBoZWxwOiBjbWRfZGF0YS5oZWxwLFxuICAgICAgfTtcbiAgICAgIGlmIChjbWRfZGF0YS51c2FnZSkge1xuICAgICAgICBkYXRhLnVzYWdlID0gY21kX2RhdGEudXNhZ2U7XG4gICAgICB9XG4gICAgICBpZiAoYWNjZXNzLmxlbmd0aCkge1xuICAgICAgICBkYXRhLmFjY2Vzc19zaG93ID0gYWNjZXNzO1xuICAgICAgfVxuICAgICAgbGlzdFtjbWRdID0gZGF0YTtcbiAgICB9XG4gIH1cbiAgcmVzcF9mdW5jKG51bGwsIHRoaXMuY21kX2xpc3QpO1xufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLnNldERlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24gKGZuKSB7XG4gIGFzc2VydCh0aGlzLmRlZmF1bHRfaGFuZGxlciA9PT0gZGVmYXVsdEhhbmRsZXIpOyAvLyBTaG91bGQgb25seSBzZXQgdGhpcyBvbmNlXG4gIHRoaXMuZGVmYXVsdF9oYW5kbGVyID0gZm47XG59O1xuQ21kUGFyc2UucHJvdG90eXBlLmhhbmRsZSA9IGZ1bmN0aW9uIChzZWxmLCBzdHIsIHJlc3BfZnVuYykge1xuICByZXNwX2Z1bmMgPSByZXNwX2Z1bmMgfHwgdGhpcy5kZWZhdWx0X2hhbmRsZXI7XG4gIHRoaXMud2FzX25vdF9mb3VuZCA9IGZhbHNlO1xuICBsZXQgbSA9IHN0ci5tYXRjaCgvXihbXlxcc10rKSg/OlxccysoLiopKT8kLyk7XG4gIGlmICghbSkge1xuICAgIHJlc3BfZnVuYygnTWlzc2luZyBjb21tYW5kJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgbGV0IGNtZCA9IGNhbm9uaWNhbChtWzFdKTtcbiAgbGV0IGNtZF9kYXRhID0gdGhpcy5jbWRzW2NtZF07XG4gIGlmIChjbWRfZGF0YSAmJiAhY2hlY2tBY2Nlc3Moc2VsZiAmJiBzZWxmLmFjY2VzcywgY21kX2RhdGEuYWNjZXNzX3J1bikpIHtcbiAgICAvLyB0aGlzLndhc19ub3RfZm91bmQgPSB0cnVlO1xuICAgIHJlc3BfZnVuYyhgQWNjZXNzIGRlbmllZDogXCIke21bMV19XCJgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFjbWRfZGF0YSkge1xuICAgIHRoaXMud2FzX25vdF9mb3VuZCA9IHRydWU7XG4gICAgcmVzcF9mdW5jKGBVbmtub3duIGNvbW1hbmQ6IFwiJHttWzFdfVwiYCk7XG4gICAgdGhpcy53YXNfbm90X2ZvdW5kID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNtZF9kYXRhLmZuLmNhbGwoc2VsZiwgbVsyXSB8fCAnJywgcmVzcF9mdW5jKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5DbWRQYXJzZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiBwYXJhbSwgJ29iamVjdCcpO1xuICBsZXQgeyBjbWQsIGZ1bmMsIGhlbHAsIHVzYWdlLCBhY2Nlc3Nfc2hvdywgYWNjZXNzX3J1biB9ID0gcGFyYW07XG4gIGFzc2VydChjbWQgJiYgZnVuYyk7XG4gIHRoaXMuY21kc1tjYW5vbmljYWwoY21kKV0gPSB7XG4gICAgbmFtZTogY21kLFxuICAgIGZuOiBmdW5jLFxuICAgIGhlbHA6IGhlbHAgfHwgJycsXG4gICAgdXNhZ2U6IHVzYWdlIHx8IHVuZGVmaW5lZCxcbiAgICBhY2Nlc3Nfc2hvdyxcbiAgICBhY2Nlc3NfcnVuLFxuICB9O1xufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLnJlZ2lzdGVyVmFsdWUgPSBmdW5jdGlvbiAoY21kLCBwYXJhbSkge1xuICBhc3NlcnQoVFlQRV9OQU1FW3BhcmFtLnR5cGVdIHx8ICFwYXJhbS5zZXQpO1xuICBhc3NlcnQocGFyYW0uc2V0IHx8IHBhcmFtLmdldCk7XG4gIGxldCBsYWJlbCA9IHBhcmFtLmxhYmVsIHx8IGNtZDtcbiAgbGV0IHN0b3JlID0gcGFyYW0uc3RvcmUgJiYgdGhpcy5zdG9yYWdlIHx8IGZhbHNlO1xuICBsZXQgc3RvcmVfa2V5ID0gYGNtZF9wYXJzZV8ke2Nhbm9uaWNhbChjbWQpfWA7XG4gIGlmIChwYXJhbS52ZXIpIHtcbiAgICBzdG9yZV9rZXkgKz0gYF8ke3BhcmFtLnZlcn1gO1xuICB9XG4gIGlmIChzdG9yZSkge1xuICAgIGFzc2VydChwYXJhbS5zZXQpO1xuICAgIGxldCBpbml0X3ZhbHVlID0gdGhpcy5zdG9yYWdlLmdldEpTT04oc3RvcmVfa2V5KTtcbiAgICBpZiAoaW5pdF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBlbmZvcmNlIHN0b3JlZCB2YWx1ZXMgd2l0aGluIGN1cnJlbnQgcmFuZ2VcbiAgICAgIGlmIChwYXJhbS5yYW5nZSkge1xuICAgICAgICBpbml0X3ZhbHVlID0gTnVtYmVyKGluaXRfdmFsdWUpO1xuICAgICAgICBpZiAoIWlzRmluaXRlKGluaXRfdmFsdWUpIHx8IGluaXRfdmFsdWUgPCBwYXJhbS5yYW5nZVswXSB8fCBpbml0X3ZhbHVlID4gcGFyYW0ucmFuZ2VbMV0pIHtcbiAgICAgICAgICBpbml0X3ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5pdF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBhcmFtLnNldChpbml0X3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGZuID0gKHN0ciwgcmVzcF9mdW5jKSA9PiB7XG4gICAgZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICByZXNwX2Z1bmMobnVsbCwgYCR7bGFiZWx9ID0gJHtwYXJhbS5nZXQoKX1gKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNhZ2UoKSB7XG4gICAgICByZXNwX2Z1bmMoYFVzYWdlOiAvJHtjbWR9ICR7VFlQRV9OQU1FW3BhcmFtLnR5cGVdfWApO1xuICAgIH1cbiAgICBpZiAoIXN0cikge1xuICAgICAgaWYgKHBhcmFtLmdldCkge1xuICAgICAgICByZXR1cm4gdmFsdWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1c2FnZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXBhcmFtLnNldCkge1xuICAgICAgcmV0dXJuIHJlc3BfZnVuYyhgVXNhZ2U6IC8ke2NtZH1gKTtcbiAgICB9XG4gICAgbGV0IG4gPSBOdW1iZXIoc3RyKTtcbiAgICBpZiAocGFyYW0ucmFuZ2UpIHtcbiAgICAgIGlmIChuIDwgcGFyYW0ucmFuZ2VbMF0pIHtcbiAgICAgICAgbiA9IHBhcmFtLnJhbmdlWzBdO1xuICAgICAgfSBlbHNlIGlmIChuID4gcGFyYW0ucmFuZ2VbMV0pIHtcbiAgICAgICAgbiA9IHBhcmFtLnJhbmdlWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RvcmVfdmFsdWUgPSBuO1xuICAgIGlmIChwYXJhbS50eXBlID09PSBUWVBFX0lOVCkge1xuICAgICAgaWYgKCFpc0ludGVnZXIobikpIHtcbiAgICAgICAgcmV0dXJuIHVzYWdlKCk7XG4gICAgICB9XG4gICAgICBwYXJhbS5zZXQobik7XG4gICAgfSBlbHNlIGlmIChwYXJhbS50eXBlID09PSBUWVBFX0ZMT0FUKSB7XG4gICAgICBpZiAoIWlzRmluaXRlKG4pKSB7XG4gICAgICAgIHJldHVybiB1c2FnZSgpO1xuICAgICAgfVxuICAgICAgcGFyYW0uc2V0KG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZV92YWx1ZSA9IHN0cjtcbiAgICAgIHBhcmFtLnNldChzdHIpO1xuICAgIH1cbiAgICBpZiAoc3RvcmUpIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5zZXRKU09OKHN0b3JlX2tleSwgc3RvcmVfdmFsdWUpO1xuICAgIH1cbiAgICBpZiAocGFyYW0ub25fY2hhbmdlKSB7XG4gICAgICBwYXJhbS5vbl9jaGFuZ2UoKTtcbiAgICB9XG4gICAgaWYgKHBhcmFtLmdldCkge1xuICAgICAgcmV0dXJuIHZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNwX2Z1bmMobnVsbCwgYCR7bGFiZWx9IHVkcGF0ZWRgKTtcbiAgICB9XG4gIH07XG4gIHRoaXMucmVnaXN0ZXIoe1xuICAgIGNtZCxcbiAgICBmdW5jOiBmbixcbiAgICBoZWxwOiBwYXJhbS5oZWxwIHx8ICgocGFyYW0uZ2V0ICYmIHBhcmFtLnNldCkgP1xuICAgICAgYFNldCBvciBkaXNwbGF5IFwiJHtsYWJlbH1cIiB2YWx1ZWAgOlxuICAgICAgcGFyYW0uc2V0ID8gYFNldCBcIiR7bGFiZWx9XCIgdmFsdWVgIDogYERpc3BsYXkgXCIke2xhYmVsfVwiIHZhbHVlYCksXG4gICAgdXNhZ2U6IHBhcmFtLnVzYWdlIHx8ICgocGFyYW0uZ2V0ID8gYERpc3BsYXkgXCIke2xhYmVsfVwiIHZhbHVlXFxuICBVc2FnZTogLyR7Y21kfVxcbmAgOiAnJykgK1xuICAgICAgKHBhcmFtLnNldCA/IGBTZXQgXCIke2xhYmVsfVwiIHZhbHVlXFxuICBVc2FnZTogLyR7Y21kfSBOZXdWYWx1ZWAgOiAnJykpLFxuICAgIGFjY2Vzc19zaG93OiBwYXJhbS5hY2Nlc3Nfc2hvdyxcbiAgICBhY2Nlc3NfcnVuOiBwYXJhbS5hY2Nlc3NfcnVuLFxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGNtcENtZChhLCBiKSB7XG4gIGlmIChhLmNuYW1lIDwgYi5jbmFtZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gMTtcbn1cblxuLy8gZm9yIGF1dG8tY29tcGxldGVcbkNtZFBhcnNlLnByb3RvdHlwZS5hZGRTZXJ2ZXJDb21tYW5kcyA9IGZ1bmN0aW9uIChuZXdfY21kcykge1xuICBsZXQgY21kcyA9IHRoaXMuY21kc19mb3JfY29tcGxldGU7XG4gIGlmICh0aGlzLmNtZHNfZm9yX2NvbXBsZXRlID09PSB0aGlzLmNtZHMpIHtcbiAgICBjbWRzID0gdGhpcy5jbWRzX2Zvcl9jb21wbGV0ZSA9IHt9O1xuICAgIGZvciAobGV0IGNuYW1lIGluIHRoaXMuY21kcykge1xuICAgICAgY21kc1tjbmFtZV0gPSB0aGlzLmNtZHNbY25hbWVdO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCBjbmFtZSBpbiBuZXdfY21kcykge1xuICAgIGlmICghY21kc1tjbmFtZV0pIHtcbiAgICAgIGNtZHNbY25hbWVdID0gbmV3X2NtZHNbY25hbWVdO1xuICAgIH1cbiAgfVxufTtcblxuQ21kUGFyc2UucHJvdG90eXBlLmF1dG9Db21wbGV0ZSA9IGZ1bmN0aW9uIChzdHIsIGFjY2Vzcykge1xuICBsZXQgbGlzdCA9IFtdO1xuICBzdHIgPSBzdHIuc3BsaXQoJyAnKTtcbiAgbGV0IGZpcnN0X3RvayA9IGNhbm9uaWNhbChzdHJbMF0pO1xuICBmb3IgKGxldCBjbmFtZSBpbiB0aGlzLmNtZHNfZm9yX2NvbXBsZXRlKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDEgJiYgY25hbWUuc2xpY2UoMCwgZmlyc3RfdG9rLmxlbmd0aCkgPT09IGZpcnN0X3RvayB8fFxuICAgICAgc3RyLmxlbmd0aCA+IDEgJiYgY25hbWUgPT09IGZpcnN0X3Rva1xuICAgICkge1xuICAgICAgbGV0IGNtZF9kYXRhID0gdGhpcy5jbWRzX2Zvcl9jb21wbGV0ZVtjbmFtZV07XG4gICAgICBpZiAoY2hlY2tBY2Nlc3MoYWNjZXNzLCBjbWRfZGF0YS5hY2Nlc3Nfc2hvdykgJiYgY2hlY2tBY2Nlc3MoYWNjZXNzLCBjbWRfZGF0YS5hY2Nlc3NfcnVuKSkge1xuICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgIGNuYW1lLFxuICAgICAgICAgIGNtZDogY21kX2RhdGEubmFtZSxcbiAgICAgICAgICBoZWxwOiBjbWRfZGF0YS5oZWxwLFxuICAgICAgICAgIHVzYWdlOiBjbWRfZGF0YS51c2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxpc3Quc29ydChjbXBDbWQpO1xuICByZXR1cm4gbGlzdDsgLy8gLnNsaWNlKDAsIDIwKTsgTWF5YmU/XG59O1xuXG5DbWRQYXJzZS5wcm90b3R5cGUuY2Fub25pY2FsID0gY2Fub25pY2FsO1xuXG5DbWRQYXJzZS5wcm90b3R5cGUuVFlQRV9JTlQgPSBUWVBFX0lOVDtcbkNtZFBhcnNlLnByb3RvdHlwZS5UWVBFX0ZMT0FUID0gVFlQRV9GTE9BVDtcbkNtZFBhcnNlLnByb3RvdHlwZS5UWVBFX1NUUklORyA9IFRZUEVfU1RSSU5HO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xuICByZXR1cm4gbmV3IENtZFBhcnNlKHBhcmFtcyk7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5leHBvcnQgbGV0IEZSSUVORF9BRERFRCA9IDE7XG5leHBvcnQgbGV0IEZSSUVORF9BRERFRF9BVVRPID0gMjtcbmV4cG9ydCBsZXQgRlJJRU5EX1JFTU9WRUQgPSAzO1xuXG5leHBvcnQgbGV0IFBSRVNFTkNFX09GRkxJTkUgPSAwOyAvLyBmb3IgaW52aXNpYmxlLCBldGNcbmV4cG9ydCBsZXQgUFJFU0VOQ0VfQUNUSVZFID0gMTtcbmV4cG9ydCBsZXQgUFJFU0VOQ0VfSU5BQ1RJVkUgPSAyO1xuIiwiLyoqXG4gKlxuICogIE1ENSAoTWVzc2FnZS1EaWdlc3QgQWxnb3JpdGhtKVxuICogIGh0dHA6Ly93d3cud2VidG9vbGtpdC5pbmZvL1xuICpcbiAqIE1vZGlmaWVkIGJ5IHJhaWxHdW4gdG8gaGFuZGxlIG5vZGUuanMgQnVmZmVyIG9iamVjdHNcbiAqXG4gKiovXG5cbi8qIGVzbGludCBuby1iaXR3aXNlOm9mZiwgbmV3LWNhcDpvZmYqL1xuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5cbmZ1bmN0aW9uIHN0cmluZ1V0ZjhFbmNvZGUoc3RyKSB7XG4gIGxldCBjO1xuICBsZXQgbjtcbiAgbGV0IHV0ZnRleHQgPSBbXTtcbiAgc3RyID0gc3RyLnJlcGxhY2UoL1xcclxcbi9nLCAnXFxuJyk7XG4gIGZvciAobiA9IDA7IG4gPCBzdHIubGVuZ3RoOyArK24pIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQobik7XG4gICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgIHV0ZnRleHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKTtcbiAgICB9IGVsc2UgaWYgKChjID4gMTI3KSAmJiAoYyA8IDIwNDgpKSB7XG4gICAgICB1dGZ0ZXh0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoYyA+PiA2KSB8IDE5MikpO1xuICAgICAgdXRmdGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiA2MykgfCAxMjgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXRmdGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgPj4gMTIpIHwgMjI0KSk7XG4gICAgICB1dGZ0ZXh0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgPj4gNikgJiA2MykgfCAxMjgpKTtcbiAgICAgIHV0ZnRleHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgNjMpIHwgMTI4KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB1dGZ0ZXh0LmpvaW4oJycpO1xufVxuXG5cbmZ1bmN0aW9uIHJvdGF0ZUxlZnQobFZhbHVlLCBpU2hpZnRCaXRzKSB7XG4gIHJldHVybiAobFZhbHVlPDxpU2hpZnRCaXRzKSB8IChsVmFsdWU+Pj4oMzItaVNoaWZ0Qml0cykpO1xufVxuXG5mdW5jdGlvbiBhZGRVbnNpZ25lZChsWCxsWSkge1xuICBsZXQgbFg4ID0gKGxYICYgMHg4MDAwMDAwMCk7XG4gIGxldCBsWTggPSAobFkgJiAweDgwMDAwMDAwKTtcbiAgbGV0IGxYNCA9IChsWCAmIDB4NDAwMDAwMDApO1xuICBsZXQgbFk0ID0gKGxZICYgMHg0MDAwMDAwMCk7XG4gIGxldCBsUmVzdWx0ID0gKGxYICYgMHgzRkZGRkZGRikrKGxZICYgMHgzRkZGRkZGRik7XG4gIGlmIChsWDQgJiBsWTQpIHtcbiAgICByZXR1cm4gKGxSZXN1bHQgXiAweDgwMDAwMDAwIF4gbFg4IF4gbFk4KTtcbiAgfVxuICBpZiAobFg0IHwgbFk0KSB7XG4gICAgaWYgKGxSZXN1bHQgJiAweDQwMDAwMDAwKSB7XG4gICAgICByZXR1cm4gKGxSZXN1bHQgXiAweEMwMDAwMDAwIF4gbFg4IF4gbFk4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChsUmVzdWx0IF4gMHg0MDAwMDAwMCBeIGxYOCBeIGxZOCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAobFJlc3VsdCBeIGxYOCBeIGxZOCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gRih4LHkseikge1xuICByZXR1cm4gKHggJiB5KSB8ICgofngpICYgeik7XG59XG5mdW5jdGlvbiBHKHgseSx6KSB7XG4gIHJldHVybiAoeCAmIHopIHwgKHkgJiAofnopKTtcbn1cbmZ1bmN0aW9uIEgoeCx5LHopIHtcbiAgcmV0dXJuICh4IF4geSBeIHopO1xufVxuZnVuY3Rpb24gSSh4LHkseikge1xuICByZXR1cm4gKHkgXiAoeCB8ICh+eikpKTtcbn1cblxuZnVuY3Rpb24gRkYoYSxiLGMsZCx4LHMsYWMpIHtcbiAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEYoYiwgYywgZCksIHgpLCBhYykpO1xuICByZXR1cm4gYWRkVW5zaWduZWQocm90YXRlTGVmdChhLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIEdHKGEsYixjLGQseCxzLGFjKSB7XG4gIGEgPSBhZGRVbnNpZ25lZChhLCBhZGRVbnNpZ25lZChhZGRVbnNpZ25lZChHKGIsIGMsIGQpLCB4KSwgYWMpKTtcbiAgcmV0dXJuIGFkZFVuc2lnbmVkKHJvdGF0ZUxlZnQoYSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBISChhLGIsYyxkLHgscyxhYykge1xuICBhID0gYWRkVW5zaWduZWQoYSwgYWRkVW5zaWduZWQoYWRkVW5zaWduZWQoSChiLCBjLCBkKSwgeCksIGFjKSk7XG4gIHJldHVybiBhZGRVbnNpZ25lZChyb3RhdGVMZWZ0KGEsIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gSUkoYSxiLGMsZCx4LHMsYWMpIHtcbiAgYSA9IGFkZFVuc2lnbmVkKGEsIGFkZFVuc2lnbmVkKGFkZFVuc2lnbmVkKEkoYiwgYywgZCksIHgpLCBhYykpO1xuICByZXR1cm4gYWRkVW5zaWduZWQocm90YXRlTGVmdChhLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb1dvcmRBcnJheShzdHJpbmcpIHtcbiAgbGV0IGxXb3JkQ291bnQ7XG4gIGxldCBsTWVzc2FnZUxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gIGxldCBsTnVtYmVyT2ZXb3Jkc190ZW1wMT1sTWVzc2FnZUxlbmd0aCArIDg7XG4gIGxldCBsTnVtYmVyT2ZXb3Jkc190ZW1wMj1cbiAgICAobE51bWJlck9mV29yZHNfdGVtcDEtKGxOdW1iZXJPZldvcmRzX3RlbXAxICUgNjQpKS82NDtcbiAgbGV0IGxOdW1iZXJPZldvcmRzID0gKGxOdW1iZXJPZldvcmRzX3RlbXAyKzEpKjE2O1xuICBsZXQgbFdvcmRBcnJheT1uZXcgQXJyYXkobE51bWJlck9mV29yZHMtMSk7XG4gIGxldCBsQnl0ZVBvc2l0aW9uID0gMDtcbiAgbGV0IGxCeXRlQ291bnQgPSAwO1xuICB3aGlsZSAobEJ5dGVDb3VudCA8IGxNZXNzYWdlTGVuZ3RoKSB7XG4gICAgbFdvcmRDb3VudCA9IChsQnl0ZUNvdW50LShsQnl0ZUNvdW50ICUgNCkpLzQ7XG4gICAgbEJ5dGVQb3NpdGlvbiA9IChsQnl0ZUNvdW50ICUgNCkqODtcbiAgICBsV29yZEFycmF5W2xXb3JkQ291bnRdIHw9IHN0cmluZy5jaGFyQ29kZUF0KGxCeXRlQ291bnQpIDw8IGxCeXRlUG9zaXRpb247XG4gICAgbEJ5dGVDb3VudCsrO1xuICB9XG4gIGxXb3JkQ291bnQgPSAobEJ5dGVDb3VudC0obEJ5dGVDb3VudCAlIDQpKS80O1xuICBsQnl0ZVBvc2l0aW9uID0gKGxCeXRlQ291bnQgJSA0KSo4O1xuICBsV29yZEFycmF5W2xXb3JkQ291bnRdIHw9ICgweDgwPDxsQnl0ZVBvc2l0aW9uKTtcbiAgbFdvcmRBcnJheVtsTnVtYmVyT2ZXb3Jkcy0yXSA9IGxNZXNzYWdlTGVuZ3RoPDwzO1xuICBsV29yZEFycmF5W2xOdW1iZXJPZldvcmRzLTFdID0gbE1lc3NhZ2VMZW5ndGg+Pj4yOTtcbiAgcmV0dXJuIGxXb3JkQXJyYXk7XG59XG5cbi8vIGZ1bmN0aW9uIGNvbnZlcnRCeXRlQXJyYXl0b1dvcmRBcnJheShhcnIpIHtcbi8vICAgbGV0IGxXb3JkQ291bnQ7XG4vLyAgIGxldCBsTWVzc2FnZUxlbmd0aCA9IGFyci5sZW5ndGg7XG4vLyAgIGxldCBsTnVtYmVyT2ZXb3Jkc190ZW1wMSA9IGxNZXNzYWdlTGVuZ3RoICsgODtcbi8vICAgbGV0IGxOdW1iZXJPZldvcmRzX3RlbXAyID1cbi8vICAgICAobE51bWJlck9mV29yZHNfdGVtcDEgLSAobE51bWJlck9mV29yZHNfdGVtcDEgJSA2NCkpIC8gNjQ7XG4vLyAgIGxldCBsTnVtYmVyT2ZXb3JkcyA9IChsTnVtYmVyT2ZXb3Jkc190ZW1wMiArIDEpICogMTY7XG4vLyAgIGxldCBsV29yZEFycmF5ID0gbmV3IEFycmF5KGxOdW1iZXJPZldvcmRzIC0gMSk7XG4vLyAgIGxldCBsQnl0ZVBvc2l0aW9uID0gMDtcbi8vICAgbGV0IGxCeXRlQ291bnQgPSAwO1xuLy8gICB3aGlsZSAobEJ5dGVDb3VudCA8IGxNZXNzYWdlTGVuZ3RoKSB7XG4vLyAgICAgbFdvcmRDb3VudCA9IChsQnl0ZUNvdW50IC0gKGxCeXRlQ291bnQgJSA0KSkgLyA0O1xuLy8gICAgIGxCeXRlUG9zaXRpb24gPSAobEJ5dGVDb3VudCAlIDQpICogODtcbi8vICAgICBsV29yZEFycmF5W2xXb3JkQ291bnRdIHw9IGFycltsQnl0ZUNvdW50XSA8PCBsQnl0ZVBvc2l0aW9uO1xuLy8gICAgIGxCeXRlQ291bnQrKztcbi8vICAgfVxuLy8gICBsV29yZENvdW50ID0gKGxCeXRlQ291bnQgLSAobEJ5dGVDb3VudCAlIDQpKSAvIDQ7XG4vLyAgIGxCeXRlUG9zaXRpb24gPSAobEJ5dGVDb3VudCAlIDQpICogODtcbi8vICAgbFdvcmRBcnJheVtsV29yZENvdW50XSB8PSAweDgwIDw8IGxCeXRlUG9zaXRpb247XG4vLyAgIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMgLSAyXSA9IGxNZXNzYWdlTGVuZ3RoIDw8IDM7XG4vLyAgIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMgLSAxXSA9IGxNZXNzYWdlTGVuZ3RoID4+PiAyOTtcbi8vICAgcmV0dXJuIGxXb3JkQXJyYXk7XG4vLyB9XG5cbmZ1bmN0aW9uIHdvcmRUb0hleChsVmFsdWUpIHtcbiAgbGV0IHdvcmRUb0hleFZhbHVlPScnO1xuXG5cbiAgbGV0IHdvcmRUb0hleFZhbHVlX3RlbXA9Jyc7XG5cblxuICBsZXQgbEJ5dGU7XG4gIGxldCBsQ291bnQ7XG4gIGZvciAobENvdW50ID0gMDsgbENvdW50PD0zOyBsQ291bnQrKykge1xuICAgIGxCeXRlID0gKGxWYWx1ZT4+PihsQ291bnQqOCkpICYgMjU1O1xuICAgIHdvcmRUb0hleFZhbHVlX3RlbXAgPSBgMCR7bEJ5dGUudG9TdHJpbmcoMTYpfWA7XG4gICAgd29yZFRvSGV4VmFsdWUgKz1cbiAgICAgIHdvcmRUb0hleFZhbHVlX3RlbXAuc3Vic3RyKHdvcmRUb0hleFZhbHVlX3RlbXAubGVuZ3RoLTIsMik7XG4gIH1cbiAgcmV0dXJuIHdvcmRUb0hleFZhbHVlO1xufVxuXG4vLyBzdHJpbmcgY2FuIGVpdGhlciBiZSBhIHN0cmluZywgbm9kZS5qcyBCdWZmZXIsIGFycmF5IChvZiBudW1iZXJzIDwgMjU2KVxuLy8gb3IgYSB0eXBlZCBhcnJheVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZDUoc3RyaW5nKSB7XG4gIGxldCBBQTtcbiAgbGV0IEJCO1xuICBsZXQgQ0M7XG4gIGxldCBERDtcbiAgbGV0IGE7XG4gIGxldCBiO1xuICBsZXQgYztcbiAgbGV0IGQ7XG4gIGxldCBrO1xuICBsZXQgUzExPTc7XG4gIGxldCBTMTI9MTI7XG4gIGxldCBTMTM9MTc7XG4gIGxldCBTMTQ9MjI7XG4gIGxldCBTMjE9NTtcbiAgbGV0IFMyMj05O1xuICBsZXQgUzIzPTE0O1xuICBsZXQgUzI0PTIwO1xuICBsZXQgUzMxPTQ7XG4gIGxldCBTMzI9MTE7XG4gIGxldCBTMzM9MTY7XG4gIGxldCBTMzQ9MjM7XG4gIGxldCBTNDE9NjtcbiAgbGV0IFM0Mj0xMDtcbiAgbGV0IFM0Mz0xNTtcbiAgbGV0IFM0ND0yMTtcblxuICBsZXQgeDtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gc3RyaW5nVXRmOEVuY29kZShzdHJpbmcpO1xuICAgIHggPSBjb252ZXJ0VG9Xb3JkQXJyYXkoc3RyaW5nKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoZmFsc2UpOyAvLyBkaXNhYmxlIGR1ZSB0byBub3QgdXNlZFxuICAgIC8vIG5vZGUuanMgYnVmZmVyIG9yIEFycmF5XG4gICAgLy8geCA9IGNvbnZlcnRCeXRlQXJyYXl0b1dvcmRBcnJheShzdHJpbmcpO1xuICB9XG5cbiAgYSA9IDB4Njc0NTIzMDE7XG4gIGIgPSAweEVGQ0RBQjg5O1xuICBjID0gMHg5OEJBRENGRTtcbiAgZCA9IDB4MTAzMjU0NzY7XG5cbiAgZm9yIChrPTA7IGs8eC5sZW5ndGg7IGsrPTE2KSB7XG4gICAgQUE9YTtcbiAgICBCQj1iO1xuICAgIENDPWM7XG4gICAgREQ9ZDtcbiAgICBhPUZGKGEsYixjLGQseFtrXSwgUzExLDB4RDc2QUE0NzgpO1xuICAgIGQ9RkYoZCxhLGIsYyx4W2srMV0sIFMxMiwweEU4QzdCNzU2KTtcbiAgICBjPUZGKGMsZCxhLGIseFtrKzJdLCBTMTMsMHgyNDIwNzBEQik7XG4gICAgYj1GRihiLGMsZCxhLHhbayszXSwgUzE0LDB4QzFCRENFRUUpO1xuICAgIGE9RkYoYSxiLGMsZCx4W2srNF0sIFMxMSwweEY1N0MwRkFGKTtcbiAgICBkPUZGKGQsYSxiLGMseFtrKzVdLCBTMTIsMHg0Nzg3QzYyQSk7XG4gICAgYz1GRihjLGQsYSxiLHhbays2XSwgUzEzLDB4QTgzMDQ2MTMpO1xuICAgIGI9RkYoYixjLGQsYSx4W2srN10sIFMxNCwweEZENDY5NTAxKTtcbiAgICBhPUZGKGEsYixjLGQseFtrKzhdLCBTMTEsMHg2OTgwOThEOCk7XG4gICAgZD1GRihkLGEsYixjLHhbays5XSwgUzEyLDB4OEI0NEY3QUYpO1xuICAgIGM9RkYoYyxkLGEsYix4W2srMTBdLFMxMywweEZGRkY1QkIxKTtcbiAgICBiPUZGKGIsYyxkLGEseFtrKzExXSxTMTQsMHg4OTVDRDdCRSk7XG4gICAgYT1GRihhLGIsYyxkLHhbaysxMl0sUzExLDB4NkI5MDExMjIpO1xuICAgIGQ9RkYoZCxhLGIsYyx4W2srMTNdLFMxMiwweEZEOTg3MTkzKTtcbiAgICBjPUZGKGMsZCxhLGIseFtrKzE0XSxTMTMsMHhBNjc5NDM4RSk7XG4gICAgYj1GRihiLGMsZCxhLHhbaysxNV0sUzE0LDB4NDlCNDA4MjEpO1xuICAgIGE9R0coYSxiLGMsZCx4W2srMV0sIFMyMSwweEY2MUUyNTYyKTtcbiAgICBkPUdHKGQsYSxiLGMseFtrKzZdLCBTMjIsMHhDMDQwQjM0MCk7XG4gICAgYz1HRyhjLGQsYSxiLHhbaysxMV0sUzIzLDB4MjY1RTVBNTEpO1xuICAgIGI9R0coYixjLGQsYSx4W2tdLCBTMjQsMHhFOUI2QzdBQSk7XG4gICAgYT1HRyhhLGIsYyxkLHhbays1XSwgUzIxLDB4RDYyRjEwNUQpO1xuICAgIGQ9R0coZCxhLGIsYyx4W2srMTBdLFMyMiwweDI0NDE0NTMpO1xuICAgIGM9R0coYyxkLGEsYix4W2srMTVdLFMyMywweEQ4QTFFNjgxKTtcbiAgICBiPUdHKGIsYyxkLGEseFtrKzRdLCBTMjQsMHhFN0QzRkJDOCk7XG4gICAgYT1HRyhhLGIsYyxkLHhbays5XSwgUzIxLDB4MjFFMUNERTYpO1xuICAgIGQ9R0coZCxhLGIsYyx4W2srMTRdLFMyMiwweEMzMzcwN0Q2KTtcbiAgICBjPUdHKGMsZCxhLGIseFtrKzNdLCBTMjMsMHhGNEQ1MEQ4Nyk7XG4gICAgYj1HRyhiLGMsZCxhLHhbays4XSwgUzI0LDB4NDU1QTE0RUQpO1xuICAgIGE9R0coYSxiLGMsZCx4W2srMTNdLFMyMSwweEE5RTNFOTA1KTtcbiAgICBkPUdHKGQsYSxiLGMseFtrKzJdLCBTMjIsMHhGQ0VGQTNGOCk7XG4gICAgYz1HRyhjLGQsYSxiLHhbays3XSwgUzIzLDB4Njc2RjAyRDkpO1xuICAgIGI9R0coYixjLGQsYSx4W2srMTJdLFMyNCwweDhEMkE0QzhBKTtcbiAgICBhPUhIKGEsYixjLGQseFtrKzVdLCBTMzEsMHhGRkZBMzk0Mik7XG4gICAgZD1ISChkLGEsYixjLHhbays4XSwgUzMyLDB4ODc3MUY2ODEpO1xuICAgIGM9SEgoYyxkLGEsYix4W2srMTFdLFMzMywweDZEOUQ2MTIyKTtcbiAgICBiPUhIKGIsYyxkLGEseFtrKzE0XSxTMzQsMHhGREU1MzgwQyk7XG4gICAgYT1ISChhLGIsYyxkLHhbaysxXSwgUzMxLDB4QTRCRUVBNDQpO1xuICAgIGQ9SEgoZCxhLGIsYyx4W2srNF0sIFMzMiwweDRCREVDRkE5KTtcbiAgICBjPUhIKGMsZCxhLGIseFtrKzddLCBTMzMsMHhGNkJCNEI2MCk7XG4gICAgYj1ISChiLGMsZCxhLHhbaysxMF0sUzM0LDB4QkVCRkJDNzApO1xuICAgIGE9SEgoYSxiLGMsZCx4W2srMTNdLFMzMSwweDI4OUI3RUM2KTtcbiAgICBkPUhIKGQsYSxiLGMseFtrXSwgUzMyLDB4RUFBMTI3RkEpO1xuICAgIGM9SEgoYyxkLGEsYix4W2srM10sIFMzMywweEQ0RUYzMDg1KTtcbiAgICBiPUhIKGIsYyxkLGEseFtrKzZdLCBTMzQsMHg0ODgxRDA1KTtcbiAgICBhPUhIKGEsYixjLGQseFtrKzldLCBTMzEsMHhEOUQ0RDAzOSk7XG4gICAgZD1ISChkLGEsYixjLHhbaysxMl0sUzMyLDB4RTZEQjk5RTUpO1xuICAgIGM9SEgoYyxkLGEsYix4W2srMTVdLFMzMywweDFGQTI3Q0Y4KTtcbiAgICBiPUhIKGIsYyxkLGEseFtrKzJdLCBTMzQsMHhDNEFDNTY2NSk7XG4gICAgYT1JSShhLGIsYyxkLHhba10sIFM0MSwweEY0MjkyMjQ0KTtcbiAgICBkPUlJKGQsYSxiLGMseFtrKzddLCBTNDIsMHg0MzJBRkY5Nyk7XG4gICAgYz1JSShjLGQsYSxiLHhbaysxNF0sUzQzLDB4QUI5NDIzQTcpO1xuICAgIGI9SUkoYixjLGQsYSx4W2srNV0sIFM0NCwweEZDOTNBMDM5KTtcbiAgICBhPUlJKGEsYixjLGQseFtrKzEyXSxTNDEsMHg2NTVCNTlDMyk7XG4gICAgZD1JSShkLGEsYixjLHhbayszXSwgUzQyLDB4OEYwQ0NDOTIpO1xuICAgIGM9SUkoYyxkLGEsYix4W2srMTBdLFM0MywweEZGRUZGNDdEKTtcbiAgICBiPUlJKGIsYyxkLGEseFtrKzFdLCBTNDQsMHg4NTg0NUREMSk7XG4gICAgYT1JSShhLGIsYyxkLHhbays4XSwgUzQxLDB4NkZBODdFNEYpO1xuICAgIGQ9SUkoZCxhLGIsYyx4W2srMTVdLFM0MiwweEZFMkNFNkUwKTtcbiAgICBjPUlJKGMsZCxhLGIseFtrKzZdLCBTNDMsMHhBMzAxNDMxNCk7XG4gICAgYj1JSShiLGMsZCxhLHhbaysxM10sUzQ0LDB4NEUwODExQTEpO1xuICAgIGE9SUkoYSxiLGMsZCx4W2srNF0sIFM0MSwweEY3NTM3RTgyKTtcbiAgICBkPUlJKGQsYSxiLGMseFtrKzExXSxTNDIsMHhCRDNBRjIzNSk7XG4gICAgYz1JSShjLGQsYSxiLHhbaysyXSwgUzQzLDB4MkFEN0QyQkIpO1xuICAgIGI9SUkoYixjLGQsYSx4W2srOV0sIFM0NCwweEVCODZEMzkxKTtcbiAgICBhPWFkZFVuc2lnbmVkKGEsQUEpO1xuICAgIGI9YWRkVW5zaWduZWQoYixCQik7XG4gICAgYz1hZGRVbnNpZ25lZChjLENDKTtcbiAgICBkPWFkZFVuc2lnbmVkKGQsREQpO1xuICB9XG5cbiAgbGV0IHRlbXAgPSB3b3JkVG9IZXgoYSkrd29yZFRvSGV4KGIpK3dvcmRUb0hleChjKSt3b3JkVG9IZXgoZCk7XG4gIHJldHVybiB0ZW1wLnRvTG93ZXJDYXNlKCk7XG59O1xuXG4vKiAvLyBVbmNvbW1lbnQgdGhpcyBhbmQgcnVuIFwibm9kZSBNRDUuanMgZmlsZS5leHRcIlxudmFyIEZTID0gcmVxdWlyZSgnZnMnKTtcbnZhciBkYXRhID0gRlMucmVhZEZpbGVTeW5jKHByb2Nlc3MuYXJndlsyXSk7XG52YXIgbWQ1ID0gbW9kdWxlLmV4cG9ydHMoZGF0YSk7XG5jb25zb2xlLmxvZygnTUQ1ID0gJyArIG1kNSk7XG4vLyAqL1xuIiwiLy8gUG9ydGlvbnMgQ29weXJpZ2h0IDIwMTkgSmltYiBFc3NlciAoaHR0cHM6Ly9naXRodWIuY29tL0ppbWJseS8pXG4vLyBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZTogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbi8vIFNvbWUgY29kZSBkZXJpdmVkIGZyb20gbGliR0xPViAoQysrKSwgYWxzbyBNSVQgTGljZW5zZWRcblxuLyogZXNsaW50IG5vLWJpdHdpc2U6b2ZmICovXG5cbi8vIFVwb24gcmVhZCwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHRoZXJlIGlzIGFueSBkYXRhIHJlYWQgZXJyb3IgKGUuZy4gcmVhZCBvZmYgb2YgZW5kIG9mIHBhY2tldClcblxuLy8gVE9ETzogTWF5YmU6IEhhdmUgMiBvZmZzZXRzLCBvbmUgZm9yIHdyaXRpbmcgKGRhdGFfbGVuPyksIG9uZSBmb3IgcmVhZGluZyAoYnVmX29mZnM/KSxcbi8vICAgdGhlbiB0aGVyZSBzaG91bGQgYmUgbWFueSBmZXdlciA/cGFrLnJlYWRhYmxlIGJyYW5jaGVzXG4vLyAgIHRoYXQgcmV0dXJuIGRpZmZlcmVudCB2YWx1ZXMgdW5kZXIgZGlmZmVyZW50IGNpcmN1bXN0YW5jZXMsIGFuZCBtYXliZSBmZXdlciAubWFrZVJlYWRhYmxlKCkgY2FsbHMgbmVlZGVkLlxuXG5cbi8vIDMgYml0cyBvZiBmbGFncyByZXNlcnZlZCBmb3IgaW50ZXJuYWwgdXNlXG5jb25zdCBQQUNLRVRfREVCVUcgPSBleHBvcnRzLlBBQ0tFVF9ERUJVRyA9IDE8PDA7XG5jb25zdCBQQUNLRVRfUkVTRVJWRUQxID0gZXhwb3J0cy5QQUNLRVRfUkVTRVJWRUQxID0gMTw8MTtcbmNvbnN0IFBBQ0tFVF9SRVNFUlZFRDIgPSBleHBvcnRzLlBBQ0tFVF9SRVNFUlZFRDIgPSAxPDwyO1xuY29uc3QgRkxBR19QQUNLRVRfSU5URVJOQUwgPSBQQUNLRVRfREVCVUcgfCBQQUNLRVRfUkVTRVJWRUQxIHwgUEFDS0VUX1JFU0VSVkVEMjtcblxuLy8gSW50ZXJuYWwsIHJ1bnRpbWUtb25seSAobm90IHNlcmlhbGl6ZWQpIGZsYWdzIDwgOCBiaXRzXG5jb25zdCBQQUNLRVRfVU5PV05FRF9CVUZGRVIgPSAxIDw8IDg7XG5cbmV4cG9ydHMuZGVmYXVsdF9mbGFncyA9IDA7XG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuY29uc3QgeyBtYXggfSA9IE1hdGg7XG5jb25zdCB7IGlzSW50ZWdlciwgbG9nMiB9ID0gcmVxdWlyZSgnLi4vY29tbW9uL3V0aWwuanMnKTtcbi8vIGNvbnN0IHsgaXNJbnRlZ2VyLCBsb2cyIH0gPSByZXF1aXJlKCcuLi8uLi9idWlsZC5kZXYvY29tbW9uL3V0aWwuanMnKTtcbmNvbnN0IHsgYmFzZTY0RW5jb2RlLCBiYXNlNjREZWNvZGUgfSA9IHJlcXVpcmUoJy4uL2NvbW1vbi9iYXNlNjQuanMnKTtcblxuY29uc3QgRkFMU1lTID0gW3VuZGVmaW5lZCwgbnVsbCwgMCwgZmFsc2UsICcnLCBOYU5dO1xuY29uc3QgUEFLX0JVRl9ERUZBVUxUX1NJWkUgPSAxMDI0O1xuXG5jb25zdCBVTkRFUlJVTiA9ICdQS1RFUlJfVU5ERVJSVU4nO1xuXG5jb25zdCBQT09MX1BBQ0tFVFMgPSA1MDAwO1xuY29uc3QgUE9PTF9USU1FT1VUID0gNTAwMDtcbmNvbnN0IFBPT0xfQlVGX0JZX1NJWkUgPSBbXG4gIDAsIC8vIDJeMCA6IDEgLSBzaG91bGRuJ3QgYmUgYWxsb2NhdGVkIGV2ZXI/XG4gIDEwLCAvLyAyXjEgOiAyXG4gIDEwLCAvLyAyXjIgOiA0XG4gIDIwLCAvLyAyXjMgOiA4XG4gIDIwLCAvLyAyXjQgOiAxNlxuICAyMCwgLy8gMl41IDogMzJcbiAgMjAsIC8vIDJeNiA6IDY0XG4gIDIwLCAvLyAyXjcgOiAxMjhcbiAgMjAsIC8vIDJeOCA6IDI1NlxuICAyMCwgLy8gMl45IDogNTEyXG4gIDUwMDAsIC8vIDJeMTAgOiAxMDI0IC0gc3RhbmRhcmQgUGFja2V0IHNpemVcbiAgMjAsIC8vIDJeMTEgOiAyMDQ4XG4gIDIwLCAvLyAyXjEyIDogNDA5NlxuICAyMCwgLy8gMl4xMyA6IDgxOTJcbiAgMjAsIC8vIDJeMTQgOiAxNjM4NFxuICAyMCwgLy8gMl4xNSA6IDMyNzY4XG4gIDIwLCAvLyAyXjE2IDogNjU1MzZcbiAgMTAsIC8vIDJeMTcgOiAxMzEwNzJcbiAgMTAsIC8vIDJeMTggOiAyNjIxNDQsXG5dO1xuXG5sZXQgcGFrX3Bvb2wgPSBbXTtcbmxldCBwYWtfZGVidWdfcG9vbCA9IFtdO1xubGV0IGJ1Zl9wb29sID0gUE9PTF9CVUZfQllfU0laRS5tYXAoKCkgPT4gW10pO1xuXG5mdW5jdGlvbiBhbGxvY0RhdGFWaWV3KHNpemUpIHtcbiAgbGV0IHBvb2xfaWR4ID0gbG9nMihzaXplKTtcbiAgYXNzZXJ0KHBvb2xfaWR4KTtcbiAgaWYgKHBvb2xfaWR4ID49IGJ1Zl9wb29sLmxlbmd0aCkge1xuICAgIHBvb2xfaWR4ID0gMDtcbiAgfVxuICBpZiAocG9vbF9pZHgpIHtcbiAgICBzaXplID0gMSA8PCBwb29sX2lkeDtcbiAgICBpZiAoYnVmX3Bvb2xbcG9vbF9pZHhdLmxlbmd0aCkge1xuICAgICAgLy8gTm8gcmVpbml0IGhlcmUsIGp1c3QgYSBjb250YWluZXJcbiAgICAgIC8vY29uc29sZS5sb2coYEJ1ZmZlciBGUk9NUE9PTDoke3NpemV9LyR7cG9vbF9pZHh9YCk7XG4gICAgICByZXR1cm4gYnVmX3Bvb2xbcG9vbF9pZHhdLnBvcCgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBFbmFibGUgdGhpcyAoYW5kIGxvd2VyIHBvb2wgc2l6ZSkgdG8gdHJhY2sgZG93biBiaWcgcGFja2V0czpcbiAgICAvLyBjb25zb2xlLmxvZyhgQWxsb2NhdGluZyBVTlBPT0xBQkxFIGJ1ZmZlciBvZiBzaXplICR7c2l6ZX0gZnJvbSAke25ldyBFcnJvcigpLnN0YWNrfWApO1xuICB9XG4gIC8vY29uc29sZS5sb2coYEJ1ZmZlciBBTExPQzoke3NpemV9YCk7XG4gIGxldCB1OCA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICBsZXQgZHYgPSBuZXcgRGF0YVZpZXcodTguYnVmZmVyKTtcbiAgZHYudTggPSB1ODtcbiAgaWYgKHBvb2xfaWR4KSB7XG4gICAgZHYucGFja2V0X3Bvb2xfaWR4ID0gcG9vbF9pZHg7XG4gIH1cbiAgcmV0dXJuIGR2O1xufVxuXG5mdW5jdGlvbiB3cmFwVThBc0RhdGFWaWV3KHU4KSB7XG4gIGxldCBkdiA9IG5ldyBEYXRhVmlldyh1OC5idWZmZXIsIHU4LmJ5dGVPZmZzZXQsIHU4LmJ5dGVMZW5ndGgpO1xuICBkdi51OCA9IHU4O1xuICByZXR1cm4gZHY7XG59XG5cbmZ1bmN0aW9uIHV0ZjhCeXRlTGVuZ3RoKHN0cikge1xuICBsZXQgbGVuID0gc3RyLmxlbmd0aDtcbiAgbGV0IHJldCA9IGxlbjtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbjsgKytpaSkge1xuICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaWkpO1xuICAgIGlmIChjID4gMHg3Rikge1xuICAgICAgKytyZXQ7XG4gICAgICBpZiAoYyA+IDB4MDdGRikge1xuICAgICAgICArK3JldDtcbiAgICAgICAgaWYgKGMgPiAweEZGRkYpIHtcbiAgICAgICAgICArK3JldDtcbiAgICAgICAgICBpZiAoYyA+IDB4MUZGRkZGKSB7XG4gICAgICAgICAgICArK3JldDtcbiAgICAgICAgICAgIGlmIChjID4gMHgzRkZGRkZGKSB7XG4gICAgICAgICAgICAgICsrcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vLyBBc3N1bWVzIGJ1ZmZlciB3aWxsIGZpdCBpdFxuZnVuY3Rpb24gdXRmOFdyaXRlQ2hhcihidWYsIGJ1Zl9vZmZzLCBjKSB7XG4gIGlmIChjIDw9IDB4N0YpIHtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSBjO1xuICB9IGVsc2UgaWYgKGMgPD0gMHgwN0ZGKSB7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgPj4gNikgfCAweEMwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjICYgMHgzRikgfCAweDgwO1xuICB9IGVsc2UgaWYgKGMgPD0gMHhGRkZGKSB7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgPj4gMTIpIHwgMHhFMDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gNikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgJiAweDNGKSB8IDB4ODA7XG4gIH0gZWxzZSBpZiAoYyA8PSAweDFGRkZGRikge1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9IChjID4+IDE4KSB8IDB4RjA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDEyKSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gNikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgJiAweDNGKSB8IDB4ODA7XG4gIH0gZWxzZSBpZiAoYyA8PSAweDNGRkZGRkYpIHtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoYyA+PiAyNCkgfCAweEY4O1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiAxOCkgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDEyKSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gNikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgJiAweDNGKSB8IDB4ODA7XG4gIH0gZWxzZSBpZiAoYyA8PSAweDdGRkZGRkZGKSB7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgPj4gMzApIHwgMHhGQztcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gMjQpICYgMHgzRikgfCAweDgwO1xuICAgIGJ1Zi51OFtidWZfb2ZmcysrXSA9ICgoYyA+PiAxOCkgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKChjID4+IDEyKSAmIDB4M0YpIHwgMHg4MDtcbiAgICBidWYudThbYnVmX29mZnMrK10gPSAoKGMgPj4gNikgJiAweDNGKSB8IDB4ODA7XG4gICAgYnVmLnU4W2J1Zl9vZmZzKytdID0gKGMgJiAweDNGKSB8IDB4ODA7XG4gIH1cbiAgcmV0dXJuIGJ1Zl9vZmZzO1xufVxuXG5mdW5jdGlvbiBwb29sQnVmKGR2KSB7XG4gIC8vIGlmIGl0J3MgcG9vbGFibGUgKG5vdCBwYXJ0IG9mIGFub3RoZXIgQnVmZmVyKSwgcG9vbCBpdCFcbiAgYXNzZXJ0KGR2KTtcbiAgYXNzZXJ0KGR2LnU4KTtcbiAgbGV0IHBvb2xfaWR4ID0gZHYucGFja2V0X3Bvb2xfaWR4O1xuICBpZiAocG9vbF9pZHgpIHtcbiAgICBsZXQgYXJyID0gYnVmX3Bvb2xbcG9vbF9pZHhdO1xuICAgIGlmIChhcnIubGVuZ3RoIDwgUE9PTF9CVUZfQllfU0laRVtwb29sX2lkeF0pIHtcbiAgICAgIC8vY29uc29sZS5sb2coYEJ1ZmZlciBUT1BPT0w6JHtkdi5ieXRlTGVuZ3RofS8ke3Bvb2xfaWR4fWApO1xuICAgICAgYXJyLnB1c2goZHYpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBjb25zb2xlLmxvZyhgQnVmZmVyIFVOUE9PTEFCTEU6JHtkdi5ieXRlTGVuZ3RofWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWNrZXRCdWZQb29sQWxsb2Moc2l6ZSkge1xuICByZXR1cm4gYWxsb2NEYXRhVmlldyhzaXplKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYWNrZXRCdWZQb29sRnJlZShkdikge1xuICBwb29sQnVmKGR2KTtcbn1cblxuZnVuY3Rpb24gUGFja2V0KGZsYWdzLCBpbml0X3NpemUsIHBha19kZWJ1Zykge1xuICB0aGlzLnJlaW5pdChmbGFncywgaW5pdF9zaXplLCBwYWtfZGVidWcpO1xufVxuUGFja2V0LnByb3RvdHlwZS5yZWluaXQgPSBmdW5jdGlvbiAoZmxhZ3MsIGluaXRfc2l6ZSwgcGFrX2RlYnVnKSB7XG4gIHRoaXMuZmxhZ3MgPSBmbGFncyB8fCAwO1xuICB0aGlzLmhhc19mbGFncyA9IGZhbHNlO1xuICB0aGlzLmJ1ZiA9IG51bGw7XG4gIHRoaXMuYnVmX2xlbiA9IDA7XG4gIHRoaXMuYnVmX29mZnMgPSAwO1xuICB0aGlzLmJ1ZnMgPSBudWxsO1xuICB0aGlzLmJzaXplcyA9IG51bGw7XG4gIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5yZWZfY291bnQgPSAxO1xuICB0aGlzLnBha19kZWJ1ZyA9IHBha19kZWJ1ZztcbiAgaWYgKGluaXRfc2l6ZSkge1xuICAgIHRoaXMuZml0KGluaXRfc2l6ZSwgdHJ1ZSk7XG4gICAgdGhpcy5idWZfbGVuID0gaW5pdF9zaXplO1xuICB9XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzLnJlZl9jb3VudCk7IC8vIG11c3Qgbm90IGFscmVhZHkgYmUgcG9vbGVkIVxuICArK3RoaXMucmVmX2NvdW50O1xufTtcblBhY2tldC5wcm90b3R5cGUucG9vbCA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMucmVmX2NvdW50KTtcbiAgaWYgKC0tdGhpcy5yZWZfY291bnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gRG8gbm90IGNsZWFyIG9uIHBvb2woKSwgY2FsbGVycyAocmVhZEludCgpKSBtYXkgc3RpbGwgbW9tZW50YXJpbHkgcmVmZXJlbmNlIC5idWYsIGV0Y1xuICBpZiAodGhpcy5mbGFncyAmIFBBQ0tFVF9VTk9XTkVEX0JVRkZFUikge1xuICAgIC8vIGRvaW5nIG5vdGhpbmcgd2l0aCBidWZmZXJzLCBzdGlsbCBwb29saW5nIHRoZSBwYWNrZXRcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5idWYpIHtcbiAgICAgIHBvb2xCdWYodGhpcy5idWYpO1xuICAgIH1cbiAgICBpZiAodGhpcy5idWZzKSB7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5idWZzLmxlbmd0aDsgKytpaSkge1xuICAgICAgICBwb29sQnVmKHRoaXMuYnVmc1tpaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAocGFrX3Bvb2wubGVuZ3RoIDwgUE9PTF9QQUNLRVRTKSB7XG4gICAgcGFrX3Bvb2wucHVzaCh0aGlzKTtcbiAgfVxuICBpZiAodGhpcy5wYWtfZGVidWcpIHtcbiAgICB0aGlzLnBha19kZWJ1Zy5wb29sRGVidWcoKTtcbiAgfVxufTtcblxuUGFja2V0LnByb3RvdHlwZS50b3RhbFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCByZXQgPSAwO1xuICBpZiAodGhpcy5yZWFkYWJsZSkge1xuICAgIHJldHVybiB0aGlzLmJ1Zl9sZW47XG4gIH1cbiAgaWYgKHRoaXMuYnNpemVzKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRoaXMuYnNpemVzLmxlbmd0aDsgKytpaSkge1xuICAgICAgcmV0ICs9IHRoaXMuYnNpemVzW2lpXTtcbiAgICB9XG4gIH1cbiAgcmV0ICs9IHRoaXMuYnVmX29mZnM7XG4gIHJldHVybiByZXQ7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnNldFJlYWRhYmxlID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQodGhpcy5idWYpO1xuICBhc3NlcnQoIXRoaXMuYnVmcyk7XG4gIGFzc2VydCghdGhpcy5yZWFkYWJsZSk7XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5tYWtlUmVhZGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzLmJ1Zik7XG4gIGFzc2VydCghdGhpcy5yZWFkYWJsZSk7IC8vIG90aGVyd2lzZSBqdXN0IHJlc2V0IG9mZnNldD8gb3IgZG8gbm90aGluZz9cbiAgbGV0IHRvdGFsID0gdGhpcy50b3RhbFNpemUoKTsgLy8gYmVmb3JlIHRoaXMucmVhZGFibGUgPSB0cnVlXG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuICBpZiAoIXRoaXMuYnVmcykge1xuICAgIHRoaXMuYnVmX2xlbiA9IHRvdGFsO1xuICAgIHRoaXMuYnVmX29mZnMgPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgYnVmID0gYWxsb2NEYXRhVmlldyh0b3RhbCk7XG4gIGxldCB1OCA9IGJ1Zi51ODtcbiAgbGV0IG9mZnMgPSAwO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5idWZzLmxlbmd0aDsgKytpaSkge1xuICAgIGxldCBic2l6ZSA9IHRoaXMuYnNpemVzW2lpXTtcbiAgICBsZXQgZHYgPSB0aGlzLmJ1ZnNbaWldO1xuICAgIGlmIChvZmZzICsgZHYudTgubGVuZ3RoID4gdG90YWwpIHtcbiAgICAgIC8vIHVudXNlZCBwb3J0aW9uIHdvdWxkIG92ZXJydW5cbiAgICAgIGFzc2VydC5lcXVhbChkdi5ieXRlT2Zmc2V0LCAwKTtcbiAgICAgIHU4LnNldChuZXcgVWludDhBcnJheShkdi5idWZmZXIsIDAsIGJzaXplKSwgb2Zmcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHU4LnNldChkdi51OCwgb2Zmcyk7XG4gICAgfVxuICAgIG9mZnMgKz0gYnNpemU7XG4gICAgcG9vbEJ1Zihkdik7XG4gIH1cbiAgYXNzZXJ0LmVxdWFsKHRoaXMuYnVmLmJ5dGVPZmZzZXQsIDApOyAvLyBXb3VsZCBoYW5kbGUgaXQsIGJ1dCBzaG91bGQgbmV2ZXIgaGFwcGVuIGhlcmUsIHRoZXNlIGFyZSBvdXIgcG9vbGVkIGJ1ZmZlcnM/XG4gIHU4LnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1Zi5idWZmZXIsIHRoaXMuYnVmLmJ5dGVPZmZzZXQsIHRoaXMuYnVmX29mZnMpLCBvZmZzKTtcbiAgcG9vbEJ1Zih0aGlzLmJ1Zik7XG4gIGFzc2VydC5lcXVhbChvZmZzICsgdGhpcy5idWZfb2ZmcywgdG90YWwpO1xuICB0aGlzLmJ1ZnMgPSB0aGlzLmJzaXplcyA9IG51bGw7XG4gIHRoaXMuYnVmID0gYnVmO1xuICB0aGlzLmJ1Zl9vZmZzID0gMDtcbiAgdGhpcy5idWZfbGVuID0gdG90YWw7IC8vIGJ1ZmZlciBpcyBhY3R1YWxseSBidWYuYnVmZmVyLmJ5dGVMZW5ndGgsIGJ1dCB3ZSBjYW4ndCByZWFkIHBhc3QgYHRvdGFsYFxufTtcblxuUGFja2V0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHsgYnVmLCBidWZfb2ZmcyB9ID0gdGhpcztcbiAgaWYgKCF0aGlzLmJ1ZnMpIHtcbiAgICB0aGlzLmJ1ZnMgPSBbYnVmXTtcbiAgICB0aGlzLmJzaXplcyA9IFtidWZfb2Zmc107XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5idWZzLnB1c2goYnVmKTtcbiAgICB0aGlzLmJzaXplcy5wdXNoKGJ1Zl9vZmZzKTtcbiAgfVxuICB0aGlzLmJ1ZiA9IG51bGw7XG4gIHRoaXMuYnVmX2xlbiA9IDA7XG4gIHRoaXMuYnVmX29mZnMgPSAwO1xufTtcblBhY2tldC5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gKGV4dHJhX2J5dGVzLCBub19hZHZhbmNlKSB7XG4gIGxldCB7IGJ1ZiwgYnVmX2xlbiwgYnVmX29mZnMgfSA9IHRoaXM7XG4gIGxldCBuZXdfb2ZmcyA9IGJ1Zl9vZmZzICsgZXh0cmFfYnl0ZXM7XG4gIGlmIChuZXdfb2ZmcyA8PSBidWZfbGVuKSB7XG4gICAgaWYgKCFub19hZHZhbmNlKSB7XG4gICAgICB0aGlzLmJ1Zl9vZmZzID0gbmV3X29mZnM7XG4gICAgfVxuICAgIHJldHVybiBidWZfb2ZmcztcbiAgfVxuICBhc3NlcnQoIXRoaXMucmVhZGFibGUpOyAvLyBTaG91bGRuJ3QgaGFwcGVuIG9uIGNvbmNhdGVuYXRlZCBidWZmZXJzXG4gIGlmIChidWYpIHtcbiAgICB0aGlzLmZsdXNoKCk7XG4gIH1cbiAgdGhpcy5idWZfbGVuID0gYnVmX2xlbiA9IG1heChQQUtfQlVGX0RFRkFVTFRfU0laRSwgZXh0cmFfYnl0ZXMpO1xuICB0aGlzLmJ1ZiA9IGFsbG9jRGF0YVZpZXcoYnVmX2xlbik7XG4gIHRoaXMuYnVmX29mZnMgPSBub19hZHZhbmNlID8gMCA6IGV4dHJhX2J5dGVzO1xuICByZXR1cm4gMDtcbn07XG5QYWNrZXQucHJvdG90eXBlLmFkdmFuY2UgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgbGV0IG9mZnMgPSB0aGlzLmJ1Zl9vZmZzO1xuICBsZXQgbmV3X29mZnMgPSBvZmZzICsgYnl0ZXM7XG4gIHRoaXMuYnVmX29mZnMgPSBuZXdfb2ZmcztcbiAgaWYgKG5ld19vZmZzID4gdGhpcy5idWZfbGVuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFVOREVSUlVOKTtcbiAgfVxuICBpZiAobmV3X29mZnMgPT09IHRoaXMuYnVmX2xlbikge1xuICAgIHRoaXMucG9vbCgpO1xuICB9XG4gIHJldHVybiBvZmZzO1xufTtcblBhY2tldC5wcm90b3R5cGUuZW5kZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmJ1Zl9vZmZzID09PSB0aGlzLmJ1Zl9sZW47XG59O1xuXG4vLyBsb3ctbGV2ZWwgd3JpdGUvcmVhZCBmdW5jdGlvbnNcblBhY2tldC5wcm90b3R5cGUud3JpdGVVOCA9IGZ1bmN0aW9uICh2KSB7XG4gIGFzc2VydCh2ID49IDAgJiYgdiA8IDI1Nik7XG4gIGxldCBvZmZzID0gdGhpcy5maXQoMSk7XG4gIHRoaXMuYnVmLnU4W29mZnNdID0gdjtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRVOCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuYnVmLnU4W3RoaXMuYWR2YW5jZSgxKV07XG59O1xuLy8gUGFja2VkIGludCwgZmlyc3QgYnl0ZTpcbi8vIDAtMjQ3IGJ5dGVcbi8vIDI0OCBwb3NpdGl2ZSAxNi1iaXRcbi8vIDI0OSBuZWdhdGl2ZSAxNi1iaXRcbi8vIDI1MCBwb3NpdGl2ZSAzMi1iaXRcbi8vIDI1MSBuZWdhdGl2ZSAzMi1iaXRcbi8vIDI1MiBwb3NpdGl2ZSA2NC1iaXRcbi8vIDI1MyBuZWdhdGl2ZSA2NC1iaXRcbi8vIDI1NCB1bnVzZWRcbi8vIDI1NSBuZWdhdGl2ZSBieXRlXG5QYWNrZXQucHJvdG90eXBlLndyaXRlSW50ID0gZnVuY3Rpb24gKHYpIHtcbiAgYXNzZXJ0KGlzSW50ZWdlcih2KSk7XG4gIGxldCBvZmZzID0gdGhpcy5maXQoOSwgdHJ1ZSk7IC8vIDkgaXMgbWF4IHNpemUgb2YgYSBwYWNrZWQgaW50XG4gIGxldCBidWYgPSB0aGlzLmJ1ZjtcbiAgbGV0IG5lZyA9ICh2IDwgMCkgPyAxIDogMDtcbiAgaWYgKG5lZykge1xuICAgIHYgPSAtdjtcbiAgfVxuICBpZiAodiA8IDI0OCkgeyAvLyB8fCBuZWcgJiYgdiA8IDI1NiB3b3VsZCBhbHNvIGRlY29kZSByaWdodFxuICAgIGlmIChuZWcpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gMjU1O1xuICAgIH1cbiAgICBidWYudThbb2ZmcysrXSA9IHY7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHYgPCA2NTUzNikge1xuICAgICAgYnVmLnU4W29mZnMrK10gPSAyNDggKyBuZWc7XG4gICAgICBidWYuc2V0VWludDE2KG9mZnMsIHYsIHRydWUpO1xuICAgICAgb2ZmcyArPSAyO1xuICAgIH0gZWxzZSBpZiAodiA8IDQyOTQ5NjcyOTYpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gMjUwICsgbmVnO1xuICAgICAgYnVmLnNldFVpbnQzMihvZmZzLCB2LCB0cnVlKTtcbiAgICAgIG9mZnMgKz0gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLnU4W29mZnMrK10gPSAyNTIgKyBuZWc7XG4gICAgICBsZXQgbG93X2JpdHMgPSB2ID4+PiAwO1xuICAgICAgYnVmLnNldFVpbnQzMihvZmZzLCBsb3dfYml0cywgdHJ1ZSk7XG4gICAgICBvZmZzICs9IDQ7XG4gICAgICBidWYuc2V0VWludDMyKG9mZnMsICh2IC0gbG93X2JpdHMpIC8gNDI5NDk2NzI5NiwgdHJ1ZSk7XG4gICAgICBvZmZzICs9IDQ7XG4gICAgfVxuICB9XG4gIHRoaXMuYnVmX29mZnMgPSBvZmZzO1xufTtcblBhY2tldC5wcm90b3R5cGUuemVyb0ludCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gT3ZlcndyaXRlIGFuIGV4aXN0aW5nIGludCB3aXRoIGEgemVybywga2VlcGluZyB0aGUgc2FtZSBwYWNrZWQgc2l6ZVxuICBsZXQgYjEgPSB0aGlzLmJ1Zi51OFt0aGlzLmJ1Zl9vZmZzXTtcbiAgaWYgKGIxIDwgMjQ4KSB7XG4gICAgdGhpcy5idWYudThbdGhpcy5idWZfb2ZmcysrXSA9IDA7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIE90aGVyd2lzZSwgbGVhdmUgaGVhZGVyIGJpdFxuICB0aGlzLmJ1Zl9vZmZzKys7XG4gIGxldCB6ZXJvZXMgPSAxO1xuICBzd2l0Y2ggKGIxKSB7XG4gICAgY2FzZSAyNTM6XG4gICAgY2FzZSAyNTI6IC8vIDhcbiAgICAgIHplcm9lcyArPSA0O1xuICAgIGNhc2UgMjUxOiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgIGNhc2UgMjUwOiAvLyA0XG4gICAgICB6ZXJvZXMgKz0gMjtcbiAgICBjYXNlIDI0OTogIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICBjYXNlIDI0ODogLy8gMlxuICAgICAgemVyb2VzKys7XG4gICAgY2FzZSAyNTU6ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAvLyAxXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQS1RFUlJfUEFDS0VEX0lOVCcpO1xuICB9XG4gIHdoaWxlICh6ZXJvZXMpIHtcbiAgICAtLXplcm9lcztcbiAgICB0aGlzLmJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdID0gMDtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUucmVhZEludCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGIxID0gdGhpcy5idWYudThbdGhpcy5hZHZhbmNlKDEpXTtcbiAgaWYgKGIxIDwgMjQ4KSB7XG4gICAgcmV0dXJuIGIxO1xuICB9XG4gIGxldCBzaWduID0gMTtcbiAgc3dpdGNoIChiMSkge1xuICAgIGNhc2UgMjQ5OlxuICAgICAgc2lnbiA9IC0xO1xuICAgIGNhc2UgMjQ4OiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICByZXR1cm4gc2lnbiAqIHRoaXMuYnVmLmdldFVpbnQxNih0aGlzLmFkdmFuY2UoMiksIHRydWUpO1xuICAgIGNhc2UgMjUxOlxuICAgICAgc2lnbiA9IC0xO1xuICAgIGNhc2UgMjUwOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICByZXR1cm4gc2lnbiAqIHRoaXMuYnVmLmdldFVpbnQzMih0aGlzLmFkdmFuY2UoNCksIHRydWUpO1xuICAgIGNhc2UgMjUzOlxuICAgICAgc2lnbiA9IC0xO1xuICAgIGNhc2UgMjUyOiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgIGxldCBsb3dfYml0cyA9IHRoaXMuYnVmLmdldFVpbnQzMih0aGlzLmFkdmFuY2UoNCksIHRydWUpO1xuICAgICAgbGV0IGhpZ2hfYml0cyA9IHRoaXMuYnVmLmdldFVpbnQzMih0aGlzLmFkdmFuY2UoNCksIHRydWUpO1xuICAgICAgcmV0dXJuIHNpZ24gKiAoaGlnaF9iaXRzICogNDI5NDk2NzI5NiArIGxvd19iaXRzKTtcbiAgICB9XG4gICAgY2FzZSAyNTU6XG4gICAgICByZXR1cm4gLXRoaXMuYnVmLnU4W3RoaXMuYWR2YW5jZSgxKV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEtURVJSX1BBQ0tFRF9JTlQnKTtcbiAgfVxufTtcblBhY2tldC5wcm90b3R5cGUud3JpdGVGbG9hdCA9IGZ1bmN0aW9uICh2KSB7XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgdiwgJ251bWJlcicpO1xuICBpZiAoIXYpIHtcbiAgICB0aGlzLmJ1Zi51OFt0aGlzLmZpdCgxKV0gPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgb2ZmcyA9IHRoaXMuZml0KDUsIHRydWUpO1xuICB0aGlzLmJ1Zi5zZXRGbG9hdDMyKG9mZnMsIHYsIHRydWUpO1xuICBpZiAodGhpcy5idWYudThbb2Zmc10gPD0gMSkgeyAvLyBlc2NhcGUgYSAwIG9yIDEgaW4gdGhlIGZpcnN0IGJ5dGVcbiAgICB0aGlzLmJ1Zi51OFtvZmZzKytdID0gMTtcbiAgICB0aGlzLmJ1Zi5zZXRGbG9hdDMyKG9mZnMsIHYsIHRydWUpO1xuICB9XG4gIHRoaXMuYnVmX29mZnMgPSBvZmZzICsgNDtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRGbG9hdCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG9mZnMgPSB0aGlzLmFkdmFuY2UoMSk7XG4gIGxldCBiMSA9IHRoaXMuYnVmLnU4W29mZnNdO1xuICBpZiAoIWIxKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGIxID09PSAxKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVmLmdldEZsb2F0MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbiAgfVxuICB0aGlzLmFkdmFuY2UoMyk7XG4gIHJldHVybiB0aGlzLmJ1Zi5nZXRGbG9hdDMyKG9mZnMsIHRydWUpO1xufTtcblBhY2tldC5wcm90b3R5cGUud3JpdGVVMzIgPSBmdW5jdGlvbiAodikge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHYsICdudW1iZXInKTtcbiAgdGhpcy5idWYuc2V0VWludDMyKHRoaXMuZml0KDQpLCB2LCB0cnVlKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRVMzIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmJ1Zi5nZXRVaW50MzIodGhpcy5hZHZhbmNlKDQpLCB0cnVlKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLndyaXRlU3RyaW5nID0gZnVuY3Rpb24gKHYpIHtcbiAgYXNzZXJ0LmVxdWFsKHR5cGVvZiB2LCAnc3RyaW5nJyk7IC8vIENvdWxkIG1heWJlIGRvIGEgdG9TdHJpbmcoKSBoZXJlIGlmIG5vdFxuICBsZXQgYnl0ZV9sZW5ndGggPSB1dGY4Qnl0ZUxlbmd0aCh2KTtcbiAgdGhpcy53cml0ZUludChieXRlX2xlbmd0aCk7IC8vIEp1c3QgMSBieXRlIGZvciBzbWFsbCBzdHJpbmdzXG4gIGlmICghYnl0ZV9sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG9mZnMgPSB0aGlzLmZpdChieXRlX2xlbmd0aCk7XG4gIGxldCBidWYgPSB0aGlzLmJ1ZjtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHYubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGMgPSB2LmNoYXJDb2RlQXQoaWkpO1xuICAgIGlmIChjIDw9IDB4N0YpIHtcbiAgICAgIGJ1Zi51OFtvZmZzKytdID0gYztcbiAgICB9IGVsc2Uge1xuICAgICAgb2ZmcyA9IHV0ZjhXcml0ZUNoYXIoYnVmLCBvZmZzLCBjKTtcbiAgICB9XG4gIH1cbn07XG4vLyBPbmx5IGNhbGxlZCBvbiBtdWx0aS1ieXRlIGNoYXJhY3RlcnM7IFN1cHBsaWVkIHRoZSBmaXJzdCBieXRlIGZvciBlZmZpY2llbmN5XG5QYWNrZXQucHJvdG90eXBlLnV0ZjhSZWFkQ2hhciA9IGZ1bmN0aW9uIChjKSB7XG4gIGxldCBidWYgPSB0aGlzLmJ1ZjtcbiAgaWYgKGMgPj0gMHhDMCAmJiBjIDwgMHhFMCkge1xuICAgIHJldHVybiAoKGMgJiAweDFGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIGlmIChjID49IDB4RTAgJiYgYyA8IDB4RjApIHtcbiAgICByZXR1cm4gKChjICYgMHgwRikgPDwgMTIpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIGlmIChjID49IDB4RjAgJiYgYyA8IDB4RjgpIHtcbiAgICByZXR1cm4gKChjICYgMHgwRikgPDwgMTgpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCAxMikgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDYpIHxcbiAgICAgIChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpO1xuICB9IGVsc2UgaWYgKGMgPj0gMHhGOCAmJiBjIDwgMHhGQykge1xuICAgIHJldHVybiAoKGMgJiAweDBGKSA8PCAyNCkgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDE4KSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgMTIpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCA2KSB8XG4gICAgICAoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKTtcbiAgfSBlbHNlIHsgLy9pZiAoYyA+PSAweEZDKSB7XG4gICAgcmV0dXJuICgoYyAmIDB4MEYpIDw8IDMwKSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgMjQpIHxcbiAgICAgICgoYnVmLnU4W3RoaXMuYnVmX29mZnMrK10gJiAweDNGKSA8PCAxOCkgfFxuICAgICAgKChidWYudThbdGhpcy5idWZfb2ZmcysrXSAmIDB4M0YpIDw8IDEyKSB8XG4gICAgICAoKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRikgPDwgNikgfFxuICAgICAgKGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdICYgMHgzRik7XG4gIH1cbn07XG5cbmxldCBzdHJpbmdfYXNzZW1ibHkgPSBbXTtcblBhY2tldC5wcm90b3R5cGUucmVhZFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGJ5dGVfbGVuZ3RoID0gdGhpcy5yZWFkSW50KCk7XG4gIGlmICghYnl0ZV9sZW5ndGgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgaWYgKHRoaXMuYnVmX29mZnMgKyBieXRlX2xlbmd0aCA+IHRoaXMuYnVmX2xlbikge1xuICAgIHRocm93IG5ldyBFcnJvcihVTkRFUlJVTik7XG4gIH1cblxuICBsZXQgeyBidWYgfSA9IHRoaXM7XG4gIGxldCBlbmRfb2Zmc2V0ID0gdGhpcy5idWZfb2ZmcyArIGJ5dGVfbGVuZ3RoO1xuICBsZXQgcmV0O1xuICBpZiAoYnl0ZV9sZW5ndGggPiA4MTkyKSB7XG4gICAgcmV0ID0gJyc7XG4gICAgd2hpbGUgKHRoaXMuYnVmX29mZnMgPCBlbmRfb2Zmc2V0KSB7XG4gICAgICBsZXQgYyA9IGJ1Zi51OFt0aGlzLmJ1Zl9vZmZzKytdO1xuICAgICAgaWYgKGMgPiAweDdGKSB7XG4gICAgICAgIGMgPSB0aGlzLnV0ZjhSZWFkQ2hhcihjKTtcbiAgICAgIH1cbiAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdHJpbmdfYXNzZW1ibHkubGVuZ3RoID0gYnl0ZV9sZW5ndGg7XG4gICAgbGV0IGlpID0gMDtcbiAgICB3aGlsZSAodGhpcy5idWZfb2ZmcyA8IGVuZF9vZmZzZXQpIHtcbiAgICAgIGxldCBjID0gYnVmLnU4W3RoaXMuYnVmX29mZnMrK107XG4gICAgICBpZiAoYyA+IDB4N0YpIHtcbiAgICAgICAgYyA9IHRoaXMudXRmOFJlYWRDaGFyKGMpO1xuICAgICAgfVxuICAgICAgc3RyaW5nX2Fzc2VtYmx5W2lpKytdID0gYztcbiAgICB9XG4gICAgaWYgKHN0cmluZ19hc3NlbWJseS5sZW5ndGggIT09IGlpKSB7XG4gICAgICAvLyB0cnVuY2F0ZSBpZiBtdWx0aS1ieXRlIFVURjggcHJvZHVjZWQgc2luZ2xlIGNoYXJhY3RlcnNcbiAgICAgIHN0cmluZ19hc3NlbWJseS5sZW5ndGggPSBpaTtcbiAgICB9XG4gICAgcmV0ID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSh1bmRlZmluZWQsIHN0cmluZ19hc3NlbWJseSk7XG4gIH1cbiAgaWYgKHRoaXMuYnVmX29mZnMgPT09IHRoaXMuYnVmX2xlbikge1xuICAgIHRoaXMucG9vbCgpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuLy8gTXVjaCBtb3JlIGVmZmljaWVudCB0aGFuIHdyaXRlU3RyaW5nIGlmIHRoZSBpbnB1dCBpcyBrbm93biB0byBiZSBBTlNJLWlzaCAoYWxsIGNoYXJhY3RlcnMgPD0gMjU1KVxuUGFja2V0LnByb3RvdHlwZS53cml0ZUFuc2lTdHJpbmcgPSBmdW5jdGlvbiAodikge1xuICBhc3NlcnQuZXF1YWwodHlwZW9mIHYsICdzdHJpbmcnKTsgLy8gQ291bGQgbWF5YmUgZG8gYSB0b1N0cmluZygpIGhlcmUgaWYgbm90XG4gIGxldCBieXRlX2xlbmd0aCA9IHYubGVuZ3RoO1xuICB0aGlzLndyaXRlSW50KGJ5dGVfbGVuZ3RoKTtcbiAgbGV0IG9mZnMgPSB0aGlzLmZpdChieXRlX2xlbmd0aCk7XG4gIGxldCB7IGJ1ZiB9ID0gdGhpcztcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGJ5dGVfbGVuZ3RoOyArK2lpKSB7XG4gICAgYnVmLnU4W29mZnMrK10gPSB2LmNoYXJDb2RlQXQoaWkpO1xuICB9XG59O1xuUGFja2V0LnByb3RvdHlwZS5yZWFkQW5zaVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGxlbiA9IHRoaXMucmVhZEludCgpO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBsZXQgb2ZmcyA9IHRoaXMuYWR2YW5jZShsZW4pO1xuICBsZXQgeyBidWYgfSA9IHRoaXM7XG4gIHN0cmluZ19hc3NlbWJseS5sZW5ndGggPSBsZW47XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW47ICsraWkpIHtcbiAgICBzdHJpbmdfYXNzZW1ibHlbaWldID0gYnVmLnU4W29mZnMrK107XG4gIH1cbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkodW5kZWZpbmVkLCBzdHJpbmdfYXNzZW1ibHkpO1xufTtcblxuLy8gaGlnaC1sZXZlbCB3cml0ZS9yZWFkIGZ1bmN0aW9uc1xuUGFja2V0LnByb3RvdHlwZS53cml0ZUpTT04gPSBmdW5jdGlvbiAodikge1xuICBpZiAoIXYpIHtcbiAgICBsZXQgaWR4ID0gRkFMU1lTLmluZGV4T2Yodik7XG4gICAgYXNzZXJ0KGlkeCAhPT0gLTEpO1xuICAgIHRoaXMud3JpdGVVOChpZHggKyAxKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy53cml0ZVU4KDApO1xuICB0aGlzLndyaXRlU3RyaW5nKEpTT04uc3RyaW5naWZ5KHYpKTtcbn07XG5QYWNrZXQucHJvdG90eXBlLnJlYWRKU09OID0gZnVuY3Rpb24gKCkge1xuICBsZXQgYnl0ZSA9IHRoaXMucmVhZFU4KCk7XG4gIGlmIChieXRlKSB7XG4gICAgaWYgKGJ5dGUgLSAxID49IEZBTFNZUy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUEtURVJSX0pTT05fSEVBREVSJyk7XG4gICAgfVxuICAgIHJldHVybiBGQUxTWVNbYnl0ZSAtIDFdO1xuICB9XG4gIGxldCBzdHIgPSB0aGlzLnJlYWRTdHJpbmcoKTtcbiAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbn07XG4vLyBVaW50OEFycmF5IG9yIEJ1ZmZlciBvYmplY3Q/XG5QYWNrZXQucHJvdG90eXBlLndyaXRlQnVmZmVyID0gZnVuY3Rpb24gKHYpIHtcbiAgdGhpcy53cml0ZUludCh2Lmxlbmd0aCk7XG4gIGlmICh2Lmxlbmd0aCkge1xuICAgIGxldCBvZmZzID0gdGhpcy5maXQodi5sZW5ndGgpO1xuICAgIHRoaXMuYnVmLnU4LnNldCh2LCBvZmZzKTtcbiAgfVxufTtcbmNvbnN0IG51bGxfYnVmID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG5QYWNrZXQucHJvdG90eXBlLnJlYWRCdWZmZXIgPSBmdW5jdGlvbiAoZG9fY29weSkge1xuICBsZXQgbGVuID0gdGhpcy5yZWFkSW50KCk7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuIG51bGxfYnVmO1xuICB9XG4gIGxldCBvZmZzID0gdGhpcy5hZHZhbmNlKGxlbik7XG4gIGlmIChkb19jb3B5KSB7XG4gICAgcmV0dXJuIHRoaXMuYnVmLnU4LnNsaWNlKG9mZnMsIG9mZnMgKyBsZW4pO1xuICB9IGVsc2Uge1xuICAgIGxldCB7IGJ1ZiB9ID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ1ZmZlciwgYnVmLmJ5dGVPZmZzZXQgKyBvZmZzLCBsZW4pO1xuICB9XG59O1xuUGFja2V0LnByb3RvdHlwZS53cml0ZUJvb2wgPSBmdW5jdGlvbiAodikge1xuICB0aGlzLndyaXRlVTgodj8xOjApO1xufTtcblBhY2tldC5wcm90b3R5cGUucmVhZEJvb2wgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBCb29sZWFuKHRoaXMucmVhZFU4KCkpO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAocGFrKSB7XG4gIGFzc2VydC5lcXVhbCh0aGlzLmZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUwsIHBhay5mbGFncyAmIEZMQUdfUEFDS0VUX0lOVEVSTkFMKTtcbiAgaWYgKHBhay5idWZzKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHBhay5idWZzLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGJ1ZiA9IHBhay5idWZzW2lpXTtcbiAgICAgIGxldCBic2l6ZSA9IHBhay5ic2l6ZXNbaWldO1xuICAgICAgbGV0IG9mZnMgPSB0aGlzLmZpdChic2l6ZSk7XG4gICAgICBpZiAoYnNpemUgIT09IGJ1Zi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYnVmLnU4LnNldChuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnNpemUpLCBvZmZzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYnVmLnU4LnNldChidWYudTgsIG9mZnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAocGFrLmJ1Zikge1xuICAgIGxldCBidWYgPSBwYWsuYnVmO1xuICAgIGxldCBic2l6ZSA9IHBhay5yZWFkYWJsZSA/IHBhay5idWZfbGVuIDogcGFrLmJ1Zl9vZmZzO1xuICAgIGxldCBvZmZzID0gdGhpcy5maXQoYnNpemUpO1xuICAgIGlmIChic2l6ZSAhPT0gYnVmLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuYnVmLnU4LnNldChuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnNpemUpLCBvZmZzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idWYudTguc2V0KGJ1Zi51OCwgb2Zmcyk7XG4gICAgfVxuICB9XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmFwcGVuZFJlbWFpbmluZyA9IGZ1bmN0aW9uIChwYWspIHtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTCwgcGFrLmZsYWdzICYgRkxBR19QQUNLRVRfSU5URVJOQUwpO1xuICBhc3NlcnQocGFrLnJlYWRhYmxlKTtcbiAgYXNzZXJ0KCFwYWsuYnVmcyk7XG4gIGFzc2VydChwYWsuYnVmKTtcbiAgYXNzZXJ0KHBhay5idWZfb2ZmcyA8PSBwYWsuYnVmX2xlbik7XG4gIGxldCBic2l6ZSA9IHBhay5idWZfbGVuIC0gcGFrLmJ1Zl9vZmZzO1xuICBpZiAoYnNpemUpIHtcbiAgICBsZXQgb2ZmcyA9IHRoaXMuZml0KGJzaXplKTtcbiAgICB0aGlzLmJ1Zi51OC5zZXQobmV3IFVpbnQ4QXJyYXkocGFrLmJ1Zi5idWZmZXIsIHBhay5idWYuYnl0ZU9mZnNldCArIHBhay5idWZfb2ZmcywgYnNpemUpLCBvZmZzKTtcbiAgfVxuICAvLyBldmVyeXRoaW5nIGNvbnN1bWVkLCBwb29sIGl0XG4gIHBhay5wb29sKCk7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHJldCA9IHtcbiAgICBmOiB0aGlzLmZsYWdzLFxuICB9O1xuXG4gIGlmICh0aGlzLmJ1ZnMpIHtcbiAgICByZXQuYiA9IFtdO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLmJ1ZnMubGVuZ3RoOyArK2lpKSB7XG4gICAgICByZXQuYi5wdXNoKGJhc2U2NEVuY29kZSh0aGlzLmJ1ZnNbaWldLCAwLCB0aGlzLmJzaXplc1tpaV0pKTtcbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMuYnVmKSB7XG4gICAgaWYgKHRoaXMucmVhZGFibGUpIHtcbiAgICAgIHJldC5kID0gYmFzZTY0RW5jb2RlKHRoaXMuYnVmLCAwLCB0aGlzLmJ1Zl9sZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXQuZCA9IGJhc2U2NEVuY29kZSh0aGlzLmJ1ZiwgMCwgdGhpcy5idWZfb2Zmcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLnNldEJ1ZmZlciA9IGZ1bmN0aW9uIChidWYsIGJ1Zl9sZW4pIHtcbiAgYXNzZXJ0KCF0aGlzLmJ1Zik7XG4gIGFzc2VydCghdGhpcy5idWZzKTtcbiAgYXNzZXJ0KHRoaXMuZmxhZ3MgJiBQQUNLRVRfVU5PV05FRF9CVUZGRVIpOyAvLyBQcm9iYWJseSBva2F5IGlmIG5vdD9cbiAgYXNzZXJ0KGJ1ZiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICB0aGlzLmJ1ZiA9IHdyYXBVOEFzRGF0YVZpZXcoYnVmKTtcbiAgdGhpcy5idWZfbGVuID0gYnVmX2xlbjtcbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMuYnVmKTtcbiAgYXNzZXJ0KCF0aGlzLmJ1ZnMpO1xuICByZXR1cm4gdGhpcy5idWYudTg7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEJ1ZmZlckxlbiA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0KHRoaXMuYnVmKTtcbiAgYXNzZXJ0KCF0aGlzLmJ1ZnMpO1xuICByZXR1cm4gdGhpcy5yZWFkYWJsZSA/IHRoaXMuYnVmX2xlbiA6IHRoaXMuYnVmX29mZnM7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucmVhZGFibGUpIHtcbiAgICByZXR1cm4gdGhpcy5idWZfb2ZmcztcbiAgfVxuICByZXR1cm4gdGhpcy50b3RhbFNpemUoKTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgYXNzZXJ0KHRoaXMucmVhZGFibGUpOyAvLyAubWFrZVJlYWRhYmxlIHNob3VsZCBiZSBjYWxsZWQgc28gdGhhdCBpdCBpcyBhIHNpbmdsZSBidWZmZXJcbiAgYXNzZXJ0KHBvcyA+PSAwICYmIHBvcyA8PSB0aGlzLmJ1Zl9sZW4pO1xuICB0aGlzLmJ1Zl9vZmZzID0gcG9zO1xufTtcblxuUGFja2V0LnByb3RvdHlwZS53cml0ZUZsYWdzID0gZnVuY3Rpb24gKCkge1xuICBhc3NlcnQoIXRoaXMuaGFzX2ZsYWdzKTtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuYnVmX29mZnMsIDApO1xuICB0aGlzLndyaXRlVTgodGhpcy5mbGFncyk7XG4gIHRoaXMuaGFzX2ZsYWdzID0gdHJ1ZTtcbn07XG5cblBhY2tldC5wcm90b3R5cGUudXBkYXRlRmxhZ3MgPSBmdW5jdGlvbiAoZmxhZ3MpIHtcbiAgYXNzZXJ0KHRoaXMuaGFzX2ZsYWdzKTtcbiAgYXNzZXJ0KCEoZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTCkpO1xuICB0aGlzLmZsYWdzID0gdGhpcy5mbGFncyAmIEZMQUdfUEFDS0VUX0lOVEVSTkFMIHwgZmxhZ3M7XG4gIGxldCBidWYgPSB0aGlzLmJ1ZnMgPyB0aGlzLmJ1ZnNbMF0gOiB0aGlzLmJ1ZjtcbiAgYnVmLnU4WzBdID0gdGhpcy5mbGFncztcbn07XG5cblBhY2tldC5wcm90b3R5cGUucmVhZEZsYWdzID0gZnVuY3Rpb24gKCkge1xuICBsZXQgcmVhZCA9IHRoaXMucmVhZFU4KCk7XG4gIGFzc2VydC5lcXVhbChyZWFkLCB0aGlzLmZsYWdzICYgMHhGRik7XG4gIHRoaXMuaGFzX2ZsYWdzID0gdHJ1ZTtcbiAgcmV0dXJuIHRoaXMuZmxhZ3M7XG59O1xuXG5QYWNrZXQucHJvdG90eXBlLmdldEZsYWdzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5mbGFncztcbn07XG5cblBhY2tldC5wcm90b3R5cGUuZ2V0SW50ZXJuYWxGbGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZmxhZ3MgJiBGTEFHX1BBQ0tFVF9JTlRFUk5BTDtcbn07XG5cblBhY2tldC5wcm90b3R5cGUuY29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBgcGFrKCR7dGhpcy50b3RhbFNpemUoKX1iKWA7XG59O1xuXG5mdW5jdGlvbiBQYWNrZXREZWJ1ZyhmbGFncywgaW5pdF9zaXplKSB7XG4gIHRoaXMucmVpbml0KGZsYWdzLCBpbml0X3NpemUpO1xufVxuUGFja2V0RGVidWcucHJvdG90eXBlLnJlaW5pdCA9IGZ1bmN0aW9uIChmbGFncywgaW5pdF9zaXplKSB7XG4gIHRoaXMuaW5fcG9vbCA9IGZhbHNlO1xuICBpZiAocGFrX3Bvb2wubGVuZ3RoKSB7XG4gICAgdGhpcy5wYWsgPSBwYWtfcG9vbC5wb3AoKTtcbiAgICB0aGlzLnBhay5yZWluaXQoZmxhZ3MsIGluaXRfc2l6ZSwgdGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wYWsgPSBuZXcgUGFja2V0KGZsYWdzLCBpbml0X3NpemUsIHRoaXMpO1xuICB9XG4gIHRoaXMud2FybmVkID0gZmFsc2U7XG4gIHRoaXMucG9vbF90aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUud2FybihgUGFja2V0IG5vdCBwb29sZWQgYWZ0ZXIgNXM6ICR7dGhpcy5jb250ZW50cygpfWApO1xuICAgIHRoaXMud2FybmVkID0gdHJ1ZTtcbiAgfSwgUE9PTF9USU1FT1VUKTtcbn07XG5QYWNrZXREZWJ1Zy5wcm90b3R5cGUucG9vbERlYnVnID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy53YXJuZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1BhY2tldCBwb29sZWQgYWZ0ZXIgdGltZW91dCcpO1xuICB9IGVsc2Uge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnBvb2xfdGltZXIpO1xuICB9XG4gIGFzc2VydCghdGhpcy5pbl9wb29sKTtcbiAgdGhpcy5pbl9wb29sID0gdHJ1ZTsgLy8gU2V0IHRoaXMsIGFzIGlmIHBvb2xlZCwgZXZlbiBpZiBkaXNjYXJkZWRcbiAgaWYgKHBha19kZWJ1Z19wb29sLmxlbmd0aCA8IFBPT0xfUEFDS0VUUykge1xuICAgIHBha19kZWJ1Z19wb29sLnB1c2godGhpcyk7XG4gIH1cbn07XG5jb25zdCB0eXBlcyA9IFtudWxsLCAnVTgnLCAnVTMyJywgJ0ludCcsICdGbG9hdCcsICdTdHJpbmcnLCAnQW5zaVN0cmluZycsICdKU09OJywgJ0Jvb2wnLCAnQnVmZmVyJ107XG4vLyBGdW5jdGlvbnMgKHR5cGVzKSB0aGF0IHJlYWQgYW5kIHdyaXRlIGEgZGVidWcgYnl0ZVxudHlwZXMuZm9yRWFjaCgodHlwZSwgaWR4KSA9PiB7XG4gIGlmICghdHlwZSkgeyAvLyBkb24ndCB1c2UgZGVidWcgSUQgMFxuICAgIHJldHVybjtcbiAgfVxuICBsZXQgd3JpdGUgPSBgd3JpdGUke3R5cGV9YDtcbiAgbGV0IHJlYWQgPSBgcmVhZCR7dHlwZX1gO1xuICBsZXQgd3JpdGVfZm4gPSBQYWNrZXQucHJvdG90eXBlW3dyaXRlXTtcbiAgbGV0IHJlYWRfZm4gPSBQYWNrZXQucHJvdG90eXBlW3JlYWRdO1xuICBQYWNrZXREZWJ1Zy5wcm90b3R5cGVbd3JpdGVdID0gZnVuY3Rpb24gKHYpIHtcbiAgICB0aGlzLnBhay53cml0ZVU4KGlkeCk7XG4gICAgd3JpdGVfZm4uY2FsbCh0aGlzLnBhaywgdik7XG4gIH07XG4gIFBhY2tldERlYnVnLnByb3RvdHlwZVtyZWFkXSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIGxldCBmb3VuZF9pZHggPSB0aGlzLnBhay5yZWFkVTgoKTtcbiAgICBpZiAoZm91bmRfaWR4ICE9PSBpZHgpIHtcbiAgICAgIGFzc2VydChmYWxzZSwgYFBhY2tldERlYnVnIGVycm9yOiBFeHBlY3RlZCAke3R5cGV9KCR7aWR4fSksIGZvdW5kICR7dHlwZXNbZm91bmRfaWR4XX0oJHtmb3VuZF9pZHh9KWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVhZF9mbi5jYWxsKHRoaXMucGFrLCBwYXJhbSk7XG4gIH07XG59KTtcblBhY2tldERlYnVnLnByb3RvdHlwZS56ZXJvSW50ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnBhay53cml0ZVU4KDMpOyAvLyB0eXBlcy5pbmRleG9mKCdJbnQnKVxuICB0aGlzLnBhay56ZXJvSW50KCk7XG59O1xuLy8gRnVuY3Rpb25zIHRoYXQgc2ltcGx5IGZhbGwgdGhyb3VnaFxuW1xuICAnZW5kZWQnLFxuICAnZ2V0QnVmZmVyJyxcbiAgJ2dldEJ1ZmZlckxlbicsXG4gICdnZXRGbGFncycsXG4gICdnZXRJbnRlcm5hbEZsYWdzJyxcbiAgJ2dldE9mZnNldCcsXG4gICdtYWtlUmVhZGFibGUnLFxuICAncG9vbCcsXG4gICdyZWFkRmxhZ3MnLCAvLyAqbm90KiB3cmFwcGVkIGluIGRlYnVnIGhlYWRlcnNcbiAgJ3JlZicsXG4gICdzZWVrJyxcbiAgJ3NldEJ1ZmZlcicsXG4gICdzZXRSZWFkYWJsZScsXG4gICd0b0pTT04nLFxuICAndG90YWxTaXplJyxcbiAgJ3VwZGF0ZUZsYWdzJyxcbiAgJ3dyaXRlRmxhZ3MnLCAvLyAqbm90KiB3cmFwcGVkIGluIGRlYnVnIGhlYWRlcnNcbl0uZm9yRWFjaCgoZm5hbWUpID0+IHtcbiAgbGV0IGZuID0gUGFja2V0LnByb3RvdHlwZVtmbmFtZV07XG4gIFBhY2tldERlYnVnLnByb3RvdHlwZVtmbmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMucGFrLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICB9O1xufSk7XG5QYWNrZXREZWJ1Zy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHBhaykge1xuICBhc3NlcnQocGFrIGluc3RhbmNlb2YgUGFja2V0RGVidWcpO1xuICB0aGlzLnBhay5hcHBlbmQocGFrLnBhayk7XG59O1xuUGFja2V0RGVidWcucHJvdG90eXBlLmFwcGVuZFJlbWFpbmluZyA9IGZ1bmN0aW9uIChwYWspIHtcbiAgYXNzZXJ0KHBhayBpbnN0YW5jZW9mIFBhY2tldERlYnVnKTtcbiAgdGhpcy5wYWsuYXBwZW5kUmVtYWluaW5nKHBhay5wYWspO1xufTtcbmZ1bmN0aW9uIGZvcm1hdCh2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHYgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBgdTg8JHt2Lmxlbmd0aH0+YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHY7XG4gIH1cbn1cblBhY2tldERlYnVnLnByb3RvdHlwZS5jb250ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHsgcGFrIH0gPSB0aGlzO1xuICBsZXQgY3VyX29mZnMgPSBwYWsuZ2V0T2Zmc2V0KCk7XG4gIGxldCByZWFkX2xlbiA9IGN1cl9vZmZzO1xuICBsZXQgcmV0ID0gW2BidWY6JHtwYWsuYnVmX29mZnN9LyR7cGFrLmJ1Zl9sZW59YF07XG4gIGlmIChwYWsuYnVmcykge1xuICAgIC8vIHdyaXRlIHBhY2tldCwganVzdCBjb21iaW5lIGFuZCByZXNldCBsb2NhdGlvbiB3aGVuIGRvbmVcbiAgICBwYWsubWFrZVJlYWRhYmxlKCk7XG4gICAgcmV0LnB1c2goJ2J1ZnMnKTtcbiAgfSBlbHNlIGlmIChwYWsuYnVmKSB7XG4gICAgLy8gcmVhZCBwYWNrZXQsIG9yIHdyaXRlIHBhY2tldCB0aGF0IGlzIGEgc2luZ2xlIGJ1ZlxuICAgIGlmIChwYWsucmVhZGFibGUpIHtcbiAgICAgIHJlYWRfbGVuID0gcGFrLmJ1Zl9sZW47XG4gICAgfVxuICAgIHBhay5idWZfb2ZmcyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgcmV0LnB1c2goJ2VtcHR5Jyk7XG4gICAgcmVhZF9sZW4gPSAtMTtcbiAgfVxuICBsZXQgc2F2ZWRfcmVmX2NvdW50ID0gcGFrLnJlZl9jb3VudDtcbiAgcGFrLnJlZl9jb3VudCA9IDI7IC8vIHByZXZlbnQgYXV0byBwb29saW5nLCBkb24ndCBhc3NlcnQgb24gcmVmKCkgaWYgdW5yZWYnZC5cbiAgdHJ5IHtcbiAgICBpZiAoIXNhdmVkX3JlZl9jb3VudCkge1xuICAgICAgcmV0LnB1c2goJyFyZWZfY291bnQ9MCEnKTtcbiAgICB9XG4gICAgaWYgKHBhay5oYXNfZmxhZ3MpIHtcbiAgICAgIHJldC5wdXNoKGBmbGFnczoke3Bhay5yZWFkVTgoKX1gKTtcbiAgICB9XG4gICAgd2hpbGUgKHBhay5idWZfb2ZmcyA8IHJlYWRfbGVuKSB7XG4gICAgICBsZXQgdHlwZV9pZHggPSBwYWsucmVhZFU4KCk7XG4gICAgICBsZXQgdHlwZSA9IHR5cGVzW3R5cGVfaWR4XTtcbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICByZXQucHVzaChgVW5rbm93blR5cGU6JHt0eXBlX2lkeH1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsZXQgdmFsID0gcGFrW2ByZWFkJHt0eXBlfWBdKCk7XG4gICAgICByZXQucHVzaChgJHt0eXBlfToke2Zvcm1hdCh2YWwpfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldC5wdXNoKGBFcnJvciBkdW1waW5nIHBhY2tldCBjb250ZW50czogJHtlfWApO1xuICB9XG4gIHBhay5yZWZfY291bnQgPSBzYXZlZF9yZWZfY291bnQ7XG4gIHBhay5idWZfb2ZmcyA9IGN1cl9vZmZzO1xuICByZXR1cm4gcmV0LmpvaW4oJywnKTtcbn07XG5cbmZ1bmN0aW9uIHBhY2tldENyZWF0ZShmbGFncywgaW5pdF9zaXplKSB7XG4gIGlmIChmbGFncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZmxhZ3MgPSBleHBvcnRzLmRlZmF1bHRfZmxhZ3M7XG4gIH1cbiAgbGV0IHBvb2wgPSAoZmxhZ3MgJiBQQUNLRVRfREVCVUcpID8gcGFrX2RlYnVnX3Bvb2wgOiBwYWtfcG9vbDtcbiAgaWYgKHBvb2wubGVuZ3RoKSB7XG4gICAgbGV0IHBhayA9IHBvb2wucG9wKCk7XG4gICAgcGFrLnJlaW5pdChmbGFncywgaW5pdF9zaXplKTtcbiAgICByZXR1cm4gcGFrO1xuICB9XG4gIGlmIChmbGFncyAmIFBBQ0tFVF9ERUJVRykge1xuICAgIHJldHVybiBuZXcgUGFja2V0RGVidWcoZmxhZ3MsIGluaXRfc2l6ZSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBQYWNrZXQoZmxhZ3MsIGluaXRfc2l6ZSk7XG59XG5leHBvcnRzLnBhY2tldENyZWF0ZSA9IHBhY2tldENyZWF0ZTtcblxuZnVuY3Rpb24gcGFja2V0RnJvbUJ1ZmZlcihidWYsIGJ1Zl9sZW4sIG5lZWRfY29weSkge1xuICBsZXQgZmxhZ3MgPSBidWZbMF07XG4gIGFzc2VydC5lcXVhbCh0eXBlb2YgZmxhZ3MsICdudW1iZXInKTsgLy8gYGJ1ZmAgc2hvdWxkIGJlIGEgQnVmZmVyIG9yIFVpbnQ4QXJyYXksIG5vdCBhIERhdGFWaWV3IGxpa2Ugb3RoZXIgZnVuY3MgaGVyZVxuICBpZiAobmVlZF9jb3B5KSB7XG4gICAgYXNzZXJ0KGJ1Zl9sZW4pO1xuICAgIGFzc2VydChidWYuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICAgIGxldCBwYWsgPSBwYWNrZXRDcmVhdGUoZmxhZ3MsIGJ1Zl9sZW4pO1xuICAgIGlmIChidWYuYnl0ZUxlbmd0aCAhPT0gYnVmX2xlbikge1xuICAgICAgYnVmID0gQnVmZmVyLmZyb20oYnVmLmJ1ZmZlciwgMCwgYnVmX2xlbik7XG4gICAgfVxuICAgIHBhay5nZXRCdWZmZXIoKS5zZXQoYnVmKTtcbiAgICBwYWsuc2V0UmVhZGFibGUoKTtcbiAgICByZXR1cm4gcGFrO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlZmVyZW5jZSB1bm93bmVkL3VucG9vbGFibGUgYnVmZmVyXG4gICAgYXNzZXJ0KGJ1ZiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICAgIGxldCBwYWsgPSBwYWNrZXRDcmVhdGUoZmxhZ3MgfCBQQUNLRVRfVU5PV05FRF9CVUZGRVIpO1xuICAgIHBhay5zZXRCdWZmZXIoYnVmLCBidWZfbGVuIHx8IGJ1Zi5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gcGFrO1xuICB9XG59XG5leHBvcnRzLnBhY2tldEZyb21CdWZmZXIgPSBwYWNrZXRGcm9tQnVmZmVyO1xuXG5mdW5jdGlvbiBwYWNrZXRGcm9tSlNPTihqc19vYmopIHtcbiAgbGV0IHBhayA9IHBhY2tldENyZWF0ZShqc19vYmouZik7XG5cbiAgbGV0IHBheWxvYWQgPSBwYWsucGFrIHx8IHBhaztcblxuICBmdW5jdGlvbiBkZWNvZGUoc3RyKSB7XG4gICAgcmV0dXJuIGJhc2U2NERlY29kZShzdHIsIGFsbG9jRGF0YVZpZXcpO1xuICB9XG4gIGlmIChqc19vYmouYikge1xuICAgIHBheWxvYWQuYnNpemVzID0gW107XG4gICAgcGF5bG9hZC5idWZzID0gW107XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGpzX29iai5iLmxlbmd0aDsgKytpaSkge1xuICAgICAgbGV0IGJ1ZiA9IGRlY29kZShqc19vYmouYltpaV0pO1xuICAgICAgcGF5bG9hZC5idWZzLnB1c2goYnVmKTtcbiAgICAgIHBheWxvYWQuYnNpemVzLnB1c2goYnVmLmRlY29kZV9zaXplKTtcbiAgICAgIGRlbGV0ZSBidWYuZGVjb2RlX3NpemU7XG4gICAgfVxuICB9XG4gIGlmIChqc19vYmouZCkge1xuICAgIHBheWxvYWQuYnVmID0gZGVjb2RlKGpzX29iai5kKTtcbiAgICBwYXlsb2FkLmJ1Zl9sZW4gPSBwYXlsb2FkLmJ1Zi5kZWNvZGVfc2l6ZTtcbiAgICBkZWxldGUgcGF5bG9hZC5idWYuZGVjb2RlX3NpemU7XG4gICAgcGF5bG9hZC5idWZfb2ZmcyA9IDA7XG4gIH1cblxuICByZXR1cm4gcGFrO1xufVxuZXhwb3J0cy5wYWNrZXRGcm9tSlNPTiA9IHBhY2tldEZyb21KU09OO1xuXG5mdW5jdGlvbiBpc1BhY2tldCh0aGluZykge1xuICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiBQYWNrZXQgfHwgdGhpbmcgaW5zdGFuY2VvZiBQYWNrZXREZWJ1Zztcbn1cbmV4cG9ydHMuaXNQYWNrZXQgPSBpc1BhY2tldDtcbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vKiBlc2xpbnQgcHJlZmVyLXJlc3QtcGFyYW1zOm9mZiwgbm8tdW5kZXJzY29yZS1kYW5nbGU6b2ZmICovXG5cbmNvbnN0IGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZWUsIHR5cGUsIGZuLCBvbmNlKSB7XG4gIGFzc2VydCh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpO1xuICBsZXQgYXJyID0gZWUuX2xpc3RlbmVyc1t0eXBlXTtcbiAgaWYgKCFhcnIpIHtcbiAgICBhcnIgPSBlZS5fbGlzdGVuZXJzW3R5cGVdID0gW107XG4gIH1cbiAgYXJyLnB1c2goe1xuICAgIG9uY2UsXG4gICAgZm4sXG4gIH0pO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gIGxldCBhcnIgPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gIGlmICghYXJyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcnIubGVuZ3RoOyArK2lpKSB7XG4gICAgaWYgKGFycltpaV0uZm4gPT09IGZuKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICBhZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBmbiwgMCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gIGFkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGZuLCAxKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gIGxldCBhcnIgPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gIGFzc2VydChhcnIpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgIGlmIChhcnJbaWldLmZuID09PSBmbikge1xuICAgICAgYXJyLnNwbGljZShpaSwgMSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cbiAgYXNzZXJ0KGZhbHNlKTsgLy8gZXhwZWN0ZWQgdG8gZmluZCB0aGUgbGlzdGVuZXIhXG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZmlsdGVyTm90T25jZShlbGVtKSB7XG4gIHJldHVybiAhZWxlbS5vbmNlO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAodHlwZSwgLi4uYXJncykge1xuICBsZXQgYXJyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBpZiAoIWFycikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBhbnkgPSBmYWxzZTtcbiAgbGV0IGFueV9vbmNlID0gZmFsc2U7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcnIubGVuZ3RoOyArK2lpKSB7XG4gICAgbGV0IGVsZW0gPSBhcnJbaWldO1xuICAgIGFueSA9IHRydWU7XG4gICAgZWxlbS5mbiguLi5hcmdzKTtcbiAgICBpZiAoZWxlbS5vbmNlKSB7XG4gICAgICBhbnlfb25jZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChhbnlfb25jZSkge1xuICAgIHRoaXMuX2xpc3RlbmVyc1t0eXBlXSA9IGFyci5maWx0ZXIoZmlsdGVyTm90T25jZSk7XG4gIH1cblxuICByZXR1cm4gYW55O1xufTtcblxuLy8gQWxpYXNlc1xuLy8gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcbmNvbnN0IHsgYWJzLCBmbG9vciwgbWluLCBtYXgsIHJhbmRvbSwgcm91bmQsIHBvdywgc3FydCB9ID0gTWF0aDtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vcCgpIHtcbiAgLy8gZW1wdHlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgZm4oLi4uYXJncyk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShvYmopIHtcbiAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dCh2LCBhKSB7XG4gIGxldCB2YSA9IHBvdyh2LCBhKTtcbiAgcmV0dXJuIHZhIC8gKHZhICsgcG93KDEgLSB2LCBhKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW4odiwgYSkge1xuICByZXR1cm4gMiAqIGVhc2VJbk91dCgwLjUgKiB2LCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXQodiwgYSkge1xuICByZXR1cm4gMiAqIGVhc2VJbk91dCgwLjUgKyAwLjUgKiB2LCBhKSAtIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShkZXN0LCBzcmMpIHtcbiAgZm9yIChsZXQgZiBpbiBzcmMpIHtcbiAgICBkZXN0W2ZdID0gc3JjW2ZdO1xuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzKG9iaiwgZmllbGQpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGZpZWxkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzKGRlc3QsIHNyYykge1xuICBmb3IgKGxldCBmIGluIHNyYykge1xuICAgIGlmICghaGFzKGRlc3QsIGYpKSB7XG4gICAgICBkZXN0W2ZdID0gc3JjW2ZdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVzdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRzRGVlcChkZXN0LCBzcmMpIHtcbiAgZm9yIChsZXQgZiBpbiBzcmMpIHtcbiAgICBpZiAoIWhhcyhkZXN0LCBmKSkge1xuICAgICAgZGVzdFtmXSA9IHNyY1tmXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXN0W2ZdID09PSAnb2JqZWN0Jykge1xuICAgICAgZGVmYXVsdHNEZWVwKGRlc3RbZl0sIHNyY1tmXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVTaGFsbG93KHNyYykge1xuICByZXR1cm4gbWVyZ2Uoe30sIHNyYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhLmxlbmd0aDsgKytpaSkge1xuICAgICAgaWYgKCFkZWVwRXF1YWwoYVtpaV0sIGJbaWldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0Jykge1xuICAgIGlmICh0eXBlb2YgYiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFhIHx8ICFiKSB7IC8vIGF0IGxlYXN0IG9uZSBpcyBudWxsXG4gICAgICByZXR1cm4gIWEgJiYgIWI7IC8vIGVxdWFsIGlmIGJvdGggYXJlIG51bGxcbiAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGEpIHtcbiAgICAgIC8vIGIgbXVzdCBoYXZlIGtleSwgb3IgYm90aCBhW2tleV0gYW5kIGJba2V5XSBhcmUgdW5kZWZpbmVkXG4gICAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBrZXkgaW4gYikge1xuICAgICAgLy8gaWYgYiBoYXMga2V5IGFuZCBpdCdzIGRlZmluZWQsIGEgbXVzdCBhbHNvIGJlIGRlZmluZWQgKGFuZCB3b3VsZCBoYXZlIGNoZWNrZWQgZXF1YWxpdHkgYWJvdmUpXG4gICAgICBpZiAoYltrZXldICE9PSB1bmRlZmluZWQgJiYgYVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHYsIG1uLCBteCkge1xuICByZXR1cm4gbWluKG1heChtbiwgdiksIG14KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoYSwgdjAsIHYxKSB7XG4gIHJldHVybiAoMSAtIGEpICogdjAgKyBhICogdjE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaXgodjAsIHYxLCBhKSB7IC8vIEdMU0wgc2VtYW50aWNzXG4gIHJldHVybiAoMSAtIGEpICogdjAgKyBhICogdjE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduKGEpIHtcbiAgcmV0dXJuIGEgPCAwID8gLTEgOiBhID4gMCA/IDEgOiAwO1xufVxuXG4vLyBsb2cyIHJvdW5kZWQgdXAgdG8gbmVhcmVzdCBpbnRlZ2VyXG5leHBvcnQgZnVuY3Rpb24gbG9nMih2YWwpIHtcbiAgZm9yIChsZXQgaWk9MSwgamo9MDsgOyBpaSA8PD0gMSwgKytqaikgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICBpZiAoaWkgPj0gdmFsKSB7XG4gICAgICByZXR1cm4gamo7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByaWR4KGFyciwgaWR4KSB7XG4gIGFycltpZHhdID0gYXJyW2Fyci5sZW5ndGggLSAxXTtcbiAgYXJyLnBvcCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQxMDAoYSkge1xuICByZXR1cm4gcm91bmQoYSAqIDEwMCkgLyAxMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZDEwMDAoYSkge1xuICByZXR1cm4gcm91bmQoYSAqIDEwMDApIC8gMTAwMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyYWN0KGEpIHtcbiAgcmV0dXJuIGEgLSBmbG9vcihhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lYXJTYW1lKGEsIGIsIHRvbCkge1xuICByZXR1cm4gYWJzKGIgLSBhKSA8PSB0b2w7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aXRsZUNhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJyAnKS5tYXAoKHdvcmQpID0+IGAke3dvcmRbMF0udG9VcHBlckNhc2UoKX0ke3dvcmQuc2xpY2UoMSl9YClcbiAgICAuam9pbignICcpO1xufVxuXG5jb25zdCBFUFNJTE9OID0gMC4wMDAwMTtcblxuLy8gaHR0cDovL2xvY2FsLndhc3AudXdhLmVkdS5hdS9+cGJvdXJrZS9nZW9tZXRyeS9zcGhlcmVsaW5lL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVDaXJjbGVJbnRlcnNlY3QocDEsIHAyLCBwQ2lyY2xlLCByYWRpdXMpIHtcbiAgbGV0IGRwID0gW1xuICAgIHAyWzBdIC0gcDFbMF0sXG4gICAgcDJbMV0gLSBwMVsxXVxuICBdO1xuICBsZXQgYSA9IGRwWzBdICogZHBbMF0gKyBkcFsxXSAqIGRwWzFdO1xuICBsZXQgYiA9IDIgKiAoZHBbMF0gKiAocDFbMF0gLSBwQ2lyY2xlWzBdKSArIGRwWzFdICogKHAxWzFdIC0gcENpcmNsZVsxXSkpO1xuICBsZXQgYyA9IHBDaXJjbGVbMF0gKiBwQ2lyY2xlWzBdICsgcENpcmNsZVsxXSAqIHBDaXJjbGVbMV07XG4gIGMgKz0gcDFbMF0gKiBwMVswXSArIHAxWzFdICogcDFbMV07XG4gIGMgLT0gMiAqIChwQ2lyY2xlWzBdICogcDFbMF0gKyBwQ2lyY2xlWzFdICogcDFbMV0pO1xuICBjIC09IHJhZGl1cyAqIHJhZGl1cztcbiAgbGV0IGJiNGFjID0gYiAqIGIgLSA0ICogYSAqIGM7XG4gIGlmIChhYnMoYSkgPCBFUFNJTE9OIHx8IGJiNGFjIDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBtdTEgPSAoLWIgKyBzcXJ0KGJiNGFjKSkgLyAoMiAqIGEpO1xuICBsZXQgbXUyID0gKC1iIC0gc3FydChiYjRhYykpIC8gKDIgKiBhKTtcbiAgaWYgKG11MSA+PSAwICYmIG11MSA8PSAxIHx8IG11MiA+PSAwICYmIG11MiA8PSAxKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgLy8gRnJvbSBOb2RlLmpzXG4gIGFzc2VydCh0eXBlb2Ygc3VwZXJDdG9yID09PSAnZnVuY3Rpb24nKTtcbiAgLy8gbm90IG5lZWRlZD8gY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbiAgLy8gc2Vjb25kIHBhcmFtZXRlciBhbHNvIG5vdCBhY3R1YWxseSBuZWVkZWQsIGp1c3QgZGVmaW5lcyBuZXcgRm9vKCkuY29uc3RydWN0b3IgPT09IEZvbz9cbiAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUG93ZXJPZlR3byhuKSB7XG4gIHJldHVybiAoKG4gJiAobiAtIDEpKSA9PT0gMCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV4dEhpZ2hlc3RQb3dlck9mVHdvKHgpIHtcbiAgLS14O1xuICBmb3IgKGxldCBpID0gMTsgaSA8IDMyOyBpIDw8PSAxKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICAgIHggfD0geCA+PiBpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgfVxuICByZXR1cm4geCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dkYXRhKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBsZXQgciA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICBpZiAoci5sZW5ndGggPCAxMjApIHtcbiAgICByZXR1cm4gcjtcbiAgfVxuICByZXR1cm4gYCR7ci5zbGljZSgwLCAxMjAtMyl9Li4uYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2KSB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodikgJiYgZmxvb3IodikgPT09IHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2KSB7XG4gIHJldHVybiBOdW1iZXIodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Ob3Qobm90X3ZhbHVlLCBtYXhfdmFsdWUpIHtcbiAgbGV0IG5ld192YWx1ZTtcbiAgZG8ge1xuICAgIG5ld192YWx1ZSA9IGZsb29yKHJhbmRvbSgpICogbWF4X3ZhbHVlKTtcbiAgfSB3aGlsZSAobmV3X3ZhbHVlID09PSBub3RfdmFsdWUpO1xuICByZXR1cm4gbmV3X3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheShhcnJheV9saWtlKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheV9saWtlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoQWxsKHN0ciwgcmUpIHtcbiAgbGV0IHJldCA9IFtdO1xuICBsZXQgbTtcbiAgZG8ge1xuICAgIG0gPSByZS5leGVjKHN0cik7XG4gICAgaWYgKG0pIHtcbiAgICAgIHJldC5wdXNoKG1bMV0pO1xuICAgIH1cbiAgfSB3aGlsZSAobSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxsRWFjaChhcnIsIHByZV9jbGVhciwgLi4uYXJncykge1xuICBpZiAoYXJyICYmIGFyci5sZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyLmxlbmd0aDsgKytpaSkge1xuICAgICAgYXJyW2lpXSguLi5hcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIGNoYXJhY3RlcnMgY2F1c2UgcHJvYmxlbXMgd2l0aCBsb3dlciBsZXZlbCBzeXN0ZW1zIChHb29nbGUgRmlyZXN0b3JlKVxuLy8gdGhhdCBwcmVzdW1hYmx5IHRyeSB0byBjb252ZXJ0IHRvIFVURi0xNi5cbmNvbnN0IHV0ZjE2X3N1cnJvZ2F0ZXMgPSAvW1xcdUQ4MDAtXFx1REZGRl0vZztcbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZShzdHIpIHtcbiAgcmV0dXJuIChzdHIgfHwgJycpLnJlcGxhY2UodXRmMTZfc3Vycm9nYXRlcywgJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGx1cmFsKG51bWJlciwgbGFiZWwpIHtcbiAgcmV0dXJuIGAke2xhYmVsfSR7bnVtYmVyID09PSAxID8gJycgOiAncyd9YDtcbn1cbiIsIi8vIFBvcnRpb25zIENvcHlyaWdodCAyMDE5IEppbWIgRXNzZXIgKGh0dHBzOi8vZ2l0aHViLmNvbS9KaW1ibHkvKVxuLy8gUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2U6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4vLyBPcmlnaW5hbGx5IGZyb20gU3Bsb2R5LCB1c2VkIHdpdGggcGVybWlzc2lvblxuLyogZXNsaW50IG5vLW11bHRpLXNwYWNlczpvZmYsIGFycmF5LWJyYWNrZXQtc3BhY2luZzpvZmYgKi9cblxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IG1heCB9ID0gTWF0aDtcblxuY29uc3QgdHJhbnNfc3JjID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5Kyc7XG5jb25zdCB0cmFuc19kc3QgPSAnNGJjZDNmZ2gxamsxbW4wcHFyNTd1dnd4eTI0YmNkM2ZnaDFqazFtbjBwcXI1N3V2d3h5MjAxMjM0NTY3ODk3JztcbmNvbnN0IHRyYW5zX3NyY19yZWdleCA9IC9bYS16QS1aMC05K10rL2c7XG5sZXQgdHJhbnNfbG9va3VwID0ge307XG5mdW5jdGlvbiBjYW5vbml6ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnJykubWFwKChjKSA9PiAodHJhbnNfbG9va3VwW2NdIHx8IGMpKS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gcm90MTMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJycpLm1hcCgoYykgPT4ge1xuICAgIGMgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKGMgPj0gOTcvKmEqLyAmJiBjIDw9IDEyMi8qeiovKSB7XG4gICAgICBjID0gOTcgKyAoKChjIC0gOTcpICsgMTMpICUgMjYpO1xuICAgIH0gZWxzZSBpZiAoYyA+PSA2NS8qQSovICYmIGMgPD0gOTAvKloqLykge1xuICAgICAgYyA9IDY1ICsgKCgoYyAtIDY1KSArIDEzKSAlIDI2KTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gIH0pLmpvaW4oJycpO1xufVxuXG5sZXQgcHJvZmFuaXR5ID0ge307XG5cbi8vIHNob3J0ZXIgZmlyc3QsIGlmIHN1YnN0cmluZ3MgKGp1c3QgJ3MnIGFuZCAnZXMnLydlcnMnKVxubGV0IHN1ZmZpeGVzID0gICAgICAgICAgIFsgJycsICdzJywgICdzJywgJ2luJywgJ2luZycsICdlcicsICdlcnMnLCAnZWQnLCAneScgXTtcbmxldCBzdWZmaXhlc19jYW5vbml6ZWQgPSBbICcnLCAnNScsICczNScsICcxbicsICcxbmcnLCAnM3InLCAnM3I1JywgJzNkJywgJ3knIF07XG5cbmxldCBtYXhfbGVuID0gMDtcbmxldCBpbml0ZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBwcm9mYW5pdHlDb21tb25TdGFydHVwKGZpbHRlcl9na2cpIHtcbiAgYXNzZXJ0KCFpbml0ZWQpO1xuICBpbml0ZWQgPSB0cnVlO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdHJhbnNfc3JjLmxlbmd0aDsgKytpaSkge1xuICAgIHRyYW5zX2xvb2t1cFt0cmFuc19zcmNbaWldXSA9IHRyYW5zX2RzdFtpaV07XG4gIH1cbiAgbGV0IGRhdGEgPSBmaWx0ZXJfZ2tnLnNwbGl0KCdcXG4nKS5maWx0ZXIoKGEpID0+IGEpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGF0YS5sZW5ndGg7ICsraWkpIHtcbiAgICBsZXQgcyA9IHJvdDEzKGRhdGFbaWldKTtcbiAgICBsZXQgc3RhcnRfbGVuID0gcy5sZW5ndGg7XG4gICAgcyA9IGNhbm9uaXplKHMpO1xuICAgIGFzc2VydC5lcXVhbChzdGFydF9sZW4sIHMubGVuZ3RoKTsgLy8gT3RoZXJ3aXNlIGdvdCBhIGJhZCBjaGFyYWN0ZXIgaW4gdGhlIHNvdXJjZSBkYXRhP1xuICAgIGZvciAobGV0IGpqID0gMDsgamogPCBzdWZmaXhlc19jYW5vbml6ZWQubGVuZ3RoOyArK2pqKSB7XG4gICAgICBsZXQgc3RyID0gcyArIHN1ZmZpeGVzX2Nhbm9uaXplZFtqal07XG4gICAgICBsZXQgZXhpc3RpbmcgPSBwcm9mYW5pdHlbc3RyXTtcbiAgICAgIGlmICghZXhpc3RpbmcgfHwgZXhpc3RpbmcgPiBqaikge1xuICAgICAgICBtYXhfbGVuID0gbWF4KG1heF9sZW4sIHN0ci5sZW5ndGgpO1xuICAgICAgICBwcm9mYW5pdHlbc3RyXSA9IGpqICsgMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubGV0IHJhbmRXb3JkO1xuZnVuY3Rpb24gZmlsdGVyV29yZCh3b3JkX3NyYykge1xuICBpZiAod29yZF9zcmMubGVuZ3RoID49IG1heF9sZW4pIHtcbiAgICByZXR1cm4gd29yZF9zcmM7XG4gIH1cblxuICBsZXQgaXNfdXBwZXJjYXNlID0gd29yZF9zcmNbMF0udG9VcHBlckNhc2UoKSA9PT0gd29yZF9zcmNbMF07XG4gIGxldCB3b3JkX2Nhbm9uID0gY2Fub25pemUod29yZF9zcmMpO1xuICBsZXQgc3VmZml4X2lkeCA9IHByb2Zhbml0eVt3b3JkX2Nhbm9uXTtcbiAgLy8gZG8gbG9va3VwLCByZXBsYWNlXG4gIGlmICghc3VmZml4X2lkeCkge1xuICAgIHJldHVybiB3b3JkX3NyYztcbiAgfVxuICAtLXN1ZmZpeF9pZHg7XG4gIGxldCB3b3JkID0gcmFuZFdvcmQoKTtcbiAgaWYgKGlzX3VwcGVyY2FzZSkge1xuICAgIHdvcmQgPSB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpO1xuICB9XG4gIGxldCBzdWZmaXggPSBzdWZmaXhlc1tzdWZmaXhfaWR4XTtcbiAgaWYgKHdvcmRbd29yZC5sZW5ndGggLSAxXSA9PT0gc3VmZml4WzBdKSB7IC8vIGUuZy4gcmVwbGFjZW1lbnQgd29yZCBlbmRzIGluIGFuICdlJ1xuICAgIHN1ZmZpeCA9IHN1ZmZpeC5zbGljZSgxKTtcbiAgfVxuICBpZiAod29yZC5lbmRzV2l0aCgnZScpICYmIHN1ZmZpeFswXSA9PT0gJ2knKSB7XG4gICAgd29yZCA9IHdvcmQuc2xpY2UoMCwgLTEpO1xuICB9XG4gIHdvcmQgKz0gc3VmZml4O1xuICByZXR1cm4gd29yZDtcbn1cblxubGV0IGlzX3Byb2ZhbmU7XG5mdW5jdGlvbiBjaGVja1dvcmQod29yZF9zcmMpIHtcbiAgaWYgKHdvcmRfc3JjLmxlbmd0aCA+PSBtYXhfbGVuKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHByb2Zhbml0eVtjYW5vbml6ZSh3b3JkX3NyYyldKSB7XG4gICAgaXNfcHJvZmFuZSA9IHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Zhbml0eUZpbHRlckNvbW1vbih1c2VyX3N0ciwgcmFuZF93b3JkX2ZuKSB7XG4gIGFzc2VydChpbml0ZWQpO1xuICByYW5kV29yZCA9IHJhbmRfd29yZF9mbjtcbiAgcmV0dXJuIHVzZXJfc3RyLnJlcGxhY2UodHJhbnNfc3JjX3JlZ2V4LCBmaWx0ZXJXb3JkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvZmFuZSh1c2VyX3N0cikge1xuICBhc3NlcnQoaW5pdGVkKTtcbiAgaXNfcHJvZmFuZSA9IGZhbHNlO1xuICB1c2VyX3N0ci5yZXBsYWNlKHRyYW5zX3NyY19yZWdleCwgY2hlY2tXb3JkKTtcbiAgcmV0dXJuIGlzX3Byb2ZhbmU7XG59XG4iLCIvLyBQb3J0aW9ucyBDb3B5cmlnaHQgMjAxOSBKaW1iIEVzc2VyIChodHRwczovL2dpdGh1Yi5jb20vSmltYmx5Lylcbi8vIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlOiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuXG5leHBvcnQgbGV0IHdzc3RhdHMgPSB7IG1zZ3M6IDAsIGJ5dGVzOiAwIH07XG5leHBvcnQgbGV0IHdzc3RhdHNfb3V0ID0geyBtc2dzOiAwLCBieXRlczogMCB9O1xuXG5jb25zdCBhY2sgPSByZXF1aXJlKCcuL2Fjay5qcycpO1xuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCB7IGFja0hhbmRsZU1lc3NhZ2UsIGFja1JlYWRIZWFkZXIsIGFja1dyYXBQYWtTdGFydCwgYWNrV3JhcFBha1BheWxvYWQsIGFja1dyYXBQYWtGaW5pc2ggfSA9IGFjaztcbmNvbnN0IHBhY2tldCA9IHJlcXVpcmUoJy4vcGFja2V0LmpzJyk7XG5jb25zdCB7IGlzUGFja2V0LCBwYWNrZXRDcmVhdGUsIHBhY2tldEZyb21CdWZmZXIgfSA9IHBhY2tldDtcblxuZXhwb3J0IGNvbnN0IENPTk5FQ1RJT05fVElNRU9VVCA9IDYwMDAwO1xuZXhwb3J0IGNvbnN0IFBJTkdfVElNRSA9IENPTk5FQ1RJT05fVElNRU9VVCAvIDI7XG5leHBvcnRzLlBST1RPQ09MX1ZFUlNJT04gPSAnMSc7XG5cbi8vIFJvdWdoIGVzdGltYXRlLCBpZiBvdmVyLCB3aWxsIHByZXZlbnQgcmVzaXppbmcgdGhlIHBhY2tldFxuY29uc3QgUEFLX0hFQURFUl9TSVpFID0gMSArIC8vIGZsYWdzXG4gIDErMTYgKyAvLyBtZXNzYWdlIGlkXG4gIDErOTsgLy8gcmVzcF9wYWtfaWRcblxuZXhwb3J0IGZ1bmN0aW9uIHdzUGFrU2VuZERlc3QoY2xpZW50LCBwYWspIHtcbiAgaWYgKCFjbGllbnQuY29ubmVjdGVkIHx8IGNsaWVudC5zb2NrZXQucmVhZHlTdGF0ZSAhPT0gMSkge1xuICAgIC8vIFdlIG9ubHkgZ2V0IHRvIHRoaXMgcGFydGljdWxhciBsb2NhdGlvbiBmcm9tIHdzc2VydmVyLmJyb2FkY2FzdCosIGFsbFxuICAgIC8vICAgb3RoZXIgcGF0aHMgd2lsbCBwcmludCB0aGUgYWN0dWFsIG1lc3NhZ2UgYW5kIGVycm9yIGVhcmxpZXIuXG4gICAgY29uc29sZS53YXJuKGBBdHRlbXB0aW5nIHRvIHNlbmQgb24gYSBkaXNjb25uZWN0ZWQgbGluayAoY2xpZW50X2lkOiR7Y2xpZW50LmlkfSksIGlnbm9yaW5nYCk7XG4gICAgcGFrLnBvb2woKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGJ1ZiA9IHBhay5nZXRCdWZmZXIoKTsgLy8gYSBVaW50OEFycmF5XG4gIGxldCBidWZfbGVuID0gcGFrLmdldEJ1ZmZlckxlbigpO1xuICBpZiAoYnVmX2xlbiAhPT0gYnVmLmxlbmd0aCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWZfbGVuKTtcbiAgfVxuICB3c3N0YXRzX291dC5tc2dzKys7XG4gIHdzc3RhdHNfb3V0LmJ5dGVzICs9IGJ1Zi5sZW5ndGg7XG4gIGlmIChjbGllbnQud3Nfc2VydmVyKSB7XG4gICAgY2xpZW50LnNvY2tldC5zZW5kKGJ1ZiwgZnVuY3Rpb24gKCkge1xuICAgICAgcGFrLnBvb2woKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjbGllbnQuc29ja2V0LnNlbmQoYnVmKTtcbiAgICBwYWsucG9vbCgpO1xuICB9XG4gIGNsaWVudC5sYXN0X3NlbmRfdGltZSA9IERhdGUubm93KCk7XG59XG5cbmZ1bmN0aW9uIHdzUGFrU2VuZEZpbmlzaChwYWssIGVyciwgcmVzcF9mdW5jKSB7XG4gIGxldCB7IGNsaWVudCwgbXNnIH0gPSBwYWsud3NfZGF0YTtcbiAgZGVsZXRlIHBhay53c19kYXRhO1xuICBsZXQgYWNrX3Jlc3BfcGt0X2lkID0gYWNrV3JhcFBha0ZpbmlzaChwYWssIGVyciwgcmVzcF9mdW5jKTtcblxuICBpZiAoIWNsaWVudC5jb25uZWN0ZWQgfHwgY2xpZW50LnNvY2tldC5yZWFkeVN0YXRlICE9PSAxKSB7IC8vIFdlYlNvY2tldC5PUEVOXG4gICAgaWYgKG1zZyA9PT0gJ2NoYW5uZWxfbXNnJykgeyAvLyBjbGllbnQgLT4gc2VydmVyIGNoYW5uZWwgbWVzc2FnZSwgYXR0YWNoIGFkZGl0aW9uYWwgZGVidWdnaW5nIGluZm9cbiAgICAgIHBhay5zZWVrKDApO1xuICAgICAgcGFrLnJlYWRGbGFncygpO1xuICAgICAgbGV0IGhlYWRlciA9IGFja1JlYWRIZWFkZXIocGFrKTtcbiAgICAgIGxldCBpc19wYWNrZXQgPSBpc1BhY2tldChoZWFkZXIuZGF0YSk7XG4gICAgICBsZXQgY2hhbm5lbF9pZDtcbiAgICAgIGxldCBzdWJtc2c7XG4gICAgICBpZiAoaXNfcGFja2V0KSB7XG4gICAgICAgIHBhay5yZWYoKTsgLy8gZGVhbCB3aXRoIGF1dG8tcG9vbCBvZiBhbiBlbXB0eSBwYWNrZXRcbiAgICAgICAgY2hhbm5lbF9pZCA9IHBhay5yZWFkQW5zaVN0cmluZygpO1xuICAgICAgICBzdWJtc2cgPSBwYWsucmVhZEFuc2lTdHJpbmcoKTtcbiAgICAgICAgaWYgKCFwYWsuZW5kZWQoKSkge1xuICAgICAgICAgIHBhay5wb29sKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5uZWxfaWQgPSBoZWFkZXIuZGF0YS5jaGFubmVsX2lkO1xuICAgICAgICBzdWJtc2cgPSBoZWFkZXIuZGF0YS5tc2c7XG4gICAgICB9XG4gICAgICBtc2cgPSBgY2hhbm5lbF9tc2c6JHtjaGFubmVsX2lkfToke3N1Ym1zZ31gO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG1zZyAhPT0gJ251bWJlcicpIHtcbiAgICAgIChjbGllbnQubG9nID8gY2xpZW50IDogY29uc29sZSkubG9nKGBBdHRlbXB0aW5nIHRvIHNlbmQgbXNnPSR7bXNnfSBvbiBhIGRpc2Nvbm5lY3RlZCBsaW5rLCBpZ25vcmluZ2ApO1xuICAgICAgaWYgKCFjbGllbnQubG9nICYmIGNsaWVudC5vbkVycm9yICYmIG1zZykge1xuICAgICAgICAvLyBPbiB0aGUgY2xpZW50LCBpZiB3ZSB0cnkgdG8gc2VuZCBhIG5ldyBwYWNrZXQgd2hpbGUgZGlzY29ubmVjdGVkLCB0aGlzIGlzIGFuIGFwcGxpY2F0aW9uIGVycm9yXG4gICAgICAgIGNsaWVudC5vbkVycm9yKGBBdHRlbXB0aW5nIHRvIHNlbmQgbXNnPSR7bXNnfSBvbiBhIGRpc2Nvbm5lY3RlZCBsaW5rYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFja19yZXNwX3BrdF9pZCkge1xuICAgICAgLy8gQ2FsbGJhY2sgd2lsbCBuZXZlciBiZSBkaXNwYXRjaGVkIHRocm91Z2ggYWNrLmpzLCByZW1vdmUgdGhlIGNhbGxiYWNrIGhlcmVcbiAgICAgIGRlbGV0ZSBjbGllbnQucmVzcF9jYnNbYWNrX3Jlc3BfcGt0X2lkXTtcbiAgICB9XG4gICAgcGFrLnBvb2woKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3NlcnQuZXF1YWwoQm9vbGVhbihyZXNwX2Z1bmMgJiYgcmVzcF9mdW5jLmV4cGVjdGluZ19yZXNwb25zZSAhPT0gZmFsc2UpLCBCb29sZWFuKGFja19yZXNwX3BrdF9pZCkpO1xuXG4gIHdzUGFrU2VuZERlc3QoY2xpZW50LCBwYWspO1xufVxuXG5mdW5jdGlvbiB3c1Bha1NlbmQoZXJyLCByZXNwX2Z1bmMpIHtcbiAgbGV0IHBhayA9IHRoaXM7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgaWYgKHR5cGVvZiBlcnIgPT09ICdmdW5jdGlvbicgJiYgIXJlc3BfZnVuYykge1xuICAgIHJlc3BfZnVuYyA9IGVycjtcbiAgICBlcnIgPSBudWxsO1xuICB9XG4gIHdzUGFrU2VuZEZpbmlzaChwYWssIGVyciwgcmVzcF9mdW5jKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdzUGFrKG1zZywgcmVmX3BhaywgY2xpZW50KSB7XG4gIGFzc2VydCh0eXBlb2YgbXNnID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbXNnID09PSAnbnVtYmVyJyk7XG5cbiAgLy8gQXNzdW1lIG5ldyBwYWNrZXQgbmVlZHMgdG8gYmUgY29tcGFyYWJsZSB0byBvbGQgcGFja2V0LCBpbiBmbGFncyBhbmQgc2l6ZVxuICBsZXQgcGFrID0gcGFja2V0Q3JlYXRlKHJlZl9wYWsgPyByZWZfcGFrLmdldEludGVybmFsRmxhZ3MoKSA6IHBhY2tldC5kZWZhdWx0X2ZsYWdzLFxuICAgIHJlZl9wYWsgPyByZWZfcGFrLnRvdGFsU2l6ZSgpICsgUEFLX0hFQURFUl9TSVpFIDogMCk7XG4gIHBhay53cml0ZUZsYWdzKCk7XG5cbiAgYWNrV3JhcFBha1N0YXJ0KHBhaywgY2xpZW50LCBtc2cpO1xuXG4gIHBhay53c19kYXRhID0ge1xuICAgIG1zZyxcbiAgICBjbGllbnQsXG4gIH07XG4gIHBhay5zZW5kID0gd3NQYWtTZW5kO1xuICByZXR1cm4gcGFrO1xufVxuXG5mdW5jdGlvbiBzZW5kTWVzc2FnZUludGVybmFsKGNsaWVudCwgbXNnLCBlcnIsIGRhdGEsIHJlc3BfZnVuYykge1xuICBsZXQgaXNfcGFja2V0ID0gaXNQYWNrZXQoZGF0YSk7XG4gIGxldCBwYWsgPSB3c1Bhayhtc2csIGlzX3BhY2tldCA/IGRhdGEgOiBudWxsLCBjbGllbnQpO1xuXG4gIGlmICghZXJyKSB7XG4gICAgYWNrV3JhcFBha1BheWxvYWQocGFrLCBkYXRhKTtcbiAgfVxuXG4gIHBhay5zZW5kKGVyciwgcmVzcF9mdW5jKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKG1zZywgZGF0YSwgcmVzcF9mdW5jKSB7XG4gIHNlbmRNZXNzYWdlSW50ZXJuYWwodGhpcywgbXNnLCBudWxsLCBkYXRhLCByZXNwX2Z1bmMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3NIYW5kbGVNZXNzYWdlKGNsaWVudCwgYnVmLCBmaWx0ZXIpIHtcbiAgKyt3c3N0YXRzLm1zZ3M7XG4gIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICBsZXQgc291cmNlID0gY2xpZW50LmlkID8gYGNsaWVudCAke2NsaWVudC5pZH1gIDogJ3NlcnZlcic7XG4gIGlmICghKGJ1ZiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgKGNsaWVudC5sb2cgPyBjbGllbnQgOiBjb25zb2xlKS5sb2coYFJlY2VpdmVkIGluY29ycmVjdCBXZWJTb2NrZXQgZGF0YSB0eXBlIGZyb20gJHtzb3VyY2V9ICgke3R5cGVvZiBidWZ9KWApO1xuICAgIHJldHVybiBjbGllbnQub25FcnJvcignSW52YWxpZCBkYXRhIHJlY2VpdmVkJyk7XG4gIH1cbiAgd3NzdGF0cy5ieXRlcyArPSBidWYubGVuZ3RoO1xuICBsZXQgcGFrID0gcGFja2V0RnJvbUJ1ZmZlcihidWYsIGJ1Zi5sZW5ndGgsIGZhbHNlKTtcbiAgcGFrLnJlYWRGbGFncygpO1xuICBjbGllbnQubGFzdF9yZWNlaXZlX3RpbWUgPSBub3c7XG4gIGNsaWVudC5pZGxlX2NvdW50ZXIgPSAwO1xuXG4gIHJldHVybiBhY2tIYW5kbGVNZXNzYWdlKGNsaWVudCwgc291cmNlLCBwYWssIGZ1bmN0aW9uIHNlbmRGdW5jKG1zZywgZXJyLCBkYXRhLCByZXNwX2Z1bmMpIHtcbiAgICBpZiAocmVzcF9mdW5jICYmICFyZXNwX2Z1bmMuZXhwZWN0aW5nX3Jlc3BvbnNlKSB7XG4gICAgICByZXNwX2Z1bmMgPSBudWxsO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZUludGVybmFsKGNsaWVudCwgbXNnLCBlcnIsIGRhdGEsIHJlc3BfZnVuYyk7XG4gIH0sIGZ1bmN0aW9uIHBha0Z1bmMobXNnLCByZWZfcGFrKSB7XG4gICAgcmV0dXJuIHdzUGFrKG1zZywgcmVmX3BhaywgY2xpZW50KTtcbiAgfSwgZnVuY3Rpb24gaGFuZGxlRnVuYyhtc2csIGRhdGEsIHJlc3BfZnVuYykge1xuICAgIGxldCBoYW5kbGVyID0gY2xpZW50LmhhbmRsZXJzW21zZ107XG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICBsZXQgZXJyb3JfbXNnID0gYE5vIGhhbmRsZXIgZm9yIG1lc3NhZ2UgJHtKU09OLnN0cmluZ2lmeShtc2cpfSBmcm9tICR7c291cmNlfWA7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yX21zZywgaXNQYWNrZXQoZGF0YSkgPyBkYXRhLmNvbnRlbnRzKCkgOiBkYXRhKTtcbiAgICAgIGlmIChjbGllbnQub25FcnJvcikge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRXJyb3IoZXJyb3JfbXNnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwX2Z1bmMoZXJyb3JfbXNnKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXIoY2xpZW50LCBkYXRhLCByZXNwX2Z1bmMpO1xuICB9LCBmaWx0ZXIpO1xufVxuIl19"}